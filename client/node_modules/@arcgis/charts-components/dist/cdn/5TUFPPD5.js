/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.19 */
import i from"./CXOJ5BJA.js";import h from"./FAR2K6TZ.js";import g from"./K3DNVNQE.js";import f from"./5FUJSGMS.js";import e from"./IODBG2AO.js";import d from"./UHUEI4NU.js";import c from"./2VN3NTIZ.js";import{a as Wt,b as Ty,c as tD,e as lw,g as Tp,h as Dp,i as Op,j as Lp,k as yA,l as Ip}from"./QLPSSNQI.js";import b from"./3RODMSQG.js";import{a as gT,b as Nx}from"./EHA2DPVG.js";import{a as cw}from"./QDODWAYJ.js";import{a as iD}from"./ITSRCSFZ.js";import a from"./PDDPZQ7S.js";import{A as Mx,E as pT,c as AT,d as oA,n as ln,z as fT}from"./MDSKC43G.js";import{d as dw,e as aD,f as nD}from"./P76SCC25.js";import"./TJWJSZZ6.js";import{a as L,b as Je,c as Ba,e as hi,f as ir,h as un,i as pp,j as Ex,k as ro,l as _t,o as ah,p as Va,q as ur,r as mT,s as Oc,u as hu,v as Rx,w as nh,x as Me}from"./IYCX42AE.js";import{a as fp,b as cT,c as pQ,d as dT}from"./YG7SBKS5.js";export default $arcgis.t(([,Cj,,,,,,YI,If,_j,Sj,Bj,Fj,Pj,Tj,To,{$:as,$a:$c,$b:Gt,$c:ZT,A:so,Aa:jx,Ac:_y,Ba:vy,Bb:xp,Bc:WT,Ca:Wx,Cb:DT,Cc:iw,Db:ns,Dc:Wr,Eb:OT,Ec:XT,F:Vx,Fb:LT,Fc:zT,Gc:GT,H:yT,Hb:Jx,Hc:Mc,I:bT,Ia:Xx,Ic:Vs,J:vT,K:xT,Kc:Sy,L:wT,M:CT,Ma:bp,Mb:IT,N:_T,Nb:yl,Nc:YT,O:lA,P:ze,Pb:jr,Pc:By,Q:Ha,Qb:Ns,Qc:Bp,R:Io,Rb:wp,Rc:rw,S:ST,Sb:lh,Sc:KT,Tb:Ue,Ub:Xa,V:Ux,Vb:cn,Vc:sw,Wb:Ze,Wc:qT,X:Lc,Xb:dA,Xc:ci,Ya:zx,Yb:AA,Yc:Fy,Z:BT,Zb:no,Zc:mA,_:cu,_b:kc,_c:aw,aa:FT,ab:cA,ac:$T,b:mp,ba:uA,bc:Fs,c:Rs,ca:Ic,cc:wy,d:Ua,da:PT,db:Gx,dc:Cy,e:ha,ec:ew,f:Pi,fc:kT,g:si,ga:ja,gc:Cp,h:Zt,ha:hA,hc:uh,ia:TT,ic:hh,ja:Mn,jc:bl,k:my,kb:j,kc:MT,l:Qa,lb:Hr,lc:fA,m:rs,mb:ao,mc:_p,n:Fa,nb:hn,nc:ET,ob:Yx,oc:RT,pb:Wa,pc:tw,q:Or,qa:gp,qb:Kx,qc:tr,r:gy,rb:qx,rc:Sp,sb:du,sc:NT,ta:yy,tb:yr,tc:VT,ua:yp,uc:UT,va:Qx,vb:Zx,vc:QT,w:gr,wc:HT,x:ss,xb:Li,xc:pA,ya:by,yb:xy,yc:$o,z:oh,za:Hx,zb:vp,zc:jT},{c:Fp,d:nw,e:Ec,g:ko,o:ow,p:JT,q:Py,r:eD,s:Pp},{d:oD,e:lD},,gA,,,,{b:rD,c:sD,d:re,g:uw,h:hw}])=>{var uD=cT((Aw,fw)=>{(function(s,t){typeof Aw=="object"&&typeof fw<"u"?fw.exports=t():typeof define=="function"&&define.amd?define(t):(s=typeof globalThis<"u"?globalThis:s||self,s.html2canvas=t())})(Aw,function(){"use strict";var s=function(x,b){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(C[O]=w[O])},s(x,b)};function t(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");s(x,b);function C(){this.constructor=x}x.prototype=b===null?Object.create(b):(C.prototype=b.prototype,new C)}var e=function(){return e=Object.assign||function(b){for(var C,w=1,O=arguments.length;w<O;w++){C=arguments[w];for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&(b[M]=C[M])}return b},e.apply(this,arguments)};function i(x,b,C,w){function O(M){return M instanceof C?M:new C(function(H){H(M)})}return new(C||(C=Promise))(function(M,H){function X(le){try{ae(w.next(le))}catch(pe){H(pe)}}function W(le){try{ae(w.throw(le))}catch(pe){H(pe)}}function ae(le){le.done?M(le.value):O(le.value).then(X,W)}ae((w=w.apply(x,b||[])).next())})}function r(x,b){var C={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},w,O,M,H;return H={next:X(0),throw:X(1),return:X(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function X(ae){return function(le){return W([ae,le])}}function W(ae){if(w)throw new TypeError("Generator is already executing.");for(;C;)try{if(w=1,O&&(M=ae[0]&2?O.return:ae[0]?O.throw||((M=O.return)&&M.call(O),0):O.next)&&!(M=M.call(O,ae[1])).done)return M;switch(O=0,M&&(ae=[ae[0]&2,M.value]),ae[0]){case 0:case 1:M=ae;break;case 4:return C.label++,{value:ae[1],done:!1};case 5:C.label++,O=ae[1],ae=[0];continue;case 7:ae=C.ops.pop(),C.trys.pop();continue;default:if(M=C.trys,!(M=M.length>0&&M[M.length-1])&&(ae[0]===6||ae[0]===2)){C=0;continue}if(ae[0]===3&&(!M||ae[1]>M[0]&&ae[1]<M[3])){C.label=ae[1];break}if(ae[0]===6&&C.label<M[1]){C.label=M[1],M=ae;break}if(M&&C.label<M[2]){C.label=M[2],C.ops.push(ae);break}M[2]&&C.ops.pop(),C.trys.pop();continue}ae=b.call(x,C)}catch(le){ae=[6,le],O=0}finally{w=M=0}if(ae[0]&5)throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}}function a(x,b,C){if(C||arguments.length===2)for(var w=0,O=b.length,M;w<O;w++)(M||!(w in b))&&(M||(M=Array.prototype.slice.call(b,0,w)),M[w]=b[w]);return x.concat(M||b)}for(var n=function(){function x(b,C,w,O){this.left=b,this.top=C,this.width=w,this.height=O}return x.prototype.add=function(b,C,w,O){return new x(this.left+b,this.top+C,this.width+w,this.height+O)},x.fromClientRect=function(b,C){return new x(C.left+b.windowBounds.left,C.top+b.windowBounds.top,C.width,C.height)},x.fromDOMRectList=function(b,C){var w=Array.from(C).find(function(O){return O.width!==0});return w?new x(w.left+b.windowBounds.left,w.top+b.windowBounds.top,w.width,w.height):x.EMPTY},x.EMPTY=new x(0,0,0,0),x}(),o=function(x,b){return n.fromClientRect(x,b.getBoundingClientRect())},l=function(x){var b=x.body,C=x.documentElement;if(!b||!C)throw new Error("Unable to get document size");var w=Math.max(Math.max(b.scrollWidth,C.scrollWidth),Math.max(b.offsetWidth,C.offsetWidth),Math.max(b.clientWidth,C.clientWidth)),O=Math.max(Math.max(b.scrollHeight,C.scrollHeight),Math.max(b.offsetHeight,C.offsetHeight),Math.max(b.clientHeight,C.clientHeight));return new n(0,0,w,O)},u=function(x){for(var b=[],C=0,w=x.length;C<w;){var O=x.charCodeAt(C++);if(O>=55296&&O<=56319&&C<w){var M=x.charCodeAt(C++);(M&64512)===56320?b.push(((O&1023)<<10)+(M&1023)+65536):(b.push(O),C--)}else b.push(O)}return b},h=function(){for(var x=[],b=0;b<arguments.length;b++)x[b]=arguments[b];if(String.fromCodePoint)return String.fromCodePoint.apply(String,x);var C=x.length;if(!C)return"";for(var w=[],O=-1,M="";++O<C;){var H=x[O];H<=65535?w.push(H):(H-=65536,w.push((H>>10)+55296,H%1024+56320)),(O+1===C||w.length>16384)&&(M+=String.fromCharCode.apply(String,w),w.length=0)}return M},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=typeof Uint8Array>"u"?[]:new Uint8Array(256),d=0;d<c.length;d++)A[c.charCodeAt(d)]=d;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=typeof Uint8Array>"u"?[]:new Uint8Array(256),m=0;m<f.length;m++)p[f.charCodeAt(m)]=m;for(var g=function(x){var b=x.length*.75,C=x.length,w,O=0,M,H,X,W;x[x.length-1]==="="&&(b--,x[x.length-2]==="="&&b--);var ae=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(b):new Array(b),le=Array.isArray(ae)?ae:new Uint8Array(ae);for(w=0;w<C;w+=4)M=p[x.charCodeAt(w)],H=p[x.charCodeAt(w+1)],X=p[x.charCodeAt(w+2)],W=p[x.charCodeAt(w+3)],le[O++]=M<<2|H>>4,le[O++]=(H&15)<<4|X>>2,le[O++]=(X&3)<<6|W&63;return ae},y=function(x){for(var b=x.length,C=[],w=0;w<b;w+=2)C.push(x[w+1]<<8|x[w]);return C},v=function(x){for(var b=x.length,C=[],w=0;w<b;w+=4)C.push(x[w+3]<<24|x[w+2]<<16|x[w+1]<<8|x[w]);return C},_=5,S=11,F=2,P=S-_,D=65536>>_,$=1<<_,I=$-1,R=1024>>_,T=D+R,Q=T,K=32,z=Q+K,se=65536>>S,ee=1<<P,ue=ee-1,G=function(x,b,C){return x.slice?x.slice(b,C):new Uint16Array(Array.prototype.slice.call(x,b,C))},q=function(x,b,C){return x.slice?x.slice(b,C):new Uint32Array(Array.prototype.slice.call(x,b,C))},ge=function(x,b){var C=g(x),w=Array.isArray(C)?v(C):new Uint32Array(C),O=Array.isArray(C)?y(C):new Uint16Array(C),M=24,H=G(O,M/2,w[4]/2),X=w[5]===2?G(O,(M+w[4])/2):q(w,Math.ceil((M+w[4])/4));return new ne(w[0],w[1],w[2],w[3],H,X)},ne=function(){function x(b,C,w,O,M,H){this.initialValue=b,this.errorValue=C,this.highStart=w,this.highValueIndex=O,this.index=M,this.data=H}return x.prototype.get=function(b){var C;if(b>=0){if(b<55296||b>56319&&b<=65535)return C=this.index[b>>_],C=(C<<F)+(b&I),this.data[C];if(b<=65535)return C=this.index[D+(b-55296>>_)],C=(C<<F)+(b&I),this.data[C];if(b<this.highStart)return C=z-se+(b>>S),C=this.index[C],C+=b>>_&ue,C=this.index[C],C=(C<<F)+(b&I),this.data[C];if(b<=1114111)return this.data[this.highValueIndex]}return this.errorValue},x}(),ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ge=0;Ge<ye.length;Ge++)qe[ye.charCodeAt(Ge)]=Ge;var it="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",dt=50,Re=1,We=2,Rt=3,pi=4,V=5,_e=7,ve=8,Z=9,Y=10,oe=11,Te=12,$e=13,me=14,ke=15,rt=16,Ne=17,Tt=18,or=19,bi=20,Ms=21,Mi=22,ds=23,Dr=24,Ei=25,Al=26,iu=27,_a=28,Og=29,ru=30,K0=31,Yd=32,Cc=33,su=34,Gu=35,q0=36,Zf=37,Z0=38,Lg=39,Ig=40,J0=41,wF=42,gR=43,yR=[9001,65288],CF="!",Oi="\xD7",$g="\xF7",ex=ge(it),au=[ru,q0],tx=[Re,We,Rt,V],_F=[Y,ve],SF=[iu,Al],bR=tx.concat(_F),BF=[Z0,Lg,Ig,su,Gu],vR=[ke,$e],xR=function(x,b){b===void 0&&(b="strict");var C=[],w=[],O=[];return x.forEach(function(M,H){var X=ex.get(M);if(X>dt?(O.push(!0),X-=dt):O.push(!1),["normal","auto","loose"].indexOf(b)!==-1&&[8208,8211,12316,12448].indexOf(M)!==-1)return w.push(H),C.push(rt);if(X===pi||X===oe){if(H===0)return w.push(H),C.push(ru);var W=C[H-1];return bR.indexOf(W)===-1?(w.push(w[H-1]),C.push(W)):(w.push(H),C.push(ru))}if(w.push(H),X===K0)return C.push(b==="strict"?Ms:Zf);if(X===wF||X===Og)return C.push(ru);if(X===gR)return M>=131072&&M<=196605||M>=196608&&M<=262141?C.push(Zf):C.push(ru);C.push(X)}),[w,C,O]},ix=function(x,b,C,w){var O=w[C];if(Array.isArray(x)?x.indexOf(O)!==-1:x===O)for(var M=C;M<=w.length;){M++;var H=w[M];if(H===b)return!0;if(H!==Y)break}if(O===Y)for(var M=C;M>0;){M--;var X=w[M];if(Array.isArray(x)?x.indexOf(X)!==-1:x===X)for(var W=C;W<=w.length;){W++;var H=w[W];if(H===b)return!0;if(H!==Y)break}if(X!==Y)break}return!1},FF=function(x,b){for(var C=x;C>=0;){var w=b[C];if(w===Y)C--;else return w}return 0},wR=function(x,b,C,w,O){if(C[w]===0)return Oi;var M=w-1;if(Array.isArray(O)&&O[M]===!0)return Oi;var H=M-1,X=M+1,W=b[M],ae=H>=0?b[H]:0,le=b[X];if(W===We&&le===Rt)return Oi;if(tx.indexOf(W)!==-1)return CF;if(tx.indexOf(le)!==-1||_F.indexOf(le)!==-1)return Oi;if(FF(M,b)===ve)return $g;if(ex.get(x[M])===oe||(W===Yd||W===Cc)&&ex.get(x[X])===oe||W===_e||le===_e||W===Z||[Y,$e,ke].indexOf(W)===-1&&le===Z||[Ne,Tt,or,Dr,_a].indexOf(le)!==-1||FF(M,b)===Mi||ix(ds,Mi,M,b)||ix([Ne,Tt],Ms,M,b)||ix(Te,Te,M,b))return Oi;if(W===Y)return $g;if(W===ds||le===ds)return Oi;if(le===rt||W===rt)return $g;if([$e,ke,Ms].indexOf(le)!==-1||W===me||ae===q0&&vR.indexOf(W)!==-1||W===_a&&le===q0||le===bi||au.indexOf(le)!==-1&&W===Ei||au.indexOf(W)!==-1&&le===Ei||W===iu&&[Zf,Yd,Cc].indexOf(le)!==-1||[Zf,Yd,Cc].indexOf(W)!==-1&&le===Al||au.indexOf(W)!==-1&&SF.indexOf(le)!==-1||SF.indexOf(W)!==-1&&au.indexOf(le)!==-1||[iu,Al].indexOf(W)!==-1&&(le===Ei||[Mi,ke].indexOf(le)!==-1&&b[X+1]===Ei)||[Mi,ke].indexOf(W)!==-1&&le===Ei||W===Ei&&[Ei,_a,Dr].indexOf(le)!==-1)return Oi;if([Ei,_a,Dr,Ne,Tt].indexOf(le)!==-1)for(var pe=M;pe>=0;){var Se=b[pe];if(Se===Ei)return Oi;if([_a,Dr].indexOf(Se)!==-1)pe--;else break}if([iu,Al].indexOf(le)!==-1)for(var pe=[Ne,Tt].indexOf(W)!==-1?H:M;pe>=0;){var Se=b[pe];if(Se===Ei)return Oi;if([_a,Dr].indexOf(Se)!==-1)pe--;else break}if(Z0===W&&[Z0,Lg,su,Gu].indexOf(le)!==-1||[Lg,su].indexOf(W)!==-1&&[Lg,Ig].indexOf(le)!==-1||[Ig,Gu].indexOf(W)!==-1&&le===Ig||BF.indexOf(W)!==-1&&[bi,Al].indexOf(le)!==-1||BF.indexOf(le)!==-1&&W===iu||au.indexOf(W)!==-1&&au.indexOf(le)!==-1||W===Dr&&au.indexOf(le)!==-1||au.concat(Ei).indexOf(W)!==-1&&le===Mi&&yR.indexOf(x[X])===-1||au.concat(Ei).indexOf(le)!==-1&&W===Tt)return Oi;if(W===J0&&le===J0){for(var At=C[M],Ve=1;At>0&&(At--,b[At]===J0);)Ve++;if(Ve%2!==0)return Oi}return W===Yd&&le===Cc?Oi:$g},CR=function(x,b){b||(b={lineBreak:"normal",wordBreak:"normal"});var C=xR(x,b.lineBreak),w=C[0],O=C[1],M=C[2];(b.wordBreak==="break-all"||b.wordBreak==="break-word")&&(O=O.map(function(X){return[Ei,ru,wF].indexOf(X)!==-1?Zf:X}));var H=b.wordBreak==="keep-all"?M.map(function(X,W){return X&&x[W]>=19968&&x[W]<=40959}):void 0;return[w,O,H]},_R=function(){function x(b,C,w,O){this.codePoints=b,this.required=C===CF,this.start=w,this.end=O}return x.prototype.slice=function(){return h.apply(void 0,this.codePoints.slice(this.start,this.end))},x}(),SR=function(x,b){var C=u(x),w=CR(C,b),O=w[0],M=w[1],H=w[2],X=C.length,W=0,ae=0;return{next:function(){if(ae>=X)return{done:!0,value:null};for(var le=Oi;ae<X&&(le=wR(C,M,O,++ae,H))===Oi;);if(le!==Oi||ae===X){var pe=new _R(C,le,W,ae);return W=ae,{value:pe,done:!1}}return{done:!0,value:null}}}},BR=1,FR=2,Jf=4,PF=8,kg=10,TF=47,ep=92,PR=9,TR=32,Mg=34,tp=61,DR=35,OR=36,LR=37,Eg=39,Rg=40,ip=41,IR=95,sn=45,$R=33,kR=60,MR=62,ER=64,RR=91,NR=93,VR=61,UR=123,Ng=63,QR=125,DF=124,HR=126,jR=128,OF=65533,rx=42,_c=43,WR=44,XR=58,zR=59,rp=46,GR=0,YR=8,KR=11,qR=14,ZR=31,JR=127,fl=-1,LF=48,IF=97,$F=101,eN=102,tN=117,iN=122,kF=65,MF=69,EF=70,rN=85,sN=90,Sa=function(x){return x>=LF&&x<=57},aN=function(x){return x>=55296&&x<=57343},Kd=function(x){return Sa(x)||x>=kF&&x<=EF||x>=IF&&x<=eN},nN=function(x){return x>=IF&&x<=iN},oN=function(x){return x>=kF&&x<=sN},lN=function(x){return nN(x)||oN(x)},uN=function(x){return x>=jR},Vg=function(x){return x===kg||x===PR||x===TR},Ug=function(x){return lN(x)||uN(x)||x===IR},RF=function(x){return Ug(x)||Sa(x)||x===sn},hN=function(x){return x>=GR&&x<=YR||x===KR||x>=qR&&x<=ZR||x===JR},Yu=function(x,b){return x!==ep?!1:b!==kg},Qg=function(x,b,C){return x===sn?Ug(b)||Yu(b,C):Ug(x)?!0:!!(x===ep&&Yu(x,b))},sx=function(x,b,C){return x===_c||x===sn?Sa(b)?!0:b===rp&&Sa(C):Sa(x===rp?b:x)},cN=function(x){var b=0,C=1;(x[b]===_c||x[b]===sn)&&(x[b]===sn&&(C=-1),b++);for(var w=[];Sa(x[b]);)w.push(x[b++]);var O=w.length?parseInt(h.apply(void 0,w),10):0;x[b]===rp&&b++;for(var M=[];Sa(x[b]);)M.push(x[b++]);var H=M.length,X=H?parseInt(h.apply(void 0,M),10):0;(x[b]===MF||x[b]===$F)&&b++;var W=1;(x[b]===_c||x[b]===sn)&&(x[b]===sn&&(W=-1),b++);for(var ae=[];Sa(x[b]);)ae.push(x[b++]);var le=ae.length?parseInt(h.apply(void 0,ae),10):0;return C*(O+X*Math.pow(10,-H))*Math.pow(10,W*le)},dN={type:2},AN={type:3},fN={type:4},pN={type:13},mN={type:8},gN={type:21},yN={type:9},bN={type:10},vN={type:11},xN={type:12},wN={type:14},Hg={type:23},CN={type:1},_N={type:25},SN={type:24},BN={type:26},FN={type:27},PN={type:28},TN={type:29},DN={type:31},ax={type:32},NF=function(){function x(){this._value=[]}return x.prototype.write=function(b){this._value=this._value.concat(u(b))},x.prototype.read=function(){for(var b=[],C=this.consumeToken();C!==ax;)b.push(C),C=this.consumeToken();return b},x.prototype.consumeToken=function(){var b=this.consumeCodePoint();switch(b){case Mg:return this.consumeStringToken(Mg);case DR:var C=this.peekCodePoint(0),w=this.peekCodePoint(1),O=this.peekCodePoint(2);if(RF(C)||Yu(w,O)){var M=Qg(C,w,O)?FR:BR,H=this.consumeName();return{type:5,value:H,flags:M}}break;case OR:if(this.peekCodePoint(0)===tp)return this.consumeCodePoint(),pN;break;case Eg:return this.consumeStringToken(Eg);case Rg:return dN;case ip:return AN;case rx:if(this.peekCodePoint(0)===tp)return this.consumeCodePoint(),wN;break;case _c:if(sx(b,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(b),this.consumeNumericToken();break;case WR:return fN;case sn:var X=b,W=this.peekCodePoint(0),ae=this.peekCodePoint(1);if(sx(X,W,ae))return this.reconsumeCodePoint(b),this.consumeNumericToken();if(Qg(X,W,ae))return this.reconsumeCodePoint(b),this.consumeIdentLikeToken();if(W===sn&&ae===MR)return this.consumeCodePoint(),this.consumeCodePoint(),SN;break;case rp:if(sx(b,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(b),this.consumeNumericToken();break;case TF:if(this.peekCodePoint(0)===rx)for(this.consumeCodePoint();;){var le=this.consumeCodePoint();if(le===rx&&(le=this.consumeCodePoint(),le===TF))return this.consumeToken();if(le===fl)return this.consumeToken()}break;case XR:return BN;case zR:return FN;case kR:if(this.peekCodePoint(0)===$R&&this.peekCodePoint(1)===sn&&this.peekCodePoint(2)===sn)return this.consumeCodePoint(),this.consumeCodePoint(),_N;break;case ER:var pe=this.peekCodePoint(0),Se=this.peekCodePoint(1),At=this.peekCodePoint(2);if(Qg(pe,Se,At)){var H=this.consumeName();return{type:7,value:H}}break;case RR:return PN;case ep:if(Yu(b,this.peekCodePoint(0)))return this.reconsumeCodePoint(b),this.consumeIdentLikeToken();break;case NR:return TN;case VR:if(this.peekCodePoint(0)===tp)return this.consumeCodePoint(),mN;break;case UR:return vN;case QR:return xN;case tN:case rN:var Ve=this.peekCodePoint(0),st=this.peekCodePoint(1);return Ve===_c&&(Kd(st)||st===Ng)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(b),this.consumeIdentLikeToken();case DF:if(this.peekCodePoint(0)===tp)return this.consumeCodePoint(),yN;if(this.peekCodePoint(0)===DF)return this.consumeCodePoint(),gN;break;case HR:if(this.peekCodePoint(0)===tp)return this.consumeCodePoint(),bN;break;case fl:return ax}return Vg(b)?(this.consumeWhiteSpace(),DN):Sa(b)?(this.reconsumeCodePoint(b),this.consumeNumericToken()):Ug(b)?(this.reconsumeCodePoint(b),this.consumeIdentLikeToken()):{type:6,value:h(b)}},x.prototype.consumeCodePoint=function(){var b=this._value.shift();return typeof b>"u"?-1:b},x.prototype.reconsumeCodePoint=function(b){this._value.unshift(b)},x.prototype.peekCodePoint=function(b){return b>=this._value.length?-1:this._value[b]},x.prototype.consumeUnicodeRangeToken=function(){for(var b=[],C=this.consumeCodePoint();Kd(C)&&b.length<6;)b.push(C),C=this.consumeCodePoint();for(var w=!1;C===Ng&&b.length<6;)b.push(C),C=this.consumeCodePoint(),w=!0;if(w){var O=parseInt(h.apply(void 0,b.map(function(W){return W===Ng?LF:W})),16),M=parseInt(h.apply(void 0,b.map(function(W){return W===Ng?EF:W})),16);return{type:30,start:O,end:M}}var H=parseInt(h.apply(void 0,b),16);if(this.peekCodePoint(0)===sn&&Kd(this.peekCodePoint(1))){this.consumeCodePoint(),C=this.consumeCodePoint();for(var X=[];Kd(C)&&X.length<6;)X.push(C),C=this.consumeCodePoint();var M=parseInt(h.apply(void 0,X),16);return{type:30,start:H,end:M}}else return{type:30,start:H,end:H}},x.prototype.consumeIdentLikeToken=function(){var b=this.consumeName();return b.toLowerCase()==="url"&&this.peekCodePoint(0)===Rg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Rg?(this.consumeCodePoint(),{type:19,value:b}):{type:20,value:b}},x.prototype.consumeUrlToken=function(){var b=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===fl)return{type:22,value:""};var C=this.peekCodePoint(0);if(C===Eg||C===Mg){var w=this.consumeStringToken(this.consumeCodePoint());return w.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===fl||this.peekCodePoint(0)===ip)?(this.consumeCodePoint(),{type:22,value:w.value}):(this.consumeBadUrlRemnants(),Hg)}for(;;){var O=this.consumeCodePoint();if(O===fl||O===ip)return{type:22,value:h.apply(void 0,b)};if(Vg(O))return this.consumeWhiteSpace(),this.peekCodePoint(0)===fl||this.peekCodePoint(0)===ip?(this.consumeCodePoint(),{type:22,value:h.apply(void 0,b)}):(this.consumeBadUrlRemnants(),Hg);if(O===Mg||O===Eg||O===Rg||hN(O))return this.consumeBadUrlRemnants(),Hg;if(O===ep)if(Yu(O,this.peekCodePoint(0)))b.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Hg;else b.push(O)}},x.prototype.consumeWhiteSpace=function(){for(;Vg(this.peekCodePoint(0));)this.consumeCodePoint()},x.prototype.consumeBadUrlRemnants=function(){for(;;){var b=this.consumeCodePoint();if(b===ip||b===fl)return;Yu(b,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},x.prototype.consumeStringSlice=function(b){for(var C=5e4,w="";b>0;){var O=Math.min(C,b);w+=h.apply(void 0,this._value.splice(0,O)),b-=O}return this._value.shift(),w},x.prototype.consumeStringToken=function(b){var C="",w=0;do{var O=this._value[w];if(O===fl||O===void 0||O===b)return C+=this.consumeStringSlice(w),{type:0,value:C};if(O===kg)return this._value.splice(0,w),CN;if(O===ep){var M=this._value[w+1];M!==fl&&M!==void 0&&(M===kg?(C+=this.consumeStringSlice(w),w=-1,this._value.shift()):Yu(O,M)&&(C+=this.consumeStringSlice(w),C+=h(this.consumeEscapedCodePoint()),w=-1))}w++}while(!0)},x.prototype.consumeNumber=function(){var b=[],C=Jf,w=this.peekCodePoint(0);for((w===_c||w===sn)&&b.push(this.consumeCodePoint());Sa(this.peekCodePoint(0));)b.push(this.consumeCodePoint());w=this.peekCodePoint(0);var O=this.peekCodePoint(1);if(w===rp&&Sa(O))for(b.push(this.consumeCodePoint(),this.consumeCodePoint()),C=PF;Sa(this.peekCodePoint(0));)b.push(this.consumeCodePoint());w=this.peekCodePoint(0),O=this.peekCodePoint(1);var M=this.peekCodePoint(2);if((w===MF||w===$F)&&((O===_c||O===sn)&&Sa(M)||Sa(O)))for(b.push(this.consumeCodePoint(),this.consumeCodePoint()),C=PF;Sa(this.peekCodePoint(0));)b.push(this.consumeCodePoint());return[cN(b),C]},x.prototype.consumeNumericToken=function(){var b=this.consumeNumber(),C=b[0],w=b[1],O=this.peekCodePoint(0),M=this.peekCodePoint(1),H=this.peekCodePoint(2);if(Qg(O,M,H)){var X=this.consumeName();return{type:15,number:C,flags:w,unit:X}}return O===LR?(this.consumeCodePoint(),{type:16,number:C,flags:w}):{type:17,number:C,flags:w}},x.prototype.consumeEscapedCodePoint=function(){var b=this.consumeCodePoint();if(Kd(b)){for(var C=h(b);Kd(this.peekCodePoint(0))&&C.length<6;)C+=h(this.consumeCodePoint());Vg(this.peekCodePoint(0))&&this.consumeCodePoint();var w=parseInt(C,16);return w===0||aN(w)||w>1114111?OF:w}return b===fl?OF:b},x.prototype.consumeName=function(){for(var b="";;){var C=this.consumeCodePoint();if(RF(C))b+=h(C);else if(Yu(C,this.peekCodePoint(0)))b+=h(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(C),b}},x}(),VF=function(){function x(b){this._tokens=b}return x.create=function(b){var C=new NF;return C.write(b),new x(C.read())},x.parseValue=function(b){return x.create(b).parseComponentValue()},x.parseValues=function(b){return x.create(b).parseComponentValues()},x.prototype.parseComponentValue=function(){for(var b=this.consumeToken();b.type===31;)b=this.consumeToken();if(b.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(b);var C=this.consumeComponentValue();do b=this.consumeToken();while(b.type===31);if(b.type===32)return C;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},x.prototype.parseComponentValues=function(){for(var b=[];;){var C=this.consumeComponentValue();if(C.type===32)return b;b.push(C),b.push()}},x.prototype.consumeComponentValue=function(){var b=this.consumeToken();switch(b.type){case 11:case 28:case 2:return this.consumeSimpleBlock(b.type);case 19:return this.consumeFunction(b)}return b},x.prototype.consumeSimpleBlock=function(b){for(var C={type:b,values:[]},w=this.consumeToken();;){if(w.type===32||LN(w,b))return C;this.reconsumeToken(w),C.values.push(this.consumeComponentValue()),w=this.consumeToken()}},x.prototype.consumeFunction=function(b){for(var C={name:b.value,values:[],type:18};;){var w=this.consumeToken();if(w.type===32||w.type===3)return C;this.reconsumeToken(w),C.values.push(this.consumeComponentValue())}},x.prototype.consumeToken=function(){var b=this._tokens.shift();return typeof b>"u"?ax:b},x.prototype.reconsumeToken=function(b){this._tokens.unshift(b)},x}(),sp=function(x){return x.type===15},qd=function(x){return x.type===17},pr=function(x){return x.type===20},ON=function(x){return x.type===0},nx=function(x,b){return pr(x)&&x.value===b},UF=function(x){return x.type!==31},Zd=function(x){return x.type!==31&&x.type!==4},pl=function(x){var b=[],C=[];return x.forEach(function(w){if(w.type===4){if(C.length===0)throw new Error("Error parsing function args, zero tokens for arg");b.push(C),C=[];return}w.type!==31&&C.push(w)}),C.length&&b.push(C),b},LN=function(x,b){return b===11&&x.type===12||b===28&&x.type===29?!0:b===2&&x.type===3},Ku=function(x){return x.type===17||x.type===15},Ss=function(x){return x.type===16||Ku(x)},QF=function(x){return x.length>1?[x[0],x[1]]:[x[0]]},oa={type:17,number:0,flags:Jf},ox={type:16,number:50,flags:Jf},qu={type:16,number:100,flags:Jf},ap=function(x,b,C){var w=x[0],O=x[1];return[Ir(w,b),Ir(typeof O<"u"?O:w,C)]},Ir=function(x,b){if(x.type===16)return x.number/100*b;if(sp(x))switch(x.unit){case"rem":case"em":return 16*x.number;case"px":default:return x.number}return x.number},HF="deg",jF="grad",WF="rad",XF="turn",jg={name:"angle",parse:function(x,b){if(b.type===15)switch(b.unit){case HF:return Math.PI*b.number/180;case jF:return Math.PI/200*b.number;case WF:return b.number;case XF:return Math.PI*2*b.number}throw new Error("Unsupported angle type")}},zF=function(x){return x.type===15&&(x.unit===HF||x.unit===jF||x.unit===WF||x.unit===XF)},GF=function(x){var b=x.filter(pr).map(function(C){return C.value}).join(" ");switch(b){case"to bottom right":case"to right bottom":case"left top":case"top left":return[oa,oa];case"to top":case"bottom":return Jn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[oa,qu];case"to right":case"left":return Jn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qu,qu];case"to bottom":case"top":return Jn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qu,oa];case"to left":case"right":return Jn(270)}return 0},Jn=function(x){return Math.PI*x/180},Zu={name:"color",parse:function(x,b){if(b.type===18){var C=IN[b.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported color function "'+b.name+'"');return C(x,b.values)}if(b.type===5){if(b.value.length===3){var w=b.value.substring(0,1),O=b.value.substring(1,2),M=b.value.substring(2,3);return eh(parseInt(w+w,16),parseInt(O+O,16),parseInt(M+M,16),1)}if(b.value.length===4){var w=b.value.substring(0,1),O=b.value.substring(1,2),M=b.value.substring(2,3),H=b.value.substring(3,4);return eh(parseInt(w+w,16),parseInt(O+O,16),parseInt(M+M,16),parseInt(H+H,16)/255)}if(b.value.length===6){var w=b.value.substring(0,2),O=b.value.substring(2,4),M=b.value.substring(4,6);return eh(parseInt(w,16),parseInt(O,16),parseInt(M,16),1)}if(b.value.length===8){var w=b.value.substring(0,2),O=b.value.substring(2,4),M=b.value.substring(4,6),H=b.value.substring(6,8);return eh(parseInt(w,16),parseInt(O,16),parseInt(M,16),parseInt(H,16)/255)}}if(b.type===20){var X=nu[b.value.toUpperCase()];if(typeof X<"u")return X}return nu.TRANSPARENT}},Ju=function(x){return(255&x)===0},qs=function(x){var b=255&x,C=255&x>>8,w=255&x>>16,O=255&x>>24;return b<255?"rgba("+O+","+w+","+C+","+b/255+")":"rgb("+O+","+w+","+C+")"},eh=function(x,b,C,w){return(x<<24|b<<16|C<<8|Math.round(w*255)<<0)>>>0},YF=function(x,b){if(x.type===17)return x.number;if(x.type===16){var C=b===3?1:255;return b===3?x.number/100*C:Math.round(x.number/100*C)}return 0},KF=function(x,b){var C=b.filter(Zd);if(C.length===3){var w=C.map(YF),O=w[0],M=w[1],H=w[2];return eh(O,M,H,1)}if(C.length===4){var X=C.map(YF),O=X[0],M=X[1],H=X[2],W=X[3];return eh(O,M,H,W)}return 0};function lx(x,b,C){return C<0&&(C+=1),C>=1&&(C-=1),C<1/6?(b-x)*C*6+x:C<1/2?b:C<2/3?(b-x)*6*(2/3-C)+x:x}var qF=function(x,b){var C=b.filter(Zd),w=C[0],O=C[1],M=C[2],H=C[3],X=(w.type===17?Jn(w.number):jg.parse(x,w))/(Math.PI*2),W=Ss(O)?O.number/100:0,ae=Ss(M)?M.number/100:0,le=typeof H<"u"&&Ss(H)?Ir(H,1):1;if(W===0)return eh(ae*255,ae*255,ae*255,1);var pe=ae<=.5?ae*(W+1):ae+W-ae*W,Se=ae*2-pe,At=lx(Se,pe,X+1/3),Ve=lx(Se,pe,X),st=lx(Se,pe,X-1/3);return eh(At*255,Ve*255,st*255,le)},IN={hsl:qF,hsla:qF,rgb:KF,rgba:KF},np=function(x,b){return Zu.parse(x,VF.create(b).parseComponentValue())},nu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},$N={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(x,b){return b.map(function(C){if(pr(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},kN={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wg=function(x,b){var C=Zu.parse(x,b[0]),w=b[1];return w&&Ss(w)?{color:C,stop:w}:{color:C,stop:null}},ZF=function(x,b){var C=x[0],w=x[x.length-1];C.stop===null&&(C.stop=oa),w.stop===null&&(w.stop=qu);for(var O=[],M=0,H=0;H<x.length;H++){var X=x[H].stop;if(X!==null){var W=Ir(X,b);W>M?O.push(W):O.push(M),M=W}else O.push(null)}for(var ae=null,H=0;H<O.length;H++){var le=O[H];if(le===null)ae===null&&(ae=H);else if(ae!==null){for(var pe=H-ae,Se=O[ae-1],At=(le-Se)/(pe+1),Ve=1;Ve<=pe;Ve++)O[ae+Ve-1]=At*Ve;ae=null}}return x.map(function(st,ui){var Bt=st.color;return{color:Bt,stop:Math.max(Math.min(1,O[ui]/b),0)}})},MN=function(x,b,C){var w=b/2,O=C/2,M=Ir(x[0],b)-w,H=O-Ir(x[1],C);return(Math.atan2(H,M)+Math.PI*2)%(Math.PI*2)},EN=function(x,b,C){var w=typeof x=="number"?x:MN(x,b,C),O=Math.abs(b*Math.sin(w))+Math.abs(C*Math.cos(w)),M=b/2,H=C/2,X=O/2,W=Math.sin(w-Math.PI/2)*X,ae=Math.cos(w-Math.PI/2)*X;return[O,M-ae,M+ae,H-W,H+W]},Lo=function(x,b){return Math.sqrt(x*x+b*b)},JF=function(x,b,C,w,O){var M=[[0,0],[0,b],[x,0],[x,b]];return M.reduce(function(H,X){var W=X[0],ae=X[1],le=Lo(C-W,w-ae);return(O?le<H.optimumDistance:le>H.optimumDistance)?{optimumCorner:X,optimumDistance:le}:H},{optimumDistance:O?1/0:-1/0,optimumCorner:null}).optimumCorner},RN=function(x,b,C,w,O){var M=0,H=0;switch(x.size){case 0:x.shape===0?M=H=Math.min(Math.abs(b),Math.abs(b-w),Math.abs(C),Math.abs(C-O)):x.shape===1&&(M=Math.min(Math.abs(b),Math.abs(b-w)),H=Math.min(Math.abs(C),Math.abs(C-O)));break;case 2:if(x.shape===0)M=H=Math.min(Lo(b,C),Lo(b,C-O),Lo(b-w,C),Lo(b-w,C-O));else if(x.shape===1){var X=Math.min(Math.abs(C),Math.abs(C-O))/Math.min(Math.abs(b),Math.abs(b-w)),W=JF(w,O,b,C,!0),ae=W[0],le=W[1];M=Lo(ae-b,(le-C)/X),H=X*M}break;case 1:x.shape===0?M=H=Math.max(Math.abs(b),Math.abs(b-w),Math.abs(C),Math.abs(C-O)):x.shape===1&&(M=Math.max(Math.abs(b),Math.abs(b-w)),H=Math.max(Math.abs(C),Math.abs(C-O)));break;case 3:if(x.shape===0)M=H=Math.max(Lo(b,C),Lo(b,C-O),Lo(b-w,C),Lo(b-w,C-O));else if(x.shape===1){var X=Math.max(Math.abs(C),Math.abs(C-O))/Math.max(Math.abs(b),Math.abs(b-w)),pe=JF(w,O,b,C,!1),ae=pe[0],le=pe[1];M=Lo(ae-b,(le-C)/X),H=X*M}break}return Array.isArray(x.size)&&(M=Ir(x.size[0],w),H=x.size.length===2?Ir(x.size[1],O):M),[M,H]},NN=function(x,b){var C=Jn(180),w=[];return pl(b).forEach(function(O,M){if(M===0){var H=O[0];if(H.type===20&&H.value==="to"){C=GF(O);return}else if(zF(H)){C=jg.parse(x,H);return}}var X=Wg(x,O);w.push(X)}),{angle:C,stops:w,type:1}},Xg=function(x,b){var C=Jn(180),w=[];return pl(b).forEach(function(O,M){if(M===0){var H=O[0];if(H.type===20&&["top","left","right","bottom"].indexOf(H.value)!==-1){C=GF(O);return}else if(zF(H)){C=(jg.parse(x,H)+Jn(270))%Jn(360);return}}var X=Wg(x,O);w.push(X)}),{angle:C,stops:w,type:1}},VN=function(x,b){var C=Jn(180),w=[],O=1,M=0,H=3,X=[];return pl(b).forEach(function(W,ae){var le=W[0];if(ae===0){if(pr(le)&&le.value==="linear"){O=1;return}else if(pr(le)&&le.value==="radial"){O=2;return}}if(le.type===18){if(le.name==="from"){var pe=Zu.parse(x,le.values[0]);w.push({stop:oa,color:pe})}else if(le.name==="to"){var pe=Zu.parse(x,le.values[0]);w.push({stop:qu,color:pe})}else if(le.name==="color-stop"){var Se=le.values.filter(Zd);if(Se.length===2){var pe=Zu.parse(x,Se[1]),At=Se[0];qd(At)&&w.push({stop:{type:16,number:At.number*100,flags:At.flags},color:pe})}}}}),O===1?{angle:(C+Jn(180))%Jn(360),stops:w,type:O}:{size:H,shape:M,stops:w,position:X,type:O}},eP="closest-side",tP="farthest-side",iP="closest-corner",rP="farthest-corner",sP="circle",aP="ellipse",nP="cover",oP="contain",UN=function(x,b){var C=0,w=3,O=[],M=[];return pl(b).forEach(function(H,X){var W=!0;if(X===0){var ae=!1;W=H.reduce(function(pe,Se){if(ae)if(pr(Se))switch(Se.value){case"center":return M.push(ox),pe;case"top":case"left":return M.push(oa),pe;case"right":case"bottom":return M.push(qu),pe}else(Ss(Se)||Ku(Se))&&M.push(Se);else if(pr(Se))switch(Se.value){case sP:return C=0,!1;case aP:return C=1,!1;case"at":return ae=!0,!1;case eP:return w=0,!1;case nP:case tP:return w=1,!1;case oP:case iP:return w=2,!1;case rP:return w=3,!1}else if(Ku(Se)||Ss(Se))return Array.isArray(w)||(w=[]),w.push(Se),!1;return pe},W)}if(W){var le=Wg(x,H);O.push(le)}}),{size:w,shape:C,stops:O,position:M,type:2}},zg=function(x,b){var C=0,w=3,O=[],M=[];return pl(b).forEach(function(H,X){var W=!0;if(X===0?W=H.reduce(function(le,pe){if(pr(pe))switch(pe.value){case"center":return M.push(ox),!1;case"top":case"left":return M.push(oa),!1;case"right":case"bottom":return M.push(qu),!1}else if(Ss(pe)||Ku(pe))return M.push(pe),!1;return le},W):X===1&&(W=H.reduce(function(le,pe){if(pr(pe))switch(pe.value){case sP:return C=0,!1;case aP:return C=1,!1;case oP:case eP:return w=0,!1;case tP:return w=1,!1;case iP:return w=2,!1;case nP:case rP:return w=3,!1}else if(Ku(pe)||Ss(pe))return Array.isArray(w)||(w=[]),w.push(pe),!1;return le},W)),W){var ae=Wg(x,H);O.push(ae)}}),{size:w,shape:C,stops:O,position:M,type:2}},QN=function(x){return x.type===1},HN=function(x){return x.type===2},ux={name:"image",parse:function(x,b){if(b.type===22){var C={url:b.value,type:0};return x.cache.addImage(b.value),C}if(b.type===18){var w=lP[b.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported image function "'+b.name+'"');return w(x,b.values)}throw new Error("Unsupported image type "+b.type)}};function jN(x){return!(x.type===20&&x.value==="none")&&(x.type!==18||!!lP[x.name])}var lP={"linear-gradient":NN,"-moz-linear-gradient":Xg,"-ms-linear-gradient":Xg,"-o-linear-gradient":Xg,"-webkit-linear-gradient":Xg,"radial-gradient":UN,"-moz-radial-gradient":zg,"-ms-radial-gradient":zg,"-o-radial-gradient":zg,"-webkit-radial-gradient":zg,"-webkit-gradient":VN},WN={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(x,b){if(b.length===0)return[];var C=b[0];return C.type===20&&C.value==="none"?[]:b.filter(function(w){return Zd(w)&&jN(w)}).map(function(w){return ux.parse(x,w)})}},XN={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(x,b){return b.map(function(C){if(pr(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zN={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(x,b){return pl(b).map(function(C){return C.filter(Ss)}).map(QF)}},GN={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(x,b){return pl(b).map(function(C){return C.filter(pr).map(function(w){return w.value}).join(" ")}).map(YN)}},YN=function(x){switch(x){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Jd;(function(x){x.AUTO="auto",x.CONTAIN="contain",x.COVER="cover"})(Jd||(Jd={}));var KN={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(x,b){return pl(b).map(function(C){return C.filter(qN)})}},qN=function(x){return pr(x)||Ss(x)},Gg=function(x){return{name:"border-"+x+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ZN=Gg("top"),JN=Gg("right"),eV=Gg("bottom"),tV=Gg("left"),Yg=function(x){return{name:"border-radius-"+x,initialValue:"0 0",prefix:!1,type:1,parse:function(b,C){return QF(C.filter(Ss))}}},iV=Yg("top-left"),rV=Yg("top-right"),sV=Yg("bottom-right"),aV=Yg("bottom-left"),Kg=function(x){return{name:"border-"+x+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(b,C){switch(C){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},nV=Kg("top"),oV=Kg("right"),lV=Kg("bottom"),uV=Kg("left"),qg=function(x){return{name:"border-"+x+"-width",initialValue:"0",type:0,prefix:!1,parse:function(b,C){return sp(C)?C.number:0}}},hV=qg("top"),cV=qg("right"),dV=qg("bottom"),AV=qg("left"),fV={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pV={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(x,b){switch(b){case"rtl":return 1;case"ltr":default:return 0}}},mV={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(x,b){return b.filter(pr).reduce(function(C,w){return C|gV(w.value)},0)}},gV=function(x){switch(x){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},yV={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(x,b){switch(b){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},bV={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(x,b){return b.type===20&&b.value==="normal"?0:b.type===17||b.type===15?b.number:0}},Zg;(function(x){x.NORMAL="normal",x.STRICT="strict"})(Zg||(Zg={}));var vV={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(x,b){switch(b){case"strict":return Zg.STRICT;case"normal":default:return Zg.NORMAL}}},xV={name:"line-height",initialValue:"normal",prefix:!1,type:4},uP=function(x,b){return pr(x)&&x.value==="normal"?1.2*b:x.type===17?b*x.number:Ss(x)?Ir(x,b):b},wV={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(x,b){return b.type===20&&b.value==="none"?null:ux.parse(x,b)}},CV={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(x,b){switch(b){case"inside":return 0;case"outside":default:return 1}}},hx={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(x,b){switch(b){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Jg=function(x){return{name:"margin-"+x,initialValue:"0",prefix:!1,type:4}},_V=Jg("top"),SV=Jg("right"),BV=Jg("bottom"),FV=Jg("left"),PV={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(x,b){return b.filter(pr).map(function(C){switch(C.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},TV={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(x,b){switch(b){case"break-word":return"break-word";case"normal":default:return"normal"}}},ey=function(x){return{name:"padding-"+x,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},DV=ey("top"),OV=ey("right"),LV=ey("bottom"),IV=ey("left"),$V={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(x,b){switch(b){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},kV={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(x,b){switch(b){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},MV={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(x,b){return b.length===1&&nx(b[0],"none")?[]:pl(b).map(function(C){for(var w={color:nu.TRANSPARENT,offsetX:oa,offsetY:oa,blur:oa},O=0,M=0;M<C.length;M++){var H=C[M];Ku(H)?(O===0?w.offsetX=H:O===1?w.offsetY=H:w.blur=H,O++):w.color=Zu.parse(x,H)}return w})}},EV={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(x,b){switch(b){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},RV={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(x,b){if(b.type===20&&b.value==="none")return null;if(b.type===18){var C=UV[b.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported transform function "'+b.name+'"');return C(b.values)}return null}},NV=function(x){var b=x.filter(function(C){return C.type===17}).map(function(C){return C.number});return b.length===6?b:null},VV=function(x){var b=x.filter(function(W){return W.type===17}).map(function(W){return W.number}),C=b[0],w=b[1];b[2],b[3];var O=b[4],M=b[5];b[6],b[7],b[8],b[9],b[10],b[11];var H=b[12],X=b[13];return b[14],b[15],b.length===16?[C,w,O,M,H,X]:null},UV={matrix:NV,matrix3d:VV},hP={type:16,number:50,flags:Jf},QV=[hP,hP],HV={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(x,b){var C=b.filter(Ss);return C.length!==2?QV:[C[0],C[1]]}},jV={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(x,b){switch(b){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},op;(function(x){x.NORMAL="normal",x.BREAK_ALL="break-all",x.KEEP_ALL="keep-all"})(op||(op={}));for(var WV={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(x,b){switch(b){case"break-all":return op.BREAK_ALL;case"keep-all":return op.KEEP_ALL;case"normal":default:return op.NORMAL}}},XV={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(x,b){if(b.type===20)return{auto:!0,order:0};if(qd(b))return{auto:!1,order:b.number};throw new Error("Invalid z-index number parsed")}},cP={name:"time",parse:function(x,b){if(b.type===15)switch(b.unit.toLowerCase()){case"s":return 1e3*b.number;case"ms":return b.number}throw new Error("Unsupported time type")}},zV={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(x,b){return qd(b)?b.number:1}},GV={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},YV={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(x,b){return b.filter(pr).map(function(C){switch(C.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(C){return C!==0})}},KV={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(x,b){var C=[],w=[];return b.forEach(function(O){switch(O.type){case 20:case 0:C.push(O.value);break;case 17:C.push(O.number.toString());break;case 4:w.push(C.join(" ")),C.length=0;break}}),C.length&&w.push(C.join(" ")),w.map(function(O){return O.indexOf(" ")===-1?O:"'"+O+"'"})}},qV={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ZV={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(x,b){if(qd(b))return b.number;if(pr(b))switch(b.value){case"bold":return 700;case"normal":default:return 400}return 400}},JV={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(x,b){return b.filter(pr).map(function(C){return C.value})}},eU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(x,b){switch(b){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Es=function(x,b){return(x&b)!==0},tU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(x,b){if(b.length===0)return[];var C=b[0];return C.type===20&&C.value==="none"?[]:b}},iU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(x,b){if(b.length===0)return null;var C=b[0];if(C.type===20&&C.value==="none")return null;for(var w=[],O=b.filter(UF),M=0;M<O.length;M++){var H=O[M],X=O[M+1];if(H.type===20){var W=X&&qd(X)?X.number:1;w.push({counter:H.value,increment:W})}}return w}},rU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(x,b){if(b.length===0)return[];for(var C=[],w=b.filter(UF),O=0;O<w.length;O++){var M=w[O],H=w[O+1];if(pr(M)&&M.value!=="none"){var X=H&&qd(H)?H.number:0;C.push({counter:M.value,reset:X})}}return C}},sU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(x,b){return b.filter(sp).map(function(C){return cP.parse(x,C)})}},aU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(x,b){if(b.length===0)return null;var C=b[0];if(C.type===20&&C.value==="none")return null;var w=[],O=b.filter(ON);if(O.length%2!==0)return null;for(var M=0;M<O.length;M+=2){var H=O[M].value,X=O[M+1].value;w.push({open:H,close:X})}return w}},dP=function(x,b,C){if(!x)return"";var w=x[Math.min(b,x.length-1)];return w?C?w.open:w.close:""},nU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(x,b){return b.length===1&&nx(b[0],"none")?[]:pl(b).map(function(C){for(var w={color:255,offsetX:oa,offsetY:oa,blur:oa,spread:oa,inset:!1},O=0,M=0;M<C.length;M++){var H=C[M];nx(H,"inset")?w.inset=!0:Ku(H)?(O===0?w.offsetX=H:O===1?w.offsetY=H:O===2?w.blur=H:w.spread=H,O++):w.color=Zu.parse(x,H)}return w})}},oU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(x,b){var C=[0,1,2],w=[];return b.filter(pr).forEach(function(O){switch(O.value){case"stroke":w.push(1);break;case"fill":w.push(0);break;case"markers":w.push(2);break}}),C.forEach(function(O){w.indexOf(O)===-1&&w.push(O)}),w}},lU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},uU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(x,b){return sp(b)?b.number:0}},hU=function(){function x(b,C){var w,O;this.animationDuration=mt(b,sU,C.animationDuration),this.backgroundClip=mt(b,$N,C.backgroundClip),this.backgroundColor=mt(b,kN,C.backgroundColor),this.backgroundImage=mt(b,WN,C.backgroundImage),this.backgroundOrigin=mt(b,XN,C.backgroundOrigin),this.backgroundPosition=mt(b,zN,C.backgroundPosition),this.backgroundRepeat=mt(b,GN,C.backgroundRepeat),this.backgroundSize=mt(b,KN,C.backgroundSize),this.borderTopColor=mt(b,ZN,C.borderTopColor),this.borderRightColor=mt(b,JN,C.borderRightColor),this.borderBottomColor=mt(b,eV,C.borderBottomColor),this.borderLeftColor=mt(b,tV,C.borderLeftColor),this.borderTopLeftRadius=mt(b,iV,C.borderTopLeftRadius),this.borderTopRightRadius=mt(b,rV,C.borderTopRightRadius),this.borderBottomRightRadius=mt(b,sV,C.borderBottomRightRadius),this.borderBottomLeftRadius=mt(b,aV,C.borderBottomLeftRadius),this.borderTopStyle=mt(b,nV,C.borderTopStyle),this.borderRightStyle=mt(b,oV,C.borderRightStyle),this.borderBottomStyle=mt(b,lV,C.borderBottomStyle),this.borderLeftStyle=mt(b,uV,C.borderLeftStyle),this.borderTopWidth=mt(b,hV,C.borderTopWidth),this.borderRightWidth=mt(b,cV,C.borderRightWidth),this.borderBottomWidth=mt(b,dV,C.borderBottomWidth),this.borderLeftWidth=mt(b,AV,C.borderLeftWidth),this.boxShadow=mt(b,nU,C.boxShadow),this.color=mt(b,fV,C.color),this.direction=mt(b,pV,C.direction),this.display=mt(b,mV,C.display),this.float=mt(b,yV,C.cssFloat),this.fontFamily=mt(b,KV,C.fontFamily),this.fontSize=mt(b,qV,C.fontSize),this.fontStyle=mt(b,eU,C.fontStyle),this.fontVariant=mt(b,JV,C.fontVariant),this.fontWeight=mt(b,ZV,C.fontWeight),this.letterSpacing=mt(b,bV,C.letterSpacing),this.lineBreak=mt(b,vV,C.lineBreak),this.lineHeight=mt(b,xV,C.lineHeight),this.listStyleImage=mt(b,wV,C.listStyleImage),this.listStylePosition=mt(b,CV,C.listStylePosition),this.listStyleType=mt(b,hx,C.listStyleType),this.marginTop=mt(b,_V,C.marginTop),this.marginRight=mt(b,SV,C.marginRight),this.marginBottom=mt(b,BV,C.marginBottom),this.marginLeft=mt(b,FV,C.marginLeft),this.opacity=mt(b,zV,C.opacity);var M=mt(b,PV,C.overflow);this.overflowX=M[0],this.overflowY=M[M.length>1?1:0],this.overflowWrap=mt(b,TV,C.overflowWrap),this.paddingTop=mt(b,DV,C.paddingTop),this.paddingRight=mt(b,OV,C.paddingRight),this.paddingBottom=mt(b,LV,C.paddingBottom),this.paddingLeft=mt(b,IV,C.paddingLeft),this.paintOrder=mt(b,oU,C.paintOrder),this.position=mt(b,kV,C.position),this.textAlign=mt(b,$V,C.textAlign),this.textDecorationColor=mt(b,GV,(w=C.textDecorationColor)!==null&&w!==void 0?w:C.color),this.textDecorationLine=mt(b,YV,(O=C.textDecorationLine)!==null&&O!==void 0?O:C.textDecoration),this.textShadow=mt(b,MV,C.textShadow),this.textTransform=mt(b,EV,C.textTransform),this.transform=mt(b,RV,C.transform),this.transformOrigin=mt(b,HV,C.transformOrigin),this.visibility=mt(b,jV,C.visibility),this.webkitTextStrokeColor=mt(b,lU,C.webkitTextStrokeColor),this.webkitTextStrokeWidth=mt(b,uU,C.webkitTextStrokeWidth),this.wordBreak=mt(b,WV,C.wordBreak),this.zIndex=mt(b,XV,C.zIndex)}return x.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},x.prototype.isTransparent=function(){return Ju(this.backgroundColor)},x.prototype.isTransformed=function(){return this.transform!==null},x.prototype.isPositioned=function(){return this.position!==0},x.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},x.prototype.isFloating=function(){return this.float!==0},x.prototype.isInlineLevel=function(){return Es(this.display,4)||Es(this.display,33554432)||Es(this.display,268435456)||Es(this.display,536870912)||Es(this.display,67108864)||Es(this.display,134217728)},x}(),cU=function(){function x(b,C){this.content=mt(b,tU,C.content),this.quotes=mt(b,aU,C.quotes)}return x}(),AP=function(){function x(b,C){this.counterIncrement=mt(b,iU,C.counterIncrement),this.counterReset=mt(b,rU,C.counterReset)}return x}(),mt=function(x,b,C){var w=new NF,O=C!==null&&typeof C<"u"?C.toString():b.initialValue;w.write(O);var M=new VF(w.read());switch(b.type){case 2:var H=M.parseComponentValue();return b.parse(x,pr(H)?H.value:b.initialValue);case 0:return b.parse(x,M.parseComponentValue());case 1:return b.parse(x,M.parseComponentValues());case 4:return M.parseComponentValue();case 3:switch(b.format){case"angle":return jg.parse(x,M.parseComponentValue());case"color":return Zu.parse(x,M.parseComponentValue());case"image":return ux.parse(x,M.parseComponentValue());case"length":var X=M.parseComponentValue();return Ku(X)?X:oa;case"length-percentage":var W=M.parseComponentValue();return Ss(W)?W:oa;case"time":return cP.parse(x,M.parseComponentValue())}break}},dU="data-html2canvas-debug",AU=function(x){var b=x.getAttribute(dU);switch(b){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},cx=function(x,b){var C=AU(x);return C===1||b===C},ml=function(){function x(b,C){if(this.context=b,this.textNodes=[],this.elements=[],this.flags=0,cx(C,3))debugger;this.styles=new hU(b,window.getComputedStyle(C,null)),Sx(C)&&(this.styles.animationDuration.some(function(w){return w>0})&&(C.style.animationDuration="0s"),this.styles.transform!==null&&(C.style.transform="none")),this.bounds=o(this.context,C),cx(C,4)&&(this.flags|=16)}return x}(),fU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",fP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lp=typeof Uint8Array>"u"?[]:new Uint8Array(256),ty=0;ty<fP.length;ty++)lp[fP.charCodeAt(ty)]=ty;for(var pU=function(x){var b=x.length*.75,C=x.length,w,O=0,M,H,X,W;x[x.length-1]==="="&&(b--,x[x.length-2]==="="&&b--);var ae=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(b):new Array(b),le=Array.isArray(ae)?ae:new Uint8Array(ae);for(w=0;w<C;w+=4)M=lp[x.charCodeAt(w)],H=lp[x.charCodeAt(w+1)],X=lp[x.charCodeAt(w+2)],W=lp[x.charCodeAt(w+3)],le[O++]=M<<2|H>>4,le[O++]=(H&15)<<4|X>>2,le[O++]=(X&3)<<6|W&63;return ae},mU=function(x){for(var b=x.length,C=[],w=0;w<b;w+=2)C.push(x[w+1]<<8|x[w]);return C},gU=function(x){for(var b=x.length,C=[],w=0;w<b;w+=4)C.push(x[w+3]<<24|x[w+2]<<16|x[w+1]<<8|x[w]);return C},Sc=5,dx=11,Ax=2,yU=dx-Sc,pP=65536>>Sc,bU=1<<Sc,fx=bU-1,vU=1024>>Sc,xU=pP+vU,wU=xU,CU=32,_U=wU+CU,SU=65536>>dx,BU=1<<yU,FU=BU-1,mP=function(x,b,C){return x.slice?x.slice(b,C):new Uint16Array(Array.prototype.slice.call(x,b,C))},PU=function(x,b,C){return x.slice?x.slice(b,C):new Uint32Array(Array.prototype.slice.call(x,b,C))},TU=function(x,b){var C=pU(x),w=Array.isArray(C)?gU(C):new Uint32Array(C),O=Array.isArray(C)?mU(C):new Uint16Array(C),M=24,H=mP(O,M/2,w[4]/2),X=w[5]===2?mP(O,(M+w[4])/2):PU(w,Math.ceil((M+w[4])/4));return new DU(w[0],w[1],w[2],w[3],H,X)},DU=function(){function x(b,C,w,O,M,H){this.initialValue=b,this.errorValue=C,this.highStart=w,this.highValueIndex=O,this.index=M,this.data=H}return x.prototype.get=function(b){var C;if(b>=0){if(b<55296||b>56319&&b<=65535)return C=this.index[b>>Sc],C=(C<<Ax)+(b&fx),this.data[C];if(b<=65535)return C=this.index[pP+(b-55296>>Sc)],C=(C<<Ax)+(b&fx),this.data[C];if(b<this.highStart)return C=_U-SU+(b>>dx),C=this.index[C],C+=b>>Sc&FU,C=this.index[C],C=(C<<Ax)+(b&fx),this.data[C];if(b<=1114111)return this.data[this.highValueIndex]}return this.errorValue},x}(),gP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",OU=typeof Uint8Array>"u"?[]:new Uint8Array(256),iy=0;iy<gP.length;iy++)OU[gP.charCodeAt(iy)]=iy;var LU=1,px=2,mx=3,yP=4,bP=5,IU=7,vP=8,gx=9,yx=10,xP=11,wP=12,CP=13,_P=14,bx=15,$U=function(x){for(var b=[],C=0,w=x.length;C<w;){var O=x.charCodeAt(C++);if(O>=55296&&O<=56319&&C<w){var M=x.charCodeAt(C++);(M&64512)===56320?b.push(((O&1023)<<10)+(M&1023)+65536):(b.push(O),C--)}else b.push(O)}return b},kU=function(){for(var x=[],b=0;b<arguments.length;b++)x[b]=arguments[b];if(String.fromCodePoint)return String.fromCodePoint.apply(String,x);var C=x.length;if(!C)return"";for(var w=[],O=-1,M="";++O<C;){var H=x[O];H<=65535?w.push(H):(H-=65536,w.push((H>>10)+55296,H%1024+56320)),(O+1===C||w.length>16384)&&(M+=String.fromCharCode.apply(String,w),w.length=0)}return M},MU=TU(fU),eo="\xD7",vx="\xF7",EU=function(x){return MU.get(x)},RU=function(x,b,C){var w=C-2,O=b[w],M=b[C-1],H=b[C];if(M===px&&H===mx)return eo;if(M===px||M===mx||M===yP||H===px||H===mx||H===yP)return vx;if(M===vP&&[vP,gx,xP,wP].indexOf(H)!==-1||(M===xP||M===gx)&&(H===gx||H===yx)||(M===wP||M===yx)&&H===yx||H===CP||H===bP||H===IU||M===LU)return eo;if(M===CP&&H===_P){for(;O===bP;)O=b[--w];if(O===_P)return eo}if(M===bx&&H===bx){for(var X=0;O===bx;)X++,O=b[--w];if(X%2===0)return eo}return vx},NU=function(x){var b=$U(x),C=b.length,w=0,O=0,M=b.map(EU);return{next:function(){if(w>=C)return{done:!0,value:null};for(var H=eo;w<C&&(H=RU(b,M,++w))===eo;);if(H!==eo||w===C){var X=kU.apply(null,b.slice(O,w));return O=w,{value:X,done:!1}}return{done:!0,value:null}}}},VU=function(x){for(var b=NU(x),C=[],w;!(w=b.next()).done;)w.value&&C.push(w.value.slice());return C},UU=function(x){var b=123;if(x.createRange){var C=x.createRange();if(C.getBoundingClientRect){var w=x.createElement("boundtest");w.style.height=b+"px",w.style.display="block",x.body.appendChild(w),C.selectNode(w);var O=C.getBoundingClientRect(),M=Math.round(O.height);if(x.body.removeChild(w),M===b)return!0}}return!1},QU=function(x){var b=x.createElement("boundtest");b.style.width="50px",b.style.display="block",b.style.fontSize="12px",b.style.letterSpacing="0px",b.style.wordSpacing="0px",x.body.appendChild(b);var C=x.createRange();b.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var w=b.firstChild,O=u(w.data).map(function(W){return h(W)}),M=0,H={},X=O.every(function(W,ae){C.setStart(w,M),C.setEnd(w,M+W.length);var le=C.getBoundingClientRect();M+=W.length;var pe=le.x>H.x||le.y>H.y;return H=le,ae===0?!0:pe});return x.body.removeChild(b),X},HU=function(){return typeof new Image().crossOrigin<"u"},jU=function(){return typeof new XMLHttpRequest().responseType=="string"},WU=function(x){var b=new Image,C=x.createElement("canvas"),w=C.getContext("2d");if(!w)return!1;b.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{w.drawImage(b,0,0),C.toDataURL()}catch{return!1}return!0},SP=function(x){return x[0]===0&&x[1]===255&&x[2]===0&&x[3]===255},XU=function(x){var b=x.createElement("canvas"),C=100;b.width=C,b.height=C;var w=b.getContext("2d");if(!w)return Promise.reject(!1);w.fillStyle="rgb(0, 255, 0)",w.fillRect(0,0,C,C);var O=new Image,M=b.toDataURL();O.src=M;var H=xx(C,C,0,0,O);return w.fillStyle="red",w.fillRect(0,0,C,C),BP(H).then(function(X){w.drawImage(X,0,0);var W=w.getImageData(0,0,C,C).data;w.fillStyle="red",w.fillRect(0,0,C,C);var ae=x.createElement("div");return ae.style.backgroundImage="url("+M+")",ae.style.height=C+"px",SP(W)?BP(xx(C,C,0,0,ae)):Promise.reject(!1)}).then(function(X){return w.drawImage(X,0,0),SP(w.getImageData(0,0,C,C).data)}).catch(function(){return!1})},xx=function(x,b,C,w,O){var M="http://www.w3.org/2000/svg",H=document.createElementNS(M,"svg"),X=document.createElementNS(M,"foreignObject");return H.setAttributeNS(null,"width",x.toString()),H.setAttributeNS(null,"height",b.toString()),X.setAttributeNS(null,"width","100%"),X.setAttributeNS(null,"height","100%"),X.setAttributeNS(null,"x",C.toString()),X.setAttributeNS(null,"y",w.toString()),X.setAttributeNS(null,"externalResourcesRequired","true"),H.appendChild(X),X.appendChild(O),H},BP=function(x){return new Promise(function(b,C){var w=new Image;w.onload=function(){return b(w)},w.onerror=C,w.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(x))})},la={get SUPPORT_RANGE_BOUNDS(){var x=UU(document);return Object.defineProperty(la,"SUPPORT_RANGE_BOUNDS",{value:x}),x},get SUPPORT_WORD_BREAKING(){var x=la.SUPPORT_RANGE_BOUNDS&&QU(document);return Object.defineProperty(la,"SUPPORT_WORD_BREAKING",{value:x}),x},get SUPPORT_SVG_DRAWING(){var x=WU(document);return Object.defineProperty(la,"SUPPORT_SVG_DRAWING",{value:x}),x},get SUPPORT_FOREIGNOBJECT_DRAWING(){var x=typeof Array.from=="function"&&typeof window.fetch=="function"?XU(document):Promise.resolve(!1);return Object.defineProperty(la,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:x}),x},get SUPPORT_CORS_IMAGES(){var x=HU();return Object.defineProperty(la,"SUPPORT_CORS_IMAGES",{value:x}),x},get SUPPORT_RESPONSE_TYPE(){var x=jU();return Object.defineProperty(la,"SUPPORT_RESPONSE_TYPE",{value:x}),x},get SUPPORT_CORS_XHR(){var x="withCredentials"in new XMLHttpRequest;return Object.defineProperty(la,"SUPPORT_CORS_XHR",{value:x}),x},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var x=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(la,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:x}),x}},up=function(){function x(b,C){this.text=b,this.bounds=C}return x}(),zU=function(x,b,C,w){var O=KU(b,C),M=[],H=0;return O.forEach(function(X){if(C.textDecorationLine.length||X.trim().length>0)if(la.SUPPORT_RANGE_BOUNDS){var W=FP(w,H,X.length).getClientRects();if(W.length>1){var ae=wx(X),le=0;ae.forEach(function(Se){M.push(new up(Se,n.fromDOMRectList(x,FP(w,le+H,Se.length).getClientRects()))),le+=Se.length})}else M.push(new up(X,n.fromDOMRectList(x,W)))}else{var pe=w.splitText(X.length);M.push(new up(X,GU(x,w))),w=pe}else la.SUPPORT_RANGE_BOUNDS||(w=w.splitText(X.length));H+=X.length}),M},GU=function(x,b){var C=b.ownerDocument;if(C){var w=C.createElement("html2canvaswrapper");w.appendChild(b.cloneNode(!0));var O=b.parentNode;if(O){O.replaceChild(w,b);var M=o(x,w);return w.firstChild&&O.replaceChild(w.firstChild,w),M}}return n.EMPTY},FP=function(x,b,C){var w=x.ownerDocument;if(!w)throw new Error("Node has no owner document");var O=w.createRange();return O.setStart(x,b),O.setEnd(x,b+C),O},wx=function(x){if(la.SUPPORT_NATIVE_TEXT_SEGMENTATION){var b=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(b.segment(x)).map(function(C){return C.segment})}return VU(x)},YU=function(x,b){if(la.SUPPORT_NATIVE_TEXT_SEGMENTATION){var C=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(C.segment(x)).map(function(w){return w.segment})}return ZU(x,b)},KU=function(x,b){return b.letterSpacing!==0?wx(x):YU(x,b)},qU=[32,160,4961,65792,65793,4153,4241],ZU=function(x,b){for(var C=SR(x,{lineBreak:b.lineBreak,wordBreak:b.overflowWrap==="break-word"?"break-word":b.wordBreak}),w=[],O,M=function(){if(O.value){var H=O.value.slice(),X=u(H),W="";X.forEach(function(ae){qU.indexOf(ae)===-1?W+=h(ae):(W.length&&w.push(W),w.push(h(ae)),W="")}),W.length&&w.push(W)}};!(O=C.next()).done;)M();return w},JU=function(){function x(b,C,w){this.text=e2(C.data,w.textTransform),this.textBounds=zU(b,this.text,w,C)}return x}(),e2=function(x,b){switch(b){case 1:return x.toLowerCase();case 3:return x.replace(t2,i2);case 2:return x.toUpperCase();default:return x}},t2=/(^|\s|:|-|\(|\))([a-z])/g,i2=function(x,b,C){return x.length>0?b+C.toUpperCase():x},PP=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this;return O.src=w.currentSrc||w.src,O.intrinsicWidth=w.naturalWidth,O.intrinsicHeight=w.naturalHeight,O.context.cache.addImage(O.src),O}return b}(ml),TP=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this;return O.canvas=w,O.intrinsicWidth=w.width,O.intrinsicHeight=w.height,O}return b}(ml),DP=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this,M=new XMLSerializer,H=o(C,w);return w.setAttribute("width",H.width+"px"),w.setAttribute("height",H.height+"px"),O.svg="data:image/svg+xml,"+encodeURIComponent(M.serializeToString(w)),O.intrinsicWidth=w.width.baseVal.value,O.intrinsicHeight=w.height.baseVal.value,O.context.cache.addImage(O.svg),O}return b}(ml),OP=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this;return O.value=w.value,O}return b}(ml),Cx=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this;return O.start=w.start,O.reversed=typeof w.reversed=="boolean"&&w.reversed===!0,O}return b}(ml),r2=[{type:15,flags:0,unit:"px",number:3}],s2=[{type:16,flags:0,number:50}],a2=function(x){return x.width>x.height?new n(x.left+(x.width-x.height)/2,x.top,x.height,x.height):x.width<x.height?new n(x.left,x.top+(x.height-x.width)/2,x.width,x.width):x},n2=function(x){var b=x.type===o2?new Array(x.value.length+1).join("\u2022"):x.value;return b.length===0?x.placeholder||"":b},ry="checkbox",sy="radio",o2="password",LP=707406591,_x=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this;switch(O.type=w.type.toLowerCase(),O.checked=w.checked,O.value=n2(w),(O.type===ry||O.type===sy)&&(O.styles.backgroundColor=3739148031,O.styles.borderTopColor=O.styles.borderRightColor=O.styles.borderBottomColor=O.styles.borderLeftColor=2779096575,O.styles.borderTopWidth=O.styles.borderRightWidth=O.styles.borderBottomWidth=O.styles.borderLeftWidth=1,O.styles.borderTopStyle=O.styles.borderRightStyle=O.styles.borderBottomStyle=O.styles.borderLeftStyle=1,O.styles.backgroundClip=[0],O.styles.backgroundOrigin=[0],O.bounds=a2(O.bounds)),O.type){case ry:O.styles.borderTopRightRadius=O.styles.borderTopLeftRadius=O.styles.borderBottomRightRadius=O.styles.borderBottomLeftRadius=r2;break;case sy:O.styles.borderTopRightRadius=O.styles.borderTopLeftRadius=O.styles.borderBottomRightRadius=O.styles.borderBottomLeftRadius=s2;break}return O}return b}(ml),IP=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this,M=w.options[w.selectedIndex||0];return O.value=M&&M.text||"",O}return b}(ml),$P=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this;return O.value=w.value,O}return b}(ml),kP=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this;O.src=w.src,O.width=parseInt(w.width,10)||0,O.height=parseInt(w.height,10)||0,O.backgroundColor=O.styles.backgroundColor;try{if(w.contentWindow&&w.contentWindow.document&&w.contentWindow.document.documentElement){O.tree=EP(C,w.contentWindow.document.documentElement);var M=w.contentWindow.document.documentElement?np(C,getComputedStyle(w.contentWindow.document.documentElement).backgroundColor):nu.TRANSPARENT,H=w.contentWindow.document.body?np(C,getComputedStyle(w.contentWindow.document.body).backgroundColor):nu.TRANSPARENT;O.backgroundColor=Ju(M)?Ju(H)?O.styles.backgroundColor:H:M}}catch{}return O}return b}(ml),l2=["OL","UL","MENU"],ay=function(x,b,C,w){for(var O=b.firstChild,M=void 0;O;O=M)if(M=O.nextSibling,RP(O)&&O.data.trim().length>0)C.textNodes.push(new JU(x,O,C.styles));else if(eA(O))if(jP(O)&&O.assignedNodes)O.assignedNodes().forEach(function(X){return ay(x,X,C,w)});else{var H=MP(x,O);H.styles.isVisible()&&(u2(O,H,w)?H.flags|=4:h2(H.styles)&&(H.flags|=2),l2.indexOf(O.tagName)!==-1&&(H.flags|=8),C.elements.push(H),O.slot,O.shadowRoot?ay(x,O.shadowRoot,H,w):!oy(O)&&!NP(O)&&!ly(O)&&ay(x,O,H,w))}},MP=function(x,b){return Fx(b)?new PP(x,b):VP(b)?new TP(x,b):NP(b)?new DP(x,b):c2(b)?new OP(x,b):d2(b)?new Cx(x,b):A2(b)?new _x(x,b):ly(b)?new IP(x,b):oy(b)?new $P(x,b):QP(b)?new kP(x,b):new ml(x,b)},EP=function(x,b){var C=MP(x,b);return C.flags|=4,ay(x,b,C,C),C},u2=function(x,b,C){return b.styles.isPositionedWithZIndex()||b.styles.opacity<1||b.styles.isTransformed()||Bx(x)&&C.styles.isTransparent()},h2=function(x){return x.isPositioned()||x.isFloating()},RP=function(x){return x.nodeType===Node.TEXT_NODE},eA=function(x){return x.nodeType===Node.ELEMENT_NODE},Sx=function(x){return eA(x)&&typeof x.style<"u"&&!ny(x)},ny=function(x){return typeof x.className=="object"},c2=function(x){return x.tagName==="LI"},d2=function(x){return x.tagName==="OL"},A2=function(x){return x.tagName==="INPUT"},f2=function(x){return x.tagName==="HTML"},NP=function(x){return x.tagName==="svg"},Bx=function(x){return x.tagName==="BODY"},VP=function(x){return x.tagName==="CANVAS"},UP=function(x){return x.tagName==="VIDEO"},Fx=function(x){return x.tagName==="IMG"},QP=function(x){return x.tagName==="IFRAME"},HP=function(x){return x.tagName==="STYLE"},p2=function(x){return x.tagName==="SCRIPT"},oy=function(x){return x.tagName==="TEXTAREA"},ly=function(x){return x.tagName==="SELECT"},jP=function(x){return x.tagName==="SLOT"},WP=function(x){return x.tagName.indexOf("-")>0},m2=function(){function x(){this.counters={}}return x.prototype.getCounterValue=function(b){var C=this.counters[b];return C&&C.length?C[C.length-1]:1},x.prototype.getCounterValues=function(b){var C=this.counters[b];return C||[]},x.prototype.pop=function(b){var C=this;b.forEach(function(w){return C.counters[w].pop()})},x.prototype.parse=function(b){var C=this,w=b.counterIncrement,O=b.counterReset,M=!0;w!==null&&w.forEach(function(X){var W=C.counters[X.counter];W&&X.increment!==0&&(M=!1,W.length||W.push(1),W[Math.max(0,W.length-1)]+=X.increment)});var H=[];return M&&O.forEach(function(X){var W=C.counters[X.counter];H.push(X.counter),W||(W=C.counters[X.counter]=[]),W.push(X.reset)}),H},x}(),XP={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},zP={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},g2={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},y2={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},tA=function(x,b,C,w,O,M){return x<b||x>C?cp(x,O,M.length>0):w.integers.reduce(function(H,X,W){for(;x>=X;)x-=X,H+=w.values[W];return H},"")+M},GP=function(x,b,C,w){var O="";do C||x--,O=w(x)+O,x/=b;while(x*b>=b);return O},As=function(x,b,C,w,O){var M=C-b+1;return(x<0?"-":"")+(GP(Math.abs(x),M,w,function(H){return h(Math.floor(H%M)+b)})+O)},Bc=function(x,b,C){C===void 0&&(C=". ");var w=b.length;return GP(Math.abs(x),w,!1,function(O){return b[Math.floor(O%w)]})+C},iA=1,th=2,ih=4,hp=8,ou=function(x,b,C,w,O,M){if(x<-9999||x>9999)return cp(x,4,O.length>0);var H=Math.abs(x),X=O;if(H===0)return b[0]+X;for(var W=0;H>0&&W<=4;W++){var ae=H%10;ae===0&&Es(M,iA)&&X!==""?X=b[ae]+X:ae>1||ae===1&&W===0||ae===1&&W===1&&Es(M,th)||ae===1&&W===1&&Es(M,ih)&&x>100||ae===1&&W>1&&Es(M,hp)?X=b[ae]+(W>0?C[W-1]:"")+X:ae===1&&W>0&&(X=C[W-1]+X),H=Math.floor(H/10)}return(x<0?w:"")+X},YP="\u5341\u767E\u5343\u842C",KP="\u62FE\u4F70\u4EDF\u842C",qP="\u30DE\u30A4\u30CA\u30B9",Px="\uB9C8\uC774\uB108\uC2A4",cp=function(x,b,C){var w=C?". ":"",O=C?"\u3001":"",M=C?", ":"",H=C?" ":"";switch(b){case 0:return"\u2022"+H;case 1:return"\u25E6"+H;case 2:return"\u25FE"+H;case 5:var X=As(x,48,57,!0,w);return X.length<4?"0"+X:X;case 4:return Bc(x,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",O);case 6:return tA(x,1,3999,XP,3,w).toLowerCase();case 7:return tA(x,1,3999,XP,3,w);case 8:return As(x,945,969,!1,w);case 9:return As(x,97,122,!1,w);case 10:return As(x,65,90,!1,w);case 11:return As(x,1632,1641,!0,w);case 12:case 49:return tA(x,1,9999,zP,3,w);case 35:return tA(x,1,9999,zP,3,w).toLowerCase();case 13:return As(x,2534,2543,!0,w);case 14:case 30:return As(x,6112,6121,!0,w);case 15:return Bc(x,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",O);case 16:return Bc(x,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",O);case 17:case 48:return ou(x,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",YP,"\u8CA0",O,th|ih|hp);case 47:return ou(x,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",KP,"\u8CA0",O,iA|th|ih|hp);case 42:return ou(x,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",YP,"\u8D1F",O,th|ih|hp);case 41:return ou(x,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",KP,"\u8D1F",O,iA|th|ih|hp);case 26:return ou(x,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",qP,O,0);case 25:return ou(x,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",qP,O,iA|th|ih);case 31:return ou(x,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",Px,M,iA|th|ih);case 33:return ou(x,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",Px,M,0);case 32:return ou(x,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",Px,M,iA|th|ih);case 18:return As(x,2406,2415,!0,w);case 20:return tA(x,1,19999,y2,3,w);case 21:return As(x,2790,2799,!0,w);case 22:return As(x,2662,2671,!0,w);case 22:return tA(x,1,10999,g2,3,w);case 23:return Bc(x,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Bc(x,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return As(x,3302,3311,!0,w);case 28:return Bc(x,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",O);case 29:return Bc(x,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",O);case 34:return As(x,3792,3801,!0,w);case 37:return As(x,6160,6169,!0,w);case 38:return As(x,4160,4169,!0,w);case 39:return As(x,2918,2927,!0,w);case 40:return As(x,1776,1785,!0,w);case 43:return As(x,3046,3055,!0,w);case 44:return As(x,3174,3183,!0,w);case 45:return As(x,3664,3673,!0,w);case 46:return As(x,3872,3881,!0,w);case 3:default:return As(x,48,57,!0,w)}},ZP="data-html2canvas-ignore",JP=function(){function x(b,C,w){if(this.context=b,this.options=w,this.scrolledElements=[],this.referenceElement=C,this.counters=new m2,this.quoteDepth=0,!C.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(C.ownerDocument.documentElement,!1)}return x.prototype.toIFrame=function(b,C){var w=this,O=b2(b,C);if(!O.contentWindow)return Promise.reject("Unable to find iframe window");var M=b.defaultView.pageXOffset,H=b.defaultView.pageYOffset,X=O.contentWindow,W=X.document,ae=w2(O).then(function(){return i(w,void 0,void 0,function(){var le,pe;return r(this,function(Se){switch(Se.label){case 0:return this.scrolledElements.forEach(B2),X&&(X.scrollTo(C.left,C.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(X.scrollY!==C.top||X.scrollX!==C.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(X.scrollX-C.left,X.scrollY-C.top,0,0))),le=this.options.onclone,pe=this.clonedReferenceElement,typeof pe>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:W.fonts&&W.fonts.ready?[4,W.fonts.ready]:[3,2];case 1:Se.sent(),Se.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,x2(W)]:[3,4];case 3:Se.sent(),Se.label=4;case 4:return typeof le=="function"?[2,Promise.resolve().then(function(){return le(W,pe)}).then(function(){return O})]:[2,O]}})})});return W.open(),W.write(_2(document.doctype)+"<html></html>"),S2(this.referenceElement.ownerDocument,M,H),W.replaceChild(W.adoptNode(this.documentElement),W.documentElement),W.close(),ae},x.prototype.createElementClone=function(b){if(cx(b,2))debugger;if(VP(b))return this.createCanvasClone(b);if(UP(b))return this.createVideoClone(b);if(HP(b))return this.createStyleClone(b);var C=b.cloneNode(!1);return Fx(C)&&(Fx(b)&&b.currentSrc&&b.currentSrc!==b.src&&(C.src=b.currentSrc,C.srcset=""),C.loading==="lazy"&&(C.loading="eager")),WP(C)?this.createCustomElementClone(C):C},x.prototype.createCustomElementClone=function(b){var C=document.createElement("html2canvascustomelement");return Tx(b.style,C),C},x.prototype.createStyleClone=function(b){try{var C=b.sheet;if(C&&C.cssRules){var w=[].slice.call(C.cssRules,0).reduce(function(M,H){return H&&typeof H.cssText=="string"?M+H.cssText:M},""),O=b.cloneNode(!1);return O.textContent=w,O}}catch(M){if(this.context.logger.error("Unable to access cssRules property",M),M.name!=="SecurityError")throw M}return b.cloneNode(!1)},x.prototype.createCanvasClone=function(b){var C;if(this.options.inlineImages&&b.ownerDocument){var w=b.ownerDocument.createElement("img");try{return w.src=b.toDataURL(),w}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",b)}}var O=b.cloneNode(!1);try{O.width=b.width,O.height=b.height;var M=b.getContext("2d"),H=O.getContext("2d");if(H)if(!this.options.allowTaint&&M)H.putImageData(M.getImageData(0,0,b.width,b.height),0,0);else{var X=(C=b.getContext("webgl2"))!==null&&C!==void 0?C:b.getContext("webgl");if(X){var W=X.getContextAttributes();W?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",b)}H.drawImage(b,0,0)}return O}catch{this.context.logger.info("Unable to clone canvas as it is tainted",b)}return O},x.prototype.createVideoClone=function(b){var C=b.ownerDocument.createElement("canvas");C.width=b.offsetWidth,C.height=b.offsetHeight;var w=C.getContext("2d");try{return w&&(w.drawImage(b,0,0,C.width,C.height),this.options.allowTaint||w.getImageData(0,0,C.width,C.height)),C}catch{this.context.logger.info("Unable to clone video as it is tainted",b)}var O=b.ownerDocument.createElement("canvas");return O.width=b.offsetWidth,O.height=b.offsetHeight,O},x.prototype.appendChildNode=function(b,C,w){(!eA(C)||!p2(C)&&!C.hasAttribute(ZP)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(C)))&&(!this.options.copyStyles||!eA(C)||!HP(C))&&b.appendChild(this.cloneNode(C,w))},x.prototype.cloneChildNodes=function(b,C,w){for(var O=this,M=b.shadowRoot?b.shadowRoot.firstChild:b.firstChild;M;M=M.nextSibling)if(eA(M)&&jP(M)&&typeof M.assignedNodes=="function"){var H=M.assignedNodes();H.length&&H.forEach(function(X){return O.appendChildNode(C,X,w)})}else this.appendChildNode(C,M,w)},x.prototype.cloneNode=function(b,C){if(RP(b))return document.createTextNode(b.data);if(!b.ownerDocument)return b.cloneNode(!1);var w=b.ownerDocument.defaultView;if(w&&eA(b)&&(Sx(b)||ny(b))){var O=this.createElementClone(b);O.style.transitionProperty="none";var M=w.getComputedStyle(b),H=w.getComputedStyle(b,":before"),X=w.getComputedStyle(b,":after");this.referenceElement===b&&Sx(O)&&(this.clonedReferenceElement=O),Bx(O)&&T2(O);var W=this.counters.parse(new AP(this.context,M)),ae=this.resolvePseudoContent(b,O,H,dp.BEFORE);WP(b)&&(C=!0),UP(b)||this.cloneChildNodes(b,O,C),ae&&O.insertBefore(ae,O.firstChild);var le=this.resolvePseudoContent(b,O,X,dp.AFTER);return le&&O.appendChild(le),this.counters.pop(W),(M&&(this.options.copyStyles||ny(b))&&!QP(b)||C)&&Tx(M,O),(b.scrollTop!==0||b.scrollLeft!==0)&&this.scrolledElements.push([O,b.scrollLeft,b.scrollTop]),(oy(b)||ly(b))&&(oy(O)||ly(O))&&(O.value=b.value),O}return b.cloneNode(!1)},x.prototype.resolvePseudoContent=function(b,C,w,O){var M=this;if(w){var H=w.content,X=C.ownerDocument;if(!(!X||!H||H==="none"||H==="-moz-alt-content"||w.display==="none")){this.counters.parse(new AP(this.context,w));var W=new cU(this.context,w),ae=X.createElement("html2canvaspseudoelement");Tx(w,ae),W.content.forEach(function(pe){if(pe.type===0)ae.appendChild(X.createTextNode(pe.value));else if(pe.type===22){var Se=X.createElement("img");Se.src=pe.value,Se.style.opacity="1",ae.appendChild(Se)}else if(pe.type===18){if(pe.name==="attr"){var At=pe.values.filter(pr);At.length&&ae.appendChild(X.createTextNode(b.getAttribute(At[0].value)||""))}else if(pe.name==="counter"){var Ve=pe.values.filter(Zd),st=Ve[0],ui=Ve[1];if(st&&pr(st)){var Bt=M.counters.getCounterValue(st.value),vt=ui&&pr(ui)?hx.parse(M.context,ui.value):3;ae.appendChild(X.createTextNode(cp(Bt,vt,!1)))}}else if(pe.name==="counters"){var er=pe.values.filter(Zd),st=er[0],mi=er[1],ui=er[2];if(st&&pr(st)){var jt=M.counters.getCounterValues(st.value),ut=ui&&pr(ui)?hx.parse(M.context,ui.value):3,Vi=mi&&mi.type===0?mi.value:"",Ui=jt.map(function(an){return cp(an,ut,!1)}).join(Vi);ae.appendChild(X.createTextNode(Ui))}}}else if(pe.type===20)switch(pe.value){case"open-quote":ae.appendChild(X.createTextNode(dP(W.quotes,M.quoteDepth++,!0)));break;case"close-quote":ae.appendChild(X.createTextNode(dP(W.quotes,--M.quoteDepth,!1)));break;default:ae.appendChild(X.createTextNode(pe.value))}}),ae.className=Dx+" "+Ox;var le=O===dp.BEFORE?" "+Dx:" "+Ox;return ny(C)?C.className.baseValue+=le:C.className+=le,ae}}},x.destroy=function(b){return b.parentNode?(b.parentNode.removeChild(b),!0):!1},x}(),dp;(function(x){x[x.BEFORE=0]="BEFORE",x[x.AFTER=1]="AFTER"})(dp||(dp={}));var b2=function(x,b){var C=x.createElement("iframe");return C.className="html2canvas-container",C.style.visibility="hidden",C.style.position="fixed",C.style.left="-10000px",C.style.top="0px",C.style.border="0",C.width=b.width.toString(),C.height=b.height.toString(),C.scrolling="no",C.setAttribute(ZP,"true"),x.body.appendChild(C),C},v2=function(x){return new Promise(function(b){if(x.complete){b();return}if(!x.src){b();return}x.onload=b,x.onerror=b})},x2=function(x){return Promise.all([].slice.call(x.images,0).map(v2))},w2=function(x){return new Promise(function(b,C){var w=x.contentWindow;if(!w)return C("No window assigned for iframe");var O=w.document;w.onload=x.onload=function(){w.onload=x.onload=null;var M=setInterval(function(){O.body.childNodes.length>0&&O.readyState==="complete"&&(clearInterval(M),b(x))},50)}})},C2=["all","d","content"],Tx=function(x,b){for(var C=x.length-1;C>=0;C--){var w=x.item(C);C2.indexOf(w)===-1&&b.style.setProperty(w,x.getPropertyValue(w))}return b},_2=function(x){var b="";return x&&(b+="<!DOCTYPE ",x.name&&(b+=x.name),x.internalSubset&&(b+=x.internalSubset),x.publicId&&(b+='"'+x.publicId+'"'),x.systemId&&(b+='"'+x.systemId+'"'),b+=">"),b},S2=function(x,b,C){x&&x.defaultView&&(b!==x.defaultView.pageXOffset||C!==x.defaultView.pageYOffset)&&x.defaultView.scrollTo(b,C)},B2=function(x){var b=x[0],C=x[1],w=x[2];b.scrollLeft=C,b.scrollTop=w},F2=":before",P2=":after",Dx="___html2canvas___pseudoelement_before",Ox="___html2canvas___pseudoelement_after",eT=`{
    content: "" !important;
    display: none !important;
}`,T2=function(x){D2(x,"."+Dx+F2+eT+`
         .`+Ox+P2+eT)},D2=function(x,b){var C=x.ownerDocument;if(C){var w=C.createElement("style");w.textContent=b,x.appendChild(w)}},tT=function(){function x(){}return x.getOrigin=function(b){var C=x._link;return C?(C.href=b,C.href=C.href,C.protocol+C.hostname+C.port):"about:blank"},x.isSameOrigin=function(b){return x.getOrigin(b)===x._origin},x.setContext=function(b){x._link=b.document.createElement("a"),x._origin=x.getOrigin(b.location.href)},x._origin="about:blank",x}(),O2=function(){function x(b,C){this.context=b,this._options=C,this._cache={}}return x.prototype.addImage=function(b){var C=Promise.resolve();return this.has(b)||(Ix(b)||k2(b))&&(this._cache[b]=this.loadImage(b)).catch(function(){}),C},x.prototype.match=function(b){return this._cache[b]},x.prototype.loadImage=function(b){return i(this,void 0,void 0,function(){var C,w,O,M,H=this;return r(this,function(X){switch(X.label){case 0:return C=tT.isSameOrigin(b),w=!Lx(b)&&this._options.useCORS===!0&&la.SUPPORT_CORS_IMAGES&&!C,O=!Lx(b)&&!C&&!Ix(b)&&typeof this._options.proxy=="string"&&la.SUPPORT_CORS_XHR&&!w,!C&&this._options.allowTaint===!1&&!Lx(b)&&!Ix(b)&&!O&&!w?[2]:(M=b,O?[4,this.proxy(M)]:[3,2]);case 1:M=X.sent(),X.label=2;case 2:return this.context.logger.debug("Added image "+b.substring(0,256)),[4,new Promise(function(W,ae){var le=new Image;le.onload=function(){return W(le)},le.onerror=ae,(M2(M)||w)&&(le.crossOrigin="anonymous"),le.src=M,le.complete===!0&&setTimeout(function(){return W(le)},500),H._options.imageTimeout>0&&setTimeout(function(){return ae("Timed out ("+H._options.imageTimeout+"ms) loading image")},H._options.imageTimeout)})];case 3:return[2,X.sent()]}})})},x.prototype.has=function(b){return typeof this._cache[b]<"u"},x.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},x.prototype.proxy=function(b){var C=this,w=this._options.proxy;if(!w)throw new Error("No proxy defined");var O=b.substring(0,256);return new Promise(function(M,H){var X=la.SUPPORT_RESPONSE_TYPE?"blob":"text",W=new XMLHttpRequest;W.onload=function(){if(W.status===200)if(X==="text")M(W.response);else{var pe=new FileReader;pe.addEventListener("load",function(){return M(pe.result)},!1),pe.addEventListener("error",function(Se){return H(Se)},!1),pe.readAsDataURL(W.response)}else H("Failed to proxy resource "+O+" with status code "+W.status)},W.onerror=H;var ae=w.indexOf("?")>-1?"&":"?";if(W.open("GET",""+w+ae+"url="+encodeURIComponent(b)+"&responseType="+X),X!=="text"&&W instanceof XMLHttpRequest&&(W.responseType=X),C._options.imageTimeout){var le=C._options.imageTimeout;W.timeout=le,W.ontimeout=function(){return H("Timed out ("+le+"ms) proxying "+O)}}W.send()})},x}(),L2=/^data:image\/svg\+xml/i,I2=/^data:image\/.*;base64,/i,$2=/^data:image\/.*/i,k2=function(x){return la.SUPPORT_SVG_DRAWING||!E2(x)},Lx=function(x){return $2.test(x)},M2=function(x){return I2.test(x)},Ix=function(x){return x.substr(0,4)==="blob"},E2=function(x){return x.substr(-3).toLowerCase()==="svg"||L2.test(x)},ot=function(){function x(b,C){this.type=0,this.x=b,this.y=C}return x.prototype.add=function(b,C){return new x(this.x+b,this.y+C)},x}(),rA=function(x,b,C){return new ot(x.x+(b.x-x.x)*C,x.y+(b.y-x.y)*C)},uy=function(){function x(b,C,w,O){this.type=1,this.start=b,this.startControl=C,this.endControl=w,this.end=O}return x.prototype.subdivide=function(b,C){var w=rA(this.start,this.startControl,b),O=rA(this.startControl,this.endControl,b),M=rA(this.endControl,this.end,b),H=rA(w,O,b),X=rA(O,M,b),W=rA(H,X,b);return C?new x(this.start,w,H,W):new x(W,X,M,this.end)},x.prototype.add=function(b,C){return new x(this.start.add(b,C),this.startControl.add(b,C),this.endControl.add(b,C),this.end.add(b,C))},x.prototype.reverse=function(){return new x(this.end,this.endControl,this.startControl,this.start)},x}(),to=function(x){return x.type===1},R2=function(){function x(b){var C=b.styles,w=b.bounds,O=ap(C.borderTopLeftRadius,w.width,w.height),M=O[0],H=O[1],X=ap(C.borderTopRightRadius,w.width,w.height),W=X[0],ae=X[1],le=ap(C.borderBottomRightRadius,w.width,w.height),pe=le[0],Se=le[1],At=ap(C.borderBottomLeftRadius,w.width,w.height),Ve=At[0],st=At[1],ui=[];ui.push((M+W)/w.width),ui.push((Ve+pe)/w.width),ui.push((H+st)/w.height),ui.push((ae+Se)/w.height);var Bt=Math.max.apply(Math,ui);Bt>1&&(M/=Bt,H/=Bt,W/=Bt,ae/=Bt,pe/=Bt,Se/=Bt,Ve/=Bt,st/=Bt);var vt=w.width-W,er=w.height-Se,mi=w.width-pe,jt=w.height-st,ut=C.borderTopWidth,Vi=C.borderRightWidth,Ui=C.borderBottomWidth,zt=C.borderLeftWidth,Bs=Ir(C.paddingTop,b.bounds.width),an=Ir(C.paddingRight,b.bounds.width),kn=Ir(C.paddingBottom,b.bounds.width),mr=Ir(C.paddingLeft,b.bounds.width);this.topLeftBorderDoubleOuterBox=M>0||H>0?Qr(w.left+zt/3,w.top+ut/3,M-zt/3,H-ut/3,lr.TOP_LEFT):new ot(w.left+zt/3,w.top+ut/3),this.topRightBorderDoubleOuterBox=M>0||H>0?Qr(w.left+vt,w.top+ut/3,W-Vi/3,ae-ut/3,lr.TOP_RIGHT):new ot(w.left+w.width-Vi/3,w.top+ut/3),this.bottomRightBorderDoubleOuterBox=pe>0||Se>0?Qr(w.left+mi,w.top+er,pe-Vi/3,Se-Ui/3,lr.BOTTOM_RIGHT):new ot(w.left+w.width-Vi/3,w.top+w.height-Ui/3),this.bottomLeftBorderDoubleOuterBox=Ve>0||st>0?Qr(w.left+zt/3,w.top+jt,Ve-zt/3,st-Ui/3,lr.BOTTOM_LEFT):new ot(w.left+zt/3,w.top+w.height-Ui/3),this.topLeftBorderDoubleInnerBox=M>0||H>0?Qr(w.left+zt*2/3,w.top+ut*2/3,M-zt*2/3,H-ut*2/3,lr.TOP_LEFT):new ot(w.left+zt*2/3,w.top+ut*2/3),this.topRightBorderDoubleInnerBox=M>0||H>0?Qr(w.left+vt,w.top+ut*2/3,W-Vi*2/3,ae-ut*2/3,lr.TOP_RIGHT):new ot(w.left+w.width-Vi*2/3,w.top+ut*2/3),this.bottomRightBorderDoubleInnerBox=pe>0||Se>0?Qr(w.left+mi,w.top+er,pe-Vi*2/3,Se-Ui*2/3,lr.BOTTOM_RIGHT):new ot(w.left+w.width-Vi*2/3,w.top+w.height-Ui*2/3),this.bottomLeftBorderDoubleInnerBox=Ve>0||st>0?Qr(w.left+zt*2/3,w.top+jt,Ve-zt*2/3,st-Ui*2/3,lr.BOTTOM_LEFT):new ot(w.left+zt*2/3,w.top+w.height-Ui*2/3),this.topLeftBorderStroke=M>0||H>0?Qr(w.left+zt/2,w.top+ut/2,M-zt/2,H-ut/2,lr.TOP_LEFT):new ot(w.left+zt/2,w.top+ut/2),this.topRightBorderStroke=M>0||H>0?Qr(w.left+vt,w.top+ut/2,W-Vi/2,ae-ut/2,lr.TOP_RIGHT):new ot(w.left+w.width-Vi/2,w.top+ut/2),this.bottomRightBorderStroke=pe>0||Se>0?Qr(w.left+mi,w.top+er,pe-Vi/2,Se-Ui/2,lr.BOTTOM_RIGHT):new ot(w.left+w.width-Vi/2,w.top+w.height-Ui/2),this.bottomLeftBorderStroke=Ve>0||st>0?Qr(w.left+zt/2,w.top+jt,Ve-zt/2,st-Ui/2,lr.BOTTOM_LEFT):new ot(w.left+zt/2,w.top+w.height-Ui/2),this.topLeftBorderBox=M>0||H>0?Qr(w.left,w.top,M,H,lr.TOP_LEFT):new ot(w.left,w.top),this.topRightBorderBox=W>0||ae>0?Qr(w.left+vt,w.top,W,ae,lr.TOP_RIGHT):new ot(w.left+w.width,w.top),this.bottomRightBorderBox=pe>0||Se>0?Qr(w.left+mi,w.top+er,pe,Se,lr.BOTTOM_RIGHT):new ot(w.left+w.width,w.top+w.height),this.bottomLeftBorderBox=Ve>0||st>0?Qr(w.left,w.top+jt,Ve,st,lr.BOTTOM_LEFT):new ot(w.left,w.top+w.height),this.topLeftPaddingBox=M>0||H>0?Qr(w.left+zt,w.top+ut,Math.max(0,M-zt),Math.max(0,H-ut),lr.TOP_LEFT):new ot(w.left+zt,w.top+ut),this.topRightPaddingBox=W>0||ae>0?Qr(w.left+Math.min(vt,w.width-Vi),w.top+ut,vt>w.width+Vi?0:Math.max(0,W-Vi),Math.max(0,ae-ut),lr.TOP_RIGHT):new ot(w.left+w.width-Vi,w.top+ut),this.bottomRightPaddingBox=pe>0||Se>0?Qr(w.left+Math.min(mi,w.width-zt),w.top+Math.min(er,w.height-Ui),Math.max(0,pe-Vi),Math.max(0,Se-Ui),lr.BOTTOM_RIGHT):new ot(w.left+w.width-Vi,w.top+w.height-Ui),this.bottomLeftPaddingBox=Ve>0||st>0?Qr(w.left+zt,w.top+Math.min(jt,w.height-Ui),Math.max(0,Ve-zt),Math.max(0,st-Ui),lr.BOTTOM_LEFT):new ot(w.left+zt,w.top+w.height-Ui),this.topLeftContentBox=M>0||H>0?Qr(w.left+zt+mr,w.top+ut+Bs,Math.max(0,M-(zt+mr)),Math.max(0,H-(ut+Bs)),lr.TOP_LEFT):new ot(w.left+zt+mr,w.top+ut+Bs),this.topRightContentBox=W>0||ae>0?Qr(w.left+Math.min(vt,w.width+zt+mr),w.top+ut+Bs,vt>w.width+zt+mr?0:W-zt+mr,ae-(ut+Bs),lr.TOP_RIGHT):new ot(w.left+w.width-(Vi+an),w.top+ut+Bs),this.bottomRightContentBox=pe>0||Se>0?Qr(w.left+Math.min(mi,w.width-(zt+mr)),w.top+Math.min(er,w.height+ut+Bs),Math.max(0,pe-(Vi+an)),Se-(Ui+kn),lr.BOTTOM_RIGHT):new ot(w.left+w.width-(Vi+an),w.top+w.height-(Ui+kn)),this.bottomLeftContentBox=Ve>0||st>0?Qr(w.left+zt+mr,w.top+jt,Math.max(0,Ve-(zt+mr)),st-(Ui+kn),lr.BOTTOM_LEFT):new ot(w.left+zt+mr,w.top+w.height-(Ui+kn))}return x}(),lr;(function(x){x[x.TOP_LEFT=0]="TOP_LEFT",x[x.TOP_RIGHT=1]="TOP_RIGHT",x[x.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",x[x.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(lr||(lr={}));var Qr=function(x,b,C,w,O){var M=4*((Math.sqrt(2)-1)/3),H=C*M,X=w*M,W=x+C,ae=b+w;switch(O){case lr.TOP_LEFT:return new uy(new ot(x,ae),new ot(x,ae-X),new ot(W-H,b),new ot(W,b));case lr.TOP_RIGHT:return new uy(new ot(x,b),new ot(x+H,b),new ot(W,ae-X),new ot(W,ae));case lr.BOTTOM_RIGHT:return new uy(new ot(W,b),new ot(W,b+X),new ot(x+H,ae),new ot(x,ae));case lr.BOTTOM_LEFT:default:return new uy(new ot(W,ae),new ot(W-H,ae),new ot(x,b+X),new ot(x,b))}},hy=function(x){return[x.topLeftBorderBox,x.topRightBorderBox,x.bottomRightBorderBox,x.bottomLeftBorderBox]},N2=function(x){return[x.topLeftContentBox,x.topRightContentBox,x.bottomRightContentBox,x.bottomLeftContentBox]},cy=function(x){return[x.topLeftPaddingBox,x.topRightPaddingBox,x.bottomRightPaddingBox,x.bottomLeftPaddingBox]},V2=function(){function x(b,C,w){this.offsetX=b,this.offsetY=C,this.matrix=w,this.type=0,this.target=6}return x}(),dy=function(){function x(b,C){this.path=b,this.target=C,this.type=1}return x}(),U2=function(){function x(b){this.opacity=b,this.type=2,this.target=6}return x}(),Q2=function(x){return x.type===0},iT=function(x){return x.type===1},H2=function(x){return x.type===2},rT=function(x,b){return x.length===b.length?x.some(function(C,w){return C===b[w]}):!1},j2=function(x,b,C,w,O){return x.map(function(M,H){switch(H){case 0:return M.add(b,C);case 1:return M.add(b+w,C);case 2:return M.add(b+w,C+O);case 3:return M.add(b,C+O)}return M})},sT=function(){function x(b){this.element=b,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return x}(),aT=function(){function x(b,C){if(this.container=b,this.parent=C,this.effects=[],this.curves=new R2(this.container),this.container.styles.opacity<1&&this.effects.push(new U2(this.container.styles.opacity)),this.container.styles.transform!==null){var w=this.container.bounds.left+this.container.styles.transformOrigin[0].number,O=this.container.bounds.top+this.container.styles.transformOrigin[1].number,M=this.container.styles.transform;this.effects.push(new V2(w,O,M))}if(this.container.styles.overflowX!==0){var H=hy(this.curves),X=cy(this.curves);rT(H,X)?this.effects.push(new dy(H,6)):(this.effects.push(new dy(H,2)),this.effects.push(new dy(X,4)))}}return x.prototype.getEffects=function(b){for(var C=[2,3].indexOf(this.container.styles.position)===-1,w=this.parent,O=this.effects.slice(0);w;){var M=w.effects.filter(function(W){return!iT(W)});if(C||w.container.styles.position!==0||!w.parent){if(O.unshift.apply(O,M),C=[2,3].indexOf(w.container.styles.position)===-1,w.container.styles.overflowX!==0){var H=hy(w.curves),X=cy(w.curves);rT(H,X)||O.unshift(new dy(X,6))}}else O.unshift.apply(O,M);w=w.parent}return O.filter(function(W){return Es(W.target,b)})},x}(),$x=function(x,b,C,w){x.container.elements.forEach(function(O){var M=Es(O.flags,4),H=Es(O.flags,2),X=new aT(O,x);Es(O.styles.display,2048)&&w.push(X);var W=Es(O.flags,8)?[]:w;if(M||H){var ae=M||O.styles.isPositioned()?C:b,le=new sT(X);if(O.styles.isPositioned()||O.styles.opacity<1||O.styles.isTransformed()){var pe=O.styles.zIndex.order;if(pe<0){var Se=0;ae.negativeZIndex.some(function(Ve,st){return pe>Ve.element.container.styles.zIndex.order?(Se=st,!1):Se>0}),ae.negativeZIndex.splice(Se,0,le)}else if(pe>0){var At=0;ae.positiveZIndex.some(function(Ve,st){return pe>=Ve.element.container.styles.zIndex.order?(At=st+1,!1):At>0}),ae.positiveZIndex.splice(At,0,le)}else ae.zeroOrAutoZIndexOrTransformedOrOpacity.push(le)}else O.styles.isFloating()?ae.nonPositionedFloats.push(le):ae.nonPositionedInlineLevel.push(le);$x(X,le,M?le:C,W)}else O.styles.isInlineLevel()?b.inlineLevel.push(X):b.nonInlineLevel.push(X),$x(X,b,C,W);Es(O.flags,8)&&nT(O,W)})},nT=function(x,b){for(var C=x instanceof Cx?x.start:1,w=x instanceof Cx?x.reversed:!1,O=0;O<b.length;O++){var M=b[O];M.container instanceof OP&&typeof M.container.value=="number"&&M.container.value!==0&&(C=M.container.value),M.listValue=cp(C,M.container.styles.listStyleType,!0),C+=w?-1:1}},W2=function(x){var b=new aT(x,null),C=new sT(b),w=[];return $x(b,C,C,w),nT(b.container,w),C},oT=function(x,b){switch(b){case 0:return io(x.topLeftBorderBox,x.topLeftPaddingBox,x.topRightBorderBox,x.topRightPaddingBox);case 1:return io(x.topRightBorderBox,x.topRightPaddingBox,x.bottomRightBorderBox,x.bottomRightPaddingBox);case 2:return io(x.bottomRightBorderBox,x.bottomRightPaddingBox,x.bottomLeftBorderBox,x.bottomLeftPaddingBox);case 3:default:return io(x.bottomLeftBorderBox,x.bottomLeftPaddingBox,x.topLeftBorderBox,x.topLeftPaddingBox)}},X2=function(x,b){switch(b){case 0:return io(x.topLeftBorderBox,x.topLeftBorderDoubleOuterBox,x.topRightBorderBox,x.topRightBorderDoubleOuterBox);case 1:return io(x.topRightBorderBox,x.topRightBorderDoubleOuterBox,x.bottomRightBorderBox,x.bottomRightBorderDoubleOuterBox);case 2:return io(x.bottomRightBorderBox,x.bottomRightBorderDoubleOuterBox,x.bottomLeftBorderBox,x.bottomLeftBorderDoubleOuterBox);case 3:default:return io(x.bottomLeftBorderBox,x.bottomLeftBorderDoubleOuterBox,x.topLeftBorderBox,x.topLeftBorderDoubleOuterBox)}},z2=function(x,b){switch(b){case 0:return io(x.topLeftBorderDoubleInnerBox,x.topLeftPaddingBox,x.topRightBorderDoubleInnerBox,x.topRightPaddingBox);case 1:return io(x.topRightBorderDoubleInnerBox,x.topRightPaddingBox,x.bottomRightBorderDoubleInnerBox,x.bottomRightPaddingBox);case 2:return io(x.bottomRightBorderDoubleInnerBox,x.bottomRightPaddingBox,x.bottomLeftBorderDoubleInnerBox,x.bottomLeftPaddingBox);case 3:default:return io(x.bottomLeftBorderDoubleInnerBox,x.bottomLeftPaddingBox,x.topLeftBorderDoubleInnerBox,x.topLeftPaddingBox)}},G2=function(x,b){switch(b){case 0:return Ay(x.topLeftBorderStroke,x.topRightBorderStroke);case 1:return Ay(x.topRightBorderStroke,x.bottomRightBorderStroke);case 2:return Ay(x.bottomRightBorderStroke,x.bottomLeftBorderStroke);case 3:default:return Ay(x.bottomLeftBorderStroke,x.topLeftBorderStroke)}},Ay=function(x,b){var C=[];return to(x)?C.push(x.subdivide(.5,!1)):C.push(x),to(b)?C.push(b.subdivide(.5,!0)):C.push(b),C},io=function(x,b,C,w){var O=[];return to(x)?O.push(x.subdivide(.5,!1)):O.push(x),to(C)?O.push(C.subdivide(.5,!0)):O.push(C),to(w)?O.push(w.subdivide(.5,!0).reverse()):O.push(w),to(b)?O.push(b.subdivide(.5,!1).reverse()):O.push(b),O},lT=function(x){var b=x.bounds,C=x.styles;return b.add(C.borderLeftWidth,C.borderTopWidth,-(C.borderRightWidth+C.borderLeftWidth),-(C.borderTopWidth+C.borderBottomWidth))},fy=function(x){var b=x.styles,C=x.bounds,w=Ir(b.paddingLeft,C.width),O=Ir(b.paddingRight,C.width),M=Ir(b.paddingTop,C.width),H=Ir(b.paddingBottom,C.width);return C.add(w+b.borderLeftWidth,M+b.borderTopWidth,-(b.borderRightWidth+b.borderLeftWidth+w+O),-(b.borderTopWidth+b.borderBottomWidth+M+H))},Y2=function(x,b){return x===0?b.bounds:x===2?fy(b):lT(b)},K2=function(x,b){return x===0?b.bounds:x===2?fy(b):lT(b)},kx=function(x,b,C){var w=Y2(aA(x.styles.backgroundOrigin,b),x),O=K2(aA(x.styles.backgroundClip,b),x),M=q2(aA(x.styles.backgroundSize,b),C,w),H=M[0],X=M[1],W=ap(aA(x.styles.backgroundPosition,b),w.width-H,w.height-X),ae=Z2(aA(x.styles.backgroundRepeat,b),W,M,w,O),le=Math.round(w.left+W[0]),pe=Math.round(w.top+W[1]);return[ae,le,pe,H,X]},sA=function(x){return pr(x)&&x.value===Jd.AUTO},py=function(x){return typeof x=="number"},q2=function(x,b,C){var w=b[0],O=b[1],M=b[2],H=x[0],X=x[1];if(!H)return[0,0];if(Ss(H)&&X&&Ss(X))return[Ir(H,C.width),Ir(X,C.height)];var W=py(M);if(pr(H)&&(H.value===Jd.CONTAIN||H.value===Jd.COVER)){if(py(M)){var ae=C.width/C.height;return ae<M!=(H.value===Jd.COVER)?[C.width,C.width/M]:[C.height*M,C.height]}return[C.width,C.height]}var le=py(w),pe=py(O),Se=le||pe;if(sA(H)&&(!X||sA(X))){if(le&&pe)return[w,O];if(!W&&!Se)return[C.width,C.height];if(Se&&W){var At=le?w:O*M,Ve=pe?O:w/M;return[At,Ve]}var st=le?w:C.width,ui=pe?O:C.height;return[st,ui]}if(W){var Bt=0,vt=0;return Ss(H)?Bt=Ir(H,C.width):Ss(X)&&(vt=Ir(X,C.height)),sA(H)?Bt=vt*M:(!X||sA(X))&&(vt=Bt/M),[Bt,vt]}var er=null,mi=null;if(Ss(H)?er=Ir(H,C.width):X&&Ss(X)&&(mi=Ir(X,C.height)),er!==null&&(!X||sA(X))&&(mi=le&&pe?er/w*O:C.height),mi!==null&&sA(H)&&(er=le&&pe?mi/O*w:C.width),er!==null&&mi!==null)return[er,mi];throw new Error("Unable to calculate background-size for element")},aA=function(x,b){var C=x[b];return typeof C>"u"?x[0]:C},Z2=function(x,b,C,w,O){var M=b[0],H=b[1],X=C[0],W=C[1];switch(x){case 2:return[new ot(Math.round(w.left),Math.round(w.top+H)),new ot(Math.round(w.left+w.width),Math.round(w.top+H)),new ot(Math.round(w.left+w.width),Math.round(W+w.top+H)),new ot(Math.round(w.left),Math.round(W+w.top+H))];case 3:return[new ot(Math.round(w.left+M),Math.round(w.top)),new ot(Math.round(w.left+M+X),Math.round(w.top)),new ot(Math.round(w.left+M+X),Math.round(w.height+w.top)),new ot(Math.round(w.left+M),Math.round(w.height+w.top))];case 1:return[new ot(Math.round(w.left+M),Math.round(w.top+H)),new ot(Math.round(w.left+M+X),Math.round(w.top+H)),new ot(Math.round(w.left+M+X),Math.round(w.top+H+W)),new ot(Math.round(w.left+M),Math.round(w.top+H+W))];default:return[new ot(Math.round(O.left),Math.round(O.top)),new ot(Math.round(O.left+O.width),Math.round(O.top)),new ot(Math.round(O.left+O.width),Math.round(O.height+O.top)),new ot(Math.round(O.left),Math.round(O.height+O.top))]}},J2="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",uT="Hidden Text",eQ=function(){function x(b){this._data={},this._document=b}return x.prototype.parseMetrics=function(b,C){var w=this._document.createElement("div"),O=this._document.createElement("img"),M=this._document.createElement("span"),H=this._document.body;w.style.visibility="hidden",w.style.fontFamily=b,w.style.fontSize=C,w.style.margin="0",w.style.padding="0",w.style.whiteSpace="nowrap",H.appendChild(w),O.src=J2,O.width=1,O.height=1,O.style.margin="0",O.style.padding="0",O.style.verticalAlign="baseline",M.style.fontFamily=b,M.style.fontSize=C,M.style.margin="0",M.style.padding="0",M.appendChild(this._document.createTextNode(uT)),w.appendChild(M),w.appendChild(O);var X=O.offsetTop-M.offsetTop+2;w.removeChild(M),w.appendChild(this._document.createTextNode(uT)),w.style.lineHeight="normal",O.style.verticalAlign="super";var W=O.offsetTop-w.offsetTop+2;return H.removeChild(w),{baseline:X,middle:W}},x.prototype.getMetrics=function(b,C){var w=b+" "+C;return typeof this._data[w]>"u"&&(this._data[w]=this.parseMetrics(b,C)),this._data[w]},x}(),hT=function(){function x(b,C){this.context=b,this.options=C}return x}(),tQ=1e4,iQ=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this;return O._activeEffects=[],O.canvas=w.canvas?w.canvas:document.createElement("canvas"),O.ctx=O.canvas.getContext("2d"),w.canvas||(O.canvas.width=Math.floor(w.width*w.scale),O.canvas.height=Math.floor(w.height*w.scale),O.canvas.style.width=w.width+"px",O.canvas.style.height=w.height+"px"),O.fontMetrics=new eQ(document),O.ctx.scale(O.options.scale,O.options.scale),O.ctx.translate(-w.x,-w.y),O.ctx.textBaseline="bottom",O._activeEffects=[],O.context.logger.debug("Canvas renderer initialized ("+w.width+"x"+w.height+") with scale "+w.scale),O}return b.prototype.applyEffects=function(C){for(var w=this;this._activeEffects.length;)this.popEffect();C.forEach(function(O){return w.applyEffect(O)})},b.prototype.applyEffect=function(C){this.ctx.save(),H2(C)&&(this.ctx.globalAlpha=C.opacity),Q2(C)&&(this.ctx.translate(C.offsetX,C.offsetY),this.ctx.transform(C.matrix[0],C.matrix[1],C.matrix[2],C.matrix[3],C.matrix[4],C.matrix[5]),this.ctx.translate(-C.offsetX,-C.offsetY)),iT(C)&&(this.path(C.path),this.ctx.clip()),this._activeEffects.push(C)},b.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},b.prototype.renderStack=function(C){return i(this,void 0,void 0,function(){var w;return r(this,function(O){switch(O.label){case 0:return w=C.element.container.styles,w.isVisible()?[4,this.renderStackContent(C)]:[3,2];case 1:O.sent(),O.label=2;case 2:return[2]}})})},b.prototype.renderNode=function(C){return i(this,void 0,void 0,function(){return r(this,function(w){switch(w.label){case 0:if(Es(C.container.flags,16))debugger;return C.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(C)]:[3,3];case 1:return w.sent(),[4,this.renderNodeContent(C)];case 2:w.sent(),w.label=3;case 3:return[2]}})})},b.prototype.renderTextWithLetterSpacing=function(C,w,O){var M=this;if(w===0)this.ctx.fillText(C.text,C.bounds.left,C.bounds.top+O);else{var H=wx(C.text);H.reduce(function(X,W){return M.ctx.fillText(W,X,C.bounds.top+O),X+M.ctx.measureText(W).width},C.bounds.left)}},b.prototype.createFontStyle=function(C){var w=C.fontVariant.filter(function(H){return H==="normal"||H==="small-caps"}).join(""),O=oQ(C.fontFamily).join(", "),M=sp(C.fontSize)?""+C.fontSize.number+C.fontSize.unit:C.fontSize.number+"px";return[[C.fontStyle,w,C.fontWeight,M,O].join(" "),O,M]},b.prototype.renderTextNode=function(C,w){return i(this,void 0,void 0,function(){var O,M,H,X,W,ae,le,pe,Se=this;return r(this,function(At){return O=this.createFontStyle(w),M=O[0],H=O[1],X=O[2],this.ctx.font=M,this.ctx.direction=w.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",W=this.fontMetrics.getMetrics(H,X),ae=W.baseline,le=W.middle,pe=w.paintOrder,C.textBounds.forEach(function(Ve){pe.forEach(function(st){switch(st){case 0:Se.ctx.fillStyle=qs(w.color),Se.renderTextWithLetterSpacing(Ve,w.letterSpacing,ae);var ui=w.textShadow;ui.length&&Ve.text.trim().length&&(ui.slice(0).reverse().forEach(function(Bt){Se.ctx.shadowColor=qs(Bt.color),Se.ctx.shadowOffsetX=Bt.offsetX.number*Se.options.scale,Se.ctx.shadowOffsetY=Bt.offsetY.number*Se.options.scale,Se.ctx.shadowBlur=Bt.blur.number,Se.renderTextWithLetterSpacing(Ve,w.letterSpacing,ae)}),Se.ctx.shadowColor="",Se.ctx.shadowOffsetX=0,Se.ctx.shadowOffsetY=0,Se.ctx.shadowBlur=0),w.textDecorationLine.length&&(Se.ctx.fillStyle=qs(w.textDecorationColor||w.color),w.textDecorationLine.forEach(function(Bt){switch(Bt){case 1:Se.ctx.fillRect(Ve.bounds.left,Math.round(Ve.bounds.top+ae),Ve.bounds.width,1);break;case 2:Se.ctx.fillRect(Ve.bounds.left,Math.round(Ve.bounds.top),Ve.bounds.width,1);break;case 3:Se.ctx.fillRect(Ve.bounds.left,Math.ceil(Ve.bounds.top+le),Ve.bounds.width,1);break}}));break;case 1:w.webkitTextStrokeWidth&&Ve.text.trim().length&&(Se.ctx.strokeStyle=qs(w.webkitTextStrokeColor),Se.ctx.lineWidth=w.webkitTextStrokeWidth,Se.ctx.lineJoin=window.chrome?"miter":"round",Se.ctx.strokeText(Ve.text,Ve.bounds.left,Ve.bounds.top+ae)),Se.ctx.strokeStyle="",Se.ctx.lineWidth=0,Se.ctx.lineJoin="miter";break}})}),[2]})})},b.prototype.renderReplacedElement=function(C,w,O){if(O&&C.intrinsicWidth>0&&C.intrinsicHeight>0){var M=fy(C),H=cy(w);this.path(H),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(O,0,0,C.intrinsicWidth,C.intrinsicHeight,M.left,M.top,M.width,M.height),this.ctx.restore()}},b.prototype.renderNodeContent=function(C){return i(this,void 0,void 0,function(){var w,O,M,H,X,W,vt,vt,ae,le,pe,Se,mi,At,Ve,jt,st,ui,Bt,vt,er,mi,jt;return r(this,function(ut){switch(ut.label){case 0:this.applyEffects(C.getEffects(4)),w=C.container,O=C.curves,M=w.styles,H=0,X=w.textNodes,ut.label=1;case 1:return H<X.length?(W=X[H],[4,this.renderTextNode(W,M)]):[3,4];case 2:ut.sent(),ut.label=3;case 3:return H++,[3,1];case 4:if(!(w instanceof PP))return[3,8];ut.label=5;case 5:return ut.trys.push([5,7,,8]),[4,this.context.cache.match(w.src)];case 6:return vt=ut.sent(),this.renderReplacedElement(w,O,vt),[3,8];case 7:return ut.sent(),this.context.logger.error("Error loading image "+w.src),[3,8];case 8:if(w instanceof TP&&this.renderReplacedElement(w,O,w.canvas),!(w instanceof DP))return[3,12];ut.label=9;case 9:return ut.trys.push([9,11,,12]),[4,this.context.cache.match(w.svg)];case 10:return vt=ut.sent(),this.renderReplacedElement(w,O,vt),[3,12];case 11:return ut.sent(),this.context.logger.error("Error loading svg "+w.svg.substring(0,255)),[3,12];case 12:return w instanceof kP&&w.tree?(ae=new b(this.context,{scale:this.options.scale,backgroundColor:w.backgroundColor,x:0,y:0,width:w.width,height:w.height}),[4,ae.render(w.tree)]):[3,14];case 13:le=ut.sent(),w.width&&w.height&&this.ctx.drawImage(le,0,0,w.width,w.height,w.bounds.left,w.bounds.top,w.bounds.width,w.bounds.height),ut.label=14;case 14:if(w instanceof _x&&(pe=Math.min(w.bounds.width,w.bounds.height),w.type===ry?w.checked&&(this.ctx.save(),this.path([new ot(w.bounds.left+pe*.39363,w.bounds.top+pe*.79),new ot(w.bounds.left+pe*.16,w.bounds.top+pe*.5549),new ot(w.bounds.left+pe*.27347,w.bounds.top+pe*.44071),new ot(w.bounds.left+pe*.39694,w.bounds.top+pe*.5649),new ot(w.bounds.left+pe*.72983,w.bounds.top+pe*.23),new ot(w.bounds.left+pe*.84,w.bounds.top+pe*.34085),new ot(w.bounds.left+pe*.39363,w.bounds.top+pe*.79)]),this.ctx.fillStyle=qs(LP),this.ctx.fill(),this.ctx.restore()):w.type===sy&&w.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(w.bounds.left+pe/2,w.bounds.top+pe/2,pe/4,0,Math.PI*2,!0),this.ctx.fillStyle=qs(LP),this.ctx.fill(),this.ctx.restore())),rQ(w)&&w.value.length){switch(Se=this.createFontStyle(M),mi=Se[0],At=Se[1],Ve=this.fontMetrics.getMetrics(mi,At).baseline,this.ctx.font=mi,this.ctx.fillStyle=qs(M.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=aQ(w.styles.textAlign),jt=fy(w),st=0,w.styles.textAlign){case 1:st+=jt.width/2;break;case 2:st+=jt.width;break}ui=jt.add(st,0,0,-jt.height/2+1),this.ctx.save(),this.path([new ot(jt.left,jt.top),new ot(jt.left+jt.width,jt.top),new ot(jt.left+jt.width,jt.top+jt.height),new ot(jt.left,jt.top+jt.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new up(w.value,ui),M.letterSpacing,Ve),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Es(w.styles.display,2048))return[3,20];if(w.styles.listStyleImage===null)return[3,19];if(Bt=w.styles.listStyleImage,Bt.type!==0)return[3,18];vt=void 0,er=Bt.url,ut.label=15;case 15:return ut.trys.push([15,17,,18]),[4,this.context.cache.match(er)];case 16:return vt=ut.sent(),this.ctx.drawImage(vt,w.bounds.left-(vt.width+10),w.bounds.top),[3,18];case 17:return ut.sent(),this.context.logger.error("Error loading list-style-image "+er),[3,18];case 18:return[3,20];case 19:C.listValue&&w.styles.listStyleType!==-1&&(mi=this.createFontStyle(M)[0],this.ctx.font=mi,this.ctx.fillStyle=qs(M.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",jt=new n(w.bounds.left,w.bounds.top+Ir(w.styles.paddingTop,w.bounds.width),w.bounds.width,uP(M.lineHeight,M.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new up(C.listValue,jt),M.letterSpacing,uP(M.lineHeight,M.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),ut.label=20;case 20:return[2]}})})},b.prototype.renderStackContent=function(C){return i(this,void 0,void 0,function(){var w,O,Bt,M,H,Bt,X,W,Bt,ae,le,Bt,pe,Se,Bt,At,Ve,Bt,st,ui,Bt;return r(this,function(vt){switch(vt.label){case 0:if(Es(C.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:vt.sent(),w=0,O=C.negativeZIndex,vt.label=2;case 2:return w<O.length?(Bt=O[w],[4,this.renderStack(Bt)]):[3,5];case 3:vt.sent(),vt.label=4;case 4:return w++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:vt.sent(),M=0,H=C.nonInlineLevel,vt.label=7;case 7:return M<H.length?(Bt=H[M],[4,this.renderNode(Bt)]):[3,10];case 8:vt.sent(),vt.label=9;case 9:return M++,[3,7];case 10:X=0,W=C.nonPositionedFloats,vt.label=11;case 11:return X<W.length?(Bt=W[X],[4,this.renderStack(Bt)]):[3,14];case 12:vt.sent(),vt.label=13;case 13:return X++,[3,11];case 14:ae=0,le=C.nonPositionedInlineLevel,vt.label=15;case 15:return ae<le.length?(Bt=le[ae],[4,this.renderStack(Bt)]):[3,18];case 16:vt.sent(),vt.label=17;case 17:return ae++,[3,15];case 18:pe=0,Se=C.inlineLevel,vt.label=19;case 19:return pe<Se.length?(Bt=Se[pe],[4,this.renderNode(Bt)]):[3,22];case 20:vt.sent(),vt.label=21;case 21:return pe++,[3,19];case 22:At=0,Ve=C.zeroOrAutoZIndexOrTransformedOrOpacity,vt.label=23;case 23:return At<Ve.length?(Bt=Ve[At],[4,this.renderStack(Bt)]):[3,26];case 24:vt.sent(),vt.label=25;case 25:return At++,[3,23];case 26:st=0,ui=C.positiveZIndex,vt.label=27;case 27:return st<ui.length?(Bt=ui[st],[4,this.renderStack(Bt)]):[3,30];case 28:vt.sent(),vt.label=29;case 29:return st++,[3,27];case 30:return[2]}})})},b.prototype.mask=function(C){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(C.slice(0).reverse()),this.ctx.closePath()},b.prototype.path=function(C){this.ctx.beginPath(),this.formatPath(C),this.ctx.closePath()},b.prototype.formatPath=function(C){var w=this;C.forEach(function(O,M){var H=to(O)?O.start:O;M===0?w.ctx.moveTo(H.x,H.y):w.ctx.lineTo(H.x,H.y),to(O)&&w.ctx.bezierCurveTo(O.startControl.x,O.startControl.y,O.endControl.x,O.endControl.y,O.end.x,O.end.y)})},b.prototype.renderRepeat=function(C,w,O,M){this.path(C),this.ctx.fillStyle=w,this.ctx.translate(O,M),this.ctx.fill(),this.ctx.translate(-O,-M)},b.prototype.resizeImage=function(C,w,O){var M;if(C.width===w&&C.height===O)return C;var H=(M=this.canvas.ownerDocument)!==null&&M!==void 0?M:document,X=H.createElement("canvas");X.width=Math.max(1,w),X.height=Math.max(1,O);var W=X.getContext("2d");return W.drawImage(C,0,0,C.width,C.height,0,0,w,O),X},b.prototype.renderBackgroundImage=function(C){return i(this,void 0,void 0,function(){var w,O,M,H,X,W;return r(this,function(ae){switch(ae.label){case 0:w=C.styles.backgroundImage.length-1,O=function(le){var pe,Se,At,Bs,nn,on,mr,ua,Ui,Ve,Bs,nn,on,mr,ua,st,ui,Bt,vt,er,mi,jt,ut,Vi,Ui,zt,Bs,an,kn,mr,ua,rh,nn,on,Fc,gl,sh,Pc,Tc,lu,Dc,uu;return r(this,function(nA){switch(nA.label){case 0:if(le.type!==0)return[3,5];pe=void 0,Se=le.url,nA.label=1;case 1:return nA.trys.push([1,3,,4]),[4,M.context.cache.match(Se)];case 2:return pe=nA.sent(),[3,4];case 3:return nA.sent(),M.context.logger.error("Error loading background-image "+Se),[3,4];case 4:return pe&&(At=kx(C,w,[pe.width,pe.height,pe.width/pe.height]),Bs=At[0],nn=At[1],on=At[2],mr=At[3],ua=At[4],Ui=M.ctx.createPattern(M.resizeImage(pe,mr,ua),"repeat"),M.renderRepeat(Bs,Ui,nn,on)),[3,6];case 5:QN(le)?(Ve=kx(C,w,[null,null,null]),Bs=Ve[0],nn=Ve[1],on=Ve[2],mr=Ve[3],ua=Ve[4],st=EN(le.angle,mr,ua),ui=st[0],Bt=st[1],vt=st[2],er=st[3],mi=st[4],jt=document.createElement("canvas"),jt.width=mr,jt.height=ua,ut=jt.getContext("2d"),Vi=ut.createLinearGradient(Bt,er,vt,mi),ZF(le.stops,ui).forEach(function(Ap){return Vi.addColorStop(Ap.stop,qs(Ap.color))}),ut.fillStyle=Vi,ut.fillRect(0,0,mr,ua),mr>0&&ua>0&&(Ui=M.ctx.createPattern(jt,"repeat"),M.renderRepeat(Bs,Ui,nn,on))):HN(le)&&(zt=kx(C,w,[null,null,null]),Bs=zt[0],an=zt[1],kn=zt[2],mr=zt[3],ua=zt[4],rh=le.position.length===0?[ox]:le.position,nn=Ir(rh[0],mr),on=Ir(rh[rh.length-1],ua),Fc=RN(le,nn,on,mr,ua),gl=Fc[0],sh=Fc[1],gl>0&&sh>0&&(Pc=M.ctx.createRadialGradient(an+nn,kn+on,0,an+nn,kn+on,gl),ZF(le.stops,gl*2).forEach(function(Ap){return Pc.addColorStop(Ap.stop,qs(Ap.color))}),M.path(Bs),M.ctx.fillStyle=Pc,gl!==sh?(Tc=C.bounds.left+.5*C.bounds.width,lu=C.bounds.top+.5*C.bounds.height,Dc=sh/gl,uu=1/Dc,M.ctx.save(),M.ctx.translate(Tc,lu),M.ctx.transform(1,0,0,Dc,0,0),M.ctx.translate(-Tc,-lu),M.ctx.fillRect(an,uu*(kn-lu)+lu,mr,ua*uu),M.ctx.restore()):M.ctx.fill())),nA.label=6;case 6:return w--,[2]}})},M=this,H=0,X=C.styles.backgroundImage.slice(0).reverse(),ae.label=1;case 1:return H<X.length?(W=X[H],[5,O(W)]):[3,4];case 2:ae.sent(),ae.label=3;case 3:return H++,[3,1];case 4:return[2]}})})},b.prototype.renderSolidBorder=function(C,w,O){return i(this,void 0,void 0,function(){return r(this,function(M){return this.path(oT(O,w)),this.ctx.fillStyle=qs(C),this.ctx.fill(),[2]})})},b.prototype.renderDoubleBorder=function(C,w,O,M){return i(this,void 0,void 0,function(){var H,X;return r(this,function(W){switch(W.label){case 0:return w<3?[4,this.renderSolidBorder(C,O,M)]:[3,2];case 1:return W.sent(),[2];case 2:return H=X2(M,O),this.path(H),this.ctx.fillStyle=qs(C),this.ctx.fill(),X=z2(M,O),this.path(X),this.ctx.fill(),[2]}})})},b.prototype.renderNodeBackgroundAndBorders=function(C){return i(this,void 0,void 0,function(){var w,O,M,H,X,W,ae,le,pe=this;return r(this,function(Se){switch(Se.label){case 0:return this.applyEffects(C.getEffects(2)),w=C.container.styles,O=!Ju(w.backgroundColor)||w.backgroundImage.length,M=[{style:w.borderTopStyle,color:w.borderTopColor,width:w.borderTopWidth},{style:w.borderRightStyle,color:w.borderRightColor,width:w.borderRightWidth},{style:w.borderBottomStyle,color:w.borderBottomColor,width:w.borderBottomWidth},{style:w.borderLeftStyle,color:w.borderLeftColor,width:w.borderLeftWidth}],H=sQ(aA(w.backgroundClip,0),C.curves),O||w.boxShadow.length?(this.ctx.save(),this.path(H),this.ctx.clip(),Ju(w.backgroundColor)||(this.ctx.fillStyle=qs(w.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(C.container)]):[3,2];case 1:Se.sent(),this.ctx.restore(),w.boxShadow.slice(0).reverse().forEach(function(At){pe.ctx.save();var Ve=hy(C.curves),st=At.inset?0:tQ,ui=j2(Ve,-st+(At.inset?1:-1)*At.spread.number,(At.inset?1:-1)*At.spread.number,At.spread.number*(At.inset?-2:2),At.spread.number*(At.inset?-2:2));At.inset?(pe.path(Ve),pe.ctx.clip(),pe.mask(ui)):(pe.mask(Ve),pe.ctx.clip(),pe.path(ui)),pe.ctx.shadowOffsetX=At.offsetX.number+st,pe.ctx.shadowOffsetY=At.offsetY.number,pe.ctx.shadowColor=qs(At.color),pe.ctx.shadowBlur=At.blur.number,pe.ctx.fillStyle=At.inset?qs(At.color):"rgba(0,0,0,1)",pe.ctx.fill(),pe.ctx.restore()}),Se.label=2;case 2:X=0,W=0,ae=M,Se.label=3;case 3:return W<ae.length?(le=ae[W],le.style!==0&&!Ju(le.color)&&le.width>0?le.style!==2?[3,5]:[4,this.renderDashedDottedBorder(le.color,le.width,X,C.curves,2)]:[3,11]):[3,13];case 4:return Se.sent(),[3,11];case 5:return le.style!==3?[3,7]:[4,this.renderDashedDottedBorder(le.color,le.width,X,C.curves,3)];case 6:return Se.sent(),[3,11];case 7:return le.style!==4?[3,9]:[4,this.renderDoubleBorder(le.color,le.width,X,C.curves)];case 8:return Se.sent(),[3,11];case 9:return[4,this.renderSolidBorder(le.color,X,C.curves)];case 10:Se.sent(),Se.label=11;case 11:X++,Se.label=12;case 12:return W++,[3,3];case 13:return[2]}})})},b.prototype.renderDashedDottedBorder=function(C,w,O,M,H){return i(this,void 0,void 0,function(){var X,W,ae,le,pe,Se,At,Ve,st,ui,Bt,vt,er,mi,jt,ut,jt,ut;return r(this,function(Vi){return this.ctx.save(),X=G2(M,O),W=oT(M,O),H===2&&(this.path(W),this.ctx.clip()),to(W[0])?(ae=W[0].start.x,le=W[0].start.y):(ae=W[0].x,le=W[0].y),to(W[1])?(pe=W[1].end.x,Se=W[1].end.y):(pe=W[1].x,Se=W[1].y),O===0||O===2?At=Math.abs(ae-pe):At=Math.abs(le-Se),this.ctx.beginPath(),H===3?this.formatPath(X):this.formatPath(W.slice(0,2)),Ve=w<3?w*3:w*2,st=w<3?w*2:w,H===3&&(Ve=w,st=w),ui=!0,At<=Ve*2?ui=!1:At<=Ve*2+st?(Bt=At/(2*Ve+st),Ve*=Bt,st*=Bt):(vt=Math.floor((At+st)/(Ve+st)),er=(At-vt*Ve)/(vt-1),mi=(At-(vt+1)*Ve)/vt,st=mi<=0||Math.abs(st-er)<Math.abs(st-mi)?er:mi),ui&&(H===3?this.ctx.setLineDash([0,Ve+st]):this.ctx.setLineDash([Ve,st])),H===3?(this.ctx.lineCap="round",this.ctx.lineWidth=w):this.ctx.lineWidth=w*2+1.1,this.ctx.strokeStyle=qs(C),this.ctx.stroke(),this.ctx.setLineDash([]),H===2&&(to(W[0])&&(jt=W[3],ut=W[0],this.ctx.beginPath(),this.formatPath([new ot(jt.end.x,jt.end.y),new ot(ut.start.x,ut.start.y)]),this.ctx.stroke()),to(W[1])&&(jt=W[1],ut=W[2],this.ctx.beginPath(),this.formatPath([new ot(jt.end.x,jt.end.y),new ot(ut.start.x,ut.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},b.prototype.render=function(C){return i(this,void 0,void 0,function(){var w;return r(this,function(O){switch(O.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=qs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),w=W2(C),[4,this.renderStack(w)];case 1:return O.sent(),this.applyEffects([]),[2,this.canvas]}})})},b}(hT),rQ=function(x){return x instanceof $P||x instanceof IP?!0:x instanceof _x&&x.type!==sy&&x.type!==ry},sQ=function(x,b){switch(x){case 0:return hy(b);case 2:return N2(b);case 1:default:return cy(b)}},aQ=function(x){switch(x){case 1:return"center";case 2:return"right";case 0:default:return"left"}},nQ=["-apple-system","system-ui"],oQ=function(x){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?x.filter(function(b){return nQ.indexOf(b)===-1}):x},lQ=function(x){t(b,x);function b(C,w){var O=x.call(this,C,w)||this;return O.canvas=w.canvas?w.canvas:document.createElement("canvas"),O.ctx=O.canvas.getContext("2d"),O.options=w,O.canvas.width=Math.floor(w.width*w.scale),O.canvas.height=Math.floor(w.height*w.scale),O.canvas.style.width=w.width+"px",O.canvas.style.height=w.height+"px",O.ctx.scale(O.options.scale,O.options.scale),O.ctx.translate(-w.x,-w.y),O.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+w.width+"x"+w.height+" at "+w.x+","+w.y+") with scale "+w.scale),O}return b.prototype.render=function(C){return i(this,void 0,void 0,function(){var w,O;return r(this,function(M){switch(M.label){case 0:return w=xx(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,C),[4,uQ(w)];case 1:return O=M.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=qs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(O,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},b}(hT),uQ=function(x){return new Promise(function(b,C){var w=new Image;w.onload=function(){b(w)},w.onerror=C,w.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(x))})},hQ=function(){function x(b){var C=b.id,w=b.enabled;this.id=C,this.enabled=w,this.start=Date.now()}return x.prototype.debug=function(){for(var b=[],C=0;C<arguments.length;C++)b[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,a([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},x.prototype.getTime=function(){return Date.now()-this.start},x.prototype.info=function(){for(var b=[],C=0;C<arguments.length;C++)b[C]=arguments[C];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,a([this.id,this.getTime()+"ms"],b))},x.prototype.warn=function(){for(var b=[],C=0;C<arguments.length;C++)b[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,a([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},x.prototype.error=function(){for(var b=[],C=0;C<arguments.length;C++)b[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,a([this.id,this.getTime()+"ms"],b)):this.info.apply(this,b))},x.instances={},x}(),cQ=function(){function x(b,C){var w;this.windowBounds=C,this.instanceName="#"+x.instanceCount++,this.logger=new hQ({id:this.instanceName,enabled:b.logging}),this.cache=(w=b.cache)!==null&&w!==void 0?w:new O2(this,b)}return x.instanceCount=1,x}(),dQ=function(x,b){return b===void 0&&(b={}),AQ(x,b)};typeof window<"u"&&tT.setContext(window);var AQ=function(x,b){return i(void 0,void 0,void 0,function(){var C,w,O,M,H,X,W,ae,le,pe,Se,At,Ve,st,ui,Bt,vt,er,mi,jt,Vi,ut,Vi,Ui,zt,Bs,an,kn,mr,ua,rh,nn,on,Fc,gl,sh,Pc,Tc,lu,Dc;return r(this,function(uu){switch(uu.label){case 0:if(!x||typeof x!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(C=x.ownerDocument,!C)throw new Error("Element is not attached to a Document");if(w=C.defaultView,!w)throw new Error("Document is not attached to a Window");return O={allowTaint:(Ui=b.allowTaint)!==null&&Ui!==void 0?Ui:!1,imageTimeout:(zt=b.imageTimeout)!==null&&zt!==void 0?zt:15e3,proxy:b.proxy,useCORS:(Bs=b.useCORS)!==null&&Bs!==void 0?Bs:!1},M=e({logging:(an=b.logging)!==null&&an!==void 0?an:!0,cache:b.cache},O),H={windowWidth:(kn=b.windowWidth)!==null&&kn!==void 0?kn:w.innerWidth,windowHeight:(mr=b.windowHeight)!==null&&mr!==void 0?mr:w.innerHeight,scrollX:(ua=b.scrollX)!==null&&ua!==void 0?ua:w.pageXOffset,scrollY:(rh=b.scrollY)!==null&&rh!==void 0?rh:w.pageYOffset},X=new n(H.scrollX,H.scrollY,H.windowWidth,H.windowHeight),W=new cQ(M,X),ae=(nn=b.foreignObjectRendering)!==null&&nn!==void 0?nn:!1,le={allowTaint:(on=b.allowTaint)!==null&&on!==void 0?on:!1,onclone:b.onclone,ignoreElements:b.ignoreElements,inlineImages:ae,copyStyles:ae},W.logger.debug("Starting document clone with size "+X.width+"x"+X.height+" scrolled to "+-X.left+","+-X.top),pe=new JP(W,x,le),Se=pe.clonedReferenceElement,Se?[4,pe.toIFrame(C,X)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return At=uu.sent(),Ve=Bx(Se)||f2(Se)?l(Se.ownerDocument):o(W,Se),st=Ve.width,ui=Ve.height,Bt=Ve.left,vt=Ve.top,er=fQ(W,Se,b.backgroundColor),mi={canvas:b.canvas,backgroundColor:er,scale:(gl=(Fc=b.scale)!==null&&Fc!==void 0?Fc:w.devicePixelRatio)!==null&&gl!==void 0?gl:1,x:((sh=b.x)!==null&&sh!==void 0?sh:0)+Bt,y:((Pc=b.y)!==null&&Pc!==void 0?Pc:0)+vt,width:(Tc=b.width)!==null&&Tc!==void 0?Tc:Math.ceil(st),height:(lu=b.height)!==null&&lu!==void 0?lu:Math.ceil(ui)},ae?(W.logger.debug("Document cloned, using foreign object rendering"),Vi=new lQ(W,mi),[4,Vi.render(Se)]):[3,3];case 2:return jt=uu.sent(),[3,5];case 3:return W.logger.debug("Document cloned, element located at "+Bt+","+vt+" with size "+st+"x"+ui+" using computed rendering"),W.logger.debug("Starting DOM parsing"),ut=EP(W,Se),er===ut.styles.backgroundColor&&(ut.styles.backgroundColor=nu.TRANSPARENT),W.logger.debug("Starting renderer for element at "+mi.x+","+mi.y+" with size "+mi.width+"x"+mi.height),Vi=new iQ(W,mi),[4,Vi.render(ut)];case 4:jt=uu.sent(),uu.label=5;case 5:return(!((Dc=b.removeContainer)!==null&&Dc!==void 0)||Dc)&&(JP.destroy(At)||W.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),W.logger.debug("Finished rendering"),[2,jt]}})})},fQ=function(x,b,C){var w=b.ownerDocument,O=w.documentElement?np(x,getComputedStyle(w.documentElement).backgroundColor):nu.TRANSPARENT,M=w.body?np(x,getComputedStyle(w.body).backgroundColor):nu.TRANSPARENT,H=typeof C=="string"?np(x,C):C===null?nu.TRANSPARENT:4294967295;return b===w.documentElement?Ju(O)?Ju(M)?H:M:O:H};return dQ})});var cD=cT((hD,pw)=>{(function(s){typeof hD=="object"&&typeof pw<"u"?pw.exports=s():typeof define=="function"&&define.amd?define([],s):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=s()})(function(){return function s(t,e,i){function r(o,l){if(!e[o]){if(!t[o]){var u=typeof fp=="function"&&fp;if(!l&&u)return u(o,!0);if(a)return a(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var c=e[o]={exports:{}};t[o][0].call(c.exports,function(A){var d=t[o][1][A];return r(d||A)},c,c.exports,s,t,e,i)}return e[o].exports}for(var a=typeof fp=="function"&&fp,n=0;n<i.length;n++)r(i[n]);return r}({1:[function(s,t,e){"use strict";var i=s("./utils"),r=s("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(n){for(var o,l,u,h,c,A,d,f=[],p=0,m=n.length,g=m,y=i.getTypeOf(n)!=="string";p<n.length;)g=m-p,u=y?(o=n[p++],l=p<m?n[p++]:0,p<m?n[p++]:0):(o=n.charCodeAt(p++),l=p<m?n.charCodeAt(p++):0,p<m?n.charCodeAt(p++):0),h=o>>2,c=(3&o)<<4|l>>4,A=1<g?(15&l)<<2|u>>6:64,d=2<g?63&u:64,f.push(a.charAt(h)+a.charAt(c)+a.charAt(A)+a.charAt(d));return f.join("")},e.decode=function(n){var o,l,u,h,c,A,d=0,f=0,p="data:";if(n.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var m,g=3*(n=n.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(n.charAt(n.length-1)===a.charAt(64)&&g--,n.charAt(n.length-2)===a.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=r.uint8array?new Uint8Array(0|g):new Array(0|g);d<n.length;)o=a.indexOf(n.charAt(d++))<<2|(h=a.indexOf(n.charAt(d++)))>>4,l=(15&h)<<4|(c=a.indexOf(n.charAt(d++)))>>2,u=(3&c)<<6|(A=a.indexOf(n.charAt(d++))),m[f++]=o,c!==64&&(m[f++]=l),A!==64&&(m[f++]=u);return m}},{"./support":30,"./utils":32}],2:[function(s,t,e){"use strict";var i=s("./external"),r=s("./stream/DataWorker"),a=s("./stream/Crc32Probe"),n=s("./stream/DataLengthProbe");function o(l,u,h,c,A){this.compressedSize=l,this.uncompressedSize=u,this.crc32=h,this.compression=c,this.compressedContent=A}o.prototype={getContentWorker:function(){var l=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),u=this;return l.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(l,u,h){return l.pipe(new a).pipe(new n("uncompressedSize")).pipe(u.compressWorker(h)).pipe(new n("compressedSize")).withStreamInfo("compression",u)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,t,e){"use strict";var i=s("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,t,e){"use strict";var i=s("./utils"),r=function(){for(var a,n=[],o=0;o<256;o++){a=o;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;n[o]=a}return n}();t.exports=function(a,n){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(o,l,u,h){var c=r,A=h+u;o^=-1;for(var d=h;d<A;d++)o=o>>>8^c[255&(o^l[d])];return-1^o}(0|n,a,a.length,0):function(o,l,u,h){var c=r,A=h+u;o^=-1;for(var d=h;d<A;d++)o=o>>>8^c[255&(o^l.charCodeAt(d))];return-1^o}(0|n,a,a.length,0):0}},{"./utils":32}],5:[function(s,t,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(s,t,e){"use strict";var i=null;i=typeof Promise<"u"?Promise:s("lie"),t.exports={Promise:i}},{lie:37}],7:[function(s,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=s("pako"),a=s("./utils"),n=s("./stream/GenericWorker"),o=i?"uint8array":"array";function l(u,h){n.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=h,this.meta={}}e.magic="\b\0",a.inherits(l,n),l.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(o,u.data),!1)},l.prototype.flush=function(){n.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(h){u.push({data:h,meta:u.meta})}},e.compressWorker=function(u){return new l("Deflate",u)},e.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,t,e){"use strict";function i(c,A){var d,f="";for(d=0;d<A;d++)f+=String.fromCharCode(255&c),c>>>=8;return f}function r(c,A,d,f,p,m){var g,y,v=c.file,_=c.compression,S=m!==o.utf8encode,F=a.transformTo("string",m(v.name)),P=a.transformTo("string",o.utf8encode(v.name)),D=v.comment,$=a.transformTo("string",m(D)),I=a.transformTo("string",o.utf8encode(D)),R=P.length!==v.name.length,T=I.length!==D.length,Q="",K="",z="",se=v.dir,ee=v.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};A&&!d||(ue.crc32=c.crc32,ue.compressedSize=c.compressedSize,ue.uncompressedSize=c.uncompressedSize);var G=0;A&&(G|=8),S||!R&&!T||(G|=2048);var q=0,ge=0;se&&(q|=16),p==="UNIX"?(ge=798,q|=function(ye,qe){var Ge=ye;return ye||(Ge=qe?16893:33204),(65535&Ge)<<16}(v.unixPermissions,se)):(ge=20,q|=function(ye){return 63&(ye||0)}(v.dosPermissions)),g=ee.getUTCHours(),g<<=6,g|=ee.getUTCMinutes(),g<<=5,g|=ee.getUTCSeconds()/2,y=ee.getUTCFullYear()-1980,y<<=4,y|=ee.getUTCMonth()+1,y<<=5,y|=ee.getUTCDate(),R&&(K=i(1,1)+i(l(F),4)+P,Q+="up"+i(K.length,2)+K),T&&(z=i(1,1)+i(l($),4)+I,Q+="uc"+i(z.length,2)+z);var ne="";return ne+=`
\0`,ne+=i(G,2),ne+=_.magic,ne+=i(g,2),ne+=i(y,2),ne+=i(ue.crc32,4),ne+=i(ue.compressedSize,4),ne+=i(ue.uncompressedSize,4),ne+=i(F.length,2),ne+=i(Q.length,2),{fileRecord:u.LOCAL_FILE_HEADER+ne+F+Q,dirRecord:u.CENTRAL_FILE_HEADER+i(ge,2)+ne+i($.length,2)+"\0\0\0\0"+i(q,4)+i(f,4)+F+Q+$}}var a=s("../utils"),n=s("../stream/GenericWorker"),o=s("../utf8"),l=s("../crc32"),u=s("../signature");function h(c,A,d,f){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=d,this.encodeFileName=f,this.streamFiles=c,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,n),h.prototype.push=function(c){var A=c.meta.percent||0,d=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(c):(this.bytesWritten+=c.data.length,n.prototype.push.call(this,{data:c.data,meta:{currentFile:this.currentFile,percent:d?(A+100*(d-f-1))/d:100}}))},h.prototype.openedSource=function(c){this.currentSourceOffset=this.bytesWritten,this.currentFile=c.file.name;var A=this.streamFiles&&!c.file.dir;if(A){var d=r(c,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(c){this.accumulate=!1;var A=this.streamFiles&&!c.file.dir,d=r(c,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),A)this.push({data:function(f){return u.DATA_DESCRIPTOR+i(f.crc32,4)+i(f.compressedSize,4)+i(f.uncompressedSize,4)}(c),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var c=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var d=this.bytesWritten-c,f=function(p,m,g,y,v){var _=a.transformTo("string",v(y));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(p,2)+i(p,2)+i(m,4)+i(g,4)+i(_.length,2)+_}(this.dirRecords.length,d,c,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(c){this._sources.push(c);var A=this;return c.on("data",function(d){A.processChunk(d)}),c.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),c.on("error",function(d){A.error(d)}),this},h.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(c){var A=this._sources;if(!n.prototype.error.call(this,c))return!1;for(var d=0;d<A.length;d++)try{A[d].error(c)}catch{}return!0},h.prototype.lock=function(){n.prototype.lock.call(this);for(var c=this._sources,A=0;A<c.length;A++)c[A].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,t,e){"use strict";var i=s("../compressions"),r=s("./ZipFileWorker");e.generateWorker=function(a,n,o){var l=new r(n.streamFiles,o,n.platform,n.encodeFileName),u=0;try{a.forEach(function(h,c){u++;var A=function(m,g){var y=m||g,v=i[y];if(!v)throw new Error(y+" is not a valid compression method !");return v}(c.options.compression,n.compression),d=c.options.compressionOptions||n.compressionOptions||{},f=c.dir,p=c.date;c._compressWorker(A,d).withStreamInfo("file",{name:h,dir:f,date:p,comment:c.comment||"",unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions}).pipe(l)}),l.entriesCount=u}catch(h){l.error(h)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,t,e){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new i;for(var a in this)typeof this[a]!="function"&&(r[a]=this[a]);return r}}(i.prototype=s("./object")).loadAsync=s("./load"),i.support=s("./support"),i.defaults=s("./defaults"),i.version="3.10.1",i.loadAsync=function(r,a){return new i().loadAsync(r,a)},i.external=s("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,t,e){"use strict";var i=s("./utils"),r=s("./external"),a=s("./utf8"),n=s("./zipEntries"),o=s("./stream/Crc32Probe"),l=s("./nodejsUtils");function u(h){return new r.Promise(function(c,A){var d=h.decompressed.getContentWorker().pipe(new o);d.on("error",function(f){A(f)}).on("end",function(){d.streamInfo.crc32!==h.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}t.exports=function(h,c){var A=this;return c=i.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(h)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",h,!0,c.optimizedBinaryString,c.base64).then(function(d){var f=new n(c);return f.load(d),f}).then(function(d){var f=[r.Promise.resolve(d)],p=d.files;if(c.checkCRC32)for(var m=0;m<p.length;m++)f.push(u(p[m]));return r.Promise.all(f)}).then(function(d){for(var f=d.shift(),p=f.files,m=0;m<p.length;m++){var g=p[m],y=g.fileNameStr,v=i.resolve(g.fileNameStr);A.file(v,g.decompressed,{binary:!0,optimizedBinaryString:!0,date:g.date,dir:g.dir,comment:g.fileCommentStr.length?g.fileCommentStr:null,unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions,createFolders:c.createFolders}),g.dir||(A.file(v).unsafeOriginalName=y)}return f.zipComment.length&&(A.comment=f.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,t,e){"use strict";var i=s("../utils"),r=s("../stream/GenericWorker");function a(n,o){r.call(this,"Nodejs stream input adapter for "+n),this._upstreamEnded=!1,this._bindStream(o)}i.inherits(a,r),a.prototype._bindStream=function(n){var o=this;(this._stream=n).pause(),n.on("data",function(l){o.push({data:l,meta:{percent:0}})}).on("error",function(l){o.isPaused?this.generatedError=l:o.error(l)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,t,e){"use strict";var i=s("readable-stream").Readable;function r(a,n,o){i.call(this,n),this._helper=a;var l=this;a.on("data",function(u,h){l.push(u)||l._helper.pause(),o&&o(h)}).on("error",function(u){l.emit("error",u)}).on("end",function(){l.push(null)})}s("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(s,t,e){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,r){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,r);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,r)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var r=new Buffer(i);return r.fill(0),r},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(s,t,e){"use strict";function i(v,_,S){var F,P=a.getTypeOf(_),D=a.extend(S||{},l);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(v=p(v)),D.createFolders&&(F=f(v))&&m.call(this,F,!0);var $=P==="string"&&D.binary===!1&&D.base64===!1;S&&S.binary!==void 0||(D.binary=!$),(_ instanceof u&&_.uncompressedSize===0||D.dir||!_||_.length===0)&&(D.base64=!1,D.binary=!0,_="",D.compression="STORE",P="string");var I=null;I=_ instanceof u||_ instanceof n?_:A.isNode&&A.isStream(_)?new d(v,_):a.prepareContent(v,_,D.binary,D.optimizedBinaryString,D.base64);var R=new h(v,I,D);this.files[v]=R}var r=s("./utf8"),a=s("./utils"),n=s("./stream/GenericWorker"),o=s("./stream/StreamHelper"),l=s("./defaults"),u=s("./compressedObject"),h=s("./zipObject"),c=s("./generate"),A=s("./nodejsUtils"),d=s("./nodejs/NodejsStreamInputAdapter"),f=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var _=v.lastIndexOf("/");return 0<_?v.substring(0,_):""},p=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},m=function(v,_){return _=_!==void 0?_:l.createFolders,v=p(v),this.files[v]||i.call(this,v,null,{dir:!0,createFolders:_}),this.files[v]};function g(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var _,S,F;for(_ in this.files)F=this.files[_],(S=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&v(S,F)},filter:function(v){var _=[];return this.forEach(function(S,F){v(S,F)&&_.push(F)}),_},file:function(v,_,S){if(arguments.length!==1)return v=this.root+v,i.call(this,v,_,S),this;if(g(v)){var F=v;return this.filter(function(D,$){return!$.dir&&F.test(D)})}var P=this.files[this.root+v];return P&&!P.dir?P:null},folder:function(v){if(!v)return this;if(g(v))return this.filter(function(P,D){return D.dir&&v.test(P)});var _=this.root+v,S=m.call(this,_),F=this.clone();return F.root=S.name,F},remove:function(v){v=this.root+v;var _=this.files[v];if(_||(v.slice(-1)!=="/"&&(v+="/"),_=this.files[v]),_&&!_.dir)delete this.files[v];else for(var S=this.filter(function(P,D){return D.name.slice(0,v.length)===v}),F=0;F<S.length;F++)delete this.files[S[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var _,S={};try{if((S=a.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");a.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var F=S.comment||this.comment||"";_=c.generateWorker(this,S,F)}catch(P){(_=new n("error")).error(P)}return new o(_,S.type||"string",S.mimeType)},generateAsync:function(v,_){return this.generateInternalStream(v).accumulate(_)},generateNodeStream:function(v,_){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(_)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,t,e){"use strict";t.exports=s("stream")},{stream:void 0}],17:[function(s,t,e){"use strict";var i=s("./DataReader");function r(a){i.call(this,a);for(var n=0;n<this.data.length;n++)a[n]=255&a[n]}s("../utils").inherits(r,i),r.prototype.byteAt=function(a){return this.data[this.zero+a]},r.prototype.lastIndexOfSignature=function(a){for(var n=a.charCodeAt(0),o=a.charCodeAt(1),l=a.charCodeAt(2),u=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===n&&this.data[h+1]===o&&this.data[h+2]===l&&this.data[h+3]===u)return h-this.zero;return-1},r.prototype.readAndCheckSignature=function(a){var n=a.charCodeAt(0),o=a.charCodeAt(1),l=a.charCodeAt(2),u=a.charCodeAt(3),h=this.readData(4);return n===h[0]&&o===h[1]&&l===h[2]&&u===h[3]},r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var n=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,n},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(s,t,e){"use strict";var i=s("../utils");function r(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var n,o=0;for(this.checkOffset(a),n=this.index+a-1;n>=this.index;n--)o=(o<<8)+this.byteAt(n);return this.index+=a,o},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},t.exports=r},{"../utils":32}],19:[function(s,t,e){"use strict";var i=s("./Uint8ArrayReader");function r(a){i.call(this,a)}s("../utils").inherits(r,i),r.prototype.readData=function(a){this.checkOffset(a);var n=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,n},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,t,e){"use strict";var i=s("./DataReader");function r(a){i.call(this,a)}s("../utils").inherits(r,i),r.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},r.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},r.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},r.prototype.readData=function(a){this.checkOffset(a);var n=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,n},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(s,t,e){"use strict";var i=s("./ArrayReader");function r(a){i.call(this,a)}s("../utils").inherits(r,i),r.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var n=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,n},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(s,t,e){"use strict";var i=s("../utils"),r=s("../support"),a=s("./ArrayReader"),n=s("./StringReader"),o=s("./NodeBufferReader"),l=s("./Uint8ArrayReader");t.exports=function(u){var h=i.getTypeOf(u);return i.checkSupport(h),h!=="string"||r.uint8array?h==="nodebuffer"?new o(u):r.uint8array?new l(i.transformTo("uint8array",u)):new a(i.transformTo("array",u)):new n(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,t,e){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,t,e){"use strict";var i=s("./GenericWorker"),r=s("../utils");function a(n){i.call(this,"ConvertWorker to "+n),this.destType=n}r.inherits(a,i),a.prototype.processChunk=function(n){this.push({data:r.transformTo(this.destType,n.data),meta:n.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(s,t,e){"use strict";var i=s("./GenericWorker"),r=s("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(a,i),a.prototype.processChunk=function(n){this.streamInfo.crc32=r(n.data,this.streamInfo.crc32||0),this.push(n)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,t,e){"use strict";var i=s("../utils"),r=s("./GenericWorker");function a(n){r.call(this,"DataLengthProbe for "+n),this.propName=n,this.withStreamInfo(n,0)}i.inherits(a,r),a.prototype.processChunk=function(n){if(n){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+n.data.length}r.prototype.processChunk.call(this,n)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(s,t,e){"use strict";var i=s("../utils"),r=s("./GenericWorker");function a(n){r.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,n.then(function(l){o.dataIsReady=!0,o.data=l,o.max=l&&l.length||0,o.type=i.getTypeOf(l),o.isPaused||o._tickAndRepeat()},function(l){o.error(l)})}i.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var n=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":n=this.data.substring(this.index,o);break;case"uint8array":n=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":n=this.data.slice(this.index,o)}return this.index=o,this.push({data:n,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(s,t,e){"use strict";function i(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,a){return this._listeners[r].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,a){if(this._listeners[r])for(var n=0;n<this._listeners[r].length;n++)this._listeners[r][n].call(this,a)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var a=this;return r.on("data",function(n){a.processChunk(n)}),r.on("end",function(){a.end()}),r.on("error",function(n){a.error(n)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,a){return this.extraStreamInfo[r]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},t.exports=i},{}],29:[function(s,t,e){"use strict";var i=s("../utils"),r=s("./ConvertWorker"),a=s("./GenericWorker"),n=s("../base64"),o=s("../support"),l=s("../external"),u=null;if(o.nodestream)try{u=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(A,d){return new l.Promise(function(f,p){var m=[],g=A._internalType,y=A._outputType,v=A._mimeType;A.on("data",function(_,S){m.push(_),d&&d(S)}).on("error",function(_){m=[],p(_)}).on("end",function(){try{var _=function(S,F,P){switch(S){case"blob":return i.newBlob(i.transformTo("arraybuffer",F),P);case"base64":return n.encode(F);default:return i.transformTo(S,F)}}(y,function(S,F){var P,D=0,$=null,I=0;for(P=0;P<F.length;P++)I+=F[P].length;switch(S){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for($=new Uint8Array(I),P=0;P<F.length;P++)$.set(F[P],D),D+=F[P].length;return $;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+S+"'")}}(g,m),v);f(_)}catch(S){p(S)}m=[]}).resume()})}function c(A,d,f){var p=d;switch(d){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=d,this._mimeType=f,i.checkSupport(p),this._worker=A.pipe(new r(p)),A.lock()}catch(m){this._worker=new a("error"),this._worker.error(m)}}c.prototype={accumulate:function(A){return h(this,A)},on:function(A,d){var f=this;return A==="data"?this._worker.on(A,function(p){d.call(f,p.data,p.meta)}):this._worker.on(A,function(){i.delay(d,arguments,f)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},A)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,t,e){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",e.nodebuffer=typeof Buffer<"u",e.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),e.blob=r.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!s("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(s,t,e){"use strict";for(var i=s("./utils"),r=s("./support"),a=s("./nodejsUtils"),n=s("./stream/GenericWorker"),o=new Array(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;o[254]=o[254]=1;function u(){n.call(this,"utf-8 decode"),this.leftOver=null}function h(){n.call(this,"utf-8 encode")}e.utf8encode=function(c){return r.nodebuffer?a.newBufferFrom(c,"utf-8"):function(A){var d,f,p,m,g,y=A.length,v=0;for(m=0;m<y;m++)(64512&(f=A.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=A.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),v+=f<128?1:f<2048?2:f<65536?3:4;for(d=r.uint8array?new Uint8Array(v):new Array(v),m=g=0;g<v;m++)(64512&(f=A.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=A.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),f<128?d[g++]=f:(f<2048?d[g++]=192|f>>>6:(f<65536?d[g++]=224|f>>>12:(d[g++]=240|f>>>18,d[g++]=128|f>>>12&63),d[g++]=128|f>>>6&63),d[g++]=128|63&f);return d}(c)},e.utf8decode=function(c){return r.nodebuffer?i.transformTo("nodebuffer",c).toString("utf-8"):function(A){var d,f,p,m,g=A.length,y=new Array(2*g);for(d=f=0;d<g;)if((p=A[d++])<128)y[f++]=p;else if(4<(m=o[p]))y[f++]=65533,d+=m-1;else{for(p&=m===2?31:m===3?15:7;1<m&&d<g;)p=p<<6|63&A[d++],m--;1<m?y[f++]=65533:p<65536?y[f++]=p:(p-=65536,y[f++]=55296|p>>10&1023,y[f++]=56320|1023&p)}return y.length!==f&&(y.subarray?y=y.subarray(0,f):y.length=f),i.applyFromCharCode(y)}(c=i.transformTo(r.uint8array?"uint8array":"array",c))},i.inherits(u,n),u.prototype.processChunk=function(c){var A=i.transformTo(r.uint8array?"uint8array":"array",c.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var d=A;(A=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),A.set(d,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var f=function(m,g){var y;for((g=g||m.length)>m.length&&(g=m.length),y=g-1;0<=y&&(192&m[y])==128;)y--;return y<0||y===0?g:y+o[m[y]]>g?y:g}(A),p=A;f!==A.length&&(r.uint8array?(p=A.subarray(0,f),this.leftOver=A.subarray(f,A.length)):(p=A.slice(0,f),this.leftOver=A.slice(f,A.length))),this.push({data:e.utf8decode(p),meta:c.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=u,i.inherits(h,n),h.prototype.processChunk=function(c){this.push({data:e.utf8encode(c.data),meta:c.meta})},e.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,t,e){"use strict";var i=s("./support"),r=s("./base64"),a=s("./nodejsUtils"),n=s("./external");function o(d){return d}function l(d,f){for(var p=0;p<d.length;++p)f[p]=255&d.charCodeAt(p);return f}s("setimmediate"),e.newBlob=function(d,f){e.checkSupport("blob");try{return new Blob([d],{type:f})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(d),p.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(d,f,p){var m=[],g=0,y=d.length;if(y<=p)return String.fromCharCode.apply(null,d);for(;g<y;)f==="array"||f==="nodebuffer"?m.push(String.fromCharCode.apply(null,d.slice(g,Math.min(g+p,y)))):m.push(String.fromCharCode.apply(null,d.subarray(g,Math.min(g+p,y)))),g+=p;return m.join("")},stringifyByChar:function(d){for(var f="",p=0;p<d.length;p++)f+=String.fromCharCode(d[p]);return f},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(d){var f=65536,p=e.getTypeOf(d),m=!0;if(p==="uint8array"?m=u.applyCanBeUsed.uint8array:p==="nodebuffer"&&(m=u.applyCanBeUsed.nodebuffer),m)for(;1<f;)try{return u.stringifyByChunk(d,p,f)}catch{f=Math.floor(f/2)}return u.stringifyByChar(d)}function c(d,f){for(var p=0;p<d.length;p++)f[p]=d[p];return f}e.applyFromCharCode=h;var A={};A.string={string:o,array:function(d){return l(d,new Array(d.length))},arraybuffer:function(d){return A.string.uint8array(d).buffer},uint8array:function(d){return l(d,new Uint8Array(d.length))},nodebuffer:function(d){return l(d,a.allocBuffer(d.length))}},A.array={string:h,array:o,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return a.newBufferFrom(d)}},A.arraybuffer={string:function(d){return h(new Uint8Array(d))},array:function(d){return c(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:o,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return a.newBufferFrom(new Uint8Array(d))}},A.uint8array={string:h,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:o,nodebuffer:function(d){return a.newBufferFrom(d)}},A.nodebuffer={string:h,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return A.nodebuffer.uint8array(d).buffer},uint8array:function(d){return c(d,new Uint8Array(d.length))},nodebuffer:o},e.transformTo=function(d,f){if(f=f||"",!d)return f;e.checkSupport(d);var p=e.getTypeOf(f);return A[p][d](f)},e.resolve=function(d){for(var f=d.split("/"),p=[],m=0;m<f.length;m++){var g=f[m];g==="."||g===""&&m!==0&&m!==f.length-1||(g===".."?p.pop():p.push(g))}return p.join("/")},e.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(d)?"nodebuffer":i.uint8array&&d instanceof Uint8Array?"uint8array":i.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(d){if(!i[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(d){var f,p,m="";for(p=0;p<(d||"").length;p++)m+="\\x"+((f=d.charCodeAt(p))<16?"0":"")+f.toString(16).toUpperCase();return m},e.delay=function(d,f,p){setImmediate(function(){d.apply(p||null,f||[])})},e.inherits=function(d,f){function p(){}p.prototype=f.prototype,d.prototype=new p},e.extend=function(){var d,f,p={};for(d=0;d<arguments.length;d++)for(f in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],f)&&p[f]===void 0&&(p[f]=arguments[d][f]);return p},e.prepareContent=function(d,f,p,m,g){return n.Promise.resolve(f).then(function(y){return i.blob&&(y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(y))!==-1)&&typeof FileReader<"u"?new n.Promise(function(v,_){var S=new FileReader;S.onload=function(F){v(F.target.result)},S.onerror=function(F){_(F.target.error)},S.readAsArrayBuffer(y)}):y}).then(function(y){var v=e.getTypeOf(y);return v?(v==="arraybuffer"?y=e.transformTo("uint8array",y):v==="string"&&(g?y=r.decode(y):p&&m!==!0&&(y=function(_){return l(_,i.uint8array?new Uint8Array(_.length):new Array(_.length))}(y))),y):n.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,t,e){"use strict";var i=s("./reader/readerFor"),r=s("./utils"),a=s("./signature"),n=s("./zipEntry"),o=s("./support");function l(u){this.files=[],this.loadOptions=u}l.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(h)+", expected "+r.pretty(u)+")")}},isSignature:function(u,h){var c=this.reader.index;this.reader.setIndex(u);var A=this.reader.readString(4)===h;return this.reader.setIndex(c),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),h=o.uint8array?"uint8array":"array",c=r.transformTo(h,u);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,h,c,A=this.zip64EndOfCentralSize-44;0<A;)u=this.reader.readInt(2),h=this.reader.readInt(4),c=this.reader.readData(h),this.zip64ExtensibleData[u]={id:u,length:h,value:c}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,h;for(u=0;u<this.files.length;u++)h=this.files[u],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(u=new n({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var h=u;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var c=this.centralDirOffset+this.centralDirSize;this.zip64&&(c+=20,c+=12+this.zip64EndOfCentralSize);var A=h-c;if(0<A)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(u){this.reader=i(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,t,e){"use strict";var i=s("./reader/readerFor"),r=s("./utils"),a=s("./compressedObject"),n=s("./crc32"),o=s("./utf8"),l=s("./compressions"),u=s("./support");function h(c,A){this.options=c,this.loadOptions=A}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(c){var A,d;if(c.skip(22),this.fileNameLength=c.readInt(2),d=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(f){for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)&&l[p].magic===f)return l[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,A,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var A=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(A),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),c==0&&(this.dosPermissions=63&this.externalFileAttributes),c==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var A,d,f,p=c.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});c.index+4<p;)A=c.readInt(2),d=c.readInt(2),f=c.readData(d),this.extraFields[A]={id:A,length:d,value:f};c.setIndex(p)},handleUTF8:function(){var c=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var d=r.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var p=r.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var A=i(c.value);return A.readInt(1)!==1||n(this.fileName)!==A.readInt(4)?null:o.utf8decode(A.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var A=i(c.value);return A.readInt(1)!==1||n(this.fileComment)!==A.readInt(4)?null:o.utf8decode(A.readData(c.length-5))}return null}},t.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,t,e){"use strict";function i(A,d,f){this.name=A,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=d,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var r=s("./stream/StreamHelper"),a=s("./stream/DataWorker"),n=s("./utf8"),o=s("./compressedObject"),l=s("./stream/GenericWorker");i.prototype={internalStream:function(A){var d=null,f="string";try{if(!A)throw new Error("No output type specified.");var p=(f=A.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),d=this._decompressWorker();var m=!this._dataBinary;m&&!p&&(d=d.pipe(new n.Utf8EncodeWorker)),!m&&p&&(d=d.pipe(new n.Utf8DecodeWorker))}catch(g){(d=new l("error")).error(g)}return new r(d,f,"")},async:function(A,d){return this.internalStream(A).accumulate(d)},nodeStream:function(A,d){return this.internalStream(A||"nodebuffer").toNodejsStream(d)},_compressWorker:function(A,d){if(this._data instanceof o&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new n.Utf8EncodeWorker)),o.createWorkerFrom(f,A,d)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<u.length;c++)i.prototype[u[c]]=h;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,t,e){(function(i){"use strict";var r,a,n=i.MutationObserver||i.WebKitMutationObserver;if(n){var o=0,l=new n(A),u=i.document.createTextNode("");l.observe(u,{characterData:!0}),r=function(){u.data=o=++o%2}}else if(i.setImmediate||i.MessageChannel===void 0)r="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var d=i.document.createElement("script");d.onreadystatechange=function(){A(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},i.document.documentElement.appendChild(d)}:function(){setTimeout(A,0)};else{var h=new i.MessageChannel;h.port1.onmessage=A,r=function(){h.port2.postMessage(0)}}var c=[];function A(){var d,f;a=!0;for(var p=c.length;p;){for(f=c,c=[],d=-1;++d<p;)f[d]();p=c.length}a=!1}t.exports=function(d){c.push(d)!==1||a||r()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,t,e){"use strict";var i=s("immediate");function r(){}var a={},n=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function u(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,p!==r&&d(this,p)}function h(p,m,g){this.promise=p,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof g=="function"&&(this.onRejected=g,this.callRejected=this.otherCallRejected)}function c(p,m,g){i(function(){var y;try{y=m(g)}catch(v){return a.reject(p,v)}y===p?a.reject(p,new TypeError("Cannot resolve promise with itself")):a.resolve(p,y)})}function A(p){var m=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof m=="function")return function(){m.apply(p,arguments)}}function d(p,m){var g=!1;function y(S){g||(g=!0,a.reject(p,S))}function v(S){g||(g=!0,a.resolve(p,S))}var _=f(function(){m(v,y)});_.status==="error"&&y(_.value)}function f(p,m){var g={};try{g.value=p(m),g.status="success"}catch(y){g.status="error",g.value=y}return g}(t.exports=u).prototype.finally=function(p){if(typeof p!="function")return this;var m=this.constructor;return this.then(function(g){return m.resolve(p()).then(function(){return g})},function(g){return m.resolve(p()).then(function(){throw g})})},u.prototype.catch=function(p){return this.then(null,p)},u.prototype.then=function(p,m){if(typeof p!="function"&&this.state===o||typeof m!="function"&&this.state===n)return this;var g=new this.constructor(r);return this.state!==l?c(g,this.state===o?p:m,this.outcome):this.queue.push(new h(g,p,m)),g},h.prototype.callFulfilled=function(p){a.resolve(this.promise,p)},h.prototype.otherCallFulfilled=function(p){c(this.promise,this.onFulfilled,p)},h.prototype.callRejected=function(p){a.reject(this.promise,p)},h.prototype.otherCallRejected=function(p){c(this.promise,this.onRejected,p)},a.resolve=function(p,m){var g=f(A,m);if(g.status==="error")return a.reject(p,g.value);var y=g.value;if(y)d(p,y);else{p.state=o,p.outcome=m;for(var v=-1,_=p.queue.length;++v<_;)p.queue[v].callFulfilled(m)}return p},a.reject=function(p,m){p.state=n,p.outcome=m;for(var g=-1,y=p.queue.length;++g<y;)p.queue[g].callRejected(m);return p},u.resolve=function(p){return p instanceof this?p:a.resolve(new this(r),p)},u.reject=function(p){var m=new this(r);return a.reject(m,p)},u.all=function(p){var m=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=p.length,y=!1;if(!g)return this.resolve([]);for(var v=new Array(g),_=0,S=-1,F=new this(r);++S<g;)P(p[S],S);return F;function P(D,$){m.resolve(D).then(function(I){v[$]=I,++_!==g||y||(y=!0,a.resolve(F,v))},function(I){y||(y=!0,a.reject(F,I))})}},u.race=function(p){var m=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var g=p.length,y=!1;if(!g)return this.resolve([]);for(var v=-1,_=new this(r);++v<g;)S=p[v],m.resolve(S).then(function(F){y||(y=!0,a.resolve(_,F))},function(F){y||(y=!0,a.reject(_,F))});var S;return _}},{immediate:36}],38:[function(s,t,e){"use strict";var i={};(0,s("./lib/utils/common").assign)(i,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,t,e){"use strict";var i=s("./zlib/deflate"),r=s("./utils/common"),a=s("./utils/strings"),n=s("./zlib/messages"),o=s("./zlib/zstream"),l=Object.prototype.toString,u=0,h=-1,c=0,A=8;function d(p){if(!(this instanceof d))return new d(p);this.options=r.assign({level:h,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},p||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var g=i.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(g!==u)throw new Error(n[g]);if(m.header&&i.deflateSetHeader(this.strm,m.header),m.dictionary){var y;if(y=typeof m.dictionary=="string"?a.string2buf(m.dictionary):l.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(g=i.deflateSetDictionary(this.strm,y))!==u)throw new Error(n[g]);this._dict_set=!0}}function f(p,m){var g=new d(m);if(g.push(p,!0),g.err)throw g.msg||n[g.err];return g.result}d.prototype.push=function(p,m){var g,y,v=this.strm,_=this.options.chunkSize;if(this.ended)return!1;y=m===~~m?m:m===!0?4:0,typeof p=="string"?v.input=a.string2buf(p):l.call(p)==="[object ArrayBuffer]"?v.input=new Uint8Array(p):v.input=p,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new r.Buf8(_),v.next_out=0,v.avail_out=_),(g=i.deflate(v,y))!==1&&g!==u)return this.onEnd(g),!(this.ended=!0);v.avail_out!==0&&(v.avail_in!==0||y!==4&&y!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(r.shrinkBuf(v.output,v.next_out))):this.onData(r.shrinkBuf(v.output,v.next_out)))}while((0<v.avail_in||v.avail_out===0)&&g!==1);return y===4?(g=i.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===u):y!==2||(this.onEnd(u),!(v.avail_out=0))},d.prototype.onData=function(p){this.chunks.push(p)},d.prototype.onEnd=function(p){p===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},e.Deflate=d,e.deflate=f,e.deflateRaw=function(p,m){return(m=m||{}).raw=!0,f(p,m)},e.gzip=function(p,m){return(m=m||{}).gzip=!0,f(p,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,t,e){"use strict";var i=s("./zlib/inflate"),r=s("./utils/common"),a=s("./utils/strings"),n=s("./zlib/constants"),o=s("./zlib/messages"),l=s("./zlib/zstream"),u=s("./zlib/gzheader"),h=Object.prototype.toString;function c(d){if(!(this instanceof c))return new c(d);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},d||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||d&&d.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var p=i.inflateInit2(this.strm,f.windowBits);if(p!==n.Z_OK)throw new Error(o[p]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function A(d,f){var p=new c(f);if(p.push(d,!0),p.err)throw p.msg||o[p.err];return p.result}c.prototype.push=function(d,f){var p,m,g,y,v,_,S=this.strm,F=this.options.chunkSize,P=this.options.dictionary,D=!1;if(this.ended)return!1;m=f===~~f?f:f===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof d=="string"?S.input=a.binstring2buf(d):h.call(d)==="[object ArrayBuffer]"?S.input=new Uint8Array(d):S.input=d,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new r.Buf8(F),S.next_out=0,S.avail_out=F),(p=i.inflate(S,n.Z_NO_FLUSH))===n.Z_NEED_DICT&&P&&(_=typeof P=="string"?a.string2buf(P):h.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,p=i.inflateSetDictionary(this.strm,_)),p===n.Z_BUF_ERROR&&D===!0&&(p=n.Z_OK,D=!1),p!==n.Z_STREAM_END&&p!==n.Z_OK)return this.onEnd(p),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&p!==n.Z_STREAM_END&&(S.avail_in!==0||m!==n.Z_FINISH&&m!==n.Z_SYNC_FLUSH)||(this.options.to==="string"?(g=a.utf8border(S.output,S.next_out),y=S.next_out-g,v=a.buf2string(S.output,g),S.next_out=y,S.avail_out=F-y,y&&r.arraySet(S.output,S.output,g,y,0),this.onData(v)):this.onData(r.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(D=!0)}while((0<S.avail_in||S.avail_out===0)&&p!==n.Z_STREAM_END);return p===n.Z_STREAM_END&&(m=n.Z_FINISH),m===n.Z_FINISH?(p=i.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===n.Z_OK):m!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),!(S.avail_out=0))},c.prototype.onData=function(d){this.chunks.push(d)},c.prototype.onEnd=function(d){d===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},e.Inflate=c,e.inflate=A,e.inflateRaw=function(d,f){return(f=f||{}).raw=!0,A(d,f)},e.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,t,e){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";e.assign=function(n){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var l=o.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var u in l)l.hasOwnProperty(u)&&(n[u]=l[u])}}return n},e.shrinkBuf=function(n,o){return n.length===o?n:n.subarray?n.subarray(0,o):(n.length=o,n)};var r={arraySet:function(n,o,l,u,h){if(o.subarray&&n.subarray)n.set(o.subarray(l,l+u),h);else for(var c=0;c<u;c++)n[h+c]=o[l+c]},flattenChunks:function(n){var o,l,u,h,c,A;for(o=u=0,l=n.length;o<l;o++)u+=n[o].length;for(A=new Uint8Array(u),o=h=0,l=n.length;o<l;o++)c=n[o],A.set(c,h),h+=c.length;return A}},a={arraySet:function(n,o,l,u,h){for(var c=0;c<u;c++)n[h+c]=o[l+c]},flattenChunks:function(n){return[].concat.apply([],n)}};e.setTyped=function(n){n?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},{}],42:[function(s,t,e){"use strict";var i=s("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var n=new i.Buf8(256),o=0;o<256;o++)n[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function l(u,h){if(h<65537&&(u.subarray&&a||!u.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(u,h));for(var c="",A=0;A<h;A++)c+=String.fromCharCode(u[A]);return c}n[254]=n[254]=1,e.string2buf=function(u){var h,c,A,d,f,p=u.length,m=0;for(d=0;d<p;d++)(64512&(c=u.charCodeAt(d)))==55296&&d+1<p&&(64512&(A=u.charCodeAt(d+1)))==56320&&(c=65536+(c-55296<<10)+(A-56320),d++),m+=c<128?1:c<2048?2:c<65536?3:4;for(h=new i.Buf8(m),d=f=0;f<m;d++)(64512&(c=u.charCodeAt(d)))==55296&&d+1<p&&(64512&(A=u.charCodeAt(d+1)))==56320&&(c=65536+(c-55296<<10)+(A-56320),d++),c<128?h[f++]=c:(c<2048?h[f++]=192|c>>>6:(c<65536?h[f++]=224|c>>>12:(h[f++]=240|c>>>18,h[f++]=128|c>>>12&63),h[f++]=128|c>>>6&63),h[f++]=128|63&c);return h},e.buf2binstring=function(u){return l(u,u.length)},e.binstring2buf=function(u){for(var h=new i.Buf8(u.length),c=0,A=h.length;c<A;c++)h[c]=u.charCodeAt(c);return h},e.buf2string=function(u,h){var c,A,d,f,p=h||u.length,m=new Array(2*p);for(c=A=0;c<p;)if((d=u[c++])<128)m[A++]=d;else if(4<(f=n[d]))m[A++]=65533,c+=f-1;else{for(d&=f===2?31:f===3?15:7;1<f&&c<p;)d=d<<6|63&u[c++],f--;1<f?m[A++]=65533:d<65536?m[A++]=d:(d-=65536,m[A++]=55296|d>>10&1023,m[A++]=56320|1023&d)}return l(m,A)},e.utf8border=function(u,h){var c;for((h=h||u.length)>u.length&&(h=u.length),c=h-1;0<=c&&(192&u[c])==128;)c--;return c<0||c===0?h:c+n[u[c]]>h?c:h}},{"./common":41}],43:[function(s,t,e){"use strict";t.exports=function(i,r,a,n){for(var o=65535&i|0,l=i>>>16&65535|0,u=0;a!==0;){for(a-=u=2e3<a?2e3:a;l=l+(o=o+r[n++]|0)|0,--u;);o%=65521,l%=65521}return o|l<<16|0}},{}],44:[function(s,t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,t,e){"use strict";var i=function(){for(var r,a=[],n=0;n<256;n++){r=n;for(var o=0;o<8;o++)r=1&r?3988292384^r>>>1:r>>>1;a[n]=r}return a}();t.exports=function(r,a,n,o){var l=i,u=o+n;r^=-1;for(var h=o;h<u;h++)r=r>>>8^l[255&(r^a[h])];return-1^r}},{}],46:[function(s,t,e){"use strict";var i,r=s("../utils/common"),a=s("./trees"),n=s("./adler32"),o=s("./crc32"),l=s("./messages"),u=0,h=4,c=0,A=-2,d=-1,f=4,p=2,m=8,g=9,y=286,v=30,_=19,S=2*y+1,F=15,P=3,D=258,$=D+P+1,I=42,R=113,T=1,Q=2,K=3,z=4;function se(V,_e){return V.msg=l[_e],_e}function ee(V){return(V<<1)-(4<V?9:0)}function ue(V){for(var _e=V.length;0<=--_e;)V[_e]=0}function G(V){var _e=V.state,ve=_e.pending;ve>V.avail_out&&(ve=V.avail_out),ve!==0&&(r.arraySet(V.output,_e.pending_buf,_e.pending_out,ve,V.next_out),V.next_out+=ve,_e.pending_out+=ve,V.total_out+=ve,V.avail_out-=ve,_e.pending-=ve,_e.pending===0&&(_e.pending_out=0))}function q(V,_e){a._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,_e),V.block_start=V.strstart,G(V.strm)}function ge(V,_e){V.pending_buf[V.pending++]=_e}function ne(V,_e){V.pending_buf[V.pending++]=_e>>>8&255,V.pending_buf[V.pending++]=255&_e}function ye(V,_e){var ve,Z,Y=V.max_chain_length,oe=V.strstart,Te=V.prev_length,$e=V.nice_match,me=V.strstart>V.w_size-$?V.strstart-(V.w_size-$):0,ke=V.window,rt=V.w_mask,Ne=V.prev,Tt=V.strstart+D,or=ke[oe+Te-1],bi=ke[oe+Te];V.prev_length>=V.good_match&&(Y>>=2),$e>V.lookahead&&($e=V.lookahead);do if(ke[(ve=_e)+Te]===bi&&ke[ve+Te-1]===or&&ke[ve]===ke[oe]&&ke[++ve]===ke[oe+1]){oe+=2,ve++;do;while(ke[++oe]===ke[++ve]&&ke[++oe]===ke[++ve]&&ke[++oe]===ke[++ve]&&ke[++oe]===ke[++ve]&&ke[++oe]===ke[++ve]&&ke[++oe]===ke[++ve]&&ke[++oe]===ke[++ve]&&ke[++oe]===ke[++ve]&&oe<Tt);if(Z=D-(Tt-oe),oe=Tt-D,Te<Z){if(V.match_start=_e,$e<=(Te=Z))break;or=ke[oe+Te-1],bi=ke[oe+Te]}}while((_e=Ne[_e&rt])>me&&--Y!=0);return Te<=V.lookahead?Te:V.lookahead}function qe(V){var _e,ve,Z,Y,oe,Te,$e,me,ke,rt,Ne=V.w_size;do{if(Y=V.window_size-V.lookahead-V.strstart,V.strstart>=Ne+(Ne-$)){for(r.arraySet(V.window,V.window,Ne,Ne,0),V.match_start-=Ne,V.strstart-=Ne,V.block_start-=Ne,_e=ve=V.hash_size;Z=V.head[--_e],V.head[_e]=Ne<=Z?Z-Ne:0,--ve;);for(_e=ve=Ne;Z=V.prev[--_e],V.prev[_e]=Ne<=Z?Z-Ne:0,--ve;);Y+=Ne}if(V.strm.avail_in===0)break;if(Te=V.strm,$e=V.window,me=V.strstart+V.lookahead,ke=Y,rt=void 0,rt=Te.avail_in,ke<rt&&(rt=ke),ve=rt===0?0:(Te.avail_in-=rt,r.arraySet($e,Te.input,Te.next_in,rt,me),Te.state.wrap===1?Te.adler=n(Te.adler,$e,rt,me):Te.state.wrap===2&&(Te.adler=o(Te.adler,$e,rt,me)),Te.next_in+=rt,Te.total_in+=rt,rt),V.lookahead+=ve,V.lookahead+V.insert>=P)for(oe=V.strstart-V.insert,V.ins_h=V.window[oe],V.ins_h=(V.ins_h<<V.hash_shift^V.window[oe+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[oe+P-1])&V.hash_mask,V.prev[oe&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=oe,oe++,V.insert--,!(V.lookahead+V.insert<P)););}while(V.lookahead<$&&V.strm.avail_in!==0)}function Ge(V,_e){for(var ve,Z;;){if(V.lookahead<$){if(qe(V),V.lookahead<$&&_e===u)return T;if(V.lookahead===0)break}if(ve=0,V.lookahead>=P&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,ve=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),ve!==0&&V.strstart-ve<=V.w_size-$&&(V.match_length=ye(V,ve)),V.match_length>=P)if(Z=a._tr_tally(V,V.strstart-V.match_start,V.match_length-P),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=P){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,ve=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else Z=a._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(Z&&(q(V,!1),V.strm.avail_out===0))return T}return V.insert=V.strstart<P-1?V.strstart:P-1,_e===h?(q(V,!0),V.strm.avail_out===0?K:z):V.last_lit&&(q(V,!1),V.strm.avail_out===0)?T:Q}function it(V,_e){for(var ve,Z,Y;;){if(V.lookahead<$){if(qe(V),V.lookahead<$&&_e===u)return T;if(V.lookahead===0)break}if(ve=0,V.lookahead>=P&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,ve=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=P-1,ve!==0&&V.prev_length<V.max_lazy_match&&V.strstart-ve<=V.w_size-$&&(V.match_length=ye(V,ve),V.match_length<=5&&(V.strategy===1||V.match_length===P&&4096<V.strstart-V.match_start)&&(V.match_length=P-1)),V.prev_length>=P&&V.match_length<=V.prev_length){for(Y=V.strstart+V.lookahead-P,Z=a._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-P),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=Y&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,ve=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=P-1,V.strstart++,Z&&(q(V,!1),V.strm.avail_out===0))return T}else if(V.match_available){if((Z=a._tr_tally(V,0,V.window[V.strstart-1]))&&q(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return T}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(Z=a._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<P-1?V.strstart:P-1,_e===h?(q(V,!0),V.strm.avail_out===0?K:z):V.last_lit&&(q(V,!1),V.strm.avail_out===0)?T:Q}function dt(V,_e,ve,Z,Y){this.good_length=V,this.max_lazy=_e,this.nice_length=ve,this.max_chain=Z,this.func=Y}function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*S),this.dyn_dtree=new r.Buf16(2*(2*v+1)),this.bl_tree=new r.Buf16(2*(2*_+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(F+1),this.heap=new r.Buf16(2*y+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*y+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(V){var _e;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=p,(_e=V.state).pending=0,_e.pending_out=0,_e.wrap<0&&(_e.wrap=-_e.wrap),_e.status=_e.wrap?I:R,V.adler=_e.wrap===2?0:1,_e.last_flush=u,a._tr_init(_e),c):se(V,A)}function Rt(V){var _e=We(V);return _e===c&&function(ve){ve.window_size=2*ve.w_size,ue(ve.head),ve.max_lazy_match=i[ve.level].max_lazy,ve.good_match=i[ve.level].good_length,ve.nice_match=i[ve.level].nice_length,ve.max_chain_length=i[ve.level].max_chain,ve.strstart=0,ve.block_start=0,ve.lookahead=0,ve.insert=0,ve.match_length=ve.prev_length=P-1,ve.match_available=0,ve.ins_h=0}(V.state),_e}function pi(V,_e,ve,Z,Y,oe){if(!V)return A;var Te=1;if(_e===d&&(_e=6),Z<0?(Te=0,Z=-Z):15<Z&&(Te=2,Z-=16),Y<1||g<Y||ve!==m||Z<8||15<Z||_e<0||9<_e||oe<0||f<oe)return se(V,A);Z===8&&(Z=9);var $e=new Re;return(V.state=$e).strm=V,$e.wrap=Te,$e.gzhead=null,$e.w_bits=Z,$e.w_size=1<<$e.w_bits,$e.w_mask=$e.w_size-1,$e.hash_bits=Y+7,$e.hash_size=1<<$e.hash_bits,$e.hash_mask=$e.hash_size-1,$e.hash_shift=~~(($e.hash_bits+P-1)/P),$e.window=new r.Buf8(2*$e.w_size),$e.head=new r.Buf16($e.hash_size),$e.prev=new r.Buf16($e.w_size),$e.lit_bufsize=1<<Y+6,$e.pending_buf_size=4*$e.lit_bufsize,$e.pending_buf=new r.Buf8($e.pending_buf_size),$e.d_buf=1*$e.lit_bufsize,$e.l_buf=3*$e.lit_bufsize,$e.level=_e,$e.strategy=oe,$e.method=ve,Rt(V)}i=[new dt(0,0,0,0,function(V,_e){var ve=65535;for(ve>V.pending_buf_size-5&&(ve=V.pending_buf_size-5);;){if(V.lookahead<=1){if(qe(V),V.lookahead===0&&_e===u)return T;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var Z=V.block_start+ve;if((V.strstart===0||V.strstart>=Z)&&(V.lookahead=V.strstart-Z,V.strstart=Z,q(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-$&&(q(V,!1),V.strm.avail_out===0))return T}return V.insert=0,_e===h?(q(V,!0),V.strm.avail_out===0?K:z):(V.strstart>V.block_start&&(q(V,!1),V.strm.avail_out),T)}),new dt(4,4,8,4,Ge),new dt(4,5,16,8,Ge),new dt(4,6,32,32,Ge),new dt(4,4,16,16,it),new dt(8,16,32,32,it),new dt(8,16,128,128,it),new dt(8,32,128,256,it),new dt(32,128,258,1024,it),new dt(32,258,258,4096,it)],e.deflateInit=function(V,_e){return pi(V,_e,m,15,8,0)},e.deflateInit2=pi,e.deflateReset=Rt,e.deflateResetKeep=We,e.deflateSetHeader=function(V,_e){return V&&V.state?V.state.wrap!==2?A:(V.state.gzhead=_e,c):A},e.deflate=function(V,_e){var ve,Z,Y,oe;if(!V||!V.state||5<_e||_e<0)return V?se(V,A):A;if(Z=V.state,!V.output||!V.input&&V.avail_in!==0||Z.status===666&&_e!==h)return se(V,V.avail_out===0?-5:A);if(Z.strm=V,ve=Z.last_flush,Z.last_flush=_e,Z.status===I)if(Z.wrap===2)V.adler=0,ge(Z,31),ge(Z,139),ge(Z,8),Z.gzhead?(ge(Z,(Z.gzhead.text?1:0)+(Z.gzhead.hcrc?2:0)+(Z.gzhead.extra?4:0)+(Z.gzhead.name?8:0)+(Z.gzhead.comment?16:0)),ge(Z,255&Z.gzhead.time),ge(Z,Z.gzhead.time>>8&255),ge(Z,Z.gzhead.time>>16&255),ge(Z,Z.gzhead.time>>24&255),ge(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),ge(Z,255&Z.gzhead.os),Z.gzhead.extra&&Z.gzhead.extra.length&&(ge(Z,255&Z.gzhead.extra.length),ge(Z,Z.gzhead.extra.length>>8&255)),Z.gzhead.hcrc&&(V.adler=o(V.adler,Z.pending_buf,Z.pending,0)),Z.gzindex=0,Z.status=69):(ge(Z,0),ge(Z,0),ge(Z,0),ge(Z,0),ge(Z,0),ge(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),ge(Z,3),Z.status=R);else{var Te=m+(Z.w_bits-8<<4)<<8;Te|=(2<=Z.strategy||Z.level<2?0:Z.level<6?1:Z.level===6?2:3)<<6,Z.strstart!==0&&(Te|=32),Te+=31-Te%31,Z.status=R,ne(Z,Te),Z.strstart!==0&&(ne(Z,V.adler>>>16),ne(Z,65535&V.adler)),V.adler=1}if(Z.status===69)if(Z.gzhead.extra){for(Y=Z.pending;Z.gzindex<(65535&Z.gzhead.extra.length)&&(Z.pending!==Z.pending_buf_size||(Z.gzhead.hcrc&&Z.pending>Y&&(V.adler=o(V.adler,Z.pending_buf,Z.pending-Y,Y)),G(V),Y=Z.pending,Z.pending!==Z.pending_buf_size));)ge(Z,255&Z.gzhead.extra[Z.gzindex]),Z.gzindex++;Z.gzhead.hcrc&&Z.pending>Y&&(V.adler=o(V.adler,Z.pending_buf,Z.pending-Y,Y)),Z.gzindex===Z.gzhead.extra.length&&(Z.gzindex=0,Z.status=73)}else Z.status=73;if(Z.status===73)if(Z.gzhead.name){Y=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>Y&&(V.adler=o(V.adler,Z.pending_buf,Z.pending-Y,Y)),G(V),Y=Z.pending,Z.pending===Z.pending_buf_size)){oe=1;break}oe=Z.gzindex<Z.gzhead.name.length?255&Z.gzhead.name.charCodeAt(Z.gzindex++):0,ge(Z,oe)}while(oe!==0);Z.gzhead.hcrc&&Z.pending>Y&&(V.adler=o(V.adler,Z.pending_buf,Z.pending-Y,Y)),oe===0&&(Z.gzindex=0,Z.status=91)}else Z.status=91;if(Z.status===91)if(Z.gzhead.comment){Y=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>Y&&(V.adler=o(V.adler,Z.pending_buf,Z.pending-Y,Y)),G(V),Y=Z.pending,Z.pending===Z.pending_buf_size)){oe=1;break}oe=Z.gzindex<Z.gzhead.comment.length?255&Z.gzhead.comment.charCodeAt(Z.gzindex++):0,ge(Z,oe)}while(oe!==0);Z.gzhead.hcrc&&Z.pending>Y&&(V.adler=o(V.adler,Z.pending_buf,Z.pending-Y,Y)),oe===0&&(Z.status=103)}else Z.status=103;if(Z.status===103&&(Z.gzhead.hcrc?(Z.pending+2>Z.pending_buf_size&&G(V),Z.pending+2<=Z.pending_buf_size&&(ge(Z,255&V.adler),ge(Z,V.adler>>8&255),V.adler=0,Z.status=R)):Z.status=R),Z.pending!==0){if(G(V),V.avail_out===0)return Z.last_flush=-1,c}else if(V.avail_in===0&&ee(_e)<=ee(ve)&&_e!==h)return se(V,-5);if(Z.status===666&&V.avail_in!==0)return se(V,-5);if(V.avail_in!==0||Z.lookahead!==0||_e!==u&&Z.status!==666){var $e=Z.strategy===2?function(me,ke){for(var rt;;){if(me.lookahead===0&&(qe(me),me.lookahead===0)){if(ke===u)return T;break}if(me.match_length=0,rt=a._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,rt&&(q(me,!1),me.strm.avail_out===0))return T}return me.insert=0,ke===h?(q(me,!0),me.strm.avail_out===0?K:z):me.last_lit&&(q(me,!1),me.strm.avail_out===0)?T:Q}(Z,_e):Z.strategy===3?function(me,ke){for(var rt,Ne,Tt,or,bi=me.window;;){if(me.lookahead<=D){if(qe(me),me.lookahead<=D&&ke===u)return T;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=P&&0<me.strstart&&(Ne=bi[Tt=me.strstart-1])===bi[++Tt]&&Ne===bi[++Tt]&&Ne===bi[++Tt]){or=me.strstart+D;do;while(Ne===bi[++Tt]&&Ne===bi[++Tt]&&Ne===bi[++Tt]&&Ne===bi[++Tt]&&Ne===bi[++Tt]&&Ne===bi[++Tt]&&Ne===bi[++Tt]&&Ne===bi[++Tt]&&Tt<or);me.match_length=D-(or-Tt),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=P?(rt=a._tr_tally(me,1,me.match_length-P),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(rt=a._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),rt&&(q(me,!1),me.strm.avail_out===0))return T}return me.insert=0,ke===h?(q(me,!0),me.strm.avail_out===0?K:z):me.last_lit&&(q(me,!1),me.strm.avail_out===0)?T:Q}(Z,_e):i[Z.level].func(Z,_e);if($e!==K&&$e!==z||(Z.status=666),$e===T||$e===K)return V.avail_out===0&&(Z.last_flush=-1),c;if($e===Q&&(_e===1?a._tr_align(Z):_e!==5&&(a._tr_stored_block(Z,0,0,!1),_e===3&&(ue(Z.head),Z.lookahead===0&&(Z.strstart=0,Z.block_start=0,Z.insert=0))),G(V),V.avail_out===0))return Z.last_flush=-1,c}return _e!==h?c:Z.wrap<=0?1:(Z.wrap===2?(ge(Z,255&V.adler),ge(Z,V.adler>>8&255),ge(Z,V.adler>>16&255),ge(Z,V.adler>>24&255),ge(Z,255&V.total_in),ge(Z,V.total_in>>8&255),ge(Z,V.total_in>>16&255),ge(Z,V.total_in>>24&255)):(ne(Z,V.adler>>>16),ne(Z,65535&V.adler)),G(V),0<Z.wrap&&(Z.wrap=-Z.wrap),Z.pending!==0?c:1)},e.deflateEnd=function(V){var _e;return V&&V.state?(_e=V.state.status)!==I&&_e!==69&&_e!==73&&_e!==91&&_e!==103&&_e!==R&&_e!==666?se(V,A):(V.state=null,_e===R?se(V,-3):c):A},e.deflateSetDictionary=function(V,_e){var ve,Z,Y,oe,Te,$e,me,ke,rt=_e.length;if(!V||!V.state||(oe=(ve=V.state).wrap)===2||oe===1&&ve.status!==I||ve.lookahead)return A;for(oe===1&&(V.adler=n(V.adler,_e,rt,0)),ve.wrap=0,rt>=ve.w_size&&(oe===0&&(ue(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0),ke=new r.Buf8(ve.w_size),r.arraySet(ke,_e,rt-ve.w_size,ve.w_size,0),_e=ke,rt=ve.w_size),Te=V.avail_in,$e=V.next_in,me=V.input,V.avail_in=rt,V.next_in=0,V.input=_e,qe(ve);ve.lookahead>=P;){for(Z=ve.strstart,Y=ve.lookahead-(P-1);ve.ins_h=(ve.ins_h<<ve.hash_shift^ve.window[Z+P-1])&ve.hash_mask,ve.prev[Z&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=Z,Z++,--Y;);ve.strstart=Z,ve.lookahead=P-1,qe(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=P-1,ve.match_available=0,V.next_in=$e,V.input=me,V.avail_in=Te,ve.wrap=oe,c},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,t,e){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,t,e){"use strict";t.exports=function(i,r){var a,n,o,l,u,h,c,A,d,f,p,m,g,y,v,_,S,F,P,D,$,I,R,T,Q;a=i.state,n=i.next_in,T=i.input,o=n+(i.avail_in-5),l=i.next_out,Q=i.output,u=l-(r-i.avail_out),h=l+(i.avail_out-257),c=a.dmax,A=a.wsize,d=a.whave,f=a.wnext,p=a.window,m=a.hold,g=a.bits,y=a.lencode,v=a.distcode,_=(1<<a.lenbits)-1,S=(1<<a.distbits)-1;e:do{g<15&&(m+=T[n++]<<g,g+=8,m+=T[n++]<<g,g+=8),F=y[m&_];t:for(;;){if(m>>>=P=F>>>24,g-=P,(P=F>>>16&255)===0)Q[l++]=65535&F;else{if(!(16&P)){if((64&P)==0){F=y[(65535&F)+(m&(1<<P)-1)];continue t}if(32&P){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}D=65535&F,(P&=15)&&(g<P&&(m+=T[n++]<<g,g+=8),D+=m&(1<<P)-1,m>>>=P,g-=P),g<15&&(m+=T[n++]<<g,g+=8,m+=T[n++]<<g,g+=8),F=v[m&S];i:for(;;){if(m>>>=P=F>>>24,g-=P,!(16&(P=F>>>16&255))){if((64&P)==0){F=v[(65535&F)+(m&(1<<P)-1)];continue i}i.msg="invalid distance code",a.mode=30;break e}if($=65535&F,g<(P&=15)&&(m+=T[n++]<<g,(g+=8)<P&&(m+=T[n++]<<g,g+=8)),c<($+=m&(1<<P)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(m>>>=P,g-=P,(P=l-u)<$){if(d<(P=$-P)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(R=p,(I=0)===f){if(I+=A-P,P<D){for(D-=P;Q[l++]=p[I++],--P;);I=l-$,R=Q}}else if(f<P){if(I+=A+f-P,(P-=f)<D){for(D-=P;Q[l++]=p[I++],--P;);if(I=0,f<D){for(D-=P=f;Q[l++]=p[I++],--P;);I=l-$,R=Q}}}else if(I+=f-P,P<D){for(D-=P;Q[l++]=p[I++],--P;);I=l-$,R=Q}for(;2<D;)Q[l++]=R[I++],Q[l++]=R[I++],Q[l++]=R[I++],D-=3;D&&(Q[l++]=R[I++],1<D&&(Q[l++]=R[I++]))}else{for(I=l-$;Q[l++]=Q[I++],Q[l++]=Q[I++],Q[l++]=Q[I++],2<(D-=3););D&&(Q[l++]=Q[I++],1<D&&(Q[l++]=Q[I++]))}break}}break}}while(n<o&&l<h);n-=D=g>>3,m&=(1<<(g-=D<<3))-1,i.next_in=n,i.next_out=l,i.avail_in=n<o?o-n+5:5-(n-o),i.avail_out=l<h?h-l+257:257-(l-h),a.hold=m,a.bits=g}},{}],49:[function(s,t,e){"use strict";var i=s("../utils/common"),r=s("./adler32"),a=s("./crc32"),n=s("./inffast"),o=s("./inftrees"),l=1,u=2,h=0,c=-2,A=1,d=852,f=592;function p(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(I){var R;return I&&I.state?(R=I.state,I.total_in=I.total_out=R.total=0,I.msg="",R.wrap&&(I.adler=1&R.wrap),R.mode=A,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new i.Buf32(d),R.distcode=R.distdyn=new i.Buf32(f),R.sane=1,R.back=-1,h):c}function y(I){var R;return I&&I.state?((R=I.state).wsize=0,R.whave=0,R.wnext=0,g(I)):c}function v(I,R){var T,Q;return I&&I.state?(Q=I.state,R<0?(T=0,R=-R):(T=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?c:(Q.window!==null&&Q.wbits!==R&&(Q.window=null),Q.wrap=T,Q.wbits=R,y(I))):c}function _(I,R){var T,Q;return I?(Q=new m,(I.state=Q).window=null,(T=v(I,R))!==h&&(I.state=null),T):c}var S,F,P=!0;function D(I){if(P){var R;for(S=new i.Buf32(512),F=new i.Buf32(32),R=0;R<144;)I.lens[R++]=8;for(;R<256;)I.lens[R++]=9;for(;R<280;)I.lens[R++]=7;for(;R<288;)I.lens[R++]=8;for(o(l,I.lens,0,288,S,0,I.work,{bits:9}),R=0;R<32;)I.lens[R++]=5;o(u,I.lens,0,32,F,0,I.work,{bits:5}),P=!1}I.lencode=S,I.lenbits=9,I.distcode=F,I.distbits=5}function $(I,R,T,Q){var K,z=I.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new i.Buf8(z.wsize)),Q>=z.wsize?(i.arraySet(z.window,R,T-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(Q<(K=z.wsize-z.wnext)&&(K=Q),i.arraySet(z.window,R,T-Q,K,z.wnext),(Q-=K)?(i.arraySet(z.window,R,T-Q,Q,0),z.wnext=Q,z.whave=z.wsize):(z.wnext+=K,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=K))),0}e.inflateReset=y,e.inflateReset2=v,e.inflateResetKeep=g,e.inflateInit=function(I){return _(I,15)},e.inflateInit2=_,e.inflate=function(I,R){var T,Q,K,z,se,ee,ue,G,q,ge,ne,ye,qe,Ge,it,dt,Re,We,Rt,pi,V,_e,ve,Z,Y=0,oe=new i.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return c;(T=I.state).mode===12&&(T.mode=13),se=I.next_out,K=I.output,ue=I.avail_out,z=I.next_in,Q=I.input,ee=I.avail_in,G=T.hold,q=T.bits,ge=ee,ne=ue,_e=h;e:for(;;)switch(T.mode){case A:if(T.wrap===0){T.mode=13;break}for(;q<16;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if(2&T.wrap&&G===35615){oe[T.check=0]=255&G,oe[1]=G>>>8&255,T.check=a(T.check,oe,2,0),q=G=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&G)<<8)+(G>>8))%31){I.msg="incorrect header check",T.mode=30;break}if((15&G)!=8){I.msg="unknown compression method",T.mode=30;break}if(q-=4,V=8+(15&(G>>>=4)),T.wbits===0)T.wbits=V;else if(V>T.wbits){I.msg="invalid window size",T.mode=30;break}T.dmax=1<<V,I.adler=T.check=1,T.mode=512&G?10:12,q=G=0;break;case 2:for(;q<16;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if(T.flags=G,(255&T.flags)!=8){I.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){I.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=G>>8&1),512&T.flags&&(oe[0]=255&G,oe[1]=G>>>8&255,T.check=a(T.check,oe,2,0)),q=G=0,T.mode=3;case 3:for(;q<32;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}T.head&&(T.head.time=G),512&T.flags&&(oe[0]=255&G,oe[1]=G>>>8&255,oe[2]=G>>>16&255,oe[3]=G>>>24&255,T.check=a(T.check,oe,4,0)),q=G=0,T.mode=4;case 4:for(;q<16;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}T.head&&(T.head.xflags=255&G,T.head.os=G>>8),512&T.flags&&(oe[0]=255&G,oe[1]=G>>>8&255,T.check=a(T.check,oe,2,0)),q=G=0,T.mode=5;case 5:if(1024&T.flags){for(;q<16;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}T.length=G,T.head&&(T.head.extra_len=G),512&T.flags&&(oe[0]=255&G,oe[1]=G>>>8&255,T.check=a(T.check,oe,2,0)),q=G=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(ee<(ye=T.length)&&(ye=ee),ye&&(T.head&&(V=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),i.arraySet(T.head.extra,Q,z,ye,V)),512&T.flags&&(T.check=a(T.check,Q,ye,z)),ee-=ye,z+=ye,T.length-=ye),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(ee===0)break e;for(ye=0;V=Q[z+ye++],T.head&&V&&T.length<65536&&(T.head.name+=String.fromCharCode(V)),V&&ye<ee;);if(512&T.flags&&(T.check=a(T.check,Q,ye,z)),ee-=ye,z+=ye,V)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(ee===0)break e;for(ye=0;V=Q[z+ye++],T.head&&V&&T.length<65536&&(T.head.comment+=String.fromCharCode(V)),V&&ye<ee;);if(512&T.flags&&(T.check=a(T.check,Q,ye,z)),ee-=ye,z+=ye,V)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;q<16;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if(G!==(65535&T.check)){I.msg="header crc mismatch",T.mode=30;break}q=G=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),I.adler=T.check=0,T.mode=12;break;case 10:for(;q<32;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}I.adler=T.check=p(G),q=G=0,T.mode=11;case 11:if(T.havedict===0)return I.next_out=se,I.avail_out=ue,I.next_in=z,I.avail_in=ee,T.hold=G,T.bits=q,2;I.adler=T.check=1,T.mode=12;case 12:if(R===5||R===6)break e;case 13:if(T.last){G>>>=7&q,q-=7&q,T.mode=27;break}for(;q<3;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}switch(T.last=1&G,q-=1,3&(G>>>=1)){case 0:T.mode=14;break;case 1:if(D(T),T.mode=20,R!==6)break;G>>>=2,q-=2;break e;case 2:T.mode=17;break;case 3:I.msg="invalid block type",T.mode=30}G>>>=2,q-=2;break;case 14:for(G>>>=7&q,q-=7&q;q<32;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if((65535&G)!=(G>>>16^65535)){I.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&G,q=G=0,T.mode=15,R===6)break e;case 15:T.mode=16;case 16:if(ye=T.length){if(ee<ye&&(ye=ee),ue<ye&&(ye=ue),ye===0)break e;i.arraySet(K,Q,z,ye,se),ee-=ye,z+=ye,ue-=ye,se+=ye,T.length-=ye;break}T.mode=12;break;case 17:for(;q<14;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if(T.nlen=257+(31&G),G>>>=5,q-=5,T.ndist=1+(31&G),G>>>=5,q-=5,T.ncode=4+(15&G),G>>>=4,q-=4,286<T.nlen||30<T.ndist){I.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;q<3;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}T.lens[Te[T.have++]]=7&G,G>>>=3,q-=3}for(;T.have<19;)T.lens[Te[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,ve={bits:T.lenbits},_e=o(0,T.lens,0,19,T.lencode,0,T.work,ve),T.lenbits=ve.bits,_e){I.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;dt=(Y=T.lencode[G&(1<<T.lenbits)-1])>>>16&255,Re=65535&Y,!((it=Y>>>24)<=q);){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if(Re<16)G>>>=it,q-=it,T.lens[T.have++]=Re;else{if(Re===16){for(Z=it+2;q<Z;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if(G>>>=it,q-=it,T.have===0){I.msg="invalid bit length repeat",T.mode=30;break}V=T.lens[T.have-1],ye=3+(3&G),G>>>=2,q-=2}else if(Re===17){for(Z=it+3;q<Z;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}q-=it,V=0,ye=3+(7&(G>>>=it)),G>>>=3,q-=3}else{for(Z=it+7;q<Z;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}q-=it,V=0,ye=11+(127&(G>>>=it)),G>>>=7,q-=7}if(T.have+ye>T.nlen+T.ndist){I.msg="invalid bit length repeat",T.mode=30;break}for(;ye--;)T.lens[T.have++]=V}}if(T.mode===30)break;if(T.lens[256]===0){I.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,ve={bits:T.lenbits},_e=o(l,T.lens,0,T.nlen,T.lencode,0,T.work,ve),T.lenbits=ve.bits,_e){I.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,ve={bits:T.distbits},_e=o(u,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,ve),T.distbits=ve.bits,_e){I.msg="invalid distances set",T.mode=30;break}if(T.mode=20,R===6)break e;case 20:T.mode=21;case 21:if(6<=ee&&258<=ue){I.next_out=se,I.avail_out=ue,I.next_in=z,I.avail_in=ee,T.hold=G,T.bits=q,n(I,ne),se=I.next_out,K=I.output,ue=I.avail_out,z=I.next_in,Q=I.input,ee=I.avail_in,G=T.hold,q=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;dt=(Y=T.lencode[G&(1<<T.lenbits)-1])>>>16&255,Re=65535&Y,!((it=Y>>>24)<=q);){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if(dt&&(240&dt)==0){for(We=it,Rt=dt,pi=Re;dt=(Y=T.lencode[pi+((G&(1<<We+Rt)-1)>>We)])>>>16&255,Re=65535&Y,!(We+(it=Y>>>24)<=q);){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}G>>>=We,q-=We,T.back+=We}if(G>>>=it,q-=it,T.back+=it,T.length=Re,dt===0){T.mode=26;break}if(32&dt){T.back=-1,T.mode=12;break}if(64&dt){I.msg="invalid literal/length code",T.mode=30;break}T.extra=15&dt,T.mode=22;case 22:if(T.extra){for(Z=T.extra;q<Z;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}T.length+=G&(1<<T.extra)-1,G>>>=T.extra,q-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;dt=(Y=T.distcode[G&(1<<T.distbits)-1])>>>16&255,Re=65535&Y,!((it=Y>>>24)<=q);){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if((240&dt)==0){for(We=it,Rt=dt,pi=Re;dt=(Y=T.distcode[pi+((G&(1<<We+Rt)-1)>>We)])>>>16&255,Re=65535&Y,!(We+(it=Y>>>24)<=q);){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}G>>>=We,q-=We,T.back+=We}if(G>>>=it,q-=it,T.back+=it,64&dt){I.msg="invalid distance code",T.mode=30;break}T.offset=Re,T.extra=15&dt,T.mode=24;case 24:if(T.extra){for(Z=T.extra;q<Z;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}T.offset+=G&(1<<T.extra)-1,G>>>=T.extra,q-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){I.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(ue===0)break e;if(ye=ne-ue,T.offset>ye){if((ye=T.offset-ye)>T.whave&&T.sane){I.msg="invalid distance too far back",T.mode=30;break}qe=ye>T.wnext?(ye-=T.wnext,T.wsize-ye):T.wnext-ye,ye>T.length&&(ye=T.length),Ge=T.window}else Ge=K,qe=se-T.offset,ye=T.length;for(ue<ye&&(ye=ue),ue-=ye,T.length-=ye;K[se++]=Ge[qe++],--ye;);T.length===0&&(T.mode=21);break;case 26:if(ue===0)break e;K[se++]=T.length,ue--,T.mode=21;break;case 27:if(T.wrap){for(;q<32;){if(ee===0)break e;ee--,G|=Q[z++]<<q,q+=8}if(ne-=ue,I.total_out+=ne,T.total+=ne,ne&&(I.adler=T.check=T.flags?a(T.check,K,ne,se-ne):r(T.check,K,ne,se-ne)),ne=ue,(T.flags?G:p(G))!==T.check){I.msg="incorrect data check",T.mode=30;break}q=G=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;q<32;){if(ee===0)break e;ee--,G+=Q[z++]<<q,q+=8}if(G!==(4294967295&T.total)){I.msg="incorrect length check",T.mode=30;break}q=G=0}T.mode=29;case 29:_e=1;break e;case 30:_e=-3;break e;case 31:return-4;case 32:default:return c}return I.next_out=se,I.avail_out=ue,I.next_in=z,I.avail_in=ee,T.hold=G,T.bits=q,(T.wsize||ne!==I.avail_out&&T.mode<30&&(T.mode<27||R!==4))&&$(I,I.output,I.next_out,ne-I.avail_out)?(T.mode=31,-4):(ge-=I.avail_in,ne-=I.avail_out,I.total_in+=ge,I.total_out+=ne,T.total+=ne,T.wrap&&ne&&(I.adler=T.check=T.flags?a(T.check,K,ne,I.next_out-ne):r(T.check,K,ne,I.next_out-ne)),I.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(ge==0&&ne===0||R===4)&&_e===h&&(_e=-5),_e)},e.inflateEnd=function(I){if(!I||!I.state)return c;var R=I.state;return R.window&&(R.window=null),I.state=null,h},e.inflateGetHeader=function(I,R){var T;return I&&I.state?(2&(T=I.state).wrap)==0?c:((T.head=R).done=!1,h):c},e.inflateSetDictionary=function(I,R){var T,Q=R.length;return I&&I.state?(T=I.state).wrap!==0&&T.mode!==11?c:T.mode===11&&r(1,R,Q,0)!==T.check?-3:$(I,R,Q,Q)?(T.mode=31,-4):(T.havedict=1,h):c},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,t,e){"use strict";var i=s("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(l,u,h,c,A,d,f,p){var m,g,y,v,_,S,F,P,D,$=p.bits,I=0,R=0,T=0,Q=0,K=0,z=0,se=0,ee=0,ue=0,G=0,q=null,ge=0,ne=new i.Buf16(16),ye=new i.Buf16(16),qe=null,Ge=0;for(I=0;I<=15;I++)ne[I]=0;for(R=0;R<c;R++)ne[u[h+R]]++;for(K=$,Q=15;1<=Q&&ne[Q]===0;Q--);if(Q<K&&(K=Q),Q===0)return A[d++]=20971520,A[d++]=20971520,p.bits=1,0;for(T=1;T<Q&&ne[T]===0;T++);for(K<T&&(K=T),I=ee=1;I<=15;I++)if(ee<<=1,(ee-=ne[I])<0)return-1;if(0<ee&&(l===0||Q!==1))return-1;for(ye[1]=0,I=1;I<15;I++)ye[I+1]=ye[I]+ne[I];for(R=0;R<c;R++)u[h+R]!==0&&(f[ye[u[h+R]]++]=R);if(S=l===0?(q=qe=f,19):l===1?(q=r,ge-=257,qe=a,Ge-=257,256):(q=n,qe=o,-1),I=T,_=d,se=R=G=0,y=-1,v=(ue=1<<(z=K))-1,l===1&&852<ue||l===2&&592<ue)return 1;for(;;){for(F=I-se,D=f[R]<S?(P=0,f[R]):f[R]>S?(P=qe[Ge+f[R]],q[ge+f[R]]):(P=96,0),m=1<<I-se,T=g=1<<z;A[_+(G>>se)+(g-=m)]=F<<24|P<<16|D|0,g!==0;);for(m=1<<I-1;G&m;)m>>=1;if(m!==0?(G&=m-1,G+=m):G=0,R++,--ne[I]==0){if(I===Q)break;I=u[h+f[R]]}if(K<I&&(G&v)!==y){for(se===0&&(se=K),_+=T,ee=1<<(z=I-se);z+se<Q&&!((ee-=ne[z+se])<=0);)z++,ee<<=1;if(ue+=1<<z,l===1&&852<ue||l===2&&592<ue)return 1;A[y=G&v]=K<<24|z<<16|_-d|0}}return G!==0&&(A[_+G]=I-se<<24|64<<16|0),p.bits=K,0}},{"../utils/common":41}],51:[function(s,t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,t,e){"use strict";var i=s("../utils/common"),r=0,a=1;function n(Y){for(var oe=Y.length;0<=--oe;)Y[oe]=0}var o=0,l=29,u=256,h=u+1+l,c=30,A=19,d=2*h+1,f=15,p=16,m=7,g=256,y=16,v=17,_=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(h+2));n($);var I=new Array(2*c);n(I);var R=new Array(512);n(R);var T=new Array(256);n(T);var Q=new Array(l);n(Q);var K,z,se,ee=new Array(c);function ue(Y,oe,Te,$e,me){this.static_tree=Y,this.extra_bits=oe,this.extra_base=Te,this.elems=$e,this.max_length=me,this.has_stree=Y&&Y.length}function G(Y,oe){this.dyn_tree=Y,this.max_code=0,this.stat_desc=oe}function q(Y){return Y<256?R[Y]:R[256+(Y>>>7)]}function ge(Y,oe){Y.pending_buf[Y.pending++]=255&oe,Y.pending_buf[Y.pending++]=oe>>>8&255}function ne(Y,oe,Te){Y.bi_valid>p-Te?(Y.bi_buf|=oe<<Y.bi_valid&65535,ge(Y,Y.bi_buf),Y.bi_buf=oe>>p-Y.bi_valid,Y.bi_valid+=Te-p):(Y.bi_buf|=oe<<Y.bi_valid&65535,Y.bi_valid+=Te)}function ye(Y,oe,Te){ne(Y,Te[2*oe],Te[2*oe+1])}function qe(Y,oe){for(var Te=0;Te|=1&Y,Y>>>=1,Te<<=1,0<--oe;);return Te>>>1}function Ge(Y,oe,Te){var $e,me,ke=new Array(f+1),rt=0;for($e=1;$e<=f;$e++)ke[$e]=rt=rt+Te[$e-1]<<1;for(me=0;me<=oe;me++){var Ne=Y[2*me+1];Ne!==0&&(Y[2*me]=qe(ke[Ne]++,Ne))}}function it(Y){var oe;for(oe=0;oe<h;oe++)Y.dyn_ltree[2*oe]=0;for(oe=0;oe<c;oe++)Y.dyn_dtree[2*oe]=0;for(oe=0;oe<A;oe++)Y.bl_tree[2*oe]=0;Y.dyn_ltree[2*g]=1,Y.opt_len=Y.static_len=0,Y.last_lit=Y.matches=0}function dt(Y){8<Y.bi_valid?ge(Y,Y.bi_buf):0<Y.bi_valid&&(Y.pending_buf[Y.pending++]=Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0}function Re(Y,oe,Te,$e){var me=2*oe,ke=2*Te;return Y[me]<Y[ke]||Y[me]===Y[ke]&&$e[oe]<=$e[Te]}function We(Y,oe,Te){for(var $e=Y.heap[Te],me=Te<<1;me<=Y.heap_len&&(me<Y.heap_len&&Re(oe,Y.heap[me+1],Y.heap[me],Y.depth)&&me++,!Re(oe,$e,Y.heap[me],Y.depth));)Y.heap[Te]=Y.heap[me],Te=me,me<<=1;Y.heap[Te]=$e}function Rt(Y,oe,Te){var $e,me,ke,rt,Ne=0;if(Y.last_lit!==0)for(;$e=Y.pending_buf[Y.d_buf+2*Ne]<<8|Y.pending_buf[Y.d_buf+2*Ne+1],me=Y.pending_buf[Y.l_buf+Ne],Ne++,$e===0?ye(Y,me,oe):(ye(Y,(ke=T[me])+u+1,oe),(rt=S[ke])!==0&&ne(Y,me-=Q[ke],rt),ye(Y,ke=q(--$e),Te),(rt=F[ke])!==0&&ne(Y,$e-=ee[ke],rt)),Ne<Y.last_lit;);ye(Y,g,oe)}function pi(Y,oe){var Te,$e,me,ke=oe.dyn_tree,rt=oe.stat_desc.static_tree,Ne=oe.stat_desc.has_stree,Tt=oe.stat_desc.elems,or=-1;for(Y.heap_len=0,Y.heap_max=d,Te=0;Te<Tt;Te++)ke[2*Te]!==0?(Y.heap[++Y.heap_len]=or=Te,Y.depth[Te]=0):ke[2*Te+1]=0;for(;Y.heap_len<2;)ke[2*(me=Y.heap[++Y.heap_len]=or<2?++or:0)]=1,Y.depth[me]=0,Y.opt_len--,Ne&&(Y.static_len-=rt[2*me+1]);for(oe.max_code=or,Te=Y.heap_len>>1;1<=Te;Te--)We(Y,ke,Te);for(me=Tt;Te=Y.heap[1],Y.heap[1]=Y.heap[Y.heap_len--],We(Y,ke,1),$e=Y.heap[1],Y.heap[--Y.heap_max]=Te,Y.heap[--Y.heap_max]=$e,ke[2*me]=ke[2*Te]+ke[2*$e],Y.depth[me]=(Y.depth[Te]>=Y.depth[$e]?Y.depth[Te]:Y.depth[$e])+1,ke[2*Te+1]=ke[2*$e+1]=me,Y.heap[1]=me++,We(Y,ke,1),2<=Y.heap_len;);Y.heap[--Y.heap_max]=Y.heap[1],function(bi,Ms){var Mi,ds,Dr,Ei,Al,iu,_a=Ms.dyn_tree,Og=Ms.max_code,ru=Ms.stat_desc.static_tree,K0=Ms.stat_desc.has_stree,Yd=Ms.stat_desc.extra_bits,Cc=Ms.stat_desc.extra_base,su=Ms.stat_desc.max_length,Gu=0;for(Ei=0;Ei<=f;Ei++)bi.bl_count[Ei]=0;for(_a[2*bi.heap[bi.heap_max]+1]=0,Mi=bi.heap_max+1;Mi<d;Mi++)su<(Ei=_a[2*_a[2*(ds=bi.heap[Mi])+1]+1]+1)&&(Ei=su,Gu++),_a[2*ds+1]=Ei,Og<ds||(bi.bl_count[Ei]++,Al=0,Cc<=ds&&(Al=Yd[ds-Cc]),iu=_a[2*ds],bi.opt_len+=iu*(Ei+Al),K0&&(bi.static_len+=iu*(ru[2*ds+1]+Al)));if(Gu!==0){do{for(Ei=su-1;bi.bl_count[Ei]===0;)Ei--;bi.bl_count[Ei]--,bi.bl_count[Ei+1]+=2,bi.bl_count[su]--,Gu-=2}while(0<Gu);for(Ei=su;Ei!==0;Ei--)for(ds=bi.bl_count[Ei];ds!==0;)Og<(Dr=bi.heap[--Mi])||(_a[2*Dr+1]!==Ei&&(bi.opt_len+=(Ei-_a[2*Dr+1])*_a[2*Dr],_a[2*Dr+1]=Ei),ds--)}}(Y,oe),Ge(ke,or,Y.bl_count)}function V(Y,oe,Te){var $e,me,ke=-1,rt=oe[1],Ne=0,Tt=7,or=4;for(rt===0&&(Tt=138,or=3),oe[2*(Te+1)+1]=65535,$e=0;$e<=Te;$e++)me=rt,rt=oe[2*($e+1)+1],++Ne<Tt&&me===rt||(Ne<or?Y.bl_tree[2*me]+=Ne:me!==0?(me!==ke&&Y.bl_tree[2*me]++,Y.bl_tree[2*y]++):Ne<=10?Y.bl_tree[2*v]++:Y.bl_tree[2*_]++,ke=me,or=(Ne=0)===rt?(Tt=138,3):me===rt?(Tt=6,3):(Tt=7,4))}function _e(Y,oe,Te){var $e,me,ke=-1,rt=oe[1],Ne=0,Tt=7,or=4;for(rt===0&&(Tt=138,or=3),$e=0;$e<=Te;$e++)if(me=rt,rt=oe[2*($e+1)+1],!(++Ne<Tt&&me===rt)){if(Ne<or)for(;ye(Y,me,Y.bl_tree),--Ne!=0;);else me!==0?(me!==ke&&(ye(Y,me,Y.bl_tree),Ne--),ye(Y,y,Y.bl_tree),ne(Y,Ne-3,2)):Ne<=10?(ye(Y,v,Y.bl_tree),ne(Y,Ne-3,3)):(ye(Y,_,Y.bl_tree),ne(Y,Ne-11,7));ke=me,or=(Ne=0)===rt?(Tt=138,3):me===rt?(Tt=6,3):(Tt=7,4)}}n(ee);var ve=!1;function Z(Y,oe,Te,$e){ne(Y,(o<<1)+($e?1:0),3),function(me,ke,rt,Ne){dt(me),Ne&&(ge(me,rt),ge(me,~rt)),i.arraySet(me.pending_buf,me.window,ke,rt,me.pending),me.pending+=rt}(Y,oe,Te,!0)}e._tr_init=function(Y){ve||(function(){var oe,Te,$e,me,ke,rt=new Array(f+1);for(me=$e=0;me<l-1;me++)for(Q[me]=$e,oe=0;oe<1<<S[me];oe++)T[$e++]=me;for(T[$e-1]=me,me=ke=0;me<16;me++)for(ee[me]=ke,oe=0;oe<1<<F[me];oe++)R[ke++]=me;for(ke>>=7;me<c;me++)for(ee[me]=ke<<7,oe=0;oe<1<<F[me]-7;oe++)R[256+ke++]=me;for(Te=0;Te<=f;Te++)rt[Te]=0;for(oe=0;oe<=143;)$[2*oe+1]=8,oe++,rt[8]++;for(;oe<=255;)$[2*oe+1]=9,oe++,rt[9]++;for(;oe<=279;)$[2*oe+1]=7,oe++,rt[7]++;for(;oe<=287;)$[2*oe+1]=8,oe++,rt[8]++;for(Ge($,h+1,rt),oe=0;oe<c;oe++)I[2*oe+1]=5,I[2*oe]=qe(oe,5);K=new ue($,S,u+1,h,f),z=new ue(I,F,0,c,f),se=new ue(new Array(0),P,0,A,m)}(),ve=!0),Y.l_desc=new G(Y.dyn_ltree,K),Y.d_desc=new G(Y.dyn_dtree,z),Y.bl_desc=new G(Y.bl_tree,se),Y.bi_buf=0,Y.bi_valid=0,it(Y)},e._tr_stored_block=Z,e._tr_flush_block=function(Y,oe,Te,$e){var me,ke,rt=0;0<Y.level?(Y.strm.data_type===2&&(Y.strm.data_type=function(Ne){var Tt,or=4093624447;for(Tt=0;Tt<=31;Tt++,or>>>=1)if(1&or&&Ne.dyn_ltree[2*Tt]!==0)return r;if(Ne.dyn_ltree[18]!==0||Ne.dyn_ltree[20]!==0||Ne.dyn_ltree[26]!==0)return a;for(Tt=32;Tt<u;Tt++)if(Ne.dyn_ltree[2*Tt]!==0)return a;return r}(Y)),pi(Y,Y.l_desc),pi(Y,Y.d_desc),rt=function(Ne){var Tt;for(V(Ne,Ne.dyn_ltree,Ne.l_desc.max_code),V(Ne,Ne.dyn_dtree,Ne.d_desc.max_code),pi(Ne,Ne.bl_desc),Tt=A-1;3<=Tt&&Ne.bl_tree[2*D[Tt]+1]===0;Tt--);return Ne.opt_len+=3*(Tt+1)+5+5+4,Tt}(Y),me=Y.opt_len+3+7>>>3,(ke=Y.static_len+3+7>>>3)<=me&&(me=ke)):me=ke=Te+5,Te+4<=me&&oe!==-1?Z(Y,oe,Te,$e):Y.strategy===4||ke===me?(ne(Y,2+($e?1:0),3),Rt(Y,$,I)):(ne(Y,4+($e?1:0),3),function(Ne,Tt,or,bi){var Ms;for(ne(Ne,Tt-257,5),ne(Ne,or-1,5),ne(Ne,bi-4,4),Ms=0;Ms<bi;Ms++)ne(Ne,Ne.bl_tree[2*D[Ms]+1],3);_e(Ne,Ne.dyn_ltree,Tt-1),_e(Ne,Ne.dyn_dtree,or-1)}(Y,Y.l_desc.max_code+1,Y.d_desc.max_code+1,rt+1),Rt(Y,Y.dyn_ltree,Y.dyn_dtree)),it(Y),$e&&dt(Y)},e._tr_tally=function(Y,oe,Te){return Y.pending_buf[Y.d_buf+2*Y.last_lit]=oe>>>8&255,Y.pending_buf[Y.d_buf+2*Y.last_lit+1]=255&oe,Y.pending_buf[Y.l_buf+Y.last_lit]=255&Te,Y.last_lit++,oe===0?Y.dyn_ltree[2*Te]++:(Y.matches++,oe--,Y.dyn_ltree[2*(T[Te]+u+1)]++,Y.dyn_dtree[2*q(oe)]++),Y.last_lit===Y.lit_bufsize-1},e._tr_align=function(Y){ne(Y,2,3),ye(Y,g,$),function(oe){oe.bi_valid===16?(ge(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):8<=oe.bi_valid&&(oe.pending_buf[oe.pending++]=255&oe.bi_buf,oe.bi_buf>>=8,oe.bi_valid-=8)}(Y)}},{"../utils/common":41}],53:[function(s,t,e){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,t,e){(function(i){(function(r,a){"use strict";if(!r.setImmediate){var n,o,l,u,h=1,c={},A=!1,d=r.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(r);f=f&&f.setTimeout?f:r,n={}.toString.call(r.process)==="[object process]"?function(y){process.nextTick(function(){m(y)})}:function(){if(r.postMessage&&!r.importScripts){var y=!0,v=r.onmessage;return r.onmessage=function(){y=!1},r.postMessage("","*"),r.onmessage=v,y}}()?(u="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",g,!1):r.attachEvent("onmessage",g),function(y){r.postMessage(u+y,"*")}):r.MessageChannel?((l=new MessageChannel).port1.onmessage=function(y){m(y.data)},function(y){l.port2.postMessage(y)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,function(y){var v=d.createElement("script");v.onreadystatechange=function(){m(y),v.onreadystatechange=null,o.removeChild(v),v=null},o.appendChild(v)}):function(y){setTimeout(m,0,y)},f.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var v=new Array(arguments.length-1),_=0;_<v.length;_++)v[_]=arguments[_+1];var S={callback:y,args:v};return c[h]=S,n(h),h++},f.clearImmediate=p}function p(y){delete c[y]}function m(y){if(A)setTimeout(m,0,y);else{var v=c[y];if(v){A=!0;try{(function(_){var S=_.callback,F=_.args;switch(F.length){case 0:S();break;case 1:S(F[0]);break;case 2:S(F[0],F[1]);break;case 3:S(F[0],F[1],F[2]);break;default:S.apply(a,F)}})(v)}finally{p(y),A=!1}}}}function g(y){y.source===r&&typeof y.data=="string"&&y.data.indexOf(u)===0&&m(+y.data.slice(u.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var zI=dT(uD(),1),GI=dT(cD(),1);var mw=function(s,t){return mw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])},mw(s,t)};function U(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mw(s,t);function e(){this.constructor=s}s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var En=function(){return En=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},En.apply(this,arguments)};function Xe(s,t,e,i){function r(a){return a instanceof e?a:new e(function(n){n(a)})}return new(e||(e=Promise))(function(a,n){function o(h){try{u(i.next(h))}catch(c){n(c)}}function l(h){try{u(i.throw(h))}catch(c){n(c)}}function u(h){h.done?a(h.value):r(h.value).then(o,l)}u((i=i.apply(s,t||[])).next())})}function ai(s,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,n=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return n.next=o(0),n.throw=o(1),n.return=o(2),typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function o(u){return function(h){return l([u,h])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;n&&(n=0,u[0]&&(e=0)),e;)try{if(i=1,r&&(a=u[0]&2?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(s,e)}catch(h){u=[6,h],r=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Rc(s){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&s[t],i=0;if(e)return e.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ch(s,t){var e=typeof Symbol=="function"&&s[Symbol.iterator];if(!e)return s;var i=e.call(s),r,a=[],n;try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(o){n={error:o}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return a}function Au(){for(var s=[],t=0;t<arguments.length;t++)s=s.concat(ch(arguments[t]));return s}var wt=class s{constructor(t){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=t}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(t,e){return t+this.value*(e-t)}static normalize(t,e,i){return t instanceof s?t:e===i?new s(0):new s(Math.min(Math.max((t-e)*(1/(i-e)),0),1)*100)}};function ii(s){return new wt(s)}var Ps=ii(0),Be=ii(100),Ye=ii(50);function gw(s){return s instanceof wt}function ca(s){return Number(s)!==s}function mQ(s){return{}.toString.call(s)}function da(s){if(s!=null&&!ie(s)){let t=Number(s);return ca(t)&&Mo(s)&&s!=""&&s.match(/[0-9]+/)?da(s.replace(/[^0-9.\-]+/g,"")):t}return s}function AD(s){if(Dy(s))return new Date(s);if(ie(s))return new Date(s);{let t=Number(s);return ie(t)?new Date(t):new Date(s)}}function fD(s){if(ca(s))return"NaN";if(s===1/0)return"Infinity";if(s===-1/0)return"-Infinity";if(s===0&&1/s===-1/0)return"-0";let t=s<0;s=Math.abs(s);let e=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+s),i=e[1],r=e[2]||"",a;if(e[3]===void 0)a=r===""?i:i+"."+r;else{let n=+e[3];if(s<1){let o=n-1;a="0."+dD("0",o)+i+r}else{let o=n-r.length;o===0?a=i+r:o<0?a=i+r.slice(0,o)+"."+r.slice(o):a=i+r+dD("0",o)}}return t?"-"+a:a}function dD(s,t){return new Array(t+1).join(s)}function Dy(s){return mQ(s)==="[object Date]"}function Mo(s){return typeof s=="string"}function ie(s){return typeof s=="number"&&Number(s)==s}function oo(s){return typeof s=="object"&&s!==null}function Oy(s){return Array.isArray(s)}var lo="__\xA7\xA7\xA7__",dh="__\xA7\xA7\xA7\xA7__";function vl(s,t){let e=s.length;for(let i=0;i<e;++i)if(s[i]===t)return i;return-1}function pD(s,t){let e=s.length;for(let i=0;i<e;++i)if(t(s[i]))return!0;return!1}function $p(s,t){let e=s.length,i=new Array(e);for(let r=0;r<e;++r)i[r]=t(s[r],r);return i}function te(s,t){let e=s.length;for(let i=0;i<e;++i)t(s[i],i)}function Ah(s,t){let e=s.length;for(;e>0;)--e,t(s[e],e)}function kp(s,t){let e=s.length;for(let i=0;i<e&&t(s[i],i);++i);}function Ts(s,t){let e=!1,i=0;for(;;){if(i=s.indexOf(t,i),i===-1)return e;e=!0,s.splice(i,1)}}function Yr(s,t){let e=s.indexOf(t);return e!==-1?(s.splice(e,1),!0):!1}function Mp(s,t,e){let i=vl(s,t);i!==-1&&Ly(s,i),e==null?s.push(t):Rp(s,e,t)}function fh(s,t){s.indexOf(t)===-1&&s.push(t)}function Ep(s){let t=s.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=s[i];return e}function Rp(s,t,e){s.splice(t,0,e)}function Ly(s,t){s.splice(t,1)}function yw(s,t){let e=s.length;for(let i=0;i<e;++i)if(t(s[i],i))return i;return-1}function gQ(s,t){let e=s.length;for(;e>0;)if(--e,t(s[e],e))return e;return-1}function Iy(s,t){let e=yw(s,t);if(e!==-1)return s[e]}function mD(s,t){let e=gQ(s,t);if(e!==-1)return s[e]}function Np(s,t){let e=0,i=s.length,r=!1;for(;e<i;){let a=e+i>>1,n=t(s[a]);n<0?e=a+1:n===0?(r=!0,e=a+1):i=a}return{found:r,index:r?e-1:e}}function $y(s,t){let e=0,i=s.length,r=!1;for(;e<i;){let a=e+i>>1,n=t(s[a]);n<0?e=a+1:(n===0&&(r=!0),i=a)}return{found:r,index:e}}function Nc(s,t){let e=s.length;for(;e>0;)--e,t(s[e])||s.splice(e,1)}function br(s){return Object.keys(s)}function bw(s,t){return br(s).sort(t)}function uo(s){return Object.assign({},s)}function Mt(s,t){br(s).forEach(e=>{t(e,s[e])})}function gD(s,t){for(let e in s)if(yQ(s,e)&&!t(e,s[e]))break}function fu(s,t,e){te(bw(s,e),i=>{t(i,s[i])})}function yQ(s,t){return{}.hasOwnProperty.call(s,t)}var ph=class{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}},vr=class{constructor(t){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=t}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}},ky=class extends ph{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){te(this._disposers,t=>{t.dispose()})}},$r=class extends ph{constructor(t){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=t}_dispose(){te(this._disposers,t=>{t.dispose()})}get disposers(){return this._disposers}};var mh=class extends vr{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new vr(()=>{--this._counter,this._counter===0&&this.dispose()})}};function bD(s){s.parentNode&&s.parentNode.removeChild(s)}function rr(s,t,e,i){return s.addEventListener(t,e,i||!1),new vr(()=>{s.removeEventListener(t,e,i||!1)})}function Ry(s){return rr(window,"resize",t=>{s()})}function dn(s){switch(s){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function Ny(s){return s.pointerId||0}function vD(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let s=document.createElement("button");s.style.position="fixed",s.style.top="0px",s.style.left="-10000px",document.body.appendChild(s),s.focus(),s.blur(),document.body.removeChild(s)}}function xD(s){s&&s.focus()}function Vy(s){if(dn("pointerevents"))return s;if(dn("touchevents"))switch(s){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(dn("mouseevents"))switch(s){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return s}function Up(s){if(typeof Touch<"u"&&s instanceof Touch)return!0;if(typeof PointerEvent<"u"&&s instanceof PointerEvent&&s.pointerType!=null)switch(s.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(s instanceof MouseEvent)}else if(s.type!=null&&s.type.match(/^mouse/))return!1;return!0}function Qp(s,t,e){s.style[t]=e}function wD(s,t){return s.style[t]}function xw(s){if(s.composedPath){let t=s.composedPath();return t.length===0?null:t[0]}else return s.target}function bQ(s,t){let e=t;for(;;){if(s===e)return!0;if(e.parentNode===null){if(e.host==null)return!1;e=e.host}else e=e.parentNode}}function bA(s,t){return s.target&&bQ(t.root.dom,s.target)}function yh(s,t){t?s.style.pointerEvents="auto":s.style.pointerEvents="none"}function pu(s){if(s.key!==void 0)return s.key;switch(s.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+s.keyCode}function Hp(s){let t=s;for(;;){if(t.parentNode===null)return t.host!=null?t:null;t=t.parentNode}}var vw;function vQ(s,t=""){if(s===null){if(vw==null){let e=document.createElement("style");e.type="text/css",t!=""&&e.setAttribute("nonce",t),document.head.appendChild(e),vw=e.sheet}return vw}else{let e=document.createElement("style");return e.type="text/css",t!=""&&e.setAttribute("nonce",t),s.appendChild(e),e.sheet}}function yD(s,t){let e=s.cssRules.length;return s.insertRule(t+"{}",e),s.cssRules[e]}var Kr=class extends ph{constructor(t,e,i,r=""){super(),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._root=vQ(t,r);try{this._rule=yD(this._root,e)}catch{this._rule=yD(this._root,":not(*)")}Mt(i,(a,n)=>{this.setStyle(a,n)})}set selector(t){this._rule.selectorText=t}get selector(){return this._rule.selectorText}_dispose(){let t=vl(this._root.cssRules,this._rule);if(t===-1)throw new Error("Could not dispose StyleRule");this._root.deleteRule(t)}_setVendorPrefixName(t,e){let i=this._rule.style;i.setProperty("-webkit-"+t,e,""),i.setProperty("-moz-"+t,e,""),i.setProperty("-ms-"+t,e,""),i.setProperty("-o-"+t,e,""),i.setProperty(t,e,"")}setStyle(t,e){t==="transition"?this._setVendorPrefixName(t,e):this._rule.style.setProperty(t,e,"")}};function xQ(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function CD(){return xQ()?1:void 0}function Xt(s,t){return ie(s)?s:s!=null&&ie(s.value)&&ie(t)?t*s.value:0}function Uy(s){let t=(""+s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function Xr(s,t=0,e="0"){return typeof s!="string"&&(s=s.toString()),t>s.length?Array(t-s.length+1).join(e)+s:s}function wQ(s){return s.replace(/^[\s]*/,"")}function CQ(s){return s.replace(/[\s]*$/,"")}function gh(s){return wQ(CQ(s))}function _D(s,t,e=!1,i="..."){if(s.length>t){let r=t-1;for(;r>=0&&s.charAt(r).match(/\w/);)r--;return r>=0&&e==!1?s.substring(0,r+1)+"...":s.substring(0,t)+i}else return s}function SD(s){if(typeof s>"u")return"string";s=s.toLowerCase().replace(/^\[[^\]]*\]/,""),s=s.replace(/\[[^\]]+\]/,""),s=s.trim();let t=s.match(/\/(date|number|duration)$/);return t?t[1]:s==="number"?"number":s==="date"?"date":s==="duration"?"duration":s.match(/[#0]/)?"number":s.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function vA(s){return s.replace(/\/(date|number|duration)$/i,"")}function ww(s){return s&&s.replace(/<[^>]*>/g,"")}function Cw(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function BD(s){let t=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,e=/([^اأدذرزو]*[اأدذرزو])/gi,i=s.split(/(\s+)/),r=[];return i.forEach(a=>{if(a.match(/^\s+$/))(a=" ")&&(a="  "),r.push(a);else if(t.test(a)){let n=a.split(e).filter(o=>o!=="");r=r.concat(n)}else r=r.concat([...a])}),r}function _w(s,t=!1){let e=new Date(s.getFullYear(),0,0),i=s.getTime()-e.getTime()+(e.getTimezoneOffset()-s.getTimezoneOffset())*60*1e3,r=1e3*60*60*24;return Math.floor(i/r)}function Vp(s,t=!1){let e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-i);let r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)}function FD(s,t=!1){let e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=e.getUTCDay()||7;return e.setUTCDate(e.getUTCDate()+4-i),new Date(Date.UTC(e.getUTCFullYear(),0,1)).getFullYear()}function PD(s,t=!1){let e=Vp(new Date(s.getFullYear(),s.getMonth(),1),t),i=Vp(s,t);return i==1&&(i=53),i-e+1}function TD(s,t,e=1,i=!1){let r=new Date(t,0,4,0,0,0,0);return i&&r.setUTCFullYear(t),s*7+e-((r.getDay()||7)+3)}function jp(s,t){return s>12?s-=12:s===0&&(s=12),t!=null?s+(t-1):s}function Wp(s,t=!1,e=!1,i=!1,r){if(i)return t?"Coordinated Universal Time":"UTC";if(r){let o=s.toLocaleString("en-US",{timeZone:r}),l=s.toLocaleString("en-US",{timeZone:r,timeZoneName:t?"long":"short"});return gh(l.substr(o.length))}let a=s.toLocaleString("UTC"),n=s.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(a.length);return e===!1&&(n=n.replace(/ (standard|daylight|summer|winter) /i," ")),gh(n)}function DD(s,t){let e=t||new Date(Date.UTC(2012,0,1,0,0,0,0)),i=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:s})).getTime()-i.getTime())/6e4*-1}function Sw(s){return s.charAt(0).toUpperCase()+s.slice(1)}function Bw(s){let t,e,i,r=s.h,a=s.s,n=s.l;if(a==0)t=e=i=n;else{let o=function(c,A,d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?c+(A-c)*6*d:d<.5?A:d<.6666666666666666?c+(A-c)*(.6666666666666666-d)*6:c},l=n<.5?n*(1+a):n+a-n*a,u=2*n-l;t=o(u,l,r+1/3),e=o(u,l,r),i=o(u,l,r-1/3)}return{r:Math.round(t*255),g:Math.round(e*255),b:Math.round(i*255)}}function Fw(s){let t=s.r/255,e=s.g/255,i=s.b/255,r=Math.max(t,e,i),a=Math.min(t,e,i),n=0,o=0,l=(r+a)/2;if(r===a)n=o=0;else{let u=r-a;switch(o=l>.5?u/(2-r-a):u/(r+a),r){case t:n=(e-i)/u+(e<i?6:0);break;case e:n=(i-t)/u+2;break;case i:n=(t-e)/u+4;break}n/=6}return{h:n,s:o,l}}function OD(s,t){return s&&{r:Math.max(0,Math.min(255,s.r+My(s.r,t))),g:Math.max(0,Math.min(255,s.g+My(s.g,t))),b:Math.max(0,Math.min(255,s.b+My(s.b,t))),a:s.a}}function My(s,t){let e=t>0?255-s:s;return Math.round(e*t)}function LD(s,t){if(s){let e=Math.min(Math.max(s.r,s.g,s.b),230),i=My(e,t);return{r:Math.max(0,Math.min(255,Math.round(s.r+i))),g:Math.max(0,Math.min(255,Math.round(s.g+i))),b:Math.max(0,Math.min(255,Math.round(s.b+i))),a:s.a}}else return s}function Ey(s){return(s.r*299+s.g*587+s.b*114)/1e3>=128}function ID(s,t){if(s===void 0||t==1)return s;let e=Fw(s);return e.s=t,Bw(e)}function $D(s,t={r:255,g:255,b:255},e={r:255,g:255,b:255}){let i=t,r=e;return Ey(e)&&(i=e,r=t),Ey(s)?r:i}function yt(s,t){return s||(s=[]),[...s,...t].filter((e,i,r)=>r.indexOf(e)===i)}function Qy(s,t){return!(!t||s.left!=t.left||s.right!=t.right||s.top!=t.top||s.bottom!=t.bottom)}function kD(s){return s[0]==="#"&&(s=s.substr(1)),s.length==3&&(s=s[0].repeat(2)+s[1].repeat(2)+s[2].repeat(2)),parseInt(s,16)}function _Q(s){s=s.replace(/[ ]/g,"");let t=s.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(t=s.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!t)return 0;let e="";for(let i=1;i<=3;i++){let r=parseInt(t[i]).toString(16);r.length==1&&(r="0"+r),e+=r}return kD(e)}function za(s){return Ct.fromAny(s)}var Ct=class s{constructor(t){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=t|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(t=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+t+")"}toCSSHex(){return"#"+Xr(this.r.toString(16),2)+Xr(this.g.toString(16),2)+Xr(this.b.toString(16),2)}toHSL(t=1){return Fw({r:this.r,g:this.g,b:this.b,a:t})}static fromHSL(t,e,i){let r=Bw({h:t,s:e,l:i});return this.fromRGB(r.r,r.g,r.b)}toString(){return this.toCSSHex()}static fromHex(t){return new s(t)}static fromRGB(t,e,i){return new s((i|0)+(e<<8)+(t<<16))}static fromString(t){return new s(kD(t))}static fromCSS(t){return new s(_Q(t))}static fromAny(t){if(Mo(t)){if(t[0]=="#")return s.fromString(t);if(t.substr(0,3)=="rgb")return s.fromCSS(t)}else{if(ie(t))return s.fromHex(t);if(t instanceof s)return s.fromHex(t.hex)}throw new Error("Unknown color syntax: "+t)}static alternative(t,e,i){let r=$D({r:t.r,g:t.g,b:t.b},e?{r:e.r,g:e.g,b:e.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(r.r,r.g,r.b)}static interpolate(t,e,i,r="rgb"){if(r=="hsl"){let a=e.toHSL(),n=i.toHSL();return s.fromHSL(mu(t,a.h,n.h),mu(t,a.s,n.s),mu(t,a.l,n.l))}else return s.fromRGB(mu(t,e.r,i.r),mu(t,e.g,i.g),mu(t,e.b,i.b))}static lighten(t,e){let i=OD({r:t.r,g:t.g,b:t.b},e);return s.fromRGB(i.r,i.g,i.b)}static brighten(t,e){let i=LD({r:t.r,g:t.g,b:t.b},e);return s.fromRGB(i.r,i.g,i.b)}static saturate(t,e){let i=ID({r:t.r,g:t.g,b:t.b},e);return s.fromRGB(i.r,i.g,i.b)}};var Rn=class{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;let t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{te(t,e=>{e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return this._listeners.length!==0}hasListenersByType(t){return pD(this._listeners,e=>(e.type===null||e.type===t)&&!e.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(t){delete this._disabled[t]}disableType(t,e=1/0){this._disabled[t]=e}_removeListener(t){if(this._iterating===0){let e=this._listeners.indexOf(t);if(e===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)}_removeExistingListener(t,e,i,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(a=>{a.once===t&&a.type===e&&(i===void 0||a.callback===i)&&a.context===r&&a.disposer.dispose()})}isEnabled(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&this._disabled[t]===void 0}removeType(t){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(e=>{e.type===t&&e.disposer.dispose()})}has(t,e,i){return yw(this._listeners,a=>a.once!==!0&&a.type===t&&(e===void 0||a.callback===e)&&a.context===i)!==-1}_shouldDispatch(t){if(this._disposed)throw new Error("EventDispatcher is disposed");let e=this._disabled[t];return ie(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled}_eachListener(t){++this._iterating;try{te(this._listeners,t)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(te(this._killed,e=>{this._removeListener(e)}),this._killed.length=0)}}dispatch(t,e){this._shouldDispatch(t)&&this._eachListener(i=>{!i.killed&&(i.type===null||i.type===t)&&i.dispatch(t,e)})}_on(t,e,i,r,a,n){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,r);let o={type:e,callback:i,context:r,shouldClone:a,dispatch:n,killed:!1,once:t,disposer:new vr(()=>{o.killed=!0,this._removeListener(o)})};return this._listeners.push(o),o}onAll(t,e,i=!0){return this._on(!1,null,t,e,i,(r,a)=>t.call(e,a)).disposer}on(t,e,i,r=!0){return this._on(!1,t,e,i,r,(a,n)=>e.call(i,n)).disposer}once(t,e,i,r=!0){let a=this._on(!0,t,e,i,r,(n,o)=>{a.disposer.dispose(),e.call(i,o)});return a.disposer}off(t,e,i){this._removeExistingListener(!1,t,e,i)}copyFrom(t){if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");let e=[];return te(t._listeners,i=>{!i.killed&&i.shouldClone&&(i.type===null?e.push(this.onAll(i.callback,i.context)):i.once?e.push(this.once(i.type,i.callback,i.context)):e.push(this.on(i.type,i.callback,i.context)))}),new $r(e)}};function Pw(s){return Xe(this,void 0,void 0,function*(){if(s!==void 0){let t=[];Mt(s,(e,i)=>{t.push(i.waitForStop())}),yield Promise.all(t)}})}function mu(s,t,e){return t+s*(e-t)}function SQ(s,t,e){return s>=1?e:t}function Tw(s,t,e){return new wt(mu(s,t.percent,e.percent))}function BQ(s,t,e){return Ct.interpolate(s,t,e)}function MD(s,t){return typeof s=="number"&&typeof t=="number"?mu:s instanceof wt&&t instanceof wt?Tw:s instanceof Ct&&t instanceof Ct?BQ:SQ}var gu;(function(s){s[s.Stopped=0]="Stopped",s[s.Playing=1]="Playing",s[s.Paused=2]="Paused"})(gu||(gu={}));function Xp(s,t){if(!(s>=0&&s<t))throw new Error("Index out of bounds: "+s)}var Nn=class{constructor(t=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Rn}),this._values=t}get values(){return this._values}contains(t){return this._values.indexOf(t)!==-1}removeValue(t){let e=0,i=this._values.length;for(;e<i;)this._values[e]===t?(this.removeIndex(e),--i):++e}indexOf(t){return vl(this._values,t)}get length(){return this._values.length}hasIndex(t){return t>=0&&t<this._values.length}getIndex(t){return this._values[t]}_onPush(t){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:t})}_onInsertIndex(t,e){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e})}_onSetIndex(t,e,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:t,oldValue:e,newValue:i})}_onSwap(t,e){this.events.isEnabled("swap")&&this.events.dispatch("swap",{type:"swap",target:this,a:t,b:e})}_onRemoveIndex(t,e){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e})}_onMoveIndex(t,e,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:t,newIndex:e,value:i})}_onClear(t){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:t})}setIndex(t,e){Xp(t,this._values.length);let i=this._values[t];return i!==e&&(this._values[t]=e,this._onSetIndex(t,i,e)),i}insertIndex(t,e){return Xp(t,this._values.length+1),Rp(this._values,t,e),this._onInsertIndex(t,e),e}swap(t,e){let i=this._values.length;if(Xp(t,i),Xp(e,i),t!==e){let r=this._values[t],a=this._values[e];this._values[t]=a,this._values[e]=r,this._onSwap(r,a)}}removeIndex(t){Xp(t,this._values.length);let e=this._values[t];return Ly(this._values,t),this._onRemoveIndex(t,e),e}moveValue(t,e){let i=this.indexOf(t);if(i!==-1)if(Ly(this._values,i),e==null){let r=this._values.length;this._values.push(t),this._onMoveIndex(i,r,t)}else Rp(this._values,e,t),this._onMoveIndex(i,e,t);else e==null?(this._values.push(t),this._onPush(t)):(Rp(this._values,e,t),this._onInsertIndex(e,t));return t}push(t){return this._values.push(t),this._onPush(t),t}unshift(t){return this.insertIndex(0,t),t}pushAll(t){te(t,e=>{this.push(e)})}copyFrom(t){this.pushAll(t._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(t){let e=this._values;this._values=[],this._onClear(e),te(t,i=>{this._values.push(i),this._onPush(i)})}clear(){this.setAll([])}*[Symbol.iterator](){let t=this._values.length;for(let e=0;e<t;++e)yield this._values[e]}each(t){te(this._values,t)}eachReverse(t){Ah(this._values,t)}},bh=class extends Nn{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}swap(t,e){let i=this.autoDispose;this.autoDispose=!1,super.swap(t,e),this.autoDispose=i}_onSetIndex(t,e,i){this.autoDispose&&e.dispose(),super._onSetIndex(t,e,i)}_onRemoveIndex(t,e){this.autoDispose&&e.dispose(),super._onRemoveIndex(t,e)}_onClear(t){this.autoDispose&&te(t,e=>{e.dispose()}),super._onClear(t)}_dispose(){this.autoDispose&&te(this._values,t=>{t.dispose()})}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}},Xi=class extends bh{constructor(t,e){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=t,this.make=e}_dispose(){super._dispose(),this.autoDispose&&this.template.dispose()}};var Hy=class extends Nn{constructor(t){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=t,this._events=this.events.onAll(e=>{if(e.type==="clear")te(e.oldValues,i=>{this._onRemoved(i)});else if(e.type==="push")this._onInserted(e.newValue);else if(e.type==="setIndex")this._onRemoved(e.oldValue),this._onInserted(e.newValue,e.index);else if(e.type==="insertIndex")this._onInserted(e.newValue,e.index);else if(e.type==="removeIndex")this._onRemoved(e.oldValue);else if(e.type==="moveIndex")this._onRemoved(e.value),this._onInserted(e.value,e.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(t,e){t._setParent(this._container,!0);let i=this._container._childrenDisplay;e===void 0?i.addChild(t._display):i.addChildAt(t._display,e)}_onRemoved(t){this._container._childrenDisplay.removeChild(t._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),te(this.values,t=>{t.dispose()}))}};var Ow=Math.PI,YJ=Ow/2,Er=Ow/180,An=180/Ow;function Rr(s,t,e){if(!ie(t)||t<=0){let i=Math.round(s);return e&&i-s==.5&&i--,i}else{let i=Math.pow(10,t);return Math.round(s*i)/i}}function ED(s,t){if(!ie(t)||t<=0)return Math.ceil(s);{let e=Math.pow(10,t);return Math.ceil(s*e)/e}}function zi(s,t,e){return Math.min(Math.max(s,t),e)}function Ii(s){return Math.sin(Er*s)}function Qi(s){return Math.cos(Er*s)}function Pa(s){return s=s%360,s<0&&(s+=360),s}function vh(s,t,e,i,r){let a=Number.MAX_VALUE,n=Number.MAX_VALUE,o=-Number.MAX_VALUE,l=-Number.MAX_VALUE,u=[];u.push(Dw(r,e)),u.push(Dw(r,i));let h=Math.min(Math.floor(e/90)*90,Math.floor(i/90)*90),c=Math.max(Math.ceil(e/90)*90,Math.ceil(i/90)*90);for(let A=h;A<=c;A+=90)A>=e&&A<=i&&u.push(Dw(r,A));for(let A=0;A<u.length;A++){let d=u[A];d.x<a&&(a=d.x),d.y<n&&(n=d.y),d.x>o&&(o=d.x),d.y>l&&(l=d.y)}return{left:s+a,top:t+n,right:s+o,bottom:t+l}}function Dw(s,t){return{x:s*Qi(t),y:s*Ii(t)}}function jy(s){let t=s.length;if(t>0){let e=s[0],i=e.left,r=e.top,a=e.right,n=e.bottom;if(t>1)for(let o=1;o<t;o++)e=s[o],i=Math.min(e.left,i),a=Math.max(e.right,a),r=Math.min(e.top,r),n=Math.max(e.bottom,n);return{left:i,right:a,top:r,bottom:n}}return{left:0,right:0,top:0,bottom:0}}function Lw(s,t,e){if(t>e){let n=t;t=e,e=n}s=Pa(s);let i=(t-Pa(t))/360;s<t&&(s+=360*(i+1));let r=t+(e-t)/2+180,a=t+(e-t)/2-180;return s>e&&(s-360>t?s-=360:s<r?s=e:s=t),s<t&&(s>a?s=t:s=e),s}function RD(s,t){return s.x>=t.left&&s.y>=t.top&&s.x<=t.right&&s.y<=t.bottom}function Iw(s){return s}function yu(s){return s*s*s}function Vc(s){return function(t){return 1-s(1-t)}}var ND=4/11,KJ=6/11,qJ=8/11,ZJ=3/4,JJ=9/11,eee=10/11,tee=15/16,iee=21/22,ree=63/64,see=1/ND/ND;var FQ=2*Math.PI,PQ=1,TQ=.3/FQ,aee=Math.asin(1/PQ)*TQ;var kw=class{constructor(t,e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t,this._settings=e,Mt(e,i=>{this._userSettings[i]=!0})}get(t,e){let i=this._settings[t];return i!==void 0?i:e}setRaw(t,e){this._settings[t]=e}set(t,e){this._userSettings[t]=!0,this.setRaw(t,e)}remove(t){delete this._userSettings[t],delete this._settings[t]}setAll(t){br(t).forEach(e=>{this.set(e,t[e])})}_eachSetting(t){Mt(this._settings,t)}apply(){let t={};t.stateAnimationEasing=!0,t.stateAnimationDuration=!0;let e=this._entity.states.lookup("default");this._eachSetting((i,r)=>{t[i]||(t[i]=!0,this!==e&&(i in e._settings||(e._settings[i]=this._entity.get(i))),this._entity.set(i,r))})}applyAnimate(t){t==null&&(t=this._settings.stateAnimationDuration),t==null&&(t=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let e=this._settings.stateAnimationEasing;e==null&&(e=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",yu)));let i=this._entity.states.lookup("default"),r={};r.stateAnimationEasing=!0,r.stateAnimationDuration=!0;let a={};return this._eachSetting((n,o)=>{if(!r[n]){r[n]=!0,this!=i&&(n in i._settings||(i._settings[n]=this._entity.get(n)));let l=this._entity.animate({key:n,to:o,duration:t,easing:e});l&&(a[n]=l)}}),a}},Wy=class{constructor(t){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=t}lookup(t){return this._states[t]}create(t,e){let i=this._states[t];if(i)return i.setAll(e),i;{let r=new kw(this._entity,e);return this._states[t]=r,r}}remove(t){delete this._states[t]}apply(t){let e=this._states[t];e&&e.apply(),this._entity._applyState(t)}applyAnimate(t,e){let i,r=this._states[t];return r&&(i=r.applyAnimate(e)),this._entity._applyStateAnimated(t,e),i}};var Mw=class{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.13.1"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}},fn=new Mw;function Ew(s){fn.licenses.push(s)}function pn(s,t){return s===t?0:s<t?-1:1}function Xy(s,t,e){let i=s.length,r=t.length,a=Math.min(i,r);for(let n=0;n<a;++n){let o=e(s[n],t[n]);if(o!==0)return o}return pn(i,r)}function Rw(s,t){return s===t?0:s<t?-1:1}var Nw=class{constructor(t){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t}add(t,e){let i=this._callbacks[t];return i===void 0&&(i=this._callbacks[t]=[]),i.push(e),this._entity._markDirtyKey(t),new vr(()=>{Yr(i,e)&&this._entity._markDirtyKey(t)})}remove(t){let e=this._callbacks[t];e!==void 0&&(delete this._callbacks[t],e.length!==0&&this._entity._markDirtyKey(t))}enable(t){this._disabled[t]&&(delete this._disabled[t],this._entity._markDirtyKey(t))}disable(t){this._disabled[t]||(this._disabled[t]=!0,this._entity._markDirtyKey(t))}fold(t,e){if(!this._disabled[t]){let i=this._callbacks[t];if(i!==void 0)for(let r=0,a=i.length;r<a;++r)e=i[r](e,this._entity,t)}return e}},xA=class{constructor(t,e,i,r,a,n,o){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Rn}),this._animation=t,this._from=e,this._to=i,this._duration=r,this._easing=a,this._loops=n,this._interpolate=MD(e,i),this._oldTime=o}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((t,e)=>{if(this._stopped)t();else{let i=()=>{r.dispose(),t()},r=this.events.on("stopped",i)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(t){this._oldTime!==null&&(this._time+=t-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=t}_reset(t){this._oldTime=t,this._time=0}_value(t){return this._interpolate(this._easing(t),this._from,this._to)}},DQ=0,Gp=class{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++DQ}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=t}_checkDirty(){br(this._settings).forEach(t=>{this._userProperties[t]=!0,this._markDirtyKey(t)})}resetUserSettings(){this._userProperties={}}_runAnimation(t){let e=gu.Stopped;if(!this.isDisposed()){let i=!1,r=!1;Mt(this._animatingSettings,(a,n)=>{if(n.stopped)this._stopAnimation(a);else if(n.playing){n._run(t);let o=n.percentage;o>=1?n._checkEnded()?this.set(a,n._value(1)):(i=!0,n._reset(t),this._set(a,n._value(1))):(i=!0,this._set(a,n._value(o)))}else r=!0}),Mt(this._animatingPrivateSettings,(a,n)=>{if(n.stopped)this._stopAnimationPrivate(a);else if(n.playing){n._run(t);let o=n.percentage;o>=1?n._checkEnded()?this.setPrivate(a,n._value(1)):(i=!0,n._reset(t),this._setPrivate(a,n._value(1))):(i=!0,this._setPrivate(a,n._value(o)))}else r=!0}),i?e=gu.Playing:r&&(e=gu.Paused)}return e}_markDirtyKey(t){this.markDirty()}_markDirtyPrivateKey(t){this.markDirty()}on(t,e){let i=this._settingEvents[t];return i===void 0&&(i=this._settingEvents[t]=[]),i.push(e),new vr(()=>{Yr(i,e),i.length===0&&delete this._settingEvents[t]})}off(t,e){let i=this._settingEvents[t];i!==void 0&&e!==void 0?Yr(i,e):delete this._settingEvents[t]}onPrivate(t,e){let i=this._privateSettingEvents[t];return i===void 0&&(i=this._privateSettingEvents[t]=[]),i.push(e),new vr(()=>{Yr(i,e),i.length===0&&delete this._privateSettingEvents[t]})}offPrivate(t,e){let i=this._privateSettingEvents[t];i!==void 0&&e!==void 0?Yr(i,e):delete this._privateSettingEvents[t]}getRaw(t,e){let i=this._settings[t];return i!==void 0?i:e}has(t){return t in this._settings}get(t,e){return this.getRaw(t,e)}_sendKeyEvent(t,e){let i=this._settingEvents[t];i!==void 0&&te(i,r=>{r(e,this,t)})}_sendPrivateKeyEvent(t,e){let i=this._privateSettingEvents[t];i!==void 0&&te(i,r=>{r(e,this,t)})}_setRaw(t,e,i){this._prevSettings[t]=e,this._sendKeyEvent(t,i)}setRaw(t,e){let i=this._settings[t];this._settings[t]=e,i!==e&&this._setRaw(t,i,e)}_set(t,e){let i=this._settings[t];this._settings[t]=e,i!==e&&(this._setRaw(t,i,e),this._markDirtyKey(t))}_stopAnimation(t){let e=this._animatingSettings[t];e&&(delete this._animatingSettings[t],e.stop())}set(t,e){return this._set(t,e),this._stopAnimation(t),e}remove(t){t in this._settings&&(this._prevSettings[t]=this._settings[t],delete this._settings[t],this._sendKeyEvent(t,void 0),this._markDirtyKey(t)),this._stopAnimation(t)}removeAll(){te(br(this._settings),t=>{this.remove(t)})}getPrivate(t,e){let i=this._privateSettings[t];return i!==void 0?i:e}_setPrivateRaw(t,e,i){this._prevPrivateSettings[t]=e,this._sendPrivateKeyEvent(t,i)}setPrivateRaw(t,e){let i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&this._setPrivateRaw(t,i,e)}_setPrivate(t,e){let i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&(this._setPrivateRaw(t,i,e),this._markDirtyPrivateKey(t))}_stopAnimationPrivate(t){let e=this._animatingPrivateSettings[t];e&&(e.stop(),delete this._animatingPrivateSettings[t])}setPrivate(t,e){return this._setPrivate(t,e),this._stopAnimationPrivate(t),e}removePrivate(t){t in this._privateSettings&&(this._prevPrivateSettings[t]=this._privateSettings[t],delete this._privateSettings[t],this._markDirtyPrivateKey(t)),this._stopAnimationPrivate(t)}setAll(t){Mt(t,(e,i)=>{this.set(e,i)})}animate(t){let e=t.key,i=t.to,r=t.duration||0,a=t.loops||1,n=t.from===void 0?this.get(e):t.from,o=t.easing===void 0?Iw:t.easing;if(r===0)this.set(e,i);else if(n===void 0||n===i)this.set(e,i);else{this.set(e,n);let u=this._animatingSettings[e]=new xA(this,n,i,r,o,a,this._animationTime());return this._startAnimation(),u}let l=new xA(this,n,i,r,o,a,null);return l.stop(),l}animatePrivate(t){let e=t.key,i=t.to,r=t.duration||0,a=t.loops||1,n=t.from===void 0?this.getPrivate(e):t.from,o=t.easing===void 0?Iw:t.easing;if(r===0)this.setPrivate(e,i);else if(n===void 0||n===i)this.setPrivate(e,i);else{this.setPrivate(e,n);let u=this._animatingPrivateSettings[e]=new xA(this,n,i,r,o,a,this._animationTime());return this._startAnimation(),u}let l=new xA(this,n,i,r,o,a,null);return l.stop(),l}_dispose(){}isDisposed(){return this._disposed}dispose(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}},xi=class extends Gp{constructor(t,e,i,r=[]){if(super(e),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Wy(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Nw(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=t,this._internalTemplates=r,e.id&&this._registerId(e.id)}static new(t,e,i){let r=new this(t,e,!0);return r._template=i,r._afterNew(),r}static _new(t,e,i=[]){let r=new this(t,e,!0,i);return r._afterNew(),r}_afterNew(){this._checkDirty();let t=!1,e=this._template;e&&(t=!0,e._setObjectTemplate(this)),te(this._internalTemplates,i=>{t=!0,i._setObjectTemplate(this)}),t&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();let t=this._template;t&&t._setObjectTemplate(this),te(this._internalTemplates,e=>{e._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new Rn}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefaultFn(t,e){let i=this.get(t);if(i)return i;{let r=e();return this.set(t,r),r}}_setDefault(t,e){this.has(t)||super.set(t,e)}_setRawDefault(t,e){this.has(t)||super.setRaw(t,e)}_clearDirty(){br(this._dirty).forEach(t=>{this._dirty[t]=!1}),br(this._dirtyPrivate).forEach(t=>{this._dirtyPrivate[t]=!1})}isDirty(t){return!!this._dirty[t]}isPrivateDirty(t){return!!this._dirtyPrivate[t]}_markDirtyKey(t){this._dirty[t]=!0,super._markDirtyKey(t)}_markDirtyPrivateKey(t){this._dirtyPrivate[t]=!0,super._markDirtyKey(t)}isType(t){return this.classNames.indexOf(t)!==-1}_pushPropertyDisposer(t,e){let i=this._disposerProperties[t];return i===void 0&&(i=this._disposerProperties[t]=[]),i.push(e),e}_disposeProperty(t){let e=this._disposerProperties[t];e!==void 0&&(te(e,i=>{i.dispose()}),delete this._disposerProperties[t])}set template(t){let e=this._template;e!==t&&(this._template=t,e&&e._removeObjectTemplate(this),t&&t._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(t){}_applyStateAnimated(t,e){}get(t,e){let i=this.adapters.fold(t,this._settings[t]);return i!==void 0?i:e}isUserSetting(t){return this._userProperties[t]||!1}set(t,e){return this._userProperties[t]=!0,super.set(t,e)}setRaw(t,e){this._userProperties[t]=!0,super.setRaw(t,e)}_setSoft(t,e){return this._userProperties[t]?e:super.set(t,e)}remove(t){delete this._userProperties[t],this._removeTemplateProperty(t)}setPrivate(t,e){return this._userPrivateProperties[t]=!0,super.setPrivate(t,e)}setPrivateRaw(t,e){this._userPrivateProperties[t]=!0,super.setPrivateRaw(t,e)}removePrivate(t){delete this._userPrivateProperties[t],this._removeTemplatePrivateProperty(t)}_setTemplateProperty(t,e,i){if(!this._userProperties[e]){let r=this._findTemplateByKey(e);t===r&&super.set(e,i)}}_setTemplatePrivateProperty(t,e,i){if(!this._userPrivateProperties[e]){let r=this._findTemplateByPrivateKey(e);t===r&&super.setPrivate(e,i)}}_removeTemplateProperty(t){if(!this._userProperties[t]){let e=this._findTemplateByKey(t);e?super.set(t,e._settings[t]):super.remove(t)}}_removeTemplatePrivateProperty(t){if(!this._userPrivateProperties[t]){let e=this._findTemplateByPrivateKey(t);e?super.setPrivate(t,e._privateSettings[t]):super.removePrivate(t)}}_walkParents(t){t(this._root._rootContainer),t(this)}_applyStateByKey(t){let e=this.states.create(t,{}),i={};this._eachTemplate(r=>{let a=r.states.lookup(t);a&&a._apply(e,i)}),Mt(e._settings,r=>{!i[r]&&!e._userSettings[r]&&e.remove(r)})}_applyTemplate(t,e){this._templateDisposers.push(t._apply(this,e)),Mt(t._settings,(i,r)=>{!e.settings[i]&&!this._userProperties[i]&&(e.settings[i]=!0,super.set(i,r))}),Mt(t._privateSettings,(i,r)=>{!e.privateSettings[i]&&!this._userPrivateProperties[i]&&(e.privateSettings[i]=!0,super.setPrivate(i,r))}),this._runSetup&&t.setup&&(this._runSetup=!1,t.setup(this))}_findStaticTemplate(t){if(this._template&&t(this._template))return this._template}_eachTemplate(t){this._findStaticTemplate(e=>(t(e),!1)),Ah(this._internalTemplates,t),te(this._templates,t)}_applyTemplates(t=!0){t&&this._disposeTemplates();let e={settings:{},privateSettings:{},states:{}};this._eachTemplate(i=>{this._applyTemplate(i,e)}),t&&(Mt(this._settings,i=>{!this._userProperties[i]&&!e.settings[i]&&super.remove(i)}),Mt(this._privateSettings,i=>{!this._userPrivateProperties[i]&&!e.privateSettings[i]&&super.removePrivate(i)}))}_findTemplate(t){let e=this._findStaticTemplate(t);if(e===void 0){let i=mD(this._internalTemplates,t);return i===void 0?Iy(this._templates,t):i}else return e}_findTemplateByKey(t){return this._findTemplate(e=>t in e._settings)}_findTemplateByPrivateKey(t){return this._findTemplate(e=>t in e._privateSettings)}_disposeTemplates(){te(this._templateDisposers,t=>{t.dispose()}),this._templateDisposers.length=0}_removeTemplates(){te(this._templates,t=>{t._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(t=!1){let e=!1,i=[],r=[],a=new Set,n=this.get("themeTagsSelf");return n&&te(n,o=>{a.add(o)}),this._walkParents(o=>{o===this._root._rootContainer&&(e=!0),o._defaultThemes.length>0&&i.push(o._defaultThemes);let l=o.get("themes");l&&r.push(l);let u=o.get("themeTags");u&&te(u,h=>{a.add(h)})}),r=i.concat(r),this._removeTemplates(),(e||t)&&Ah(this.classNames,o=>{let l=[];te(r,u=>{te(u,h=>{let c=h._lookupRules(o);c&&Ah(c,A=>{if(A.tags.every(f=>a.has(f))){let f=$y(l,p=>{let m=pn(A.tags.length,p.tags.length);return m===0?Xy(A.tags,p.tags,pn):m});l.splice(f.index,0,A)}})})}),te(l,u=>{this._templates.push(u.template),u.template._setObjectTemplate(this)})}),this._applyTemplates(),(e||t)&&(this._runSetup=!1),e||t}_changed(){}_beforeChanged(){if(this.isDirty("id")){let t=this.get("id");t&&this._registerId(t);let e=this._prevSettings.id;e&&(delete this._root.entitiesById[e],delete fn.entitiesById[e])}}_registerId(t){if(this._root.entitiesById[t]&&this._root.entitiesById[t]!==this)throw new Error('An entity with id "'+t+'" already exists.');this._root.entitiesById[t]=this,fn.entitiesById[t]=this}_afterChanged(){}addDisposer(t){return this._disposers.push(t),t}_dispose(){super._dispose();let t=this._template;t&&t._removeObjectTemplate(this),te(this._internalTemplates,i=>{i._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(i=>{i.dispose()}),Mt(this._disposerProperties,(i,r)=>{te(r,a=>{a.dispose()})});let e=this.get("id");e&&(delete this._root.entitiesById[e],delete fn.entitiesById[e])}setTimeout(t,e){let i=setTimeout(()=>{this.removeDispose(r),t()},e),r=new vr(()=>{clearTimeout(i)});return this._disposers.push(r),r}removeDispose(t){if(!this.isDisposed()){let e=vl(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()}hasTag(t){return vl(this.get("themeTags",[]),t)!==-1}addTag(t){if(!this.hasTag(t)){let e=this.get("themeTags",[]);e.push(t),this.set("themeTags",e)}}removeTag(t){if(this.hasTag(t)){let e=this.get("themeTags",[]);Ts(e,t),this.set("themeTags",e)}}_t(t,e,...i){return this._root.language.translate(t,e,...i)}get root(){return this._root}};Object.defineProperty(xi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(xi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});function Vw(s){Mt(s,(t,e)=>{oo(e)&&typeof e.dispose=="function"&&(e.enableDispose=!0,e.dispose())})}var Uw=class{constructor(t,e,i){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=t,this._template=e,this._settings=i}_dispose(){Vw(this._settings)}get(t,e){let i=this._settings[t];return i!==void 0?i:e}set(t,e){this._settings[t]=e,this._template._stateChanged(this._name)}remove(t){delete this._settings[t],this._template._stateChanged(this._name)}setAll(t){br(t).forEach(e=>{this._settings[e]=t[e]}),this._template._stateChanged(this._name)}_apply(t,e){Mt(this._settings,(i,r)=>{!e[i]&&!t._userSettings[i]&&(e[i]=!0,t.setRaw(i,r))})}},Qw=class{constructor(t){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=t}_dispose(){Mt(this._states,(t,e)=>{e._dispose()})}lookup(t){return this._states[t]}create(t,e){let i=this._states[t];if(i)return i.setAll(e),i;{let r=new Uw(t,this._template,e);return this._states[t]=r,this._template._stateChanged(t),r}}remove(t){delete this._states[t],this._template._stateChanged(t)}_apply(t,e){Mt(this._states,(i,r)=>{let a=e.states[i];a==null&&(a=e.states[i]={});let n=t.states.create(i,{});r._apply(n,a)})}},Hw=class{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(t,e){let i=this._callbacks[t];return i===void 0&&(i=this._callbacks[t]=[]),i.push(e),new vr(()=>{Yr(i,e),i.length===0&&delete this._callbacks[t]})}remove(t){this._callbacks[t]!==void 0&&delete this._callbacks[t]}_apply(t){let e=[];return Mt(this._callbacks,(i,r)=>{te(r,a=>{e.push(t.adapters.add(i,a))})}),new $r(e)}},Ut=class s{constructor(t,e){if(Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Qw(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Hw}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Rn}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=t}static new(t){return new s(t,!0)}_dispose(){Vw(this._settings),Vw(this._privateSettings)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}_checkDisposed(){if(this._disposed)throw new Error("Template is disposed")}get entities(){return this._entities}get(t,e){this._checkDisposed();let i=this._settings[t];return i!==void 0?i:e}setRaw(t,e){this._checkDisposed(),this._settings[t]=e}set(t,e){this._checkDisposed(),this._settings[t]!==e&&(this.setRaw(t,e),this._entities.forEach(i=>{i._setTemplateProperty(this,t,e)}))}remove(t){this._checkDisposed(),t in this._settings&&(delete this._settings[t],this._entities.forEach(e=>{e._removeTemplateProperty(t)}))}removeAll(){this._checkDisposed(),Mt(this._settings,(t,e)=>{this.remove(t)})}getPrivate(t,e){this._checkDisposed();let i=this._privateSettings[t];return i!==void 0?i:e}setPrivateRaw(t,e){return this._checkDisposed(),this._privateSettings[t]=e,e}setPrivate(t,e){return this._checkDisposed(),this._privateSettings[t]!==e&&(this.setPrivateRaw(t,e),this._entities.forEach(i=>{i._setTemplatePrivateProperty(this,t,e)})),e}removePrivate(t){this._checkDisposed(),t in this._privateSettings&&(delete this._privateSettings[t],this._entities.forEach(e=>{e._removeTemplatePrivateProperty(t)}))}setAll(t){this._checkDisposed(),Mt(t,(e,i)=>{this.set(e,i)})}on(t,e){this._checkDisposed();let i=this._settingEvents[t];return i===void 0&&(i=this._settingEvents[t]=[]),i.push(e),new vr(()=>{Yr(i,e),i.length===0&&delete this._settingEvents[t]})}onPrivate(t,e){this._checkDisposed();let i=this._privateSettingEvents[t];return i===void 0&&(i=this._privateSettingEvents[t]=[]),i.push(e),new vr(()=>{Yr(i,e),i.length===0&&delete this._privateSettingEvents[t]})}_apply(t,e){this._checkDisposed();let i=[];return Mt(this._settingEvents,(r,a)=>{te(a,n=>{i.push(t.on(r,n))})}),Mt(this._privateSettingEvents,(r,a)=>{te(a,n=>{i.push(t.onPrivate(r,n))})}),this.states._apply(t,e),i.push(this.adapters._apply(t)),i.push(t.events.copyFrom(this.events)),new $r(i)}_setObjectTemplate(t){this._checkDisposed(),this._entities.push(t)}_removeObjectTemplate(t){Ts(this._entities,t)}_stateChanged(t){this._checkDisposed(),this._entities.forEach(e=>{e._applyStateByKey(t)})}};var zy=class s extends Rn{constructor(t){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=t}_makePointerEvent(t,e){return{type:t,originalEvent:e.event,point:e.point,simulated:e.simulated,native:e.native,target:this._sprite}}_onRenderer(t,e){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[t];if(i===void 0){let r=this._sprite._display.on(t,a=>{e.call(this,a)});i=this._rendererDisposers[t]=new mh(()=>{delete this._rendererDisposers[t],r.dispose()})}return i.increment()}_on(t,e,i,r,a,n){let o=super._on(t,e,i,r,a,n),l=s.RENDERER_EVENTS[e];return l!==void 0&&(o.disposer=new $r([o.disposer,this._onRenderer(e,l)])),o}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(t,e){let i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(t,e),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(t,e)}finally{this._dispatchParents=i}}};Object.defineProperty(zy,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(s){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",s))&&this.dispatch("click",this._makePointerEvent("click",s))},rightclick:function(s){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",s))},middleclick:function(s){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",s))},dblclick:function(s){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",s))},pointerover:function(s){let t=this._sprite,e=!0;if(t.getPrivate("trustBounds")){t._getBounds();let i=t.globalBounds();if(t.isType("Graphics")){let r=t.get("strokeWidth",1)/2;r>=1&&(i.left-=r,i.right+=r,i.top-=r,i.bottom+=r)}RD(s.point,i)||(e=!1,t._root._renderer.removeHovering(t._display))}e&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",s))},pointerout:function(s){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",s))},pointerdown:function(s){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",s))},pointerup:function(s){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",s))},globalpointerup:function(s){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",s))},globalpointermove:function(s){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",s))},wheel:function(s){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:s.event,point:s.point})}}});var Aa=class extends xi{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}markDirtyKey(t){this._markDirtyKey(t)}_markDirtyKey(t){super._markDirtyKey(t),(t=="x"||t=="y"||t=="dx"||t=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(t){super._markDirtyPrivateKey(t),(t=="x"||t=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new zy(this)}_processTemplateField(){let t,e=this.get("templateField");if(e){let i=this.dataItem;if(i){let r=i.dataContext;r&&(t=r[e],!(t instanceof Ut)&&t&&(t=Ut.new(t)))}}this._templateField!==t&&(this._removeTemplateField(),this._templateField=t,t&&t._setObjectTemplate(this),this._applyTemplates())}_setDataItem(t){let e=this._dataItem;this._dataItem=t,this._processTemplateField();let i="dataitemchanged";t!=e&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:e,newDataItem:t})}set dataItem(t){this._setDataItem(t)}get dataItem(){if(this._dataItem)return this._dataItem;{let t=this._parent;for(;t;){if(t._dataItem)return t._dataItem;t=t._parent}}}_addPercentageSizeChildren(){let t=this.parent;t&&(this.get("width")instanceof wt||this.get("height")instanceof wt?fh(t._percentageSizeChildren,this):Yr(t._percentageSizeChildren,this))}_addPercentagePositionChildren(){let t=this.parent;t&&(this.get("x")instanceof wt||this.get("y")instanceof wt?fh(t._percentagePositionChildren,this):Yr(t._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){let t=this._localBounds;if(t){let e=this.get("centerX");e!=null&&(this._display.pivot.x=t.left+Xt(e,t.right-t.left));let i=this.get("centerY");i!=null&&(this._display.pivot.y=t.top+Xt(i,t.bottom-t.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){let t=this._prevSettings.tooltip;t&&t.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){let t=this._tooltipMoveDp;t&&(t.dispose(),this._tooltipMoveDp=void 0);let e=this._tooltipPointerDp;e&&(e.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})),this._tooltipPointerDp=new $r([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})}),this.events.on("pointerout",()=>{let i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();let t=this._display,e=this.events;if(this.isDirty("draggable")){let r=this.get("draggable");r?(this.set("interactive",!0),this._dragDp=new $r([e.on("pointerdown",a=>{this.dragStart(a)}),e.on("globalpointermove",a=>{this.dragMove(a)}),e.on("globalpointerup",a=>{this.dragStop(a)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),t.cancelTouch=!!r}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){let r=this.get("tooltipText"),a=this.get("tooltipHTML"),n=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(r||a)&&(n=="click"?(this._tooltipDp=new $r([e.on("click",()=>{this.setTimeout(()=>{let o=this.getTooltip();o&&!o.isHidden()&&o.get("tooltipTarget")===this?this.hideTooltip():this.showTooltip()},10)}),rr(document,"click",o=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):n=="always"||(this._tooltipDp=new $r([e.on("pointerover",()=>{this.showTooltip()}),e.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let r=this.get("toggleKey");r&&r!="none"?this._toggleDp=e.on("click",()=>{this._isDragging||this.set(r,!this.get(r))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(t.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),t.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),t.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t.visible=!1,this.hideTooltip()):t.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();let r=this.parent;r&&(this.isDirty("width")&&this.get("width")instanceof wt||this.isDirty("height")&&this.get("height")instanceof wt)&&(r.markDirty(),r._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){let r=this.get("wheelable");r&&this.set("interactive",!0),t.wheelable=!!r}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(t.filter=this.get("filter"));let i=this.get("filter","");if(this.isDirty("blur")){let r=this.get("blur",0);r!=0&&(i+=" blur("+r+"px)")}if(this.isDirty("saturate")){let r=this.get("saturate",1);r!=1&&(i+=" saturate("+r+")")}if(this.isDirty("brightness")){let r=this.get("brightness",1);r!=1&&(i+=" brightness("+r+")")}if(this.isDirty("contrast")){let r=this.get("contrast",1);r!=1&&(i+=" contrast("+r+")")}if(this.isDirty("sepia")){let r=this.get("sepia",0);r!=0&&(i+=" sepia("+r+")")}if(this.isDirty("hue")){let r=this.get("hue",0);r!=0&&(i+=" hue-rotate("+r+"deg)")}if(this.isDirty("invert")){let r=this.get("invert",0);r!=0&&(i+=" invert("+r+")")}if(i&&(t.filter=i),this.isDirty("cursorOverStyle")&&(t.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new $r([e.on("focus",()=>{this.showTooltip()}),e.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(e.on("blur",()=>{this.setPrivateRaw("touchHovering",!1)})),this._disposers.push(e.once("boundschanged",()=>{this.markDirtyAccessibility()}))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(t.exportable=this.get("exportable")),this.isDirty("interactive")){let r=this.events;this.get("interactive")&&!r.isDisposed()?this._hoverDp=new $r([r.on("click",a=>{Up(a.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:a.target,originalEvent:a.originalEvent,point:a.point,simulated:a.simulated})},10))}),r.on("globalpointerup",a=>{Up(a.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:a.target,originalEvent:a.originalEvent,point:a.point,simulated:a.simulated})),this._isDown&&this._handleUp(a)}),r.on("pointerover",()=>{this._handleOver()}),r.on("pointerout",()=>{this._handleOut()}),r.on("pointerdown",a=>{this._handleDown(a)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(t){this._dragEvent=t,this.events.stopParentDispatch()}dragStop(t){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;let e="dragstop";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(t){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;let e=Ny(t.originalEvent);delete this._downPoints[e],br(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(t){let e=Ny(t.originalEvent),i=this._downPoints[e];if(i){let r=Math.abs(i.x-t.point.x),a=Math.abs(i.y-t.point.y);return r>5||a>5}return!1}_hasDown(){return br(this._downPoints).length>0}_handleDown(t){let e=this.parent;if(e&&!this.get("draggable")&&e._handleDown(t),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:t.point.x,y:t.point.y},this._isDown=!0;let i=Ny(t.originalEvent);this._downPoints[i]={x:t.point.x,y:t.point.y}}}dragMove(t){let e=this._dragEvent;if(e){if(e.simulated&&!t.simulated)return!0;let i=0,r=this.parent,a=1;for(;r!=null;)i+=r.get("rotation",0),r=r.parent,r&&(a*=r.get("scale",1));let n=(t.point.x-e.point.x)/a,o=(t.point.y-e.point.y)/a,l=this.events;if(e.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};let u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}if(this._isDragging){let u=this._dragPoint;this.set("x",u.x+n*Qi(i)+o*Ii(i)),this.set("y",u.y+o*Qi(i)-n*Ii(i));let h="dragged";l.isEnabled(h)&&l.dispatch(h,{type:h,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}else if(Math.hypot(n,o)>5){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};let u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let t=this.parent,e=0;for(;;)if(t)++e,t=t.parent;else return e}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){let t=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),t.isMeasured=!0,t.invalidateBounds();let e=this.parent;e&&this.get("position")!="absolute"&&(e.get("width")==null||e.get("height")==null||e.get("layout"))&&e.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){let t=this._adjustedLocalBounds,e;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(e={left:0,right:0,top:0,bottom:0},this._localBounds=e,this._adjustedLocalBounds=e):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),e=this._adjustedLocalBounds),!t||t.left!==e.left||t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom){let i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}_fixMinBounds(t){let e=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));ie(e)&&t.right-t.left<e&&(t.right=t.left+e),ie(i)&&t.bottom-t.top<i&&(t.bottom=t.top+i);let r=this.getPrivate("width"),a=this.getPrivate("height");ie(r)&&(r>0?t.right=t.left+r:t.left=t.right+r),ie(a)&&(a>0?t.bottom=t.top+a:t.top=t.bottom+a)}_removeParent(t){t&&(t.children.removeValue(this),Yr(t._percentageSizeChildren,this),Yr(t._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.isDisposed()||(this.showTooltip(),this._handleOver())}unhover(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}showTooltip(t){if(!this.isDisposed()){let e=this.getTooltip(),i=this.get("tooltipText"),r=this.get("tooltipHTML");if((i||r)&&e){let a=this.get("tooltipPosition"),n=this.getPrivate("tooltipTarget",this);if((a=="fixed"||!t)&&(this._display._setMatrix(),t=this.toGlobal(n._getTooltipPoint())),a=="pointer"){let u=this.getPrivate("lastTooltipCoords");if(u&&u.x==t.x&&u.y==t.y)return;this.setPrivate("lastTooltipCoords",t)}e.set("pointTo",t),e.set("tooltipTarget",n),e.get("x")||e.set("x",t.x),e.get("y")||e.set("y",t.y),i&&e.label.set("text",i),r&&e.label.set("html",r);let o=this.dataItem;if(o&&e.label._setDataItem(o),this.get("showTooltipOn")=="always"&&(t.x<0||t.x>this._root.width()||t.y<0||t.y>this._root.height())){this.hideTooltip();return}e.label.text.markDirtyText();let l=e.show();return this.setPrivateRaw("showingTooltip",!0),l}}}hideTooltip(){let t=this.getTooltip();if(t&&(this.removePrivate("lastTooltipCoords"),t.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==t)){let e=t.get("keepTargetHover")&&t.get("stateAnimationDuration",0)==0?400:void 0,i=t.hide(e);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){let t=this._localBounds;if(t){let e=0,i=0;return this.get("isMeasured")?(e=t.left+Xt(this.get("tooltipX",0),t.right-t.left),i=t.top+Xt(this.get("tooltipY",0),t.bottom-t.top)):(e=Xt(this.get("tooltipX",0),this.width()),i=Xt(this.get("tooltipY",0),this.height())),{x:e,y:i}}return{x:0,y:0}}getTooltip(){let t=this.get("tooltip");if(t)return t;{let e=this.parent;if(e)return e.getTooltip()}}_updatePosition(){let t=this.parent,e=this.get("dx",0),i=this.get("dy",0),r=this.get("x"),a=this.getPrivate("x"),n=0,o=0,l=this.get("position");r instanceof wt&&(t?r=t.innerWidth()*r.value+t.get("paddingLeft",0):r=0),ie(r)?n=r+e:a!=null?n=a:t&&l=="relative"&&(n=t.get("paddingLeft",0)+e);let u=this.get("y"),h=this.getPrivate("y");u instanceof wt&&(t?u=t.innerHeight()*u.value+t.get("paddingTop",0):u=0),ie(u)?o=u+i:h!=null?o=h:t&&l=="relative"&&(o=t.get("paddingTop",0)+i);let c=this._display;if(c.x!=n||c.y!=o){c.invalidateBounds(),c.x=n,c.y=o;let A="positionchanged";this.events.isEnabled(A)&&this.events.dispatch(A,{type:A,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let t=this.get("x"),e=this.getPrivate("x"),i=this.parent;return i?t instanceof wt?Xt(t,i.innerWidth())+i.get("paddingLeft",0):ie(t)?t:e??i.get("paddingLeft",this._display.x):this._display.x}y(){let t=this.getPrivate("y");if(t!=null)return t;let e=this.get("y"),i=this.parent;return i?e instanceof wt?Xt(e,i.innerHeight())+i.get("paddingTop",0):ie(e)?e:t??i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);let t=this.get("tooltip");t&&t.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){let t=this._adjustedLocalBounds,e=this.x(),i=this.y();return{left:t.left+e,right:t.right+e,top:t.top+i,bottom:t.bottom+i}}globalBounds(){let t=this.localBounds(),e=this.toGlobal({x:t.left,y:t.top}),i=this.toGlobal({x:t.right,y:t.top}),r=this.toGlobal({x:t.right,y:t.bottom}),a=this.toGlobal({x:t.left,y:t.bottom});return{left:Math.min(e.x,i.x,r.x,a.x),top:Math.min(e.y,i.y,r.y,a.y),right:Math.max(e.x,i.x,r.x,a.x),bottom:Math.max(e.y,i.y,r.y,a.y)}}_onShow(t){}_onHide(t){}appear(t,e){return Xe(this,void 0,void 0,function*(){return yield this.hide(0),e?new Promise((i,r)=>{this.setTimeout(()=>{i(this.show(t))},e)}):this.show(t)})}show(t){return Xe(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(t);let e=this.states.applyAnimate("default",t);yield Pw(e),this._isShowing=!1}})}hide(t){return Xe(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let e=this.states.lookup("hidden");e||(e=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(t);let i=this.states.applyAnimate("hidden",t);yield Pw(i),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){let t=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*t:t}compositeScale(){let t=this.get("scale",1);return this._parent?this._parent.compositeScale()*t:t}compositeRotation(){let t=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+t:t}width(){let t=this.get("width"),e=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),r=this.getPrivate("width"),a=0;if(ie(r))a=r;else if(t==null)this._adjustedLocalBounds&&(a=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(t instanceof wt){let n=this.parent;n?a=n.innerWidth()*t.value:a=this._root.width()*t.value}else ie(t)&&(a=t);return ie(i)&&(a=Math.max(i,a)),ie(e)&&(a=Math.min(e,a)),a}maxWidth(){let t=this.get("maxWidth",this.getPrivate("maxWidth"));if(ie(t))return t;{let i=this.get("width");if(ie(i))return i}let e=this.parent;return e?e.innerWidth():this._root.width()}maxHeight(){let t=this.get("maxHeight",this.getPrivate("maxHeight"));if(ie(t))return t;{let i=this.get("height");if(ie(i))return i}let e=this.parent;return e?e.innerHeight():this._root.height()}height(){let t=this.get("height"),e=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),r=this.getPrivate("height"),a=0;if(ie(r))a=r;else if(t==null)this._adjustedLocalBounds&&(a=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(t instanceof wt){let n=this.parent;n?a=n.innerHeight()*t.value:a=this._root.height()*t.value}else ie(t)&&(a=t);return ie(i)&&(a=Math.max(i,a)),ie(e)&&(a=Math.min(e,a)),a}_findStaticTemplate(t){return this._templateField&&t(this._templateField)?this._templateField:super._findStaticTemplate(t)}_walkParents(t){this._parent&&this._walkParent(t)}_walkParent(t){this._parent&&this._parent._walkParent(t),t(this)}get parent(){return this._parent}_setParent(t,e=!1){let i=this._parent;t!==i&&(this.markDirtyBounds(),t.markDirty(),this._parent=t,e&&(this._removeParent(i),t&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(t){return this._display.toGlobal(t)}toLocal(t){return this._display.toLocal(t)}_getDownPoint(){let t=this._getDownPointId();if(t)return this._downPoints[t]}_getDownPointId(){if(this._downPoints)return bw(this._downPoints,(t,e)=>t>e?1:t<e?-1:0)[0]}toFront(){let t=this.parent;t&&t.children.moveValue(this,t.children.length-1)}toBack(){let t=this.parent;t&&t.children.moveValue(this,0)}};Object.defineProperty(Aa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(Aa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xi.classNames.concat([Aa.className])});var mn=class extends xi{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("repetition",""),e=this.get("width",100),i=this.get("height",100),r=this.get("fill"),a=this.get("fillOpacity",1),n=this._backgroundDisplay,o=this._display;o.clear(),n.clear(),r&&a>0&&(n.beginFill(r,a),n.drawRect(0,0,e,i),n.endFill()),o.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(o,n,t,e,i)}this._clear=!1}};Object.defineProperty(mn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(mn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xi.classNames.concat([mn.className])});var xh=class extends mn{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();let t=this.get("canvas");t&&(this.set("width",t.width),this.set("height",t.height))}_draw(){super._draw();let t=this.get("colorOpacity");t!==void 0&&(this._display.alpha=Math.max(0,t));let e=this._image;if(e){let r=this.get("width",100),a=this.get("height",100),n=this.get("fit","image"),o=0,l=0;n=="pattern"?(o=r,l=a,this.markDirty()):(o=e.width,l=e.height,n=="image"&&(this.set("width",o),this.set("height",l)));let u=this.get("centered",!0),h=0,c=0;u&&(h=r/2-o/2,c=a/2-l/2),this._display.image(e,o,l,h,c)}let i=this.get("canvas");i&&this._display.image(i,i.width,i.height,0,0)}_load(){let t=this.get("src");if(t){let e=new Image;e.src=t,e.decode().then(()=>{this._image=e,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(i=>{})}}};Object.defineProperty(xh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(xh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mn.classNames.concat([xh.className])});var wA;(function(s){s.ADD="lighter",s.COLOR="color",s.COLOR_BURN="color-burn",s.COLOR_DODGE="color-dodge",s.DARKEN="darken",s.DIFFERENCE="difference",s.DST_OVER="destination-over",s.EXCLUSION="exclusion",s.HARD_LIGHT="hard-light",s.HUE="hue",s.LIGHTEN="lighten",s.LUMINOSITY="luminosity",s.MULTIPLY="multiply",s.NORMAL="source-over",s.OVERLAY="overlay",s.SATURATION="saturation",s.SCREEN="screen",s.SOFT_LIGHT="soft-light",s.SRC_ATOP="source-atop",s.XOR="xor"})(wA||(wA={}));var Yp=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"],St=class extends Aa{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){let t=this.get("fillGradient");if(t){this._display.isMeasured=!0;let e=t.get("target");e&&(this._disposers.push(e.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(e.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){let t=this.get("strokeGradient");if(t){this._display.isMeasured=!0;let e=t.get("target");e&&(this._disposers.push(e.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(e.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let t=this.get("strokeDasharray");ie(t)&&(t<.5?t=[0]:t=[t]),this._display.setLineDash(t);let e=this.get("strokeDashoffset");e&&this._display.setLineDashOffset(e);let i=this.get("blendMode",wA.NORMAL);this._display.blendMode=i;let r=this.get("draw");r&&typeof r=="function"&&r(this._display,this);let a=this.get("svgPath");a!=null&&this._display.svgPath(a)}}_afterChanged(){if(super._afterChanged(),this._clear){let t=this.get("fill"),e=this.get("fillGradient"),i=this.get("fillPattern"),r=this.get("fillOpacity"),a=this.get("stroke"),n=this.get("strokeGradient"),o=this.get("strokePattern"),l=this.get("shadowColor"),u=this.get("shadowBlur"),h=this.get("shadowOffsetX"),c=this.get("shadowOffsetY"),A=this.get("shadowOpacity");if(l&&(u||h||c)&&this._display.shadow(l,u,h,c,A),t&&!e&&(this._display.beginFill(t,r),this._display.endFill()),e){if(t){let f=e.get("stops",[]);f.length&&te(f,p=>{(!p.color||p.colorInherited)&&t&&(p.color=t,p.colorInherited=!0),(p.opacity==null||p.opacityInherited)&&(p.opacity=r,p.opacityInherited=!0)})}let d=e.getFill(this);d&&(this._display.beginFill(d,r),this._display.endFill())}if(i){let d=i.pattern;d&&(this._display.beginFill(d,r),this._display.endFill(),i instanceof xh&&i.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(a||n||o){let d=this.get("strokeOpacity"),f=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(f=f/this.get("scale",1)),this.get("crisp")&&(f/=this._root._renderer.resolution);let p=this.get("lineJoin"),m=this.get("lineCap");if(a&&!n&&(this._display.lineStyle(f,a,d,p,m),this._display.endStroke()),n){let g=n.get("stops",[]);g.length&&te(g,v=>{(!v.color||v.colorInherited)&&a&&(v.color=a,v.colorInherited=!0),(v.opacity==null||v.opacityInherited)&&(v.opacity=d,v.opacityInherited=!0)});let y=n.getFill(this);y&&(this._display.lineStyle(f,y,d,p,m),this._display.endStroke())}if(o){let g=o.pattern;g&&(this._display.lineStyle(f,g,d,p,m),this._display.endStroke(),o instanceof xh&&o.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}};Object.defineProperty(St,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(St,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Aa.classNames.concat([St.className])});var xr=class extends St{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){let t=this.width(),e=this.height(),i=0,r=0,a=t/Math.abs(t),n=e/Math.abs(e);if(this.get("containStroke",!1)){let o=this.get("strokeWidth",0);t-=o*a,e-=o*n,i+=o/2*a,r+=o/2*n}this._display.drawRect(i,r,t,e)}_updateSize(){this.markDirty(),this._clear=!0}};Object.defineProperty(xr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(xr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:St.classNames.concat([xr.className])});function ho(s,t){s.get("reverseChildren",!1)?s.children.eachReverse(t):s.children.each(t)}var gn=class extends xi{};Object.defineProperty(gn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(gn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xi.classNames.concat([gn.className])});var xl=class extends gn{updateContainer(t){let e=t.get("paddingLeft",0),i=t.innerWidth(),r=0;ho(t,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("width");if(o instanceof wt){r+=o.value;let l=i*o.value,u=n.get("minWidth",n.getPrivate("minWidth",-1/0));u>l&&(i-=u,r-=o.value);let h=n.get("maxWidth",n.getPrivate("maxWidth",1/0));l>h&&(i-=h,r-=o.value)}else ie(o)||(o=n.width()),i-=o+n.get("marginLeft",0)+n.get("marginRight",0)}}),(i<=0||i==1/0)&&(i=.1),ho(t,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("width");if(o instanceof wt){let l=i*o.value/r-n.get("marginLeft",0)-n.get("marginRight",0),u=n.get("minWidth",n.getPrivate("minWidth",-1/0)),h=n.get("maxWidth",n.getPrivate("maxWidth",1/0));l=Math.min(Math.max(u,l),h),n.setPrivate("width",l)}else n._prevSettings.width instanceof wt&&n.setPrivate("width",void 0)}});let a=e;ho(t,n=>{if(n.get("position")=="relative")if(n.isVisible()){let o=n.adjustedLocalBounds(),l=n.get("marginLeft",0),u=n.get("marginRight",0),h=n.get("maxWidth"),c=o.left,A=o.right;h&&A-c>h&&(A=c+h);let d=a+l-c;n.setPrivate("x",d),a=d+A+u}else n.setPrivate("x",void 0)})}};Object.defineProperty(xl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(xl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gn.classNames.concat([xl.className])});var wl=class extends gn{updateContainer(t){let e=t.get("paddingTop",0),i=t.innerHeight(),r=0;ho(t,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("height");if(o instanceof wt){r+=o.value;let l=i*o.value,u=n.get("minHeight",n.getPrivate("minHeight",-1/0));u>l&&(i-=u,r-=o.value);let h=n.get("maxHeight",n.getPrivate("maxHeight",1/0));l>h&&(i-=h,r-=o.value)}else ie(o)||(o=n.height()),i-=o+n.get("marginTop",0)+n.get("marginBottom",0)}}),(i<=0||i==1/0)&&(i=.1),ho(t,n=>{if(n.isVisible()&&n.get("position")=="relative"){let o=n.get("height");if(o instanceof wt){let l=i*o.value/r-n.get("marginTop",0)-n.get("marginBottom",0),u=n.get("minHeight",n.getPrivate("minHeight",-1/0)),h=n.get("maxHeight",n.getPrivate("maxHeight",1/0));l=Math.min(Math.max(u,l),h),n.setPrivate("height",l)}else n._prevSettings.height instanceof wt&&n.setPrivate("height",void 0)}});let a=e;ho(t,n=>{if(n.get("position")=="relative")if(n.isVisible()){let o=n.adjustedLocalBounds(),l=n.get("marginTop",0),u=o.top,h=o.bottom,c=n.get("maxHeight");c&&h-u>c&&(h=u+c);let A=n.get("marginBottom",0),d=a+l-u;n.setPrivate("y",d),a=d+h+A}else n.setPrivate("y",void 0)})}};Object.defineProperty(wl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(wl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gn.classNames.concat([wl.className])});var co=class extends gn{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(t){let e=t.get("paddingLeft",0),i=t.get("paddingRight",0),r=t.get("paddingTop",0),a=t.maxWidth()-e-i,n=a,o=1;ho(t,f=>{if(f.get("visible")&&f.getPrivate("visible")&&!f.get("forceHidden")&&f.get("position")!="absolute"){let p=f.width();p<n&&(n=p),p>o&&(o=p)}}),n=zi(n,1,a),o=zi(o,1,a);let l=1;this.get("fixedWidthGrid")?l=a/o:l=a/n,l=Math.max(1,Math.floor(l)),l=Math.min(this.get("maxColumns",Number.MAX_VALUE),l);let u=this.getColumnWidths(t,l,o,a),h=r,c=0,A=0;l=u.length;let d=e;ho(t,f=>{if(f.get("position")=="relative"&&f.isVisible()){let p=f.get("marginTop",0),m=f.get("marginBottom",0),g=f.adjustedLocalBounds(),y=f.get("marginLeft",0),v=f.get("marginRight",0),_=d+y-g.left,S=h+p-g.top;f.setPrivate("x",_),f.setPrivate("y",S),d+=u[c]+v,A=Math.max(A,f.height()+p+m),c++,c>=l&&(c=0,d=e,h+=A)}})}getColumnWidths(t,e,i,r){let a=0,n=[],o=0;return ho(t,l=>{let u=l.adjustedLocalBounds();l.get("position")!="absolute"&&l.isVisible()&&(this.get("fixedWidthGrid")?n[o]=i:n[o]=Math.max(n[o]|0,u.right-u.left+l.get("marginLeft",0)+l.get("marginRight",0)),o<t.children.length-1&&(o++,o==e&&(o=0)))}),te(n,l=>{a+=l}),a>r?e>2?(e-=1,this.getColumnWidths(t,e,i,r)):[r]:n}};Object.defineProperty(co,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(co,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:gn.classNames.concat([co.className])});var Zs=class{static escape(t){return t.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(t){return t.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(t){return t.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(t,e=!1,i=!1){let r=[];t=this.escape(t);let a=e?t.split("'"):[t];for(let n=0;n<a.length;n++){let o=a[n];if(o!=="")if(n%2===0){o=o.replace(/\]\[/g,"]"+lo+"["),o=o.replace(/\[\]/g,"[ ]");let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let h=this.cleanUp(this.unescape(l[u]));h!==lo&&h!==""&&(u%2===0?r.push({type:"value",text:h}):r.push({type:i?"value":"format",text:"["+h+"]"}))}}else{let l=o.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let h=this.cleanUp(this.unescape(l[u]));h!==""&&(u%2===0?r.push({type:"text",text:h}):this.isImage(h)?r.push({type:"image",text:"["+h+"]"}):r.push({type:"format",text:"["+h+"]"}))}}}return r}static isImage(t){return!!t.match(/img[ ]?:/)}static getTextStyle(t){let e={};if(t==""||t=="[ ]")return{};let i=t.match(/('[^']*')|("[^"]*")/gi);if(i)for(let a=0;a<i.length;a++)t=t.replace(i[a],i[a].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let r=t.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!r)return{};for(let a=0;a<r.length;a++)if(r[a].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))e.fontWeight=r[a];else if(r[a].match(/^(underline|line-through)$/i))e.textDecoration=r[a];else if(r[a]!="/")if(!r[a].match(/:/))e.fill=Ct.fromString(r[a]);else{let n=r[a].replace("+"," ").split(/:[ ]*/);e[n[0]]=n[1]}return e}};Object.defineProperty(Zs,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function Cl(s,t){if(t!=null){t=""+t,t=Zs.escape(t);let e=t.match(/\{([^}]+)\}/g),i;if(e)for(i=0;i<e.length;i++){let r=e[i].replace(/\{([^}]+)\}/,"$1"),a=jw(s,r,"");a==null&&(a=""),t=t.split(e[i]).join(a)}t=Zs.unescape(t)}else t="";return t}function jw(s,t,e){let i,r=s.dataItem,a=[],n=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,o;for(;o=n.exec(t),o!==null;)if(o[3]){a.push({prop:o[3]});let l=s.getDateFormatter().get("dateFields",[]),u=s.getNumberFormatter().get("numericFields",[]),h=s.getDurationFormatter().get("durationFields",[]);l.indexOf(o[3])!==-1?a.push({method:"formatDate",params:[]}):u.indexOf(o[3])!==-1?a.push({method:"formatNumber",params:[]}):h.indexOf(o[3])!==-1&&a.push({method:"formatDuration",params:[]})}else{let l=[];if(gh(o[2])!=""){let u=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,h;for(;h=u.exec(o[2]),h!==null;)l.push(h[1]||h[2]||h[3])}a.push({method:o[1],params:l})}if(r){i=Uc(s,a,r._settings),(i==null||oo(i))&&(i=Uc(s,a,r));let l=r.dataContext;i==null&&l&&(i=Uc(s,a,l),i==null&&(i=Uc(s,[{prop:t}],l)),i==null&&l.dataContext&&(i=Uc(s,a,l.dataContext))),i==null&&r.component&&r.component.dataItem!==r&&(i=jw(r.component,t,e))}return i==null&&(i=Uc(s,a,s)),i==null&&s.parent&&(i=jw(s.parent,t,e)),i}function OQ(s,t){let e=s.getPrivate("customData");if(oo(e))return e[t]}function Uc(s,t,e,i){let r=e,a=!1;for(let n=0,o=t.length;n<o;n++){let l=t[n];if(l.prop){if(r instanceof Aa){let u=r.get(l.prop);u==null&&(u=r.getPrivate(l.prop)),u==null&&(u=OQ(r,l.prop)),u==null&&(u=r[l.prop]),r=u}else if(r.get){let u=r.get(l.prop);u==null&&(u=r[l.prop]),r=u}else r=r[l.prop];if(r==null)return}else switch(l.method){case"formatNumber":let u=da(r);u!=null&&(r=s.getNumberFormatter().format(u,i||l.params[0]||void 0),a=!0);break;case"formatDate":let h=AD(r);if(!Dy(h)||ca(h.getTime()))return;h!=null&&(r=s.getDateFormatter().format(h,i||l.params[0]||void 0),a=!0);break;case"formatDuration":let c=da(r);c!=null&&(r=s.getDurationFormatter().format(c,i||l.params[0]||void 0,l.params[1]||void 0),a=!0);break;case"urlEncode":case"encodeURIComponent":r=encodeURIComponent(r);break;default:r[l.method]&&r[l.method].apply(e,l.params);break}}if(!a){let n=[{method:"",params:i}];if(i==null)ie(r)?(n[0].method="formatNumber",n[0].params=""):Dy(r)&&(n[0].method="formatDate",n[0].params="");else{let o=SD(i);o==="number"?n[0].method="formatNumber":o==="date"?n[0].method="formatDate":o==="duration"&&(n[0].method="formatDuration")}n[0].method&&(r=Uc(s,n,r))}return r}var Ke=class s extends Aa{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new Hy(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){Ah(this.allChildren(),t=>{t.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(t=>{t.removePrivate("x"),t.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(t=>{t.markDirtyPosition()}),this.isDirty("maskContent")){let t=this._childrenDisplay,e=this._contentMask;this.get("maskContent")?e||(e=xr.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=e,t.addChildAt(e._display,0),t.mask=e._display):e&&(t.removeChild(e._display),t.mask=null,e.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),te(this._percentageSizeChildren,t=>{t._updateSize()}),te(this._percentagePositionChildren,t=>{t.markDirtyPosition(),t._updateSize()}),this.updateBackground()}updateBackground(){let t=this.get("background"),e=this._localBounds;if(e&&!this.isHidden()){let i=e.left,r=e.top,a=e.right-i,n=e.bottom-r,o=this.get("maxWidth"),l=this.get("maxHeight");l&&n>l&&(n=l),o&&a>o&&(a=o);let u=this.width(),h=this.height();t&&(t.setAll({width:a,height:n,x:i,y:r}),this._display.interactive&&(t._display.interactive=!0));let c=this._contentMask;c&&c.setAll({width:u+1,height:h+1});let A=this.get("verticalScrollbar");if(A){A.set("height",h),A.set("x",u-A.width()-A.get("marginRight",0)),A.set("end",A.get("start",0)+h/this._contentHeight);let d=A.get("background");d&&d.setAll({width:A.width(),height:h});let f=!0;this._contentHeight<=h&&(f=!1),A.setPrivate("visible",f)}}}_applyThemes(t=!1){return super._applyThemes(t)?(this.eachChildren(e=>{e._applyThemes(t)}),!0):!1}_applyState(t){super._applyState(t),this.get("setStateOnChildren")&&this.eachChildren(e=>{e.states.apply(t)})}_applyStateAnimated(t,e){super._applyStateAnimated(t,e),this.get("setStateOnChildren")&&this.eachChildren(i=>{i.states.applyAnimate(t,e)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){if(this.get("html")){let t=this._localBounds;t&&(this._contentWidth=t.right-t.left,this._contentHeight=t.bottom-t.top)}else{let t=this.get("width"),e=this.get("height"),i=this.getPrivate("width"),r=this.getPrivate("height"),a={left:0,top:0,right:this.width(),bottom:this.height()},n=this.get("layout"),o=!1,l=!1;if((n instanceof xl||n instanceof co)&&(o=!0),n instanceof wl&&(l=!0),!((t!=null||i!=null)&&(e!=null||r!=null)&&!this.get("verticalScrollbar"))){let u=Number.MAX_VALUE,h=u,c=-u,A=u,d=-u,f=this.get("paddingLeft",0),p=this.get("paddingTop",0),m=this.get("paddingRight",0),g=this.get("paddingBottom",0);this.children.each(_=>{if(_.get("position")!="absolute"&&_.get("isMeasured")){let S=_.adjustedLocalBounds(),F=_.x(),P=_.y(),D=F+S.left,$=F+S.right,I=P+S.top,R=P+S.bottom;o&&(D-=_.get("marginLeft",0),$+=_.get("marginRight",0)),l&&(I-=_.get("marginTop",0),R+=_.get("marginBottom",0)),D<h&&(h=D),$>c&&(c=$),I<A&&(A=I),R>d&&(d=R)}}),h==u&&(h=0),c==-u&&(c=0),A==u&&(A=0),d==-u&&(d=0),a.left=h-f,a.top=A-p,a.right=c+m,a.bottom=d+g;let y=this.get("minWidth");ie(y)&&y>0&&a.right-a.left<y&&(a.right>=y?a.left=a.right-y:a.right=a.left+y);let v=this.get("minHeight");ie(v)&&v>0&&a.bottom-a.top<v&&(a.bottom>=v?a.top=a.bottom-v:a.bottom=a.top+v)}this._contentWidth=a.right-a.left,this._contentHeight=a.bottom-a.top,ie(t)&&(a.left=0,a.right=t),ie(i)&&(a.left=0,a.right=i),ie(e)&&(a.top=0,a.bottom=e),ie(r)&&(a.top=0,a.bottom=r),this._localBounds=a}}_updateBounds(){let t=this.get("layout");t&&t.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){let t=this.innerWidth(),e=this.innerHeight();if(t!=this._prevWidth||e!=this._prevHeight){let i=this.get("layout"),r=!1,a=!1;i&&((i instanceof xl||i instanceof co)&&(r=!0),i instanceof wl&&(a=!0)),te(this._percentageSizeChildren,n=>{if(!r){let o=n.get("width");o instanceof wt&&n.setPrivate("width",o.value*t)}if(!a){let o=n.get("height");o instanceof wt&&n.setPrivate("height",o.value*e)}}),te(this._percentagePositionChildren,n=>{n.markDirtyPosition(),n.markDirtyBounds()}),this._prevWidth=t,this._prevHeight=e,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateHTMLContent(){let t=this.get("html","");t&&t!==""?this._root._setHTMLContent(this,Cl(this,t)):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}scrollToChild(t){let e=this.get("verticalScrollbar");if(e){let i=t.y(),r=this.innerHeight(),a=t.height(),n=this._contentHeight,o=1-(r-a/2)/n;if(i+a*.7+this._childrenDisplay.y>r||i-a*.3+this._childrenDisplay.y<0){let l=Math.max(0,Math.min(o,(i-a/2)/n));e.animate({key:"start",to:l,duration:e.get("animationDuration",0),easing:e.get("animationEasing")})}}}_updateChildren(){if(this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){let t=this.get("verticalScrollbar");if(t){t._setParent(this),t.startGrip.setPrivate("visible",!1),t.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",t.width()+t.get("marginRight",0)+t.get("marginLeft",0));let e=this.get("background");e||(e=this.set("background",xr.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",i=>{let r=i.originalEvent;if(bA(r,this))r.preventDefault();else return;let a=r.deltaY/5e3,n=t.get("start",0),o=t.get("end",1);n+a<=0&&(a=-n),o+a>=1&&(a=1-o),n+a>=0&&o+a<=1&&(t.set("start",n+a),t.set("end",o+a))}),this._disposers.push(this._vsbd0),this._vsbd1=t.events.on("rangechanged",()=>{let i=this._contentHeight,r=this._childrenDisplay,a=this._contentMask;r.y=-t.get("start",0)*i,r.markDirtyLayer(),a&&(a._display.y=-r.y,r.mask=a._display)}),this._disposers.push(this._vsbd1),this._display.addChild(t._display)}else{let e=this._prevSettings.verticalScrollbar;if(e){this._display.removeChild(e._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();let i=this._childrenDisplay;i.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){let t=this._prevSettings.background;t&&this._display.removeChild(t._display);let e=this.get("background");e instanceof Aa&&(e.set("isMeasured",!1),e._setParent(this),this._display.addChildAt(e._display,0))}if(this.isDirty("mask")){let t=this.get("mask"),e=this._prevSettings.mask;if(e&&(this._display.removeChild(e._display),e!=t&&e.dispose()),t){let i=t.parent;i&&i.children.removeValue(t),t._setParent(this),this._display.addChildAt(t._display,0),this._childrenDisplay.mask=t._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(t=>{t._processTemplateField()})}walkChildren(t){this.children.each(e=>{e instanceof s&&e.walkChildren(t),t(e)})}eachChildren(t){let e=this.get("background");e&&t(e);let i=this.get("verticalScrollbar");i&&t(i);let r=this.get("mask");r&&t(r),this.children.values.forEach(a=>{t(a)})}allChildren(){let t=[];return this.eachChildren(e=>{t.push(e)}),t}_setDataItem(t){let e=t!==this._dataItem;super._setDataItem(t);let i=this.get("html","");i&&i!==""&&e&&this._root._setHTMLContent(this,Cl(this,i))}};Object.defineProperty(Ke,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(Ke,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Aa.classNames.concat([Ke.className])});var Ao=class extends Aa{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text")){super._updateBounds();let t=this.get("fillGradient");t&&(this._display.style.fill=t.getFill(this))}else{let t={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=t}}_changed(){super._changed(),this._display.clear();let t=this.textStyle;if(this.isDirty("opacity")){let e=this.get("opacity",1);this._display.alpha=e}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new vr(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(t.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(t.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(t.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(t.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(t.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(t.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){let e=this.get("fill"),i=this.get("fillGradient"),r=this.get("fillOpacity");if(i){if(e){let a=i.get("stops",[]);a.length&&te(a,n=>{(!n.color||n.colorInherited)&&e&&(n.color=e,n.colorInherited=!0),(n.opacity==null||n.opacityInherited)&&(n.opacity=r,n.opacityInherited=!0)})}t.fill=i.getFill(this)}else e&&(t.fill=e)}if(this.isDirty("fillOpacity")){let e=this.get("fillOpacity",1);e&&(t.fillOpacity=e)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(t.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(t.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),te(this._textStyles,e=>{this._dirty[e]&&(t[e]=this.get(e),this.markDirtyBounds())}),t.fontSize=this.get("fontSize"),t.fontFamily=this.get("fontFamily"),this._display.style=t,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let t=this.get("text","");return this.get("maxChars")&&(t=_D(t,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?Cl(this,t):t}_getAccessibleText(){let t=this.get("ariaLabel");return t!==void 0?this.get("populateText")?Cl(this,t):t:this._getText()}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(t){super._setDataItem(t),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}};Object.defineProperty(Ao,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(Ao,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Aa.classNames.concat([Ao.className])});var Ww=class{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(t=>{te(t,e=>{te(this._targets,i=>{i.target===e.target&&i.callback()})})})}addTarget(t,e){this._observer.observe(t,{box:"border-box"}),this._targets.push({target:t,callback:e})}removeTarget(t){this._observer.unobserve(t),Nc(this._targets,e=>e.target!==t)}},Yy=class s{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(t,e){if(this._timer===null){let r=null,a=()=>{let n=Date.now();(r===null||n>r+s.delay)&&(r=n,te(this._targets,o=>{let l=o.target.getBoundingClientRect();(l.width!==o.size.width||l.height!==o.size.height)&&(o.size=l,o.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(a)};this._timer=requestAnimationFrame(a)}let i={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:t,callback:e,size:i})}removeTarget(t){Nc(this._targets,e=>e.target!==t),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}};Object.defineProperty(Yy,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});var Gy=null;function LQ(){return Gy===null&&(typeof ResizeObserver<"u"?Gy=new Ww:Gy=new Yy),Gy}var Ky=class{constructor(t,e){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=LQ(),this._element=t,this._listener=Ry(e),this._sensor.addTarget(t,e)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}};var Qc=class extends xi{};Object.defineProperty(Qc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"});Object.defineProperty(Qc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xi.classNames.concat([Qc.className])});var hr=class extends Ke{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),te(this._textKeys,t=>{let e=this.get(t);e!=null&&this._text.set(t,e)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(Ao.new(this._root,{}))}_updateChildren(){super._updateChildren();let t=this._text;if(te(this._textKeys,i=>{this._text.set(i,this.get(i))}),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),this.get("html","")!==""?t.set("text",""):(t.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){let i=this.get("textAlign"),r;this.get("width")!=null?i=="right"?r=Be:i=="center"?r=Ye:r=0:i=="left"||i=="start"?r=this.get("paddingLeft",0):(i=="right"||i=="end")&&(r=-this.get("paddingRight",0)),t.set("x",r)}let e=this.get("background");e&&e.setPrivate("visible",t._display.textVisible)}_maybeUpdateHTMLColor(){let t=this.getPrivate("htmlElement");t&&this.get("fill")&&(t.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){let t=this.get("rotation"),e=t==90||t==270||t==-90,i=this._text,r=this.get("maxWidth",this.getPrivate("maxWidth",1/0));ie(r)?i.set(e?"maxHeight":"maxWidth",r-this.get("paddingTop",0)-this.get("paddingBottom",0)):i.set(e?"maxHeight":"maxWidth",void 0);let a=this.get("maxHeight",this.getPrivate("maxHeight",1/0));ie(a)?i.set(e?"maxWidth":"maxHeight",a-this.get("paddingLeft",0)-this.get("paddingRight",0)):i.set(e?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",()=>{i.markDirtyBounds()})}_setDataItem(t){super._setDataItem(t),this._markDirtyKey("text"),this._markDirtyKey("html");let e=this._text;e.get("populateText")&&e.markDirtyText();let i=this.get("html");i&&i!==""&&this._updateHTMLContent()}getText(){return this._text._getText()}getAccessibleText(){return this._text._getAccessibleText()}};Object.defineProperty(hr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty(hr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([hr.className])});var bu=class extends St{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let t=this.width(),e=this.height();if(t>0&&e>0){let i=this.get("cornerRadius",8);i=zi(i,0,Math.min(t/2,e/2));let r=this.get("pointerX",0),a=this.get("pointerY",0),n=this.get("pointerBaseWidth",15)/2,o=0,l=0,u=t,h=0,c=t,A=e,d=0,f=e,p=(r-o)*(A-l)-(a-l)*(c-o),m=(r-d)*(h-f)-(a-f)*(u-d),g=this._display;if(g.moveTo(i,0),p>0&&m>0){let y=Math.round(zi(r,i+n,t-n-i));a=zi(a,-1/0,0),g.lineTo(y-n,0),g.lineTo(r,a),g.lineTo(y+n,0)}if(g.lineTo(t-i,0),g.arcTo(t,0,t,i,i),p>0&&m<0){let y=Math.round(zi(a,i+n,e-n-i));r=zi(r,t,1/0),g.lineTo(t,i),g.lineTo(t,Math.max(y-n,i)),g.lineTo(r,a),g.lineTo(t,y+n)}if(g.lineTo(t,e-i),g.arcTo(t,e,t-i,e,i),p<0&&m<0){let y=Math.round(zi(r,i+n,t-n-i));a=zi(a,e,1/0),g.lineTo(t-i,e),g.lineTo(y+n,e),g.lineTo(r,a),g.lineTo(y-n,e)}if(g.lineTo(i,e),g.arcTo(0,e,0,e-i,i),p<0&&m>0){let y=Math.round(zi(a,i+n,e-i-n));r=zi(r,-1/0,0),g.lineTo(0,e-i),g.lineTo(0,y+n),g.lineTo(r,a),g.lineTo(0,Math.max(y-n,i))}g.lineTo(0,i),g.arcTo(0,0,i,0,i),g.closePath()}}}};Object.defineProperty(bu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"});Object.defineProperty(bu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:St.classNames.concat([bu.className])});var Ta=class extends Ke{constructor(t,e,i,r=[]){super(t,e,i,r),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillGrDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>bu.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push(hr.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",e=>{e&&(this._disposers.push(rr(e,"pointerover",i=>{this._htmlContentHovered=!0})),this._disposers.push(rr(e,"pointerout",i=>{this._htmlContentHovered=!1})))})),this.on("visible",e=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",e=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),Ts(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML")),this.get("labelAriaLabel")!=null&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){let e=this.get("background");this._keepHoverDp=new $r([e.events.on("pointerover",i=>{let r=this.get("tooltipTarget");r&&(r.parent&&r.parent.getPrivate("tooltipTarget")==r&&(r=r.parent),r.hover())}),e.events.on("pointerout",i=>{let r=this.get("tooltipTarget");r&&(r.parent&&r.parent.getPrivate("tooltipTarget")==r&&(r=r.parent),this._htmlContentHovered||r.unhover())})]),this.label.onPrivate("htmlElement",i=>{this._keepHoverDp&&i&&this._keepHoverDp.disposers.push(rr(i,"pointerleave",r=>{let a=this.root._renderer.getEvent(r);e.events.dispatch("pointerout",{type:"pointerout",originalEvent:a.event,point:a.point,simulated:!1,target:e})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let t=this.get("tooltipTarget"),e=this.get("background"),i,r;if(t&&e){if(i=t.get("fill"),r=t.get("stroke"),i==null&&(i=r),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),i!=null&&e.set("fill",i),this._fillDp=t.on("fill",a=>{a!=null&&(e.set("fill",a),this._updateTextColor(a))}),this._disposers.push(this._fillDp)),this.get("getFillGradientFromSprite")){this._fillGrDp&&this._fillGrDp.dispose();let a=t.get("fillGradient");a!=null&&e.set("fillGradient",a),this._fillGrDp=t.on("fillGradient",n=>{n!=null&&e.set("fillGradient",n)}),this._disposers.push(this._fillGrDp)}this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),i!=null&&e.set("stroke",i),this._strokeDp=t.on("fill",a=>{a!=null&&e.set("stroke",a)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),i!=null&&this.label.set("fill",i),this._labelDp=t.on("fill",a=>{a!=null&&this.label.set("fill",a)}),this._disposers.push(this._labelDp))}this._updateTextColor(i)}_updateTextColor(t){this.get("autoTextColor")&&(t==null&&(t=this.get("background").get("fill")),t==null&&(t=this._root.interfaceColors.get("background")),t instanceof Ct&&this.label.set("fill",Ct.alternative(t,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(t){super._setDataItem(t),this.label._setDataItem(t)}_updateBackground(){super.updateBackground();let t=this._root.container;if(t){let e=.5,i=.5,r=this.get("centerX");r instanceof wt&&(e=r.value);let a=this.get("centerY");a instanceof wt&&(i=a.value);let n=t.width(),o=t.height(),l=this.parent,u=0,h=0;if(l){u=l.x(),h=l.y();let R=l.get("layerMargin");R&&(u+=R.left||0,h+=R.top||0,n+=(R.left||0)+(R.right||0),o+=(R.top||0)+(R.bottom||0))}let c=this.get("bounds",{left:-u,top:-h,right:n-u,bottom:o-h});this._updateBounds();let A=this.width(),d=this.height();A===0&&(A=this._w),d===0&&(d=this._h);let f=this.get("pointTo",{x:n/2,y:o/2}),p=f.x,m=f.y,g=this.get("pointerOrientation"),y=this.get("background"),v=0,_=0,S=0;y instanceof bu&&(v=y.get("pointerLength",0),_=y.get("strokeWidth",0)/2,S=_,y.set("width",A),y.set("height",d));let F=0,P=0,D=c.right-c.left,$=c.bottom-c.top;g=="horizontal"||g=="left"||g=="right"?(_=0,g=="horizontal"?p>c.left+D/2?(p-=A*(1-e)+v,S*=-1):p+=A*e+v:g=="left"?p+=A*(1-e)+v:(p-=A*e+v,S*=-1)):(S=0,g=="vertical"?m>c.top+d/2+v?m-=d*(1-i)+v:(m+=d*i+v,_*=-1):g=="down"?m-=d*(1-i)+v:(m+=d*i+v,_*=-1)),p=zi(p,c.left+A*e,c.left+D-A*(1-e))+S,m=zi(m,c.top+d*i,c.top+$-d*(1-i))-_,F=f.x-p+A*e+S,P=f.y-m+d*i-_,this._fx=p,this._fy=m;let I=this.get("animationDuration",0);if(I>0&&this.get("visible")&&this.get("opacity")>.1){let R=this.get("animationEasing");this.animate({key:"x",to:p,duration:I,easing:R}),this.animate({key:"y",to:m,duration:I,easing:R})}else this.set("x",p),this.set("y",m);y instanceof bu&&(y.set("pointerX",F),y.set("pointerY",P)),A>0&&(this._w=A),d>0&&(this._h=d)}}};Object.defineProperty(Ta,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"});Object.defineProperty(Ta,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([Ta.className])});var wh=class extends xi{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);let t="_big_number_suffix_",e="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(t+"3")},{number:1e6,suffix:this._t(t+"6")},{number:1e9,suffix:this._t(t+"9")},{number:1e12,suffix:this._t(t+"12")},{number:1e15,suffix:this._t(t+"15")},{number:1e18,suffix:this._t(t+"18")},{number:1e21,suffix:this._t(t+"21")},{number:1e24,suffix:this._t(t+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(e+"24")},{number:1e-21,suffix:this._t(e+"21")},{number:1e-18,suffix:this._t(e+"18")},{number:1e-15,suffix:this._t(e+"15")},{number:1e-12,suffix:this._t(e+"12")},{number:1e-9,suffix:this._t(e+"9")},{number:1e-6,suffix:this._t(e+"6")},{number:.001,suffix:this._t(e+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i){(e==null||Mo(e)&&e.toLowerCase()==="number")&&(e=this.get("numberFormat",""));let r,a=Number(t);if(oo(e))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),e).format(a):new Intl.NumberFormat(void 0,e).format(a)}catch{return"Invalid"}else{e=vA(e);let n=this.parseFormat(e,this._root.language),o;a>this.get("negativeBase")?o=n.positive:a<this.get("negativeBase")?o=n.negative:o=n.zero,i!=null&&!o.mod&&(o=uo(o),o.decimals.active=a==0?0:i),r=o.template.split(lo).join(this.applyFormat(a,o))}return this.get("forceLTR")===!0&&(r="\u200E"+r),r}parseFormat(t,e){let i=e.translateEmpty("_thousandSeparator"),r=e.translateEmpty("_decimalSeparator"),a={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1}};t=t.replace("||",dh);let n=t.split("|");return a.positive.source=n[0],typeof n[2]>"u"?a.zero=a.positive:a.zero.source=n[2],typeof n[1]>"u"?a.negative=a.positive:a.negative.source=n[1],Mt(a,(o,l)=>{if(l.parsed)return;let u=l.source;u.toLowerCase()==="number"&&(u=this.get("numberFormat","#,###.#####"));let h=Zs.chunk(u,!0);for(let c=0;c<h.length;c++){let A=h[c];if(A.text=A.text.replace(dh,"|"),A.type==="value"){let d=A.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(d)if(d===null||d[0]==="")l.template+=A.text;else{let f=d[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);f&&(l.mod=f[0].toLowerCase(),l.modSpacing=!!d[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));let p=d[0].split(".");if(p[0]!==""){l.thousands.active=(p[0].match(/0/g)||[]).length,l.thousands.passive=(p[0].match(/\#/g)||[]).length+l.thousands.active;let m=p[0].split(",");m.length===1||(l.thousands.interval=(m.pop()||"").length,l.thousands.interval===0&&(l.thousands.interval=-1))}typeof p[1]>"u"||(l.decimals.active=(p[1].match(/0/g)||[]).length,l.decimals.passive=(p[1].match(/\#/g)||[]).length+l.decimals.active),l.template+=A.text.split(d[0]).join(lo)}}else l.template+=A.text}l.parsed=!0}),a}applyFormat(t,e){let i=t<0;t=Math.abs(t);let r="",a="",n=e.mod?e.mod.split(""):[];if(n.indexOf("b")!==-1){let c=this.applyPrefix(t,this.get("bytePrefixes"),n.indexOf("!")!==-1);t=c[0],r=c[1],a=c[2],e.modSpacing&&(a=" "+a)}else if(n.indexOf("a")!==-1){let c=this.applyPrefix(t,t<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),n.indexOf("!")!==-1);t=c[0],r=c[1],a=c[2],e.modSpacing&&(a=" "+a)}else if(n.indexOf("p")!==-1){let c=Math.min(t.toString().length+2,21);t=parseFloat(t.toPrecision(c)),r=this._root.language.translate("_percentPrefix"),a=this._root.language.translate("_percentSuffix"),r==""&&a==""&&(a="%")}else if(n.indexOf("%")!==-1){let c=Math.min(t.toString().length+2,21);t*=100,t=parseFloat(t.toPrecision(c)),a="%"}else if(n.indexOf("\u2030")!==-1){let c=Math.min(t.toString().length+3,21);t*=1e3,t=parseFloat(t.toPrecision(c)),a="\u2030"}if(n.indexOf("e")!==-1){let c;e.decimals.passive>=0?c=t.toExponential(e.decimals.passive).split("e"):c=t.toExponential().split("e"),t=Number(c[0]),a="e"+c[1],e.modSpacing&&(a=" "+a)}else if(e.decimals.passive===0)t=Math.round(t);else if(e.decimals.passive>0){let c=Uy(t);if(c>0){let A=Math.pow(10,e.decimals.passive);t=Math.round(parseFloat((t*A).toFixed(c)))/A}}let o="",l=fD(t).split("."),u=l[0];if(u.length<e.thousands.active&&(u=Array(e.thousands.active-u.length+1).join("0")+u),e.thousands.interval>0){let c=[],A=u.split("").reverse().join("");for(let d=0,f=u.length;d<=f;d+=e.thousands.interval){let p=A.substr(d,e.thousands.interval).split("").reverse().join("");p!==""&&c.unshift(p)}u=c.join(e.thousands.separator)}o+=u,l.length===1&&l.push("");let h=l[1];return h.length<e.decimals.active&&(h+=Array(e.decimals.active-h.length+1).join("0")),h!==""&&(o+=e.decimals.separator+h),o===""&&(o="0"),t!==0&&i&&n.indexOf("s")===-1&&(o="-"+o),r&&(o=r+o),a&&(o+=a),o}applyPrefix(t,e,i=!1){let r=t,a="",n="",o=!1,l=1;for(let u=0,h=e.length;u<h;u++)e[u].number<=t&&(e[u].number===0?r=0:(r=t/e[u].number,l=e[u].number),a=e[u].prefix,n=e[u].suffix,o=!0);return!o&&i&&e.length&&t!=0&&(r=t/e[0].number,a=e[0].prefix,n=e[0].suffix,o=!0),o&&(r=parseFloat(r.toPrecision(Math.min(l.toString().length+Math.floor(r).toString().replace(/[^0-9]*/g,"").length,21)))),[r,a,n]}escape(t){return t.replace("||",dh)}unescape(t){return t.replace(dh,"|")}};function UD(s,t){let e=0,i=0,r=1,a=0,n=0,o=0,l=0,u=0;return s.formatToParts(t).forEach(h=>{switch(h.type){case"year":e=+h.value;break;case"month":i=+h.value-1;break;case"day":r=+h.value;break;case"hour":a=+h.value;break;case"minute":n=+h.value;break;case"second":o=+h.value;break;case"fractionalSecond":l=+h.value;break;case"weekday":switch(h.value){case"Sun":u=0;break;case"Mon":u=1;break;case"Tue":u=2;break;case"Wed":u=3;break;case"Thu":u=4;break;case"Fri":u=5;break;case"Sat":u=6;break}}}),a===24&&(a=0),{year:e,month:i,day:r,hour:a,minute:n,second:o,millisecond:l,weekday:u}}function VD(s,t){let{year:e,month:i,day:r,hour:a,minute:n,second:o,millisecond:l}=UD(s,t);return Date.UTC(e,i,r,a,n,o,l)}var Hc=class{constructor(t,e){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=t,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(t){return new this(t,!0)}convertLocal(t){let e=this.offsetUTC(t),i=t.getTimezoneOffset(),r=new Date(t);r.setUTCMinutes(r.getUTCMinutes()-(e-i));let a=r.getTimezoneOffset();return i!=a&&r.setUTCMinutes(r.getUTCMinutes()+a-i),r}offsetUTC(t){let e=VD(this._utc,t),i=VD(this._dtf,t);return(e-i)/6e4}parseDate(t){return UD(this._dtf,t)}};var jc=class extends xi{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i=!1){(typeof e>"u"||e==="")&&(e=this.get("dateFormat","yyyy-MM-dd"));let r,a=t;if(oo(e))try{let u=this.get("intlLocales");return u?new Intl.DateTimeFormat(u,e).format(a):new Intl.DateTimeFormat(void 0,e).format(a)}catch{return"Invalid"}let n=this.parseFormat(e),o=this._root.timezone,l=a;return o&&!this._root.utc&&!i&&(a=o.convertLocal(a)),ie(a.getTime())?(r=this.applyFormat(a,n,i,l),this.get("capitalize")&&(r=r.replace(/^.{1}/,r.substr(0,1).toUpperCase())),r):"Invalid date"}applyFormat(t,e,i=!1,r){let a=e.template,n,o,l,u,h,c,A,d,f=t.getTime();this._root.utc&&!i?(n=t.getUTCFullYear(),o=t.getUTCMonth(),l=t.getUTCDay(),u=t.getUTCDate(),h=t.getUTCHours(),c=t.getUTCMinutes(),A=t.getUTCSeconds(),d=t.getUTCMilliseconds()):(n=t.getFullYear(),o=t.getMonth(),l=t.getDay(),u=t.getDate(),h=t.getHours(),c=t.getMinutes(),A=t.getSeconds(),d=t.getMilliseconds());for(let p=0,m=e.parts.length;p<m;p++){let g="";switch(e.parts[p]){case"G":g=this._t(n<0?"_era_bc":"_era_ad");break;case"yyyy":g=Math.abs(n).toString(),n<0&&(g+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":g=Math.abs(n).toString().substr(-e.parts[p].length),n<0&&(g+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let y=FD(t,this._root.utc);e.parts[p]=="YYYY"?g=Math.abs(y).toString():g=Math.abs(y).toString().substr(-e.parts[p].length),y<0&&(g+=this._t("_era_bc"));break;case"u":break;case"q":g=""+Math.ceil((t.getMonth()+1)/3);break;case"MMMMM":g=this._t(this._getMonth(o)).substr(0,1);break;case"MMMM":g=this._t(this._getMonth(o));break;case"MMM":g=this._t(this._getShortMonth(o));break;case"MM":g=Xr(o+1,2,"0");break;case"M":g=(o+1).toString();break;case"ww":g=Xr(Vp(t,this._root.utc),2,"0");break;case"w":g=Vp(t,this._root.utc).toString();break;case"W":g=PD(t,this._root.utc).toString();break;case"dd":g=Xr(u,2,"0");break;case"d":g=u.toString();break;case"DD":case"DDD":g=Xr(_w(t,this._root.utc).toString(),e.parts[p].length,"0");break;case"D":g=_w(t,this._root.utc).toString();break;case"F":break;case"g":break;case"t":g=this._root.language.translateFunc("_dateOrd").call(this,u);break;case"E":g=(l||7).toString();break;case"EE":g=Xr((l||7).toString(),2,"0");break;case"EEE":case"eee":g=this._t(this._getShortWeekday(l));break;case"EEEE":case"eeee":g=this._t(this._getWeekday(l));break;case"EEEEE":case"eeeee":g=this._t(this._getShortWeekday(l)).substr(0,1);break;case"e":case"ee":g=(l-(this._root.locale.firstDayOfWeek||1)+1).toString(),e.parts[p]=="ee"&&(g=Xr(g,2,"0"));break;case"a":h>=12?g=this._t("PM"):g=this._t("AM");break;case"aa":h>=12?g=this._t("P.M."):g=this._t("A.M.");break;case"aaa":h>=12?g=this._t("P"):g=this._t("A");break;case"h":g=jp(h).toString();break;case"hh":g=Xr(jp(h),2,"0");break;case"H":g=h.toString();break;case"HH":g=Xr(h,2,"0");break;case"K":g=jp(h,0).toString();break;case"KK":g=Xr(jp(h,0),2,"0");break;case"k":g=(h+1).toString();break;case"kk":g=Xr(h+1,2,"0");break;case"m":g=c.toString();break;case"mm":g=Xr(c,2,"0");break;case"s":g=A.toString();break;case"ss":g=Xr(A,2,"0");break;case"S":case"SS":case"SSS":g=Math.round(d/1e3*Math.pow(10,e.parts[p].length)).toString();break;case"x":g=f.toString();break;case"n":case"nn":case"nnn":g=Xr(d,e.parts[p].length,"0");break;case"z":g=Wp(r||t,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":g=Wp(r||t,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":g=Wp(r||t,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":g=Wp(r||t,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let v=this._root.utc?"UTC":this._root.timezone;v instanceof Hc&&(v=v.name);let _=v?DD(v,r||t):t.getTimezoneOffset(),S=Math.abs(_)/60,F=Math.floor(S),P=S*60-F*60;this._root.utc&&(F=0,P=0),e.parts[p]=="Z"?(g="GMT",g+=_>0?"-":"+",g+=Xr(F,2)+":"+Xr(P,2)):(g=_>0?"-":"+",g+=Xr(F,2)+Xr(P,2));break;case"i":g=t.toISOString();break;case"I":g=t.toUTCString();break}a=a.replace(lo,g)}return a}parseFormat(t){let e={template:"",parts:[]},i=Zs.chunk(t,!0);for(let r=0;r<i.length;r++){let a=i[r];if(a.type==="value"){if(a.text.match(/^date$/i)){let o=this.get("dateFormat","yyyy-MM-dd");Mo(o)||(o="yyyy-MM-dd"),a.text=o}let n=a.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(n)for(let o=0;o<n.length;o++)e.parts.push(n[o]),a.text=a.text.replace(n[o],lo)}e.template+=a.text}return e}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(t){return this._months()[t]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(t){return this._shortMonths()[t]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(t){return this._weekdays()[t]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(t){return this._shortWeekdays()[t]}parse(t,e,i){if(typeof i>"u"&&(i=this._root.utc),t instanceof Date)return t;if(ie(t))return new Date(t);if(e=="x")return new Date(parseInt(t));Mo(t)||(t=t.toString());let r,a="";e=vA(e),e=e.substr(0,t.length);let n=this.parseFormat(e),o={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},l={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:i},u=0,h=0;for(let d=0;d<n.parts.length;d++){switch(h=d+u+1,n.parts[d]){case"yyyy":case"YYYY":a+="([0-9]{4})",o.year=h;break;case"yyy":case"YYY":a+="([0-9]{3})",o.year3=h;break;case"yy":case"YY":a+="([0-9]{2})",o.year2=h;break;case"y":case"Y":a+="([0-9]{1})",o.year1=h;break;case"MMMM":a+="("+this.getStringList(this._months()).join("|")+")",o.monthLong=h;break;case"MMM":a+="("+this.getStringList(this._shortMonths()).join("|")+")",o.monthShort=h;break;case"MM":case"M":a+="([0-9]{2}|[0-9]{1})",o.month=h;break;case"ww":case"w":a+="([0-9]{2}|[0-9]{1})",o.week=h;break;case"dd":case"d":a+="([0-9]{2}|[0-9]{1})",o.day=h;break;case"DDD":case"DD":case"D":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.yearDay=h;break;case"dddd":a+="("+this.getStringList(this._weekdays()).join("|")+")",o.weekdayLong=h;break;case"ddd":a+="("+this.getStringList(this._shortWeekdays()).join("|")+")",o.weekdayShort=h;break;case"aaa":case"aa":case"a":a+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",o.am=h;break;case"hh":case"h":a+="([0-9]{2}|[0-9]{1})",o.hour12Base1=h;break;case"HH":case"H":a+="([0-9]{2}|[0-9]{1})",o.hourBase0=h;break;case"KK":case"K":a+="([0-9]{2}|[0-9]{1})",o.hour12Base0=h;break;case"kk":case"k":a+="([0-9]{2}|[0-9]{1})",o.hourBase1=h;break;case"mm":case"m":a+="([0-9]{2}|[0-9]{1})",o.minute=h;break;case"ss":case"s":a+="([0-9]{2}|[0-9]{1})",o.second=h;break;case"SSS":case"SS":case"S":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=h,o.millisecondDigits=n.parts[d].length;break;case"nnn":case"nn":case"n":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=h;break;case"x":a+="([0-9]{1,})",o.timestamp=h;break;case"Z":a+="GMT([-+]+[0-9]{2}:[0-9]{2})",o.zone=h;break;case"ZZ":a+="([\\-+]+[0-9]{2}[0-9]{2})",o.zone=h;break;case"i":a+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",o.iso=h,u+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":u--;break}a+="[^0-9]*"}let c=new RegExp(a),A=t.match(c);if(A){if(o.year>-1&&(l.year=parseInt(A[o.year])),o.year3>-1){let d=parseInt(A[o.year3]);d+=1e3,l.year=d}if(o.year2>-1){let d=parseInt(A[o.year2]);d>50?d+=1e3:d+=2e3,l.year=d}if(o.year1>-1){let d=parseInt(A[o.year1]);d=Math.floor(new Date().getFullYear()/10)*10+d,l.year=d}if(o.monthLong>-1&&(l.month=this.resolveMonth(A[o.monthLong])),o.monthShort>-1&&(l.month=this.resolveShortMonth(A[o.monthShort])),o.month>-1&&(l.month=parseInt(A[o.month])-1),o.week>-1&&o.day===-1&&(l.month=0,l.day=TD(parseInt(A[o.week]),l.year,1,i)),o.day>-1&&(l.day=parseInt(A[o.day])),o.yearDay>-1&&(l.month=0,l.day=parseInt(A[o.yearDay])),o.hourBase0>-1&&(l.hour=parseInt(A[o.hourBase0])),o.hourBase1>-1&&(l.hour=parseInt(A[o.hourBase1])-1),o.hour12Base0>-1){let d=parseInt(A[o.hour12Base0]);d==11&&(d=0),o.am>-1&&!this.isAm(A[o.am])&&(d+=12),l.hour=d}if(o.hour12Base1>-1){let d=parseInt(A[o.hour12Base1]);d==12&&(d=0),o.am>-1&&!this.isAm(A[o.am])&&(d+=12),l.hour=d}if(o.minute>-1&&(l.minute=parseInt(A[o.minute])),o.second>-1&&(l.second=parseInt(A[o.second])),o.millisecond>-1){let d=parseInt(A[o.millisecond]);o.millisecondDigits==2?d*=10:o.millisecondDigits==1&&(d*=100),l.millisecond=d}if(o.timestamp>-1){l.timestamp=parseInt(A[o.timestamp]);let d=new Date(l.timestamp);l.year=d.getUTCFullYear(),l.month=d.getUTCMonth(),l.day=d.getUTCDate(),l.hour=d.getUTCHours(),l.minute=d.getUTCMinutes(),l.second=d.getUTCSeconds(),l.millisecond=d.getUTCMilliseconds()}o.zone>-1&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),A[o.zone])),o.iso>-1&&(l.year=da(A[o.iso+0]),l.month=da(A[o.iso+1])-1,l.day=da(A[o.iso+2]),l.hour=da(A[o.iso+3]),l.minute=da(A[o.iso+4]),l.second=da(A[o.iso+5]),l.millisecond=da(A[o.iso+6]),A[o.iso+7]=="Z"||A[o.iso+7]=="z"?l.utc=!0:A[o.iso+7]!=""&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),A[o.iso+7]))),l.utc?r=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond)):r=new Date(l.year,l.month,l.day,l.hour,l.minute+l.offset,l.second,l.millisecond)}else r=new Date(t);return r}resolveTimezoneOffset(t,e){if(e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let r=e.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),a=r[1],n=r[2],o=r[3],l=parseInt(n)*60+parseInt(o);a=="+"&&(l*=-1);let u=(t||new Date).getTimezoneOffset();return l-u}return 0}resolveMonth(t){let e=this._months().indexOf(t);return e>-1||!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._months()).indexOf(t),e>-1)?e:0}resolveShortMonth(t){let e=this._shortMonths().indexOf(t);return e>-1||(e=this._months().indexOf(t),e>-1)||this._root.language&&!this._root.language.isDefault()&&(e=this._root.language.translateAll(this._shortMonths()).indexOf(t),e>-1)?e:0}isAm(t){return this.getStringList(["AM","A.M.","A"]).indexOf(t.toUpperCase())>-1}getStringList(t){let e=[];for(let i=0;i<t.length;i++)this._root.language?e.push(Cw(this._t(t[i]))):e.push(Cw(t[i]));return e}};var qy=class extends xi{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){let t="_duration_millisecond",e="_duration_second",i="_duration_minute",r="_duration_hour",a="_duration_day",n="_duration_week",o="_duration_month",l="_duration_year",u="_second",h="_minute",c="_hour",A="_day",d="_week",f="_week",p="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(t),second:this._t(t+u),minute:this._t(t+h),hour:this._t(t+c),day:this._t(t+A),week:this._t(t+d),month:this._t(t+f),year:this._t(t+p)},second:{second:this._t(e),minute:this._t(e+h),hour:this._t(e+c),day:this._t(e+A),week:this._t(e+d),month:this._t(e+f),year:this._t(e+p)},minute:{minute:this._t(i),hour:this._t(i+c),day:this._t(i+A),week:this._t(i+d),month:this._t(i+f),year:this._t(i+p)},hour:{hour:this._t(r),day:this._t(r+A),week:this._t(r+d),month:this._t(r+f),year:this._t(r+p)},day:{day:this._t(a),week:this._t(a+d),month:this._t(a+f),year:this._t(a+p)},week:{week:this._t(n),month:this._t(n+f),year:this._t(n+p)},month:{month:this._t(o),year:this._t(o+p)},year:{year:this._t(l)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(t,e,i){let r=i||this.get("baseUnit");(typeof e>"u"||e==="")&&(this.get("durationFormat")!=null?e=this.get("durationFormat"):e=this.getFormat(da(t),void 0,r)),e=vA(e);let a=this.parseFormat(e,r),n=Number(t),o;n>this.get("negativeBase")?o=a.positive:n<this.get("negativeBase")?o=a.negative:o=a.zero;let l=this.applyFormat(n,o);return o.color!==""&&(l="["+o.color+"]"+l+"[/]"),l}parseFormat(t,e){let i=e||this.get("baseUnit"),r={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}};t=t.replace("||",dh);let a=t.split("|");return r.positive.source=a[0],typeof a[2]>"u"?r.zero=r.positive:r.zero.source=a[2],typeof a[1]>"u"?r.negative=r.positive:r.negative.source=a[1],Mt(r,(n,o)=>{if(o.parsed)return;let l=o.source,u=[];u=o.source.match(/^\[([^\]]*)\]/),u&&u.length&&u[0]!==""&&(l=o.source.substr(u[0].length),o.color=u[1]);let h=Zs.chunk(l,!0);for(let c=0;c<h.length;c++){let A=h[c];if(A.text=A.text.replace(dh,"|"),A.type==="value"){A.text.match(/[yYMdDwhHKkmsSn]+a/)&&(o.absolute=!0,A.text=A.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let d=A.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(d)for(let f=0;f<d.length;f++)d[f]==null&&(d[f]=this._unitAliases[d[f]]),o.parts.push(d[f]),A.text=A.text.replace(d[f],lo)}o.template+=A.text}o.parsed=!0}),r}applyFormat(t,e){let i=!e.absolute&&t<this.get("negativeBase");t=Math.abs(t);let r=this.toTimeStamp(t,e.baseUnit),a=e.template,n={millisecond:0,second:0,minute:0,hour:0,day:0,week:0,month:0,year:0};for(let o=0,l=e.parts.length;o<l;o++){let u=e.parts[o],h=this._toTimeUnit(u.substr(0,1)),c,A=this._getUnitValue(h);o<l-1?c=Math.floor(r/A):c=Math.round(r/A),n[h]+=c,r-=c*A}Mt(n,(o,l)=>{o=="millisecond"&&l==1e3?(n.second++,n.millisecond=0):o=="second"&&l==60?(n.minute++,n.second=0):o=="minute"&&l==60?(n.hour++,n.minute=0):o=="hour"&&l==24?(n.day++,n.hour=0):o=="day"&&l==7?(n.week++,n.day=0):o=="day"&&l==30?(n.month++,n.day=0):o=="month"&&l==12&&(n.year++,n.month=0)});for(let o=0,l=e.parts.length;o<l;o++){let u=e.parts[o],h=this._toTimeUnit(u.substr(0,1)),c=u.length;a=a.replace(lo,Xr(n[h],c,"0"))}return i&&(a="-"+a),a}toTimeStamp(t,e){return t*this._getUnitValue(e)}_toTimeUnit(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(t,e,i){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(i||(i=this.get("baseUnit")),e!=null&&t!=e){t=Math.abs(t),e=Math.abs(e);let r=this.getValueUnit(Math.max(t,e),i);return this.get("durationFormats")[i][r]}else{let r=this.getValueUnit(t,i);return this.get("durationFormats")[i][r]}}getValueUnit(t,e){e||(e=this.get("baseUnit"));let i,r=this.getMilliseconds(t,e);return gD(this._getUnitValues(),(a,n)=>{if(a==e||i){if(r/n<=1)return i||(i=a),!1;i=a}return!0}),i}getMilliseconds(t,e){return e||(e=this.get("baseUnit")),t*this._getUnitValue(e)}_getUnitValue(t){return this._getUnitValues()[t]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}};var Zy={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(s){let t="th";if(s<11||s>13)switch(s%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};var Jy=class extends xi{_setDefaults(){this.setPrivate("defaultLocale",Zy),super._setDefaults()}translate(t,e,...i){e||(e=this._root.locale||this.getPrivate("defaultLocale"));let r=t,a=e[t];if(a===null)r="";else if(a!=null)a&&(r=a);else if(e!==this.getPrivate("defaultLocale"))return this.translate(t,this.getPrivate("defaultLocale"),...i);if(i.length)for(let n=i.length,o=0;o<n;++o)r=r.split("%"+(o+1)).join(i[o]);return r}translateAny(t,e,...i){return this.translate(t,e,...i)}setTranslationAny(t,e,i){let r=i||this._root.locale;r[t]=e}setTranslationsAny(t,e){Mt(t,(i,r)=>{this.setTranslationAny(i,r,e)})}translateEmpty(t,e,...i){let r=this.translate(t,e,...i);return r==t?"":r}translateFunc(t,e){return this._root.locale[t]?this._root.locale[t]:e!==this.getPrivate("defaultLocale")?this.translateFunc(t,this.getPrivate("defaultLocale")):()=>""}translateAll(t,e){return this.isDefault()?t:$p(t,i=>this.translate(i,e))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}};var yn=class{constructor(t,e){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=t,!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(t){let e=new this(t,!0);return e.setupDefaultRules(),e}setupDefaultRules(){}_lookupRules(t){return this._rules[t]}ruleRaw(t,e=[]){let i=this._rules[t];i||(i=this._rules[t]=[]),e.sort(pn);let{index:r,found:a}=Np(i,n=>{let o=pn(n.tags.length,e.length);return o===0?Xy(n.tags,e,pn):o});if(a)return i[r].template;{let n=Ut.new({});return i.splice(r,0,{tags:e,template:n}),n}}rule(t,e=[]){return this.ruleRaw(t,e)}};function gt(s,t,e,i){s.set(t,e.get(i)),e.on(i,r=>{s.set(t,r)})}var eb=class extends yn{setupDefaultRules(){super.setupDefaultRules();let t=this._root.language,e=this._root.interfaceColors,i=this._root.horizontalLayout,r=this._root.verticalLayout,a=this.rule.bind(this);a("InterfaceColors").setAll({stroke:Ct.fromHex(15066597),fill:Ct.fromHex(15987699),primaryButton:Ct.fromHex(6788316),primaryButtonHover:Ct.fromHex(6779356),primaryButtonDown:Ct.fromHex(6872182),primaryButtonActive:Ct.fromHex(6872182),primaryButtonDisabled:Ct.fromHex(14342874),primaryButtonTextDisabled:Ct.fromHex(16777215),primaryButtonText:Ct.fromHex(16777215),primaryButtonStroke:Ct.fromHex(16777215),secondaryButton:Ct.fromHex(14277081),secondaryButtonHover:Ct.fromHex(10724259),secondaryButtonDown:Ct.fromHex(9276813),secondaryButtonActive:Ct.fromHex(15132390),secondaryButtonText:Ct.fromHex(0),secondaryButtonStroke:Ct.fromHex(16777215),grid:Ct.fromHex(0),background:Ct.fromHex(16777215),alternativeBackground:Ct.fromHex(0),text:Ct.fromHex(0),alternativeText:Ct.fromHex(16777215),disabled:Ct.fromHex(11382189),positive:Ct.fromHex(5288704),negative:Ct.fromHex(11730944)});{let n=a("ColorSet");n.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[Ct.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),n.setPrivate("currentStep",0),n.setPrivate("currentPass",0)}a("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:Vc(yu)}),a("Component").setAll({interpolationDuration:0,interpolationEasing:Vc(yu)}),a("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:Ye,tooltipY:Ye,tooltipPosition:"fixed",isMeasured:!0}),a("Sprite").states.create("default",{visible:!0,opacity:1}),a("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),a("Graphics").setAll({strokeWidth:1}),a("Chart").setAll({width:Be,height:Be,interactiveChildren:!1}),a("ZoomableContainer").setAll({width:Be,height:Be,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:Vc(yu),animationDuration:600,maxPanOut:.4}),a("Sprite",["horizontal","center"]).setAll({centerX:Ye,x:Ye}),a("Sprite",["vertical","center"]).setAll({centerY:Ye,y:Ye}),a("Container",["horizontal","layout"]).setAll({layout:i}),a("Container",["vertical","layout"]).setAll({layout:r}),a("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),a("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),a("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),a("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),a("GrainPattern").setAll({width:200,height:200,colors:[Ct.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{let n=a("PatternSet");n.setAll({step:1}),gt(n,"color",e,"stroke")}a("LinearGradient").setAll({rotation:90}),a("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:co.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),a("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:t.translate("Press ENTER to toggle"),role:"checkbox"});{let n=a("Rectangle",["legend","item","background"]);n.setAll({fillOpacity:0}),gt(n,"fill",e,"background")}a("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:Ye,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),a("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:Be,height:Be,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{let n=a("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});gt(n,"fill",e,"disabled"),gt(n,"stroke",e,"disabled")}a("Label",["legend","label"]).setAll({centerY:Ye,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{let n=a("Label",["legend","label"]).states.create("disabled",{});gt(n,"fill",e,"disabled")}a("Label",["legend","value","label"]).setAll({centerY:Ye,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:Be,populateText:!0});{let n=a("Label",["legend","value","label"]).states.create("disabled",{});gt(n,"fill",e,"disabled")}a("HeatLegend").setAll({stepCount:1}),a("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),a("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:Be,width:15}),a("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:Be,height:15}),a("HeatLegend",["vertical"]).setAll({height:Be}),a("HeatLegend",["horizontal"]).setAll({width:Be}),a("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),a("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{let n=a("Label");n.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),gt(n,"fill",e,"text")}a("RadialLabel").setAll({textType:"regular",centerY:Ye,centerX:Ye,inside:!1,radius:0,baseRadius:Be,orientation:"auto",textAlign:"center"}),a("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),a("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:Ct.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:Ct.fromHex(0)}),a("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),a("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),a("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),a("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{let n=a("Tick");n.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),gt(n,"stroke",e,"grid")}a("Bullet").setAll({locationX:.5,locationY:.5}),a("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:Ye,centerY:Ye,animationEasing:Vc(yu),exportable:!1}),a("Polygon").setAll({animationEasing:Vc(yu)}),a("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:Ct.fromHex(16777215)});{let n=a("Label",["tooltip"]);n.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),gt(n,"fill",e,"alternativeText")}a("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),a("Button").states.create("hover",{}),a("Button").states.create("down",{stateAnimationDuration:0}),a("Button").states.create("active",{}),a("Button").states.create("disabled",{forceInactive:!0});{let n=a("RoundedRectangle",["button","background"]);gt(n,"fill",e,"primaryButton"),gt(n,"stroke",e,"primaryButtonStroke")}{let n=a("RoundedRectangle",["button","background"]).states.create("hover",{});gt(n,"fill",e,"primaryButtonHover")}{let n=a("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});gt(n,"fill",e,"primaryButtonDown")}{let n=a("RoundedRectangle",["button","background"]).states.create("active",{});gt(n,"fill",e,"primaryButtonActive")}{let n=a("RoundedRectangle",["button","background"]).states.create("disabled",{});gt(n,"fill",e,"primaryButtonDisabled")}{let n=a("Graphics",["button","icon"]).states.create("disabled",{});gt(n,"fill",e,"primaryButtonTextDisabled")}{let n=a("Label",["button"]).states.create("disabled",{});gt(n,"fill",e,"primaryButtonTextDisabled")}{let n=a("Graphics",["button","icon"]);n.setAll({forceInactive:!0}),gt(n,"stroke",e,"primaryButtonText")}{let n=a("Label",["button"]);gt(n,"fill",e,"primaryButtonText")}a("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:Be,role:"button",ariaLabel:t.translate("Zoom Out"),layer:30});{let n=a("RoundedRectangle",["background","button","zoom"]);n.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),gt(n,"fill",e,"primaryButton")}{let n=a("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});gt(n,"fill",e,"primaryButtonHover")}{let n=a("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});gt(n,"fill",e,"primaryButtonDown")}{let n=a("Graphics",["icon","button","zoom"]);n.setAll({crisp:!0,strokeOpacity:.7,draw:o=>{o.moveTo(0,0),o.lineTo(12,0)}}),gt(n,"stroke",e,"primaryButtonText")}a("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:Ye,centerY:Ye,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:t.translate("Use up and down arrows to move selection")});{let n=a("RoundedRectangle",["background","resize","button"]);n.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),gt(n,"fill",e,"secondaryButton"),gt(n,"stroke",e,"secondaryButtonStroke")}{let n=a("RoundedRectangle",["background","resize","button"]).states.create("hover",{});gt(n,"fill",e,"secondaryButtonHover")}{let n=a("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});gt(n,"fill",e,"secondaryButtonDown")}{let n=a("Graphics",["resize","button","icon"]);n.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:o=>{o.moveTo(0,.5),o.lineTo(0,12.5),o.moveTo(4,.5),o.lineTo(4,12.5)}}),gt(n,"stroke",e,"secondaryButtonText")}a("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),a("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),a("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:t.translate("Play"),toggleKey:"active"});{let n=a("RoundedRectangle",["play","background"]);n.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),gt(n,"fill",e,"primaryButton")}{let n=a("Graphics",["play","icon"]);n.setAll({stateAnimationDuration:0,dx:1,draw:o=>{o.moveTo(0,-5),o.lineTo(8,0),o.lineTo(0,5),o.lineTo(0,-5)}}),gt(n,"fill",e,"primaryButtonText")}a("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),a("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:n=>{n.moveTo(-4,-5),n.lineTo(-1,-5),n.lineTo(-1,5),n.lineTo(-4,5),n.lineTo(-4,-5),n.moveTo(4,-5),n.lineTo(1,-5),n.lineTo(1,5),n.lineTo(4,5),n.lineTo(4,-5)}}),a("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:t.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{let n=a("RoundedRectangle",["switch","background"]);n.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),gt(n,"fill",e,"primaryButton")}{let n=a("Circle",["switch","icon"]);n.setAll({radius:8,centerY:0,centerX:0,dx:0}),gt(n,"fill",e,"primaryButtonText")}a("Graphics",["switch","icon"]).states.create("active",{dx:16}),a("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:Vc(yu)}),a("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:Be}),a("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:Be}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{let n=a("RoundedRectangle",["scrollbar","main","background"]);n.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),gt(n,"fill",e,"fill")}{let n=a("RoundedRectangle",["scrollbar","thumb"]);n.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),gt(n,"fill",e,"secondaryButton")}{let n=a("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});gt(n,"fill",e,"secondaryButtonHover")}{let n=a("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});gt(n,"fill",e,"secondaryButtonDown")}a("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:Ye,width:Be,centerX:Ye,ariaLabel:t.translate("Use up and down arrows to move selection")}),a("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:Ye,centerY:Ye,height:Be,ariaLabel:t.translate("Use left and right arrows to move selection")});{let n=a("PointedRectangle",["axis","tooltip","background"]);n.setAll({cornerRadius:0}),gt(n,"fill",e,"alternativeBackground")}a("Label",["axis","tooltip"]).setAll({role:void 0}),a("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),a("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),a("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),a("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),a("Star").setAll({spikes:5,innerRadius:5,radius:10}),a("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),a("Tooltip",["indicator"]).setAll({forceHidden:!0}),a("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),a("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),a("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),a("Container",["resizer","grip"]).states.create("hover",{});{let n=a("RoundedRectangle",["resizer","grip"]);n.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),gt(n,"fill",e,"background"),gt(n,"stroke",e,"alternativeBackground")}{let n=a("RoundedRectangle",["resizer","grip","outline"]);n.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),n.states.create("hover",{fillOpacity:.3}),gt(n,"fill",e,"alternativeBackground")}a("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),a("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{let n=a("Rectangle",["resizer","rectangle"]);n.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),gt(n,"stroke",e,"alternativeBackground")}a("Graphics",["button","plus","icon"]).setAll({x:Ye,y:Ye,draw:n=>{n.moveTo(-4,0),n.lineTo(4,0),n.moveTo(0,-4),n.lineTo(0,4)}}),a("Graphics",["button","minus","icon"]).setAll({x:Ye,y:Ye,draw:n=>{n.moveTo(-4,0),n.lineTo(4,0)}}),a("Graphics",["button","home","icon"]).setAll({x:Ye,y:Ye,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),a("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),a("ZoomTools").setAll({x:Be,centerX:Be,y:Be,centerY:Be,paddingRight:10,paddingBottom:10})}};var CA=class{constructor(t=1,e=0,i=0,r=1,a=0,n=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=a,this.ty=n}setTransform(t,e,i,r,a,n=1){this.a=Math.cos(a)*n,this.b=Math.sin(a)*n,this.c=-Math.sin(a)*n,this.d=Math.cos(a)*n,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d)}apply(t){return{x:this.a*t.x+this.c*t.y+this.tx,y:this.b*t.x+this.d*t.y+this.ty}}applyInverse(t){let e=1/(this.a*this.d+this.c*-this.b);return{x:this.d*e*t.x+-this.c*e*t.y+(this.ty*this.c-this.tx*this.d)*e,y:this.a*e*t.y+-this.b*e*t.x+(-this.ty*this.a+this.tx*this.b)*e}}append(t){let e=this.a,i=this.b,r=this.c,a=this.d;this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*a,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*a,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*a+this.ty}prepend(t){let e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){let i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty}copyFrom(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty}};var IQ=function(){function s(t,e){var i=[],r=!0,a=!1,n=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(i.push(l.value),!(e&&i.length===e));r=!0);}catch(u){a=!0,n=u}finally{try{!r&&o.return&&o.return()}finally{if(a)throw n}}return i}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return s(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Kp=Math.PI*2,Xw=function(t,e,i,r,a,n,o){var l=t.x,u=t.y;l*=e,u*=i;var h=r*l-a*u,c=a*l+r*u;return{x:h+n,y:c+o}},$Q=function(t,e){var i=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=Math.cos(t),a=Math.sin(t),n=Math.cos(t+e),o=Math.sin(t+e);return[{x:r-a*i,y:a+r*i},{x:n+o*i,y:o-n*i},{x:n,y:o}]},QD=function(t,e,i,r){var a=t*r-e*i<0?-1:1,n=t*i+e*r;return n>1&&(n=1),n<-1&&(n=-1),a*Math.acos(n)},kQ=function(t,e,i,r,a,n,o,l,u,h,c,A){var d=Math.pow(a,2),f=Math.pow(n,2),p=Math.pow(c,2),m=Math.pow(A,2),g=d*f-d*m-f*p;g<0&&(g=0),g/=d*m+f*p,g=Math.sqrt(g)*(o===l?-1:1);var y=g*a/n*A,v=g*-n/a*c,_=h*y-u*v+(t+i)/2,S=u*y+h*v+(e+r)/2,F=(c-y)/a,P=(A-v)/n,D=(-c-y)/a,$=(-A-v)/n,I=QD(1,0,F,P),R=QD(F,P,D,$);return l===0&&R>0&&(R-=Kp),l===1&&R<0&&(R+=Kp),[_,S,I,R]},MQ=function(t){var e=t.px,i=t.py,r=t.cx,a=t.cy,n=t.rx,o=t.ry,l=t.xAxisRotation,u=l===void 0?0:l,h=t.largeArcFlag,c=h===void 0?0:h,A=t.sweepFlag,d=A===void 0?0:A,f=[];if(n===0||o===0)return[];var p=Math.sin(u*Kp/360),m=Math.cos(u*Kp/360),g=m*(e-r)/2+p*(i-a)/2,y=-p*(e-r)/2+m*(i-a)/2;if(g===0&&y===0)return[];n=Math.abs(n),o=Math.abs(o);var v=Math.pow(g,2)/Math.pow(n,2)+Math.pow(y,2)/Math.pow(o,2);v>1&&(n*=Math.sqrt(v),o*=Math.sqrt(v));var _=kQ(e,i,r,a,n,o,c,d,p,m,g,y),S=IQ(_,4),F=S[0],P=S[1],D=S[2],$=S[3],I=Math.abs($)/(Kp/4);Math.abs(1-I)<1e-7&&(I=1);var R=Math.max(Math.ceil(I),1);$/=R;for(var T=0;T<R;T++)f.push($Q(D,$)),D+=$;return f.map(function(Q){var K=Xw(Q[0],n,o,m,p,F,P),z=K.x,se=K.y,ee=Xw(Q[1],n,o,m,p,F,P),ue=ee.x,G=ee.y,q=Xw(Q[2],n,o,m,p,F,P),ge=q.x,ne=q.y;return{x1:z,y1:se,x2:ue,y2:G,x:ge,y:ne}})},HD=MQ;function EQ(s,t,e){if(t!==e)throw new Error("Required "+e+" arguments for "+s+" but got "+t)}function qp(s,t,e){if(t<e)throw new Error("Required at least "+e+" arguments for "+s+" but got "+t)}function Vn(s,t,e){if(qp(s,t,e),t%e!==0)throw new Error("Arguments for "+s+" must be in pairs of "+e)}function RQ(s){for(let t=0;t<s.length;t+=7){let e=t+3,i=s[e];if(i.length>1){let r=/^([01])([01])(.*)$/.exec(i);r!==null&&(s.splice(e,0,r[1]),++e,s.splice(e,0,r[2]),++e,r[3].length>0?s[e]=r[3]:s.splice(e,1))}if(++e,i=s[e],i.length>1){let r=/^([01])(.+)$/.exec(i);r!==null&&(s.splice(e,0,r[1]),++e,s[e]=r[2])}}}function jD(s){if(s===0||s===1)return s;throw new Error("Flag must be 0 or 1")}function NQ(s){let t=[0,0,0];for(let e=0;e<24;e++)t[e%3]<<=1,t[e%3]|=s&1,s>>=1;return(t[0]|0)+(t[1]<<8)+(t[2]<<16)}function tb(s,t){for(;!(s.interactive&&!t(s));)if(s._parent)s=s._parent;else break}function VQ(s,t,e){return rr(s,Vy(t),i=>{let r=xw(i),a=i.touches;a?(a.length==0&&(a=i.changedTouches),e(Ep(a),r)):e([i],r)})}function WD(s){let t=document.createElement("canvas");t.width=1,t.height=1;let e=t.getContext("2d",{willReadFrequently:!0});e.drawImage(s,0,0,1,1);try{return e.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+s.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Zp(s){s.width=0,s.height=0,s.style.width="0px",s.style.height="0px"}function XD(s){return Math.floor(s)+.5}var zw=class{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(t){this._x=t}set y(t){this._y=t}},_A=class extends ph{constructor(t){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new zw}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new CA}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new CA}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new CA}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=t}subStatus(t){return{inactive:this.inactive==null?t.inactive:this.inactive,layer:this._layer||t.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let t=this;for(;;){if(t._layer)return t._layer;if(t._parent)t=t._parent;else return this._renderer.defaultLayer}}setLayer(t,e){t==null?this._layer=void 0:(this._layer=this._renderer.getLayer(t,!0),this._layer.visible=!0,this._layer.margin=e,e&&yh(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(t){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(t){return!t.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(t){return this._isInteractive(t)}contains(t){for(;;){if(t===this)return!0;if(t._parent)t=t._parent;else return!1}}toGlobal(t){return this._matrix.apply(t)}toLocal(t){return this._matrix.applyInverse(t)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(t){this._setMatrix();let e=this.getLocalMatrix(),i=e.apply({x:t.left,y:t.top}),r=e.apply({x:t.right,y:t.top}),a=e.apply({x:t.right,y:t.bottom}),n=e.apply({x:t.left,y:t.bottom});return{left:Math.min(i.x,r.x,a.x,n.x),top:Math.min(i.y,r.y,a.y,n.y),right:Math.max(i.x,r.x,a.x,n.x),bottom:Math.max(i.y,r.y,a.y,n.y)}}on(t,e,i){return this.interactive?this._renderer._addEvent(this,t,e,i):new vr(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(t,e){let i=this._matrix,r=i.tx*e,a=i.ty*e;this.crisp&&(r=XD(r),a=XD(a)),t.setTransform(i.a*e,i.b*e,i.c*e,i.d*e,r,a)}_transformMargin(t,e,i){let r=this._matrix;t.setTransform(r.a*e,r.b*e,r.c*e,r.d*e,(r.tx+i.left)*e,(r.ty+i.top)*e)}_transformLayer(t,e,i){i.margin?this._transformMargin(t,i.scale||e,i.margin):this._transform(t,i.scale||e)}render(t,e=0){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();let i=this.subStatus(t),r=this._renderer.resolution,a=this._renderer.layers,n=this._renderer._ghostLayer,o=n.context,l=this.mask;l&&l._setMatrix(),te(a,u=>{if(u){let h=u.context;h.save(),l&&(l._transformLayer(h,r,u),l._runPath(h),h.clip()),h.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(h,r,u),this.filter&&(h.filter=this.filter)}}),o.save(),l&&this._isInteractiveMask(i)&&(l._transformMargin(o,r,n.margin),l._runPath(o),o.clip()),this._transformMargin(o,r,n.margin),i.layer.order>0&&!e&&Mp(this._renderer._deferredGhostLayers,i.layer.order),this._render(i,e),o.restore(),te(a,u=>{u&&u.context.restore()})}}_render(t,e=0){this.exportable===!1&&(t.layer.tainted=!0)}_ghostOnly(t=0){return t>0}_drawGhost(t,e=0){let i=this._isInteractive(t),r=t.layer.order||0;return!!(i&&(r==0&&!this._ghostOnly(e)||r==e))}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(t=>t.value===this)}shouldCancelTouch(){let t=this._renderer;return t.tapToActivate&&!t._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}},Gw=class extends _A{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(t){return this.interactiveChildren||super._isInteractiveMask(t)}addChild(t){t._parent=this,this._children.push(t),t._layer&&this.registerChildLayer(t._layer)}addChildAt(t,e){t._parent=this,this._children.splice(e,0,t),t._layer&&this.registerChildLayer(t._layer)}removeChild(t){t._parent=void 0,Yr(this._children,t)}_render(t,e){super._render(t);let i=this._renderer;this.interactive&&this.interactiveChildren&&++i._forceInteractive,te(this._children,r=>{r.compoundAlpha=this.compoundAlpha*this.alpha,r.render(t,e)}),this.interactive&&this.interactiveChildren&&--i._forceInteractive}registerChildLayer(t){this._childLayers||(this._childLayers=[]),fh(this._childLayers,t),this._parent&&this._parent.registerChildLayer(t)}markDirtyLayer(t=!1){super.markDirtyLayer(),t&&this._childLayers&&te(this._childLayers,e=>e.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&te(this._childLayers,t=>{t.dirty=!0})}};function fs(s,t){s.left=Math.min(s.left,t.x),s.top=Math.min(s.top,t.y),s.right=Math.max(s.right,t.x),s.bottom=Math.max(s.bottom,t.y)}var ps=class{colorize(t,e){}colorizeGhost(t,e){this.colorize(t,e)}path(t){}pathGhost(t){this.path(t)}addBounds(t){}},Yw=class extends ps{colorize(t,e){t.beginPath()}},Jp=class extends ps{constructor(t){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){e!==void 0?t.fillStyle=e:t.fillStyle=this.color}},Kw=class extends ps{constructor(t){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.fill(),this.clearShadow&&(t.shadowColor="",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},qw=class extends ps{colorize(t,e){t.stroke()}},em=class extends ps{constructor(t,e,i,r){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"lineCap",{enumerable:!0,configurable:!0,writable:!0,value:r})}colorize(t,e){e!==void 0?t.strokeStyle=e:t.strokeStyle=this.color,t.lineWidth=this.width,this.lineJoin&&(t.lineJoin=this.lineJoin),this.lineCap&&(t.lineCap=this.lineCap)}},Zw=class extends ps{constructor(t){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.setLineDash(this.dash)}},Jw=class extends ps{constructor(t){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:t})}colorize(t,e){t.lineDashOffset=this.dashOffset}},eC=class extends ps{constructor(t,e,i,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){t.rect(this.x,this.y,this.width,this.height)}addBounds(t){let e=this.x,i=this.y,r=e+this.width,a=i+this.height;fs(t,{x:e,y:i}),fs(t,{x:r,y:i}),fs(t,{x:e,y:a}),fs(t,{x:r,y:a})}},tC=class extends ps{constructor(t,e,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(t){t.moveTo(this.x+this.radius,this.y),t.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(t){fs(t,{x:this.x-this.radius,y:this.y-this.radius}),fs(t,{x:this.x+this.radius,y:this.y+this.radius})}},iC=class extends ps{constructor(t,e,i,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){t.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(t){fs(t,{x:this.x-this.radiusX,y:this.y-this.radiusY}),fs(t,{x:this.x+this.radiusX,y:this.y+this.radiusY})}},rC=class extends ps{constructor(t,e,i,r,a,n){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(t){this.radius>0&&t.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(t){let e=vh(this.cx,this.cy,this.startAngle*An,this.endAngle*An,this.radius);fs(t,{x:e.left,y:e.top}),fs(t,{x:e.right,y:e.bottom})}},sC=class extends ps{constructor(t,e,i,r,a){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(t){this.radius>0&&t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(t){}},aC=class extends ps{constructor(t,e){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e})}path(t){t.lineTo(this.x,this.y)}addBounds(t){fs(t,{x:this.x,y:this.y})}},nC=class extends ps{constructor(t,e){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:e})}path(t){t.moveTo(this.x,this.y)}addBounds(t){fs(t,{x:this.x,y:this.y})}},oC=class extends ps{path(t){t.closePath()}},lC=class extends ps{constructor(t,e,i,r,a,n){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(t){t.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(t){fs(t,{x:this.cpX,y:this.cpY}),fs(t,{x:this.cpX2,y:this.cpY2}),fs(t,{x:this.toX,y:this.toY})}},uC=class extends ps{constructor(t,e,i,r){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(t){t.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(t){fs(t,{x:this.cpX,y:this.cpY}),fs(t,{x:this.toX,y:this.toY})}},hC=class extends ps{constructor(t,e,i,r,a){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:a})}colorize(t,e){this.opacity&&(t.fillStyle=this.color),t.shadowColor=this.color,t.shadowBlur=this.blur,t.shadowOffsetX=this.offsetX,t.shadowOffsetY=this.offsetY}colorizeGhost(t,e){}},cC=class extends ps{constructor(t,e,i,r,a){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:a})}path(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(t){fs(t,{x:this.x,y:this.y}),fs(t,{x:this.width,y:this.height})}},dC=class extends _A{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:wA.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(t){this._operations.push(t)}beginFill(t,e=1){this._fillAlpha=e,t?t instanceof Ct?this._pushOp(new Jp(t.toCSS(e))):(this.isMeasured=!0,this._pushOp(new Jp(t))):this._pushOp(new Jp("rgba(0, 0, 0, "+e+")"))}endFill(){this._pushOp(new Kw(this._hasShadows))}endStroke(){this._pushOp(new qw)}beginPath(){this._pushOp(new Yw)}lineStyle(t=0,e,i=1,r,a){this._strokeAlpha=i,e?e instanceof Ct?this._pushOp(new em(t,e.toCSS(i),r,a)):this._pushOp(new em(t,e,r,a)):this._pushOp(new em(t,"rgba(0, 0, 0, "+i+")",r,a))}setLineDash(t){this._pushOp(new Zw(t||[]))}setLineDashOffset(t=0){this._pushOp(new Jw(t))}drawRect(t,e,i,r){this._pushOp(new eC(t,e,i,r))}drawCircle(t,e,i){this._pushOp(new tC(t,e,i))}drawEllipse(t,e,i,r){this._pushOp(new iC(t,e,i,r))}arc(t,e,i,r,a,n=!1){this._pushOp(new rC(t,e,i,r,a,n))}arcTo(t,e,i,r,a){this._pushOp(new sC(t,e,i,r,a))}lineTo(t,e){this._pushOp(new aC(t,e))}moveTo(t,e){this._pushOp(new nC(t,e))}bezierCurveTo(t,e,i,r,a,n){this._pushOp(new lC(t,e,i,r,a,n))}quadraticCurveTo(t,e,i,r){this._pushOp(new uC(t,e,i,r))}closePath(){this._pushOp(new oC)}shadow(t,e=0,i=0,r=0,a){this._hasShadows=!0,this._pushOp(new hC(a?t.toCSS(a):t.toCSS(this._fillAlpha||this._strokeAlpha),e,i,r))}image(t,e,i,r,a){this._pushOp(new cC(t,e,i,r,a))}svgPath(t){let e=0,i=0,r=null,a=null,n=null,o=null,l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,u=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g,h;for(;(h=l.exec(t))!==null;){let c=h[1],A=h[2],d=[];for(;(h=u.exec(A))!==null;)d.push(h[1]);switch(c!=="S"&&c!=="s"&&c!=="C"&&c!=="c"&&(r=null,a=null),c!=="Q"&&c!=="q"&&c!=="T"&&c!=="t"&&(n=null,o=null),c){case"M":Vn(c,d.length,2),e=+d[0],i=+d[1],this.moveTo(e,i);for(let p=2;p<d.length;p+=2)e=+d[p],i=+d[p+1],this.lineTo(e,i);break;case"m":Vn(c,d.length,2),e+=+d[0],i+=+d[1],this.moveTo(e,i);for(let p=2;p<d.length;p+=2)e+=+d[p],i+=+d[p+1],this.lineTo(e,i);break;case"L":Vn(c,d.length,2);for(let p=0;p<d.length;p+=2)e=+d[p],i=+d[p+1],this.lineTo(e,i);break;case"l":Vn(c,d.length,2);for(let p=0;p<d.length;p+=2)e+=+d[p],i+=+d[p+1],this.lineTo(e,i);break;case"H":qp(c,d.length,1);for(let p=0;p<d.length;++p)e=+d[p],this.lineTo(e,i);break;case"h":qp(c,d.length,1);for(let p=0;p<d.length;++p)e+=+d[p],this.lineTo(e,i);break;case"V":qp(c,d.length,1);for(let p=0;p<d.length;++p)i=+d[p],this.lineTo(e,i);break;case"v":qp(c,d.length,1);for(let p=0;p<d.length;++p)i+=+d[p],this.lineTo(e,i);break;case"C":Vn(c,d.length,6);for(let p=0;p<d.length;p+=6){let m=+d[p],g=+d[p+1];r=+d[p+2],a=+d[p+3],e=+d[p+4],i=+d[p+5],this.bezierCurveTo(m,g,r,a,e,i)}break;case"c":Vn(c,d.length,6);for(let p=0;p<d.length;p+=6){let m=+d[p]+e,g=+d[p+1]+i;r=+d[p+2]+e,a=+d[p+3]+i,e+=+d[p+4],i+=+d[p+5],this.bezierCurveTo(m,g,r,a,e,i)}break;case"S":Vn(c,d.length,4),(r===null||a===null)&&(r=e,a=i);for(let p=0;p<d.length;p+=4){let m=2*e-r,g=2*i-a;r=+d[p],a=+d[p+1],e=+d[p+2],i=+d[p+3],this.bezierCurveTo(m,g,r,a,e,i)}break;case"s":Vn(c,d.length,4),(r===null||a===null)&&(r=e,a=i);for(let p=0;p<d.length;p+=4){let m=2*e-r,g=2*i-a;r=+d[p]+e,a=+d[p+1]+i,e+=+d[p+2],i+=+d[p+3],this.bezierCurveTo(m,g,r,a,e,i)}break;case"Q":Vn(c,d.length,4);for(let p=0;p<d.length;p+=4)n=+d[p],o=+d[p+1],e=+d[p+2],i=+d[p+3],this.quadraticCurveTo(n,o,e,i);break;case"q":Vn(c,d.length,4);for(let p=0;p<d.length;p+=4)n=+d[p]+e,o=+d[p+1]+i,e+=+d[p+2],i+=+d[p+3],this.quadraticCurveTo(n,o,e,i);break;case"T":Vn(c,d.length,2),(n===null||o===null)&&(n=e,o=i);for(let p=0;p<d.length;p+=2)n=2*e-n,o=2*i-o,e=+d[p],i=+d[p+1],this.quadraticCurveTo(n,o,e,i);break;case"t":Vn(c,d.length,2),(n===null||o===null)&&(n=e,o=i);for(let p=0;p<d.length;p+=2)n=2*e-n,o=2*i-o,e+=+d[p],i+=+d[p+1],this.quadraticCurveTo(n,o,e,i);break;case"A":case"a":let f=c==="a";RQ(d),Vn(c,d.length,7);for(let p=0;p<d.length;p+=7){let m=+d[p+5],g=+d[p+6];f&&(m+=e,g+=i);let y=HD({px:e,py:i,rx:+d[p],ry:+d[p+1],xAxisRotation:+d[p+2],largeArcFlag:jD(+d[p+3]),sweepFlag:jD(+d[p+4]),cx:m,cy:g});te(y,v=>{this.bezierCurveTo(v.x1,v.y1,v.x2,v.y2,v.x,v.y),e=v.x,i=v.y})}break;case"Z":case"z":EQ(c,d.length,0),this.closePath();break}}}_runPath(t){t.beginPath(),te(this._operations,e=>{e.path(t)})}_render(t,e=0){super._render(t);let i=t.layer.dirty,r=this._isInteractive(t),a=this._ghostOnly(e),n=this._drawGhost(t,e);if(i||r||a){let o=t.layer.context,l=this._renderer._ghostLayer.context;i&&!a&&(o.globalCompositeOperation=this.blendMode,o.beginPath());let u;n&&(l.beginPath(),u=this._getColorId()),te(this._operations,h=>{i&&!a&&(h.path(o),h.colorize(o,void 0)),n&&(h.pathGhost(l),h.colorizeGhost(l,u))})}}renderDetached(t){if(this.visible){this._setMatrix(),t.save();let e=this.mask;e&&(e._setMatrix(),e._transform(t,1),e._runPath(t),t.clip()),t.globalAlpha=this.compoundAlpha*this.alpha,this._transform(t,1),this.filter&&(t.filter=this.filter),t.globalCompositeOperation=this.blendMode,t.beginPath(),te(this._operations,i=>{i.path(t),i.colorize(t,void 0)}),t.restore()}}_addBounds(t){this.visible&&this.isMeasured&&te(this._operations,e=>{e.addBounds(t)})}},ib=class extends _A{constructor(t,e,i){super(t),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"truncated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=e,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(t){this.style.textAlign&&(t.textAlign=this.style.textAlign),this.style.direction&&(t.direction=this.style.direction),this.style.textBaseline&&(t.textBaseline=this.style.textBaseline)}_prerender(t,e=!1,i=!1){super._render(t);let r=t.layer.context,a=this._renderer._ghostLayer.context,n=this.style,o=this._getFontStyle(void 0,i);r.font=o,this._isInteractive(t)&&!e&&(a.font=o),n.fill&&(n.fill instanceof Ct?r.fillStyle=n.fill.toCSS(n.fillOpacity!=null?n.fillOpacity:1):r.fillStyle=n.fill),n.shadowColor&&(t.layer.context.shadowColor=n.shadowColor.toCSS(n.shadowOpacity||1)),n.shadowBlur&&(t.layer.context.shadowBlur=n.shadowBlur),n.shadowOffsetX&&(t.layer.context.shadowOffsetX=n.shadowOffsetX),n.shadowOffsetY&&(t.layer.context.shadowOffsetY=n.shadowOffsetY),this._shared(r),this._isInteractive(t)&&!e&&(a.fillStyle=this._getColorId(),this._shared(a))}_getFontStyle(t,e=!1){let i=this.style,r=[];return t&&t.fontVariant?r.push(t.fontVariant):i.fontVariant&&r.push(i.fontVariant),e||(t&&t.fontWeight?r.push(t.fontWeight):i.fontWeight&&r.push(i.fontWeight)),t&&t.fontStyle?r.push(t.fontStyle):i.fontStyle&&r.push(i.fontStyle),t&&t.fontSize?(ie(t.fontSize)&&(t.fontSize=t.fontSize+"px"),r.push(t.fontSize)):i.fontSize&&(ie(i.fontSize)&&(i.fontSize=i.fontSize+"px"),r.push(i.fontSize)),t&&t.fontFamily?r.push(t.fontFamily):i.fontFamily?r.push(i.fontFamily):r.length&&r.push("Arial"),r.join(" ")}_render(t,e=0){if(this._textInfo||this._measure(t),this.textVisible){let i=this._isInteractive(t),r=t.layer.context,a=t.layer.dirty,n=this._renderer._ghostLayer.context,o=this._ghostOnly(e),l=this._drawGhost(t,e);r.save(),n.save(),this._prerender(t),te(this._textInfo,(u,h)=>{te(u.textChunks,(c,A)=>{if(c.style&&(r.save(),n.save(),o||(r.font=c.style),this._isInteractive(t)&&(n.font=c.style)),c.fill&&(r.save(),o||(r.fillStyle=c.fill.toCSS())),a&&!o&&r.fillText(c.text,c.offsetX,u.offsetY+c.offsetY),c.textDecoration=="underline"||c.textDecoration=="line-through"){let d=1,f=1,p=c.height,m=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(m)>-1){let v=this._measureText(c.text,r);c.width=v.actualBoundingBoxLeft+v.actualBoundingBoxRight}let g=c.offsetX;switch(this.style.textAlign){case"right":case"end":g-=c.width;break;case"center":g-=c.width/2;break}if(c.style)switch(Zs.getTextStyle(c.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":d=2;break}p&&(f=p/20);let y;c.textDecoration=="line-through"?y=d+u.offsetY+c.offsetY-c.height/2:y=d+f*1.5+u.offsetY+c.offsetY,o||(r.save(),r.beginPath(),c.fill?r.strokeStyle=c.fill.toCSS():this.style.fill&&this.style.fill instanceof Ct&&(r.strokeStyle=this.style.fill.toCSS()),r.lineWidth=d*f,r.moveTo(g,y),r.lineTo(g+c.width,y),r.stroke(),r.restore())}i&&this.interactive&&l&&n.fillText(c.text,c.offsetX,u.offsetY+c.offsetY),c.fill&&r.restore(),c.style&&(r.restore(),n.restore())})}),r.restore(),n.restore()}}_addBounds(t){if(this.visible&&this.isMeasured){let e=this._measure({inactive:this.inactive,layer:this.getLayer()});fs(t,{x:e.left,y:e.top}),fs(t,{x:e.right,y:e.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(t){let e=t.layer.context,i=this._renderer._ghostLayer.context,r=this.style.direction=="rtl";this._textInfo=[];let a=this.style.oversizedBehavior,n=this.style.maxWidth,o=ie(n)&&a=="truncate",l=ie(n)&&(a=="wrap"||a=="wrap-no-break");e.save(),i.save(),this._prerender(t,!0,this._ignoreFontWeight());let u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",h=this.text.toString().replace(/\r/g,"").split(/\n/),c=!0,A=0,d=0,f=0,p;te(h,(g,y)=>{let v;for(g==""?v=[{type:"value",text:""}]:v=Zs.chunk(g,!1,this.style.ignoreFormatting);v.length>0;){let _={offsetY:f,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},S=this._measureText(u,e),F=S.actualBoundingBoxAscent+S.actualBoundingBoxDescent;_.height=F,_.ascent=S.actualBoundingBoxAscent;let P,D=this.style.textDecoration,$,I,R=!1,T=!0,Q=[],K;kp(v,(z,se)=>{if(z.type=="format")if(z.text=="[/]")c||(e.restore(),i.restore(),c=!0),$=void 0,p=void 0,I=void 0,D=this.style.textDecoration,K=void 0,P=z.text;else{c||(e.restore(),i.restore());let ee=Zs.getTextStyle(z.text),ue=this._getFontStyle(ee);e.save(),i.save(),e.font=ue,p=ue,P=z.text,ee.textDecoration&&(D=ee.textDecoration),ee.fill&&($=ee.fill),ee.width&&(I=da(ee.width)),ee.verticalAlign&&(K=ee.verticalAlign),c=!1;let G=this._measureText(u,e),q=G.actualBoundingBoxAscent+G.actualBoundingBoxDescent;q>_.height&&(_.height=q),G.actualBoundingBoxAscent>_.ascent&&(_.ascent=G.actualBoundingBoxAscent)}else if(z.type=="value"&&!R){let ee=this._measureText(z.text,e),ue=ee.actualBoundingBoxLeft+ee.actualBoundingBoxRight;if(o){this.truncated=void 0;let ne=T||this.style.breakWords||!1,ye=this.style.ellipsis||"",qe=this._measureText(ye,e),Ge=qe.actualBoundingBoxLeft+qe.actualBoundingBoxRight;if(_.width+ue>n){let it=n-_.width-Ge;z.text=this._truncateText(e,z.text,it,ne),z.text+=ye,R=!0,this.truncated=!0}}else if(l&&_.width+ue>n){let ne=n-_.width,ye=this._truncateText(e,z.text,ne,!1,T&&this.style.oversizedBehavior!="wrap-no-break");if(ye=="")return this.textVisible=!0,!1;Q=v.slice(se+1),gh(ye)!=gh(z.text)&&(Q.unshift({type:"value",text:z.text.substr(ye.length)}),P&&Q.unshift({type:"format",text:P})),z.text=gh(ye),v=[],R=!0}let G=1,q=1;if(p&&I&&I>ue){let ne=ue/I;switch(this.style.textAlign){case"right":case"end":G=ne;break;case"center":G=ne,q=ne;break;default:q=ne}ue=I}let ge=ee.actualBoundingBoxAscent+ee.actualBoundingBoxDescent;ge>_.height&&(_.height=ge),ee.actualBoundingBoxAscent>_.ascent&&(_.ascent=ee.actualBoundingBoxAscent),_.width+=ue,_.left+=ee.actualBoundingBoxLeft/G,_.right+=ee.actualBoundingBoxRight/q,_.textChunks.push({style:p,fill:$,text:z.text,width:ue,height:ge,left:ee.actualBoundingBoxLeft,right:ee.actualBoundingBoxRight,ascent:ee.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:D,verticalAlign:K}),T=!1}return!0}),this.style.lineHeight instanceof wt?(_.height*=this.style.lineHeight.value,_.ascent*=this.style.lineHeight.value):(_.height*=this.style.lineHeight||1.2,_.ascent*=this.style.lineHeight||1.2),A<_.left&&(A=_.left),d<_.right&&(d=_.right),this._textInfo.push(_),f+=_.height,v=Q||[]}}),c||(e.restore(),i.restore()),te(this._textInfo,(g,y)=>{let v=0;te(g.textChunks,_=>{if(_.offsetX=v+_.left-g.left,_.offsetY+=g.height-g.height*(this.style.baselineRatio||.19),v+=_.width,_.verticalAlign)switch(_.verticalAlign){case"super":_.offsetY-=g.height/2-_.height/2;break;case"sub":_.offsetY+=_.height/2;break}})});let m={left:r?-d:-A,top:0,right:r?A:d,bottom:f};if(a!=="none"){let g=this._fitRatio(m);if(g<1)if(a=="fit")ie(this.style.minScale)&&g<this.style.minScale?(this.textVisible=!1,m.left=0,m.top=0,m.right=0,m.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=g,this.textVisible=!0);else if(a=="hide")this.textVisible=!1,m.left=0,m.top=0,m.right=0,m.bottom=0;else{switch(this.style.textAlign){case"right":case"end":m.left=r?n:-n,m.right=0;break;case"center":m.left=-n/2,m.right=n/2;break;default:m.left=0,m.right=r?-n:n}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return e.restore(),i.restore(),m}_fitRatio(t){let e=this.style.maxWidth,i=this.style.maxHeight;if(!ie(e)&&!ie(i))return 1;let r=t.right-t.left,a=t.bottom-t.top;return Math.min(e/r||1,i/a||1)}_truncateText(t,e,i,r=!1,a=!0){let n;do{if(r)e=e.slice(0,-1);else{let l=e.replace(/[^,;:!?\\\/\s​]+[,;:!?\\\/\s​]*$/g,"");if((l==""||l===e)&&a)r=!0;else{if(l=="")return e;e=l}}let o=this._measureText(e,t);n=o.actualBoundingBoxLeft+o.actualBoundingBoxRight}while(n>i&&e!="");return e}_measureText(t,e){let i=e.measureText(t),r={};if(i.actualBoundingBoxAscent==null){let n=document.createElement("div");n.innerText=t,n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000000px;",n.style.fontFamily=this.style.fontFamily||"",n.style.fontSize=this.style.fontSize+"",document.body.appendChild(n);let o=n.getBoundingClientRect();document.body.removeChild(n);let l=o.height,u=i.width;r={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:u,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:u}}else r={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};let a=i.width;switch(this.style.textAlign){case"right":case"end":r.actualBoundingBoxLeft=a,r.actualBoundingBoxRight=0;break;case"center":r.actualBoundingBoxLeft=a/2,r.actualBoundingBoxRight=a/2;break;default:r.actualBoundingBoxLeft=0,r.actualBoundingBoxRight=a}return r}},AC=class{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:ii(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}},fC=class extends ib{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(t,e=0){switch(this.textType){case"circular":this._renderCircular(t,e);break;default:super._render(t,e);break}}_renderCircular(t,e=0){if(this.textVisible){this._prerender(t);let i=this._isInteractive(t),r=t.layer.context,a=t.layer.dirty,n=this._renderer._ghostLayer.context;r.save(),i&&n.save(),this._textInfo||this._measure(t);let o=this.radius||0,l=this.startAngle||0,u=0,h=this.orientation,c=h=="auto"?"auto":h=="inward",A=this.inside,d=this.style.textAlign||"left",f=this.kerning||0,p=d=="left"?1:-1,m=!this._textReversed,g=this._ghostOnly(e),y=this._drawGhost(t,e);if(c=="auto"){let v=0,_=0;te(this._textInfo,(S,F)=>{let P=l+S.width/(o-S.height)/2*-p;P>v&&(v=P)}),d=="left"?_=(v+u/2)*An:d=="right"?_=(v-u/2)*An:_=l*An,_=Pa(_),c=_>=270||_<=90}c==!0&&m&&(this._textInfo.reverse(),this._textReversed=!0),te(this._textInfo,(v,_)=>{let S=v.height;A||(o+=S),(p==-1&&c||p==1&&!c)&&m&&v.textChunks.reverse();let F=l;u=0,d=="center"&&(F+=v.width/(o-S)/2*-p,u=F-l),F+=Math.PI*(c?0:1),r.save(),i&&n.save(),g||r.rotate(F),i&&n.rotate(F);let P=0;te(v.textChunks,(D,$)=>{let I=D.text,R=D.width;P=R/2/(o-S)*p,g||r.rotate(P),i&&n.rotate(P),D.style&&(r.save(),n.save(),g||(r.font=D.style),i&&(n.font=D.style)),D.fill&&(r.save(),g||(r.fillStyle=D.fill.toCSS())),g||(r.textBaseline="middle",r.textAlign="center"),i&&(n.textBaseline="middle",n.textAlign="center"),a&&!g&&r.fillText(I,0,(c?1:-1)*(0-o+S/2)),i&&y&&n.fillText(I,0,(c?1:-1)*(0-o+S/2)),D.fill&&r.restore(),D.style&&(r.restore(),n.restore()),P=(R/2+f)/(o-S)*p,g||r.rotate(P),i&&n.rotate(P)}),r.restore(),i&&n.restore(),A&&(o-=S)}),r.restore(),i&&n.restore()}}_measure(t){switch(this.textType){case"circular":return this._measureCircular(t);default:return super._measure(t)}}_measureCircular(t){let e=t.layer.context,i=this._renderer._ghostLayer.context,r=this.style.direction=="rtl",a=this.style.oversizedBehavior,n=this.style.maxWidth,o=ie(n)&&a=="truncate",l=this.style.ellipsis||"",u;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,e.save(),i.save(),this._prerender(t,!0);let h=this.text.toString().replace(/\r/g,"").split(/\n/),c=!0,A=0,d=0;return te(h,(f,p)=>{let m=Zs.chunk(f,!1,this.style.ignoreFormatting),g={offsetY:d,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},y,v,_;te(m,(S,F)=>{if(S.type=="format"){if(S.text=="[/]")c||(e.restore(),i.restore(),c=!0),v=void 0,y=void 0,_=void 0;else{let P=Zs.getTextStyle(S.text),D=this._getFontStyle(P);e.save(),i.save(),e.font=D,y=D,P.fill&&(v=P.fill),P.width&&(_=da(P.width)),c=!1}o&&(u=this._measureText(l,e))}else if(S.type=="value"){let P=S.text.match(/./ug)||[];r&&(P=BD(S.text),P.reverse());for(let D=0;D<P.length;D++){let $=P[D],I=this._measureText($,e),R=I.width;y&&_&&_>R&&(R=_);let T=I.actualBoundingBoxAscent+I.actualBoundingBoxDescent;if(T>g.height&&(g.height=T),I.actualBoundingBoxAscent>g.ascent&&(g.ascent=I.actualBoundingBoxAscent),A+=R,o){u||(u=this._measureText(l,e));let Q=u.actualBoundingBoxLeft+u.actualBoundingBoxRight;if(A+Q>n){g.textChunks.length==1?this.textVisible=!1:(g.width+=Q,g.left+=u.actualBoundingBoxLeft,g.right+=u.actualBoundingBoxRight,g.textChunks.push({style:y,fill:v,text:l,width:Q,height:T+u.actualBoundingBoxDescent,left:u.actualBoundingBoxLeft,right:u.actualBoundingBoxRight,ascent:u.actualBoundingBoxAscent,offsetX:0,offsetY:T,textDecoration:void 0}));break}}g.width+=R,g.left+=I.actualBoundingBoxLeft,g.right+=I.actualBoundingBoxRight,g.textChunks.push({style:y,fill:v,text:$,width:R,height:T+I.actualBoundingBoxDescent,left:I.actualBoundingBoxLeft,right:I.actualBoundingBoxRight,ascent:I.actualBoundingBoxAscent,offsetX:0,offsetY:T,textDecoration:void 0})}}}),this.style.lineHeight instanceof wt?g.height*=this.style.lineHeight.value:g.height*=this.style.lineHeight||1.2,this._textInfo.push(g),d+=g.height}),c||(e.restore(),i.restore()),a=="hide"&&A>n&&(this.textVisible=!1),te(this._textInfo,f=>{te(f.textChunks,p=>{p.offsetY+=Math.round((f.height-p.height+(f.ascent-p.ascent))/2)})}),e.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}},pC=class extends _A{constructor(t,e){super(t),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=e}_dispose(){super._dispose(),this._imageMask&&Zp(this._imageMask)}getLocalBounds(){if(!this._localBounds){let t=0,e=0;this.width&&(t=this.width),this.height&&(e=this.height),this._localBounds={left:0,top:0,right:t,bottom:e},this._addBounds(this._localBounds)}return this._localBounds}_render(t,e=0){if(super._render(t),this.image){if(this.tainted===void 0&&(this.tainted=WD(this.image),t.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;let i=this._ghostOnly(e),r=this._drawGhost(t,e);if(t.layer.dirty&&!i){this.shadowColor&&(t.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(t.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(t.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(t.layer.context.shadowOffsetY=this.shadowOffsetY);let a=this.width||this.image.naturalWidth,n=this.height||this.image.naturalHeight;t.layer.context.drawImage(this.image,0,0,a,n)}if(this.interactive&&this._isInteractive(t)&&r){let a=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(a,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(t){if(this._imageMask===void 0){let e=this.width||t.naturalWidth,i=this.height||t.naturalHeight,r=document.createElement("canvas");r.width=e,r.height=i;let a=r.getContext("2d");a.imageSmoothingEnabled=!1,a.fillStyle=this._getColorId(),a.fillRect(0,0,e,i),WD(t)||(a.globalCompositeOperation="destination-in",a.drawImage(t,0,0,e,i)),this._imageMask=r}return this._imageMask}},mC=class{constructor(t,e,i,r){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),dn("touchevents")&&t instanceof Touch?this.id=t.identifier:this.id=null}},rb=class extends ky{constructor(t){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new gC}),Object.defineProperty(this,"_deferredGhostLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t==null?this.resolution=window.devicePixelRatio:this.resolution=t,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new vr(()=>{Mt(this._events,(e,i)=>{i.disposer.dispose()}),te(this.layers,e=>{Zp(e.view),e.exportableView&&Zp(e.exportableView)}),Zp(this._ghostLayer.view),Zp(this._patternCanvas)})),this._disposers.push(Ry(()=>{t==null&&(this.resolution=window.devicePixelRatio)})),dn("touchevents")){let e=i=>{this._dragging.length!==0&&kp(this._dragging,r=>r.value.shouldCancelTouch()?(i.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(rr(window,"touchstart",e,{passive:!1})),this._disposers.push(rr(this.view,"touchstart",e,{passive:!1})),this._disposers.push(rr(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(rr(window,"click",i=>{this._touchActive=!1},{passive:!0})),this._disposers.push(rr(this.view,"click",i=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}dn("wheelevents")&&this._disposers.push(rr(this.view,"wheel",e=>{let i=!1;this._hovering.forEach(r=>{if(r.wheelable)return i=!0,!1}),i&&e.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(t){t?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(t,e,i,r){return this.defaultLayer.context.createLinearGradient(t,e,i,r)}createRadialGradient(t,e,i,r,a,n){return this.defaultLayer.context.createRadialGradient(t,e,i,r,a,n)}createPattern(t,e,i,r,a){return this._patternCanvas.width=r,this._patternCanvas.height=a,this._patternContext.clearRect(0,0,r,a),e.renderDetached(this._patternContext),t.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new Gw(this)}makeGraphics(){return new dC(this)}makeText(t,e){return new ib(this,t,e)}makeTextStyle(){return new AC}makeRadialText(t,e){return new fC(this,t,e)}makePicture(t){return new pC(this,t)}resizeLayer(t){t.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(t,e,i,r){this._realWidth=t,this._realHeight=e,this._calculatedWidth=i,this._calculatedHeight=r,te(this.layers,a=>{a&&(a.dirty=!0,this.resizeLayer(a))}),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=r+"px"}createDetachedLayer(t=!1){let e=document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:t}),r=new yC(e,i);return e.style.position="absolute",e.style.top="0px",e.style.left="0px",r}getLayerByOrder(t){let e=this.layers,i=e.length;for(let r=0;r<i;r++){let a=e[r];if(a.order==t)return a}}getLayer(t,e=!0){let i=this.getLayerByOrder(t);if(i)return i;let r=this.createDetachedLayer(t==99);r.order=t,r.visible=e,r.view.className="am5-layer-"+t,r.visible&&this.resizeLayer(r);let a=this.layers;a.push(r),a.sort((u,h)=>u.order>h.order?1:u.order<h.order?-1:0);let n=a.length,o=vl(a,r),l;for(let u=o+1;u<n;u++)if(a[u].visible){l=a[u];break}return r.visible&&(l===void 0?this._layerDom.appendChild(r.view):this._layerDom.insertBefore(r.view,l.view)),r}render(t){this._dirtyLayers.length=0,this._deferredGhostLayers=[],te(this.layers,i=>{i&&i.dirty&&i.visible&&(this._dirtyLayers.push(i),i.clear())}),this._ghostLayer.clear(),t.render({inactive:null,layer:this.defaultLayer});let e=this._deferredGhostLayers;if(e.length&&(e.sort((i,r)=>i-r),te(e,i=>{t.render({inactive:null,layer:this.defaultLayer},i)})),this._ghostLayer.context.restore(),te(this.layers,i=>{if(i){let r=i.context;r.beginPath(),r.moveTo(0,0),r.stroke()}}),te(this._dirtyLayers,i=>{i.context.restore(),i.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){let{events:i,target:r,native:a}=this._lastPointerMoveEvent;te(i,n=>{this._dispatchGlobalMousemove(n,r,a)})}}paintId(t){let e=NQ(++this._colorId),i=Ct.fromHex(e).toCSS();return this._colorMap[i]=t,i}_removeObject(t){t._colorId!==void 0&&delete this._colorMap[t._colorId]}_adjustBoundingBox(t){let e=this._ghostLayer.margin;return new DOMRect(-e.left,-e.top,t.width+e.left+e.right,t.height+e.top+e.bottom)}getEvent(t,e=!0){let i=this.view.getBoundingClientRect(),r=t.clientX||0,a=t.clientY||0,n=this._calculatedWidth/this._realWidth,o=this._calculatedHeight/this._realHeight,l={x:r-i.left,y:a-i.top},u={x:(r-(e?i.left:0))*n,y:(a-(e?i.top:0))*o};return new mC(t,l,u,this._adjustBoundingBox(i))}_getHitTarget(t,e,i){if(e.width===0||e.height===0||t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom||!i||!this._layerDom.contains(i))return;let r=this._ghostLayer.getImageData(t,e);if(r.data[0]===0&&r.data[1]===0&&r.data[2]===0)return!1;let a=Ct.fromRGB(r.data[0],r.data[1],r.data[2]).toCSS();return this._colorMap[a]}getObjectAtPoint(t){let e=this._ghostLayer.getImageArray(t);if(e[0]===0&&e[1]===0&&e[2]===0)return;let i=Ct.fromRGB(e[0],e[1],e[2]).toCSS();return this._colorMap[i]}_withEvents(t,e){let i=this._events[t];if(i!==void 0){i.dispatching=!0;try{e(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,Nc(i.callbacks,r=>!r.disposed),i.callbacks.length===0&&(i.disposer.dispose(),delete this._events[t]))}}}_dispatchEventAll(t,e){this.interactionsEnabled&&this._withEvents(t,i=>{te(i.callbacks,r=>{r.disposed||r.callback.call(r.context,e)})})}_dispatchEvent(t,e,i){if(!this.interactionsEnabled)return!1;let r=!1;return this._withEvents(t,a=>{te(a.callbacks,n=>{!n.disposed&&n.object===e&&(n.callback.call(n.context,i),r=!0)})}),r}_dispatchMousedown(t,e){let i=t.button;if(i!=0&&i!=2&&i!=1&&i!==void 0)return;let r=this.getEvent(t),a=this._getHitTarget(r.originalPoint,r.bbox,e);if(a){let n=r.id,o=!1;tb(a,l=>{let u={id:n,value:l};return this._mousedown.push(u),!o&&this._dispatchEvent("pointerdown",l,r)&&(o=!0,this._dragging.some(c=>c.value===l&&c.id===n)||this._dragging.push(u)),!0})}}_dispatchGlobalMousemove(t,e,i){let r=this.getEvent(t),a=this._getHitTarget(r.originalPoint,r.bbox,e);r.native=i,a?(this._hovering.forEach(n=>{n.contains(a)||(this._hovering.delete(n),n.cursorOverStyle&&Qp(document.body,"cursor",n._replacedCursorStyle),this._dispatchEvent("pointerout",n,r))}),r.native&&tb(a,n=>(this._hovering.has(n)||(this._hovering.add(n),n.cursorOverStyle&&(n._replacedCursorStyle=wD(document.body,"cursor"),Qp(document.body,"cursor",n.cursorOverStyle)),this._dispatchEvent("pointerover",n,r)),!0))):(this._hovering.forEach(n=>{n.cursorOverStyle&&Qp(document.body,"cursor",n._replacedCursorStyle),this._dispatchEvent("pointerout",n,r)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",r)}removeHovering(t){this._hovering.delete(t),t.cursorOverStyle&&Qp(document.body,"cursor",t._replacedCursorStyle)}_dispatchGlobalMouseup(t,e){let i=this.getEvent(t);i.native=e,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(t){if(this._dragging.length!==0){let e=this.getEvent(t),i=e.id;this._dragging.forEach(r=>{r.id===i&&this._dispatchEvent("pointermove",r.value,e)})}}_dispatchDragEnd(t,e){let i=t.button,r;if(i==0||i===void 0)r="click";else if(i==2)r="rightclick";else if(i==1)r="middleclick";else return;let a=this.getEvent(t),n=a.id;if(this._mousedown.length!==0){let o=this._getHitTarget(a.originalPoint,a.bbox,e);o&&this._mousedown.forEach(l=>{l.id===n&&l.value.contains(o)&&this._dispatchEvent(r,l.value,a)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(o=>{o.id===n&&this._dispatchEvent("pointerup",o.value,a)}),this._dragging.length=0)}_dispatchDoubleClick(t,e){let i=this.getEvent(t),r=this._getHitTarget(i.originalPoint,i.bbox,e);r&&tb(r,a=>!this._dispatchEvent("dblclick",a,i))}_dispatchWheel(t,e){let i=this.getEvent(t),r=this._getHitTarget(i.originalPoint,i.bbox,e);r&&tb(r,a=>!this._dispatchEvent("wheel",a,i))}_makeSharedEvent(t,e){if(this._listeners[t]===void 0){let i=e();this._listeners[t]=new mh(()=>{delete this._listeners[t],i.dispose()})}return this._listeners[t].increment()}_onPointerEvent(t,e){let i=!1,r=null;function a(){r=null,i=!1}return new $r([new vr(()=>{r!==null&&clearTimeout(r),a()}),rr(this.view,Vy(t),n=>{i=!0,r!==null&&clearTimeout(r),r=window.setTimeout(a,0)}),VQ(window,t,(n,o)=>{r!==null&&(clearTimeout(r),r=null),e(n,o,i),i=!1})])}_initEvent(t){switch(t){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{let e=(i,r,a)=>{this._lastPointerMoveEvent={events:i,target:r,native:a},te(i,n=>{this._dispatchGlobalMousemove(n,r,a)})};return new $r([this._onPointerEvent("pointerdown",e),this._onPointerEvent("pointermove",e)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{let e=this._onPointerEvent("pointerup",(r,a,n)=>{te(r,o=>{this._dispatchGlobalMouseup(o,n)}),this._lastPointerMoveEvent={events:r,target:a,native:n}}),i=this._onPointerEvent("pointercancel",(r,a,n)=>{te(r,o=>{this._dispatchGlobalMouseup(o,n)}),this._lastPointerMoveEvent={events:r,target:a,native:n}});return new vr(()=>{e.dispose(),i.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{let e=this._onPointerEvent("pointerdown",(n,o)=>{te(n,l=>{this._dispatchMousedown(l,o)})}),i=this._onPointerEvent("pointermove",n=>{te(n,o=>{this._dispatchDragMove(o)})}),r=this._onPointerEvent("pointerup",(n,o)=>{te(n,l=>{this._dispatchDragEnd(l,o)})}),a=this._onPointerEvent("pointercancel",(n,o)=>{te(n,l=>{this._dispatchDragEnd(l,o)})});return new vr(()=>{e.dispose(),i.dispose(),r.dispose(),a.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(e,i)=>{te(e,r=>{this._dispatchDoubleClick(r,i)})}));case"wheel":return this._makeSharedEvent("wheel",()=>rr(this.view,Vy("wheel"),e=>{this._dispatchWheel(e,xw(e))},{passive:!1}))}}_addEvent(t,e,i,r){let a=this._events[e];a===void 0&&(a=this._events[e]={disposer:this._initEvent(e),callbacks:[],dispatching:!1,cleanup:!1});let n={object:t,context:r,callback:i,disposed:!1};return a.callbacks.push(n),new vr(()=>{n.disposed=!0,a.dispatching?a.cleanup=!0:(Yr(a.callbacks,n),a.callbacks.length===0&&(a.disposer.dispose(),delete this._events[e]))})}getCanvas(t,e){this.render(t),e||(e={});let i=this.resolution,r=Math.floor(this._calculatedWidth*this.resolution),a=Math.floor(this._calculatedHeight*this.resolution);if(e.minWidth&&e.minWidth>r){let d=e.minWidth/r;d>i&&(i=d*this.resolution)}if(e.minHeight&&e.minHeight>a){let d=e.minHeight/a;d>i&&(i=d*this.resolution)}if(e.maxWidth&&e.maxWidth<r){let d=e.maxWidth/r;d<i&&(i=d*this.resolution)}if(e.maxHeight&&e.maxHeight>a){let d=e.maxHeight/a;d<i&&(i=d*this.resolution)}e.maintainPixelRatio&&(i/=this.resolution);let n=[],o=!1,l=document.createElement("canvas");i!=this.resolution&&(o=!0,r=r*i/this.resolution,a=a*i/this.resolution),l.width=r,l.height=a,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),n.push(l);let u=l.getContext("2d"),h=0,c=0,A=!1;return te(this.layers,d=>{if(d&&d.visible&&(d.tainted||o)){A=!0,d.exportableView=d.view,d.exportableContext=d.context,d.view=document.createElement("canvas"),d.view.style.position="fixed",d.view.style.top="-10000px",this.view.appendChild(d.view),n.push(d.view);let f=0,p=0;d.margin&&(f+=d.margin.left||0+d.margin.right||0,p+=d.margin.top||0+d.margin.bottom||0),d.view.width=r+f,d.view.height=a+p,d.context=d.view.getContext("2d"),d.dirty=!0,d.scale=i}}),A&&(this._omitTainted=!0,this.render(t),this._omitTainted=!1),te(this.layers,d=>{if(d&&d.visible){let f=0,p=0;d.margin&&(f=-(d.margin.left||0)*this.resolution,p=-(d.margin.top||0)*this.resolution),u.drawImage(d.view,f,p),d.exportableView&&(d.view=d.exportableView,d.exportableView=void 0),d.exportableContext&&(d.context=d.exportableContext,d.exportableContext=void 0),h<d.view.clientWidth&&(h=d.view.clientWidth),c<d.view.clientHeight&&(c=d.view.clientHeight),d.scale=void 0}}),l.style.width=h+"px",l.style.height=c+"px",te(n,d=>{d.style.position="",d.style.top="",this.view.removeChild(d)}),l}},gC=class{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(t,e,i,r,a){this._resolution=a,t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(t*a),this._height=Math.floor(e*a),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=r+"px"}getImageData(t,e){return this.context.getImageData(Math.round((t.x-e.left)/e.width*this._width),Math.round((t.y-e.top)/e.height*this._height),1,1)}getImageArray(t){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);let e=this.imageArray,i=Math.round(t.x*this._resolution),a=(Math.round(t.y*this._resolution)*this._width+i)*4;return[e[a],e[a+1],e[a+2],e[a+3]]}setMargin(t){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,te(t,e=>{e.margin&&(this.margin.left=Math.max(this.margin.left,e.margin.left),this.margin.right=Math.max(this.margin.right,e.margin.right),this.margin.top=Math.max(this.margin.top,e.margin.top),this.margin.bottom=Math.max(this.margin.bottom,e.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}},yC=class{constructor(t,e){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=t,this.context=e}resize(t,e,i,r,a){this.width!=null&&(t=this.width,i=this.width),this.height!=null&&(e=this.height,r=this.height),this.margin?(t+=this.margin.left+this.margin.right,e+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(t*a),this._height=Math.floor(e*a),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=r+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}};function zD(s,t){s==null?requestAnimationFrame(t):setTimeout(()=>{requestAnimationFrame(t)},1e3/s)}var Wc=class s{constructor(t,e={},i){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Rn}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:Jy.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:Zy}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:wh.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:jc.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:qy.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:wl.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:xl.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:co.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e,e.accessible==!1&&(this._a11yD=!0),e.useSafeResolution==null&&(e.useSafeResolution=!0);let r;e.useSafeResolution&&(r=CD()),this._renderer=new rb(r);let a;if(t instanceof HTMLElement?a=t:a=document.getElementById(t),te(fn.rootElements,l=>{if(l.dom===a)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=Qc.new(this,{}),a===null)throw new Error("Could not find HTML element with id `"+t+"`");this.dom=a;let n=document.createElement("div");n.style.position="relative",n.style.width="100%",n.style.height="100%",a.appendChild(n);let o=e.tooltipContainerBounds;o&&(this._tooltipContainerSettings=o),this._inner=n,this._updateComputedStyles(),fn.rootElements.push(this)}static new(t,e){let i=new s(t,e,!0);return i._init(),i}moveDOM(t){let e;if(t instanceof HTMLElement?e=t:e=document.getElementById(t),e){for(;this.dom.childNodes.length>0;)e.appendChild(this.dom.childNodes[0]);this.dom=e,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){let t=this.dom.offsetWidth,e=this.dom.offsetHeight;t<=150||e<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){let t=this.tooltipContainer.children.push(Ke.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:ii(100),centerY:Be,tooltipText:"Created using amCharts 5",tooltipX:Be,cursorOverStyle:"pointer",background:xr.new(this,{fill:za(4671320),fillOpacity:0,tooltipY:5})})),e=Ta.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});e.label.setAll({fontSize:12}),e.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),t.set("tooltip",e),t.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),t.states.create("hover",{}),t.children.push(St.new(this,{stroke:za(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:za(3976191)}),t.children.push(St.new(this,{stroke:za(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:za(4671320)}),this._logo=t,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(t){return this._settings.calculateSize?this._settings.calculateSize(t):{width:t.width,height:t.height}}_init(){let t=this._settings;t.accessible!==!1&&(t.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),t.ariaLabel&&this._inner.setAttribute("aria-label",t.ariaLabel),t.role&&this._inner.setAttribute("role",t.role));let e=this._renderer,i=this._getRealSize(),r=this._getCalculatedSize(i),a=Math.floor(r.width),n=Math.floor(r.height),o=Math.floor(i.width),l=Math.floor(i.height),u=Ke.new(this,{visible:!0,width:a,height:n});this._rootContainer=u,this._rootContainer._defaultThemes.push(eb.new(this));let h=u.children.push(Ke.new(this,{visible:!0,width:Be,height:Be}));this.container=h,e.resize(o,l,a,n),this._inner.appendChild(e.view),this._initResizeSensor();let c=document.createElement("div");if(this._htmlElementContainer=c,c.className="am5-html-container",c.style.position="absolute",c.style.pointerEvents="none",this._tooltipContainerSettings||(c.style.overflow="hidden"),this._inner.appendChild(c),this._a11yD!==!0){let A=document.createElement("div");A.className="am5-reader-container",A.setAttribute("role","alert"),A.style.position="absolute",A.style.width="1px",A.style.height="1px",A.style.overflow="hidden",A.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=A,this._inner.appendChild(this._readerAlertElement);let d=document.createElement("div");d.className="am5-focus-container",d.style.position="absolute",d.style.pointerEvents="none",d.style.top="0px",d.style.left="0px",d.style.overflow="hidden",d.style.width=a+"px",d.style.height=n+"px",d.setAttribute("role","graphics-document"),yh(d,!1),this._focusElementContainer=d,this._inner.appendChild(this._focusElementContainer);let f=document.createElement("div");this._tooltipElementContainer=f,f.className="am5-tooltip-container",this._inner.appendChild(f),dn("keyboardevents")&&(this._disposers.push(rr(window,"keydown",p=>{let m=pu(p);m=="Shift"?this._isShift=!0:m=="Tab"&&(this._isShift=p.shiftKey)})),this._disposers.push(rr(window,"keyup",p=>{pu(p)=="Shift"&&(this._isShift=!1)})),this._disposers.push(rr(d,"click",()=>{let p=this._focusedSprite;if(p){let m=p.get("clickAnnounceText","");m!==""&&this.readerAlert(m);let g=e.getEvent(new MouseEvent("click"));p.events.dispatch("click",{type:"click",originalEvent:g.event,point:g.point,simulated:!0,target:p})}})),this._disposers.push(rr(d,"keydown",p=>{let m=this._focusedSprite;if(m){p.key=="Escape"&&(vD(),this._focusedSprite=void 0);let g=0,y=0,v=pu(p);switch(v){case"Enter":case" ":let _=m.get("clickAnnounceText","");if(_!==""&&this.readerAlert(_),v==" "&&m.get("role")!="checkbox")return;p.preventDefault();let S=e.getEvent(new MouseEvent("mouse"));m.events.dispatch("click",{type:"click",originalEvent:S.event,point:S.point,simulated:!0,target:m});return;case"ArrowLeft":g=-6;break;case"ArrowRight":g=6;break;case"ArrowUp":y=-6;break;case"ArrowDown":y=6;break;default:return}if(g!=0||y!=0){if(p.preventDefault(),!m.isDragging()){this._keyboardDragPoint={x:0,y:0};let F=e.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));F.point={x:0,y:0},m.events.isEnabled("pointerdown")&&m.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:F.event,point:F.point,simulated:!0,target:m})}let _=this._keyboardDragPoint;_.x+=g,_.y+=y;let S=e.getEvent(new MouseEvent("mousemove",{clientX:_.x,clientY:_.y}),!1);m.events.isEnabled("globalpointermove")&&m.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:S.event,point:S.point,simulated:!0,target:m})}}})),this._disposers.push(rr(d,"keyup",p=>{if(this._focusedSprite){let m=this._focusedSprite,g=pu(p);switch(g){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(m.isDragging()){let v=this._keyboardDragPoint,_=e.getEvent(new MouseEvent("mouseup",{clientX:v.x,clientY:v.y}));m.events.isEnabled("globalpointerup")&&m.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:_.event,point:_.point,simulated:!0,target:m}),this._keyboardDragPoint=void 0;return}else if(m.get("focusableGroup")){let v=m.get("focusableGroup"),_=this._tabindexes.filter(P=>!!(P.get("focusableGroup")==v&&P.getPrivate("focusable")!==!1&&P.isVisibleDeep())),S=_.indexOf(m),F=_.length-1;S+=g=="ArrowRight"||g=="ArrowDown"?1:-1,S<0?S=F:S>F&&(S=0),xD(_[S].getPrivate("focusElement").dom)}break;case"Tab":let y=m.get("focusableGroup");if(y&&this._isShift){this._focusNext(m.getPrivate("focusElement").dom,-1,y);return}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new Ky(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){let t=this._getRealSize(),e=this._getCalculatedSize(t),i=Math.floor(e.width),r=Math.floor(e.height);if(i>0&&r>0){let a=Math.floor(t.width),n=Math.floor(t.height),o=this._htmlElementContainer;if(o.style.width=i+"px",o.style.height=r+"px",this._a11yD!==!0){let u=this._focusElementContainer;u.style.width=i+"px",u.style.height=r+"px"}this._renderer.resize(a,n,i,r);let l=this._rootContainer;l.setPrivate("width",i),l.setPrivate("height",r),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(t){te(this._tickers,e=>{e(t)})}_runAnimations(t){let e=0;return Nc(this._animations,i=>{let r=i._runAnimation(t);return r===gu.Stopped?!1:(r===gu.Playing&&++e,!0)}),this._isDirtyAnimation=!1,e===0}_runDirties(){let t={};for(;this._isDirtyParents;)this._isDirtyParents=!1,br(this._dirtyParents).forEach(n=>{let o=this._dirtyParents[n];delete this._dirtyParents[n],o.isDisposed()||(t[o.uid]=o,o._prepareChildren())});br(t).forEach(n=>{t[n]._updateChildren()});let e=[];br(this._dirty).forEach(n=>{let o=this._dirty[n];o.isDisposed()?delete this._dirty[o.uid]:(e.push(o),o._beforeChanged())}),e.forEach(n=>{n._changed(),delete this._dirty[n.uid],n._clearDirty()}),this._isDirty=!1;let i={},r=[];br(this._dirtyBounds).forEach(n=>{let o=this._dirtyBounds[n];delete this._dirtyBounds[n],o.isDisposed()||(i[o.uid]=o.depth(),r.push(o))}),this._positionHTMLElements(),r.sort((n,o)=>pn(i[o.uid],i[n.uid])),r.forEach(n=>{n._updateBounds()});let a=this._dirtyPositions;br(a).forEach(n=>{let o=a[n];delete a[n],o.isDisposed()||o._updatePosition()}),e.forEach(n=>{n._afterChanged()})}_renderFrame(t){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:t}),this._checkComputedStyles(),this._runTickers(t);let e=this._runAnimations(t);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:t}),this._tickers.length===0&&e&&!this._isDirtyAnimation&&!this._isDirty}else return!0}_runTicker(t,e){this.isDisposed()||(this.animationTime=t,this._renderFrame(t)?(this._ticker=null,this.animationTime=null):this._paused||(e?this._ticker:zD(this.fps,this._ticker)))}_runTickerNow(t=1e4){if(!this.isDisposed()){let e=performance.now()+t;for(;;){let i=performance.now();if(i>=e){this.animationTime=null;break}if(this.animationTime=i,this._renderFrame(i)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=t=>{this._runTicker(t)},zD(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(t){this._updateTick=t,t&&this._startTicker()}_addDirtyEntity(t){this._isDirty=!0,this._dirty[t.uid]===void 0&&(this._dirty[t.uid]=t),this._startTicker()}_addDirtyParent(t){this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[t.uid]===void 0&&(this._dirtyParents[t.uid]=t),this._startTicker()}_addDirtyBounds(t){this._isDirty=!0,this._dirtyBounds[t.uid]===void 0&&(this._dirtyBounds[t.uid]=t),this._startTicker()}_addDirtyPosition(t){this._isDirty=!0,this._dirtyPositions[t.uid]===void 0&&(this._dirtyPositions[t.uid]=t),this._startTicker()}_addAnimation(t){this._isDirtyAnimation=!0,this._animations.indexOf(t)===-1&&this._animations.push(t),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(t){return this._tickers.push(t),this._startTicker(),new vr(()=>{Yr(this._tickers,t)})}markDirtyGlobal(t){t||(t=this.container),t.walkChildren(e=>{e instanceof Ke&&this.markDirtyGlobal(e),e.markDirty(),e.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),te(this._disposers,t=>{t.dispose()}),this._inner&&bD(this._inner),Ts(fn.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(t){if(this._a11yD!==!0){let e=this._readerAlertElement;t=ww(t),e.innerHTML==t&&(e.innerHTML=""),e.innerHTML=t}}setThemes(t){this._rootContainer.set("themes",t);let e=this.tooltipContainer;e&&e._applyThemes();let i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){let t=this._tooltipContainerSettings,e=this._rootContainer.children.push(Ke.new(this,{position:"absolute",isMeasured:!1,width:Be,height:Be,layer:t?35:30,layerMargin:t||void 0}));this.tooltipContainer=e;let i=Ta.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(t){this._a11yD!=!0&&(t.get("focusable")?fh(this._tabindexes,t):Ts(this._tabindexes,t),this._invalidateTabindexes())}_unregisterTabindexOrder(t){this._a11yD!=!0&&(Ts(this._tabindexes,t),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((e,i)=>{let r=e.get("tabindexOrder",0),a=i.get("tabindexOrder",0);return r==a?0:r>a?1:-1});let t=[];te(this._tabindexes,(e,i)=>{e.getPrivate("focusElement")?this._moveFocusElement(i,e):this._makeFocusElement(i,e);let r=e.get("focusableGroup");r&&e.getPrivate("focusable")!==!1&&(t.indexOf(r)!==-1?e.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):t.push(r))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(t,e){if(this._a11yD==!0||(e||(e=t.getPrivate("focusElement").dom),!e))return;let i=t.get("role");i?e.setAttribute("role",i):e.removeAttribute("role");let r=t.get("ariaLabel");if(r){let p=Cl(t,r);e.setAttribute("aria-label",p)}else e.removeAttribute("aria-label");let a=t.get("ariaLive");a?e.setAttribute("aria-live",a):e.removeAttribute("aria-live");let n=t.get("ariaChecked");n!=null&&i&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(i)!==-1?e.setAttribute("aria-checked",n?"true":"false"):e.removeAttribute("aria-checked");let o=t.get("ariaCurrent");o!=null?e.setAttribute("aria-current",o):e.removeAttribute("aria-current");let l=t.get("ariaSelected");l!=null&&i&&["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(i)!==-1?e.setAttribute("aria-selected",l?"true":"false"):e.removeAttribute("aria-selected"),t.get("ariaHidden")?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden");let u=t.get("ariaOrientation");u?e.setAttribute("aria-orientation",u):e.removeAttribute("aria-orientation");let h=t.get("ariaValueNow");h?e.setAttribute("aria-valuenow",h):e.removeAttribute("aria-valuenow");let c=t.get("ariaValueMin");c?e.setAttribute("aria-valuemin",c):e.removeAttribute("aria-valuemin");let A=t.get("ariaValueMax");A?e.setAttribute("aria-valuemax",A):e.removeAttribute("aria-valuemax");let d=t.get("ariaValueText");d?e.setAttribute("aria-valuetext",d):e.removeAttribute("aria-valuetext");let f=t.get("ariaControls");f?e.setAttribute("aria-controls",f):e.removeAttribute("aria-controls"),t.get("visible")&&t.get("opacity")!==0&&t.get("role")!="tooltip"&&!t.isHidden()&&t.getPrivate("focusable")!==!1&&(t.height()||t.width())?(e.getAttribute("tabindex")!="-1"&&e.setAttribute("tabindex",""+this.tabindex),e.removeAttribute("aria-hidden")):(e.removeAttribute("tabindex"),e.setAttribute("aria-hidden","true"))}_makeFocusElement(t,e){if(e.getPrivate("focusElement")||this._a11yD==!0)return;let i=document.createElement("div");e.get("role")!="tooltip"&&(i.tabIndex=this.tabindex),i.style.position="absolute",yh(i,!1);let r=[];e.setPrivate("focusElement",{dom:i,disposers:r}),this._decorateFocusElement(e),r.push(rr(i,"focus",a=>{this._handleFocus(a)})),r.push(rr(i,"blur",a=>{this._handleBlur(a)})),this._moveFocusElement(t,e)}_removeFocusElement(t){if(this._a11yD==!0)return;Ts(this._tabindexes,t);let e=t.getPrivate("focusElement");e&&(this._focusElementContainer.removeChild(e.dom),te(e.disposers,r=>{r.dispose()}))}_hideFocusElement(t){if(this._a11yD==!0)return;let e=t.getPrivate("focusElement");e.dom.style.display="none"}_moveFocusElement(t,e){if(this._a11yD==!0)return;let i=this._focusElementContainer,r=e.getPrivate("focusElement").dom;if(r===this._focusElementContainer.children[t])return;let a=this._focusElementContainer.children[t+1];a?i.insertBefore(r,a):i.append(r)}_positionFocusElement(t){if(this._a11yD==!0||t==null)return;let e=t.globalBounds(),i=e.right==e.left?t.width():e.right-e.left,r=e.top==e.bottom?t.height():e.bottom-e.top,a=this._settings.focusPadding!==void 0?this._settings.focusPadding:2,n=e.left-a,o=e.top-a;i<0&&(n+=i,i=Math.abs(i)),r<0&&(o+=r,r=Math.abs(r));let l=t.getPrivate("focusElement").dom;l.style.top=o+"px",l.style.left=n+"px",l.style.width=i+a*2+"px",l.style.height=r+a*2+"px"}_getSpriteByFocusElement(t){let e;return kp(this._tabindexes,(i,r)=>i.getPrivate("focusElement").dom===t?(e=i,!1):!0),e}_handleFocus(t){if(this._a11yD==!0)return;let e=this._getSpriteByFocusElement(t.target);if(e){if(!e.isVisibleDeep()){this._focusNext(t.target,this._isShift?-1:1);return}this._positionFocusElement(e),this._focusedSprite=e,e.events.isEnabled("focus")&&e.events.dispatch("focus",{type:"focus",originalEvent:t,target:e})}}_focusNext(t,e,i){if(this._a11yD==!0)return;let r=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(","))),a=r.indexOf(t)+e;a<0?a=r.length-1:a>=r.length&&(a=0);let n=r[a];if(i&&e==-1){let o=this._getSpriteByFocusElement(n);if(o&&o.get("focusableGroup")==i){this._focusNext(n,e);return}}n.focus()}_handleBlur(t){if(this._a11yD==!0)return;let e=this._focusedSprite;e&&!e.isDisposed()&&e.events.isEnabled("blur")&&e.events.dispatch("blur",{type:"blur",originalEvent:t,target:e}),this._focusedSprite=void 0}updateTooltip(t){if(this._a11yD==!0)return;let e=ww(t._getText()),i=t.getPrivate("tooltipElement");t.get("role")=="tooltip"&&e!=""?(i||(i=this._makeTooltipElement(t)),i.innerHTML!=e&&(i.innerHTML=e),i.setAttribute("aria-hidden",t.isVisibleDeep()?"false":"true")):i&&(i.remove(),t.removePrivate("tooltipElement"))}_makeTooltipElement(t){let e=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",yh(i,!1),this._decorateFocusElement(t,i),e.append(i),t.setPrivate("tooltipElement",i),i}_removeTooltipElement(t){if(this._a11yD==!0)return;let e=t.getPrivate("tooltipElement");if(e){let i=e.parentElement;i&&i.removeChild(e)}}_invalidateAccessibility(t){if(this._a11yD==!0)return;this._focusElementDirty=!0;let e=t.getPrivate("focusElement");t.get("focusable")?e&&(this._decorateFocusElement(t),this._positionFocusElement(t)):e&&this._removeFocusElement(t)}focused(t){return this._focusedSprite===t}documentPointToRoot(t){let e=this._getRealSize(),i=this._getCalculatedSize(e),r=i.width/e.width,a=i.height/e.height;return{x:(t.x-e.left)*r,y:(t.y-e.top)*a}}rootPointToDocument(t){let e=this._getRealSize(),i=this._getCalculatedSize(e),r=i.width/e.width,a=i.height/e.height;return{x:t.x/r+e.left,y:t.y/a+e.top}}addDisposer(t){return this._disposers.push(t),t}_updateComputedStyles(){let t=window.getComputedStyle(this.dom),e="";Mt(t,(r,a)=>{Mo(r)&&r.match(/^font/)&&(e+=a)});let i=e!=this._fontHash;return i&&(this._fontHash=e),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(t){t instanceof Ke?t.children.each(e=>{this._invalidateLabelBounds(e)}):t instanceof Ao&&t.markDirtyBounds()}_hasLicense(){for(let t=0;t<fn.licenses.length;t++)if(fn.licenses[t].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(t){this._renderer.debugGhostView=t}set tapToActivate(t){this._renderer.tapToActivate=t}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(t){this._renderer.tapToActivateTimeout=t}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(t){let e=this._htmlElementContainer,i=document.createElement("div");t.setPrivate("htmlElement",i);let r=!1,a;t._walkParents(o=>{if(o.get("verticalScrollbar"))return r=!0,a=o,!1});let n;return r&&(n=document.createElement("div"),t.setPrivate("htmlElementWrapper",n),t.setPrivate("wrapperContainer",a),n.style.position="absolute",n.style.overflow="hidden",n.style.boxSizing="border-box",n.style.top="0px",n.style.left="0px",n.style.width="100%",n.style.height="100%",a.events.on("boundschanged",()=>{this._positionHTMLElement(t)})),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",yh(i,t.get("interactive",!1)),t.events.isEnabled("click")&&(yh(i,!0),this._disposers.push(rr(i,"click",o=>{let l=this._renderer.getEvent(o);t.events.dispatch("click",{type:"click",originalEvent:l.event,point:l.point,simulated:!1,target:t})}))),this._positionHTMLElement(t),r?(n.append(i),e.append(n)):e.append(i),fh(this._htmlEnabledContainers,t),i}_positionHTMLElements(){te(this._htmlEnabledContainers,t=>{this._positionHTMLElement(t)})}_positionHTMLElement(t){let e=t.getPrivate("htmlElementWrapper");if(e){let r=t.getPrivate("wrapperContainer");if(r){let a=r.globalBounds();e.style.clipPath="rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"}}let i=t.getPrivate("htmlElement");if(i){te(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],v=>{let _=t.get(v);_?i.style[v]=_+"px":i.style[v]=""}),te(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],v=>{let _=t.get(v);_?v=="fontSize"&&!Mo(_)?i.style[v]=_+"px":i.style[v]=_+"":i.style[v]=""});let n=t.compositeScale()||1,o=t.compositeRotation()||0;i.style.transform="",i.style.transformOrigin="";let l=t.compositeOpacity();setTimeout(()=>{i.style.opacity=l+""},10);let u=t.isVisibleDeep();u&&(i.style.display="block");let h={x:t.x()+t.get("dx",0),y:t.y()+t.get("dy",0)};t.parent&&(h=t.parent.toGlobal(h)),i.style.top=h.y+"px",i.style.left=h.x+"px";let c=t.get("width"),A=t.get("height"),d=0,f=0;if(c&&(d=t.width()),A&&(f=t.height()),!c||!A){i.style.position="fixed",i.style.width="",i.style.height="";let v=i.getBoundingClientRect();i.style.position="absolute",c||(d=v.width),A||(f=v.height);let _=d/n,S=f/n,F=t.get("centerX",0),P=t.get("centerY",0),D=0,$=0,I=0,R=0;F instanceof wt?(D=-F.value*_,$=(1-F.value)*_):(D=-F,$=_-F),P instanceof wt?(I=-P.value*S,R=(1-P.value)*S):(I=-P,R=S-P),t._localBounds={left:D,right:$,top:I,bottom:R};let T=t._adjustedLocalBounds,Q=t._display.getAdjustedBounds(t._localBounds);t._adjustedLocalBounds=Q,(T.left!==Q.left||T.right!==Q.right||T.top!==Q.top||T.bottom!==Q.bottom)&&t.markDirtyBounds()}d>0&&(i.style.minWidth=d+"px"),f>0&&(i.style.minHeight=f+"px"),(!u||l==0)&&(i.style.display="none");let p=t.get("centerX",0),m=gw(p)?p.percent+"%":p+"px",g=t.get("centerY",0),y=gw(g)?g.percent+"%":g+"px";(p||g)&&(i.style.transform="translate(-"+m+", -"+y+")"+i.style.transform),n!=1&&(i.style.transform+="scale("+n+")"),o!=0&&(i.style.transform+=" rotate("+o+"deg)"),i.style.transform!=""&&(i.style.transformOrigin=m+" "+y)}}_setHTMLContent(t,e){let i=t.getPrivate("htmlElement");i||(i=this._makeHTMLElement(t)),i.innerHTML!=e&&(i.innerHTML=e)}_removeHTMLContent(t){let e=t.getPrivate("htmlElementWrapper"),i=t.getPrivate("htmlElement");e?(this._htmlElementContainer.removeChild(e),t.removePrivate("htmlElement"),t.removePrivate("htmlElementWrapper"),t.removePrivate("wrapperContainer")):i&&(this._htmlElementContainer.removeChild(i),t.removePrivate("htmlElement"),t.removePrivate("wrapperContainer")),Ts(this._htmlEnabledContainers,t)}};var sb;function UQ(s,t,e){let i=t.interfaceColors,r=i.get("secondaryButton").toCSS(),a=i.get("text").toCSS(),n=i.get("alternativeBackground").toCSS(.45);if(!sb){let o=new $r([new Kr(s,".am5-modal",{width:"100%",height:"100%",position:"absolute","z-index":"100000",top:"0",left:"0"},t.nonce),new Kr(s,".am5-modal-curtain",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute",background:i.get("background").toCSS(.5),"z-index":"100"},t.nonce),new Kr(s,".am5-modal-wrapper",{top:"0",left:"0",width:"100%",height:"100%",position:"absolute","text-align":"center","white-space":"nowrap",background:i.get("background").toCSS(.5),"z-index":"101"},t.nonce),new Kr(s,".am5-modal-wrapper:before",{content:"''",display:"inline-block",height:"100%","vertical-align":"middle","margin-right":"-0.25em"},t.nonce),new Kr(s,".am5-modal-content",{display:"inline-block",padding:"1.2em","vertical-align":"middle","text-align":"start","white-space":"normal",background:i.get("background").toCSS(),"border-radius":"4px","-webkit-box-shadow":"0px 0px 36px 0px "+n,"box-shadow":"0px 0px 36px 0px "+n,color:a},t.nonce),new Kr(s,".am5-modal-content h1",{"font-size":"1em",margin:"0 0 0.5em 0"},t.nonce),new Kr(s,".am5-modal-table",{display:"table",margin:"1em 0"},t.nonce),new Kr(s,".am5-modal-table-row",{display:"table-row"},t.nonce),new Kr(s,".am5-modal-table-heading",{display:"table-heading",padding:"3px 10px 3px 0"},t.nonce),new Kr(s,".am5-modal-table-cell",{display:"table-cell",padding:"3px 0 3px 0"},t.nonce),new Kr(s,".am5-modal-table-cell > *",{"vertical-align":"middle"},t.nonce),new Kr(s,".am5-modal-content input[type=text], .am5-modal-content input[type=number], .am5-modal-content select",{border:"1px solid "+r,"border-radius":"4px",padding:"3px 5px",margin:"2px"},t.nonce),new Kr(s,".am5-modal-input-narrow",{width:"50px"},t.nonce),new Kr(s,".am5-modal-button",{"font-weight":"400",color:i.get("secondaryButtonText").toCSS(),"line-height":"1.5","text-align":"center","text-decoration":"none","vertical-align":"middle",cursor:"pointer",padding:"0.2em 0.8em","font-size":"1em","border-radius":"0.25em",margin:"0 0.25em 0 0",border:"1px solid "+i.get("secondaryButtonStroke").toCSS(),background:i.get("secondaryButton").toCSS()},t.nonce),new Kr(s,".am5-modal-button:hover",{background:i.get("secondaryButtonHover").toCSS()},t.nonce),new Kr(s,".am5-modal-button.am5-modal-primary",{color:i.get("primaryButtonText").toCSS(),border:"1px solid "+i.get("primaryButtonStroke").toCSS(),background:i.get("primaryButton").toCSS()},t.nonce),new Kr(s,".am5-modal-button.am5-modal-primary:hover",{background:i.get("primaryButtonHover").toCSS()},t.nonce)]);sb=new mh(()=>{sb=void 0,o.dispose()})}return sb.increment()}var Ch=class extends xi{_afterNew(){super._afterNewApplyThemes(),this._setRawDefault("deactivateRoot",!0),UQ(Hp(this._root.dom),this._root);let t=document.createElement("div");t.className="am5-modal",t.style.display="none",this.root._inner.appendChild(t),this.setPrivate("container",t);let e=document.createElement("div");e.className="am5-modal-curtain",t.appendChild(e),this.setPrivate("curtain",e),this._disposers.push(rr(e,"click",()=>{this.cancel()}));let i=document.createElement("div");i.className="am5-modal-wrapper",t.appendChild(i),this.setPrivate("wrapper",i);let r=document.createElement("div");r.className="am5-modal-content",i.appendChild(r),this.setPrivate("content",r);let a=this.get("content");a&&(r.innerHTML=a),dn("keyboardevents")&&this._disposers.push(rr(document,"keydown",n=>{this.isOpen()&&pu(n)=="Escape"&&this.cancel()}))}_beforeChanged(){super._beforeChanged(),this.isDirty("content")&&(this.getPrivate("content").innerHTML=this.get("content",""))}isOpen(){return this.getPrivate("container").style.display!="none"}open(){this.getPrivate("container").style.display="block",this.get("deactivateRoot")&&this.setTimeout(()=>{this._root._renderer.interactionsEnabled=!1},10),this.events.dispatch("opened",{type:"opened",target:this})}close(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("closed",{type:"closed",target:this})}cancel(){this.getPrivate("container").style.display="none",this.get("deactivateRoot")&&(this._root._renderer.interactionsEnabled=!0),this.events.dispatch("cancelled",{type:"cancelled",target:this})}_dispose(){super._dispose();let t=this.getPrivate("container");t.parentElement&&t.parentElement.removeChild(t)}};Object.defineProperty(Ch,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Modal"});Object.defineProperty(Ch,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xi.classNames.concat([Ch.className])});var Ga=class extends xi{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){let t=this.get("sprite");t&&(t.setAll({position:"absolute",role:"figure"}),this._disposers.push(t))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}};Object.defineProperty(Ga,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"});Object.defineProperty(Ga,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xi.classNames.concat([Ga.className])});var kr=class extends xr{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let t=this.width(),e=this.height(),i=t/Math.abs(t),r=e/Math.abs(e),a=0,n=0,o=this.get("strokeWidth",0);this.get("containStroke",!1)&&(t-=i*o,e-=r*o,a+=i*o/2,n+=r*o/2);let l=t,u=e;if(ie(l)&&ie(u)){let h=Math.min(l,u)/2,c=Xt(this.get("cornerRadiusTL",8),h),A=Xt(this.get("cornerRadiusTR",8),h),d=Xt(this.get("cornerRadiusBR",8),h),f=Xt(this.get("cornerRadiusBL",8),h),p=Math.min(Math.abs(l/2),Math.abs(u/2));c=zi(c,0,p),A=zi(A,0,p),d=zi(d,0,p),f=zi(f,0,p);let m=this._display;m.moveTo(a+c*i,n),m.lineTo(a+l-A*i,n),A>0&&m.arcTo(a+l,n,a+l,n+A*r,A),m.lineTo(a+l,n+u-d*r),d>0&&m.arcTo(a+l,n+u,a+l-d*i,n+u,d),m.lineTo(a+f*i,n+u),f>0&&m.arcTo(a,n+u,a,n+u-f*r,f),m.lineTo(a,n+c*r),c>0&&m.arcTo(a,n,a+c*i,n,c),m.closePath()}}};Object.defineProperty(kr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(kr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xr.classNames.concat([kr.className])});var vu=class extends Ke{_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",kr.new(this._root,{themeTags:yt(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){let t=this._prevSettings.icon,e=this.get("icon");e!==t&&(this._disposeProperty("icon"),t&&t.dispose(),e&&this.children.push(e),this._prevSettings.icon=e)}if(this.isDirty("label")){let t=this._prevSettings.label,e=this.get("label");e!==t&&(this._disposeProperty("label"),t&&t.dispose(),e&&this.children.push(e),this._prevSettings.label=e)}}};Object.defineProperty(vu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"});Object.defineProperty(vu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([vu.className])});var ab=class extends Nn{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(t){this.processor&&this.processor.processRow(t),super._onPush(t)}_onInsertIndex(t,e){this.processor&&this.processor.processRow(e),super._onInsertIndex(t,e)}_onSetIndex(t,e,i){this.processor&&this.processor.processRow(i),super._onSetIndex(t,e,i)}};var ms=class extends Gp{constructor(t,e,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=e,this.component=t,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(t){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,t)}hide(t){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,t)}isHidden(){return!this.get("visible")}},fo=class extends Ke{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new ab}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(t){t.incrementRef(),this._data.decrementRef(),this._data=t}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(t=>{let e=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,t.type==="clear")te(e,i=>{i.dispose()}),e.length=0,this._onDataClear();else if(t.type==="push"){let i=new ms(this,t.newValue,this._makeDataItem(t.newValue));e.push(i),this.processDataItem(i)}else if(t.type==="setIndex"){let i=e[t.index],r=this._makeDataItem(t.newValue);i.bullets&&i.bullets.length==0&&(i.bullets=void 0),br(r).forEach(a=>{i.animate({key:a,to:r[a],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),i.dataContext=t.newValue}else if(t.type==="insertIndex"){let i=new ms(this,t.newValue,this._makeDataItem(t.newValue));e.splice(t.index,0,i),this.processDataItem(i)}else if(t.type==="removeIndex")e[t.index].dispose(),e.splice(t.index,1);else if(t.type==="moveIndex"){let i=e[t.oldIndex];e.splice(t.oldIndex,1),e.splice(t.newIndex,0,i)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},te(this.valueFields,t=>{this.get(t+"Field")&&(this._valueFields.push(t),this._valueFieldsF[t]={fieldKey:t+"Field",workingKey:t+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},te(this.fields,t=>{this.get(t+"Field")&&(this._fields.push(t),this._fieldsF[t]=t+"Field")}))}get dataItems(){return this._dataItems}processDataItem(t){}_makeDataItem(t){let e={};return this._valueFields&&te(this._valueFields,i=>{let r=this.get(this._valueFieldsF[i].fieldKey);e[i]=t[r],e[this._valueFieldsF[i].workingKey]=e[i]}),this._fields&&te(this._fields,i=>{let r=this.get(this._fieldsF[i]);e[i]=t[r]}),e}makeDataItem(t,e){let i=new ms(this,e,t);return this.processDataItem(i),i}pushDataItem(t,e){let i=this.makeDataItem(t,e);return this._mainDataItems.push(i),i}disposeDataItem(t){}showDataItem(t,e){return Xe(this,void 0,void 0,function*(){t.set("visible",!0)})}hideDataItem(t,e){return Xe(this,void 0,void 0,function*(){t.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){let t="datavalidated";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(t){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}};Object.defineProperty(fo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(fo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([fo.className])});function GD(s){return new Promise((t,e)=>{setTimeout(t,s)})}var bC={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function vC(s){switch(s){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Js(s,t){return t==null&&(t=1),bC[s]*t}function po(s){return s?bC[s.timeUnit]*s.count:0}function nb(s,t,e,i,r){let a=s.timeUnit,n=s.count;if(a=="hour"||a=="minute"||a=="second"||a=="millisecond")return bC[s.timeUnit]*s.count;{let o=_h(new Date(t.getTime()),a,n,e,i,void 0,r).getTime(),l=o+n*Js(a)*1.05;return l=_h(new Date(l),a,1,e,i,void 0,r).getTime(),l-o}}function xC(s,t,e,i,r){if(t-s>Js(e,1.2))return!0;let a=new Date(s),n=new Date(t);r&&(a=r.convertLocal(a),n=r.convertLocal(n));let o=0,l=0;!i&&e!="millisecond"&&(o=a.getTimezoneOffset(),a.setUTCMinutes(a.getUTCMinutes()-o),l=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-l));let u=!1;switch(e){case"year":a.getUTCFullYear()!=n.getUTCFullYear()&&(u=!0);break;case"month":(a.getUTCFullYear()!=n.getUTCFullYear()||a.getUTCMonth()!=n.getUTCMonth())&&(u=!0);break;case"day":(a.getUTCMonth()!=n.getUTCMonth()||a.getUTCDate()!=n.getUTCDate())&&(u=!0);break;case"hour":a.getUTCHours()!=n.getUTCHours()&&(u=!0);break;case"minute":a.getUTCMinutes()!=n.getUTCMinutes()&&(u=!0);break;case"second":a.getUTCSeconds()!=n.getUTCSeconds()&&(u=!0);break;case"millisecond":a.getTime()!=n.getTime()&&(u=!0);break}if(u)return u;let h=vC(e);return h?xC(s,t,h,i,r):!1}function os(s,t,e,i,r){let a;return r!=null&&(a=new Date(r)),_h(new Date(s),t,e,i.locale.firstDayOfWeek,i.utc,a,i.timezone).getTime()}function _h(s,t,e,i,r,a,n){if(!n||r){let o=0;switch(!r&&t!="millisecond"&&(o=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-o)),t){case"day":let l=s.getUTCDate();if(e>1){if(a){a=_h(a,"day",1);let g=s.getTime()-a.getTime(),y=Math.floor(g/Js("day")/e),v=Js("day",y*e);s.setTime(a.getTime()+v-o*Js("minute"))}}else s.setUTCDate(l);s.setUTCHours(0,0,0,0);break;case"second":let u=s.getUTCSeconds();e>1&&(u=Math.floor(u/e)*e),s.setUTCSeconds(u,0);break;case"millisecond":if(e==1)return s;let h=s.getUTCMilliseconds();h=Math.floor(h/e)*e,s.setUTCMilliseconds(h);break;case"hour":let c=s.getUTCHours();e>1&&(c=Math.floor(c/e)*e),s.setUTCHours(c,0,0,0);break;case"minute":let A=s.getUTCMinutes();e>1&&(A=Math.floor(A/e)*e),s.setUTCMinutes(A,0,0);break;case"month":let d=s.getUTCMonth();e>1&&(d=Math.floor(d/e)*e),s.setUTCMonth(d,1),s.setUTCHours(0,0,0,0);break;case"year":let f=s.getUTCFullYear();e>1&&(f=Math.floor(f/e)*e),s.setUTCFullYear(f,0,1),s.setUTCHours(0,0,0,0);break;case"week":if(e>1&&a){a=_h(a,"week",1);let g=s.getTime()-a.getTime(),y=Math.floor(g/Js("week")/e),v=Js("week",y*e);s.setTime(a.getTime()+v-o*Js("minute"))}let p=s.getUTCDate(),m=s.getUTCDay();ie(i)||(i=1),m>=i?p=p-m+i:p=p-(7+m)+i,s.setUTCDate(p),s.setUTCHours(0,0,0,0);break}if(!r&&t!="millisecond"&&(s.setUTCMinutes(s.getUTCMinutes()+o),t=="day"||t=="week"||t=="month"||t=="year")){let l=s.getTimezoneOffset();if(l!=o){let u=l-o;s.setUTCMinutes(s.getUTCMinutes()+u)}}return s}else{if(isNaN(s.getTime()))return s;let o=s.getTime(),l=n.offsetUTC(s),u=s.getTimezoneOffset(),h=n.parseDate(s),c=h.year,A=h.month,d=h.day,f=h.hour,p=h.minute,m=h.second,g=h.millisecond,y=h.weekday,v=l-u;switch(t){case"day":if(e>1&&a){a=_h(a,"day",1,i,r,void 0,n);let $=s.getTime()-a.getTime(),I=Math.floor($/Js("day")/e),R=Js("day",I*e);s.setTime(a.getTime()+R),h=n.parseDate(s),c=h.year,A=h.month,d=h.day}f=0,p=v,m=0,g=0;break;case"second":p+=v,e>1&&(m=Math.floor(m/e)*e),g=0;break;case"millisecond":p+=v,e>1&&(g=Math.floor(g/e)*e);break;case"hour":e>1&&(f=Math.floor(f/e)*e),p=v,m=0,g=0;break;case"minute":e>1&&(p=Math.floor(p/e)*e),p+=v,m=0,g=0;break;case"month":e>1&&(A=Math.floor(A/e)*e),d=1,f=0,p=v,m=0,g=0;break;case"year":e>1&&(c=Math.floor(c/e)*e),A=0,d=1,f=0,p=v,m=0,g=0;break;case"week":ie(i)||(i=1),y>=i?d=d-y+i:d=d-(7+y)+i,f=0,p=v,m=0,g=0;break}s=new Date(c,A,d,f,p,m,g);let _=s.getTime(),S=36e5;t=="hour"&&(S=36e5*e),_+S<=o&&(t=="hour"||t=="minute"||t=="second"||t=="millisecond")&&(s=new Date(_+S));let F=s.getTimezoneOffset(),D=n.offsetUTC(s)-F;return D!=v&&s.setTime(s.getTime()+(D-v)*6e4),s}}function ob(s,t,e,i){let r=i[s],a=po(r),n=i.length-1;if(s>=n)return Object.assign({},i[n]);let o=Math.ceil(t/a);return t<a&&s>0?Object.assign({},i[s-1]):o<=e?Object.assign({},i[s]):s+1<i.length?ob(s+1,t,e,i):Object.assign({},i[s])}var Qs=class extends fo{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new Nn}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ke.new(this._root,{width:Be,height:Be,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(t=>{if(t.type==="clear")this._handleBullets(this.dataItems);else if(t.type==="push")this._handleBullets(this.dataItems);else if(t.type==="setIndex")this._handleBullets(this.dataItems);else if(t.type==="insertIndex")this._handleBullets(this.dataItems);else if(t.type==="removeIndex")this._handleBullets(this.dataItems);else if(t.type==="moveIndex")this._handleBullets(this.dataItems);else throw new Error("Unknown IListEvent type")}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let t=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),t)}endIndex(){let t=this.dataItems.length;return Math.min(this.getPrivate("endIndex",t),t)}_handleBullets(t){te(t,e=>{let i=e.bullets;i&&(te(i,r=>{r.dispose()}),e.bullets=void 0)}),this.markDirtyValues()}getDataItemById(t){return Iy(this.dataItems,e=>e.get("id")==t)}_makeBullets(t){this._shouldMakeBullet(t)&&(t.bullets=[],this.bullets.each(e=>{this._makeBullet(t,e)}))}_shouldMakeBullet(t){return!0}_makeBullet(t,e,i){let r=e(this._root,this,t);return r&&(r._index=i,this._makeBulletReal(t,r)),r}_makeBulletReal(t,e){let i=e.get("sprite");i&&(i._setDataItem(t),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),e.series=this,t.bullets.push(e)}addBullet(t,e){t.bullets||(t.bullets=[]),e&&this._makeBulletReal(t,e)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let t=this.startIndex(),e=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){let r=this.getPrivate("baseValueSeries");r&&this._disposers.push(r.onPrivate("startIndex",()=>{this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,t!=0&&(this._psi=void 0))),(this._psi!=t||this._pei!=e||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(t===0&&e===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(t,e),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let r=this.get("tooltip");r&&(r.hide(0),r.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let r,a=this.get("legendDataItem");if(a&&(r=a.get("markerRectangle"),r&&this.isVisible())){if(this.isDirty("stroke")){let n=this.get("stroke");r.set("stroke",n)}if(this.isDirty("fill")){let n=this.get("fill");r.set("fill",n)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let r=this.startIndex(),a=this.endIndex();a<this.dataItems.length&&a++;for(let n=r;n<a;n++){let o=this.dataItems[n];o.bullets||this._makeBullets(o)}}}_handleRemoved(){}_adjustStartIndex(t){return t}_calculateAggregates(t,e){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");let r={},a={},n={},o={},l={},u={},h={},c={},A={};te(i,d=>{r[d]=0,a[d]=0,n[d]=0}),te(i,d=>{let f=d+"Change",p=d+"ChangePercent",m=d+"ChangePrevious",g=d+"ChangePreviousPercent",y=d+"ChangeSelection",v=d+"ChangeSelectionPercent",_="valueY";(d=="valueX"||d=="openValueX"||d=="lowValueX"||d=="highValueX")&&(_="valueX");let S=this.getPrivate("baseValueSeries"),F=this.getPrivate("adjustedStartIndex",t);for(let P=F;P<e;P++){let D=this.dataItems[P];if(D){let $=D.get(d);$!=null&&(n[d]++,r[d]+=$,a[d]+=Math.abs($),c[d]=r[d]/n[d],(o[d]>$||o[d]==null)&&(o[d]=$),(l[d]<$||l[d]==null)&&(l[d]=$),h[d]=$,u[d]==null&&(u[d]=$,A[d]=$,S&&(u[_]=S._getBase(_))),t===0&&(D.setRaw(f,$-u[_]),D.setRaw(p,($-u[_])/u[_]*100)),D.setRaw(m,$-A[_]),D.setRaw(g,($-A[_])/A[_]*100),D.setRaw(y,$-u[_]),D.setRaw(v,($-u[_])/u[_]*100),A[d]=$)}}if(e<this.dataItems.length-1){let P=this.dataItems[e];if(P){let D=P.get(d);P.setRaw(m,D-A[_]),P.setRaw(g,(D-A[_])/A[_]*100),P.setRaw(y,D-u[_]),P.setRaw(v,(D-u[_])/u[_]*100)}}t>0&&t--,delete A[d];for(let P=t;P<F;P++){let D=this.dataItems[P];if(D){let $=D.get(d);A[d]==null&&(A[d]=$),$!=null&&(D.setRaw(m,$-A[_]),D.setRaw(g,($-A[_])/A[_]*100),D.setRaw(y,$-u[_]),D.setRaw(v,($-u[_])/u[_]*100),A[d]=$)}}}),te(i,d=>{this.setPrivate(d+"AverageSelection",c[d]),this.setPrivate(d+"CountSelection",n[d]),this.setPrivate(d+"SumSelection",r[d]),this.setPrivate(d+"AbsoluteSumSelection",a[d]),this.setPrivate(d+"LowSelection",o[d]),this.setPrivate(d+"HighSelection",l[d]),this.setPrivate(d+"OpenSelection",u[d]),this.setPrivate(d+"CloseSelection",h[d])}),t===0&&e===this.dataItems.length&&te(i,d=>{this.setPrivate(d+"Average",c[d]),this.setPrivate(d+"Count",n[d]),this.setPrivate(d+"Sum",r[d]),this.setPrivate(d+"AbsoluteSum",a[d]),this.setPrivate(d+"Low",o[d]),this.setPrivate(d+"High",l[d]),this.setPrivate(d+"Open",u[d]),this.setPrivate(d+"Close",h[d])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));let t=this.get("heatRules");if(this._valuesDirty&&t&&t.length>0&&te(t,e=>{let i=e.minValue||this.getPrivate(e.dataField+"Low")||0,r=e.maxValue||this.getPrivate(e.dataField+"High")||0;te(e.target._entities,a=>{let n=a.dataItem.get(e.dataField);if(!ie(n)){e.neutral&&a.set(e.key,e.neutral);let o=a.states;if(o){let l=o.lookup("default");l&&e.neutral&&l.set(e.key,e.neutral)}if(!e.customFunction)return}if(e.customFunction)e.customFunction.call(this,a,i,r,n);else{let o;e.logarithmic?o=(Math.log(n)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(r)*Math.LOG10E-Math.log(i)*Math.LOG10E):o=(n-i)/(r-i),ie(n)&&(!ie(o)||Math.abs(o)==1/0)&&(o=.5);let l;ie(e.min)?l=e.min+(e.max-e.min)*o:e.min instanceof Ct?l=Ct.interpolate(o,e.min,e.max):e.min instanceof wt&&(l=Tw(o,e.min,e.max)),a.set(e.key,l);let u=a.states;if(u){let h=u.lookup("default");h&&h.set(e.key,l)}}})}),this.get("visible")){let e=this.dataItems.length,i=this.startIndex(),r=this.endIndex();r<e&&r++,i>0&&i--;for(let a=0;a<i;a++)this._hideBullets(this.dataItems[a]);for(let a=i;a<r;a++)this._positionBullets(this.dataItems[a]);for(let a=r;a<e;a++)this._hideBullets(this.dataItems[a])}}_positionBullets(t){t.bullets&&te(t.bullets,e=>{this._positionBullet(e);let i=e.get("sprite");e.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof Ke&&i.walkChildren(r=>{r._markDirtyKey("fill"),r.markDirtySize(),r instanceof hr&&r.text.markDirtyText()})),i instanceof hr&&i.get("populateText")&&i.text.markDirtyText()})}_hideBullets(t){t.bullets&&te(t.bullets,e=>{let i=e.get("sprite");i&&i.setPrivate("visible",!1)})}_positionBullet(t){}_placeBulletsContainer(t){t.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){let t=this.bulletsContainer;t.parent&&t.parent.children.removeValue(t)}disposeDataItem(t){let e=t.bullets;e&&(te(e,i=>{i.dispose()}),t.bullets=void 0)}_getItemReaderLabel(){return""}showDataItem(t,e){let i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Xe(this,void 0,void 0,function*(){let r=[i.showDataItem.call(this,t,e)],a=t.bullets;a&&te(a,n=>{let o=n.get("sprite");o&&r.push(o.show(e))}),yield Promise.all(r)})}hideDataItem(t,e){let i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Xe(this,void 0,void 0,function*(){let r=[i.hideDataItem.call(this,t,e)],a=t.bullets;a&&te(a,n=>{let o=n.get("sprite");o&&r.push(o.hide(e))}),yield Promise.all(r)})}_sequencedShowHide(t,e){return Xe(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(ie(e)||(e=this.get("interpolationDuration",0)),e>0){let i=this.startIndex(),r=this.endIndex();yield Promise.all($p(this.dataItems,(a,n)=>Xe(this,void 0,void 0,function*(){let o=e||0;(n<i-10||n>r+10)&&(o=0);let l=this.get("sequencedDelay",0)+o/(r-i);yield GD(l*(n-i)),t?yield this.showDataItem(a,o):yield this.hideDataItem(a,o)})))}else yield Promise.all($p(this.dataItems,i=>t?this.showDataItem(i,0):this.hideDataItem(i,0)))})}updateLegendValue(t){if(t){let e=t.get("legendDataItem");if(e){let i=e.get("valueLabel");if(i){let a=i.text,n="";i._setDataItem(t),n=this.get("legendValueText",a.get("text","")),i.set("text",n),a.markDirtyText()}let r=e.get("label");if(r){let a=r.text,n="";r._setDataItem(t),n=this.get("legendLabelText",a.get("text","")),r.set("text",n),a.markDirtyText()}}}}updateLegendMarker(t){}_onHide(){super._onHide();let t=this.getTooltip();t&&t.hide()}hoverDataItem(t){}unhoverDataItem(t){}_getBase(t){let e=this.dataItems[this.startIndex()];return e?e.get(t):0}};Object.defineProperty(Qs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(Qs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fo.classNames.concat([Qs.className])});var xu=class extends Qs{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>Ke._new(this._root,{themeTags:yt(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:yt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:kr.new(this._root,{themeTags:yt(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:yt(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template])))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>Ke._new(this._root,{themeTags:yt(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>hr._new(this._root,{themeTags:yt(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template])))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>hr._new(this._root,{themeTags:yt(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template])))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>kr._new(this._root,{themeTags:yt(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template])))})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(t){let e=this.children.push(this.itemContainers.make());return e._setDataItem(t),this.itemContainers.push(e),e.states.create("disabled",{}),e}makeMarker(){let t=this.markers.make();return this.markers.push(t),t.states.create("disabled",{}),t}makeLabel(){let t=this.labels.make();return t.states.create("disabled",{}),t}makeValueLabel(){let t=this.valueLabels.make();return t.states.create("disabled",{}),t}makeMarkerRectangle(){let t=this.markerRectangles.make();return t.states.create("disabled",{}),t}processDataItem(t){super.processDataItem(t);let e=this.makeItemContainer(t),i=this.get("nameField"),r=this.get("fillField"),a=this.get("strokeField");if(e){let n=this.get("clickTarget","itemContainer"),o=t.dataContext;o&&o.set&&o.set("legendDataItem",t),e._setDataItem(t),t.set("itemContainer",e);let l=this.makeMarker();if(l){e.children.push(l),l._setDataItem(t),t.set("marker",l);let c=this.get("useDefaultMarker"),A=l.children.push(this.makeMarkerRectangle()),d=t.get("fill"),f=t.get("stroke");t.set("markerRectangle",A),o&&o.get&&(d=o.get(r,d),f=o.get(a,f)),f||(f=d),c?o.on&&(o.on(r,()=>{A.set("fill",o.get(r))}),o.on(a,()=>{A.set("stroke",o.get(a))})):o&&o.createLegendMarker&&o.createLegendMarker(),A.setAll({fill:d,stroke:f});let p=o.component;p&&p.updateLegendMarker&&p.updateLegendMarker(o)}let u=this.makeLabel();if(u){e.children.push(u),u._setDataItem(t),t.set("label",u),u.text.on("text",()=>{e.setRaw("ariaLabel",u.text._getText()+(this.get("clickTarget")!=="none"?"; "+this._t("Press ENTER to toggle"):"")),e.markDirtyAccessibility()}),o&&o.get&&t.set("name",o.get(i));let c=t.get("name");c&&u.set("text",c)}let h=this.makeValueLabel();if(h&&(e.children.push(h),h._setDataItem(t),t.set("valueLabel",h)),o&&o.show&&(o.on("visible",c=>{e.set("disabled",!c)}),o.get("visible")||e.set("disabled",!0),n!="none")){let c=e;n=="marker"&&(c=l),this._addClickEvents(c,o,t)}this.children.values.sort((c,A)=>{let d=c.dataItem.dataContext,f=A.dataItem.dataContext;if(d&&f){let p=this.data.indexOf(d),m=this.data.indexOf(f);if(p>m)return 1;if(p<m)return-1}return 0}),o&&o.updateLegendValue&&o.updateLegendValue()}}_addClickEvents(t,e,i){t.set("cursorOverStyle","pointer"),t.events.on("pointerover",()=>{let r=e.component;r&&r.hoverDataItem&&r.hoverDataItem(e)}),t.events.on("pointerout",()=>{let r=e.component;r&&r.hoverDataItem&&r.unhoverDataItem(e)}),t.events.on("click",()=>{let r=i.get("label").text._getText();e.show&&e.isHidden&&(e.isHidden()||e.get("visible")===!1)?(e.show(),t.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,r))):e.hide&&(e.hide(),t.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,r)))})}disposeDataItem(t){super.disposeDataItem(t);let e=t.dataContext;e&&e.get&&e.get("legendDataItem")==t&&e.set("legendDataItem",void 0);let i=t.get("itemContainer");i&&(this.itemContainers.removeValue(i),i.dispose());let r=t.get("marker");r&&(this.markers.removeValue(r),r.dispose());let a=t.get("markerRectangle");a&&(this.markerRectangles.removeValue(a),a.dispose());let n=t.get("label");n&&(this.labels.removeValue(n),n.dispose());let o=t.get("valueLabel");o&&(this.valueLabels.removeValue(o),o.dispose())}};Object.defineProperty(xu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"});Object.defineProperty(xu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qs.classNames.concat([xu.className])});function CC(s,t){for(let e=0,i=t.length;e<i;e++){let r=t[e];if(r.length>0){let a=r[0];if(a.length>0){let n=a[0];s.moveTo(n.x,n.y);for(let o=0,l=r.length;o<l;o++)QQ(s,r[o])}}}}function QQ(s,t){for(let e=0,i=t.length;e<i;e++){let r=t[e];s.lineTo(r.x,r.y)}}var Sh=class extends St{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("points"),e=this.get("segments");if(t&&t.length>0){let i=t[0];this._display.moveTo(i.x,i.y),CC(this._display,[[t]])}else if(e)CC(this._display,e);else if(!this.get("draw")){let i=this.width(),r=this.height();this._display.moveTo(0,0),this._display.lineTo(i,r)}}}};Object.defineProperty(Sh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(Sh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:St.classNames.concat([Sh.className])});var Xc=class extends Ao{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*Er,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}};Object.defineProperty(Xc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"});Object.defineProperty(Xc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ao.classNames.concat([Xc.className])});var _l=class extends hr{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(Xc.new(this._root,{}))}baseRadius(){let t=this.getPrivate("radius",0),e=this.getPrivate("innerRadius",0),i=this.get("baseRadius",0);return e+Xt(i,t-e)}radius(){let t=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(t?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){let t=this.get("textType","adjusted"),e=this.get("inside",!1),i=this.get("orientation"),r=Pa(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",e);let a=Ii(r),n=Qi(r),o=this.baseRadius(),l=this.radius();if(this._display.angle=0,t=="circular")this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",i),this._text.set("radius",l);else{o==0&&(r=0,l=0);let u=l*n,h=l*a;t=="radial"?(this.setRaw("x",u),this.setRaw("y",h),r<90||r>270||i!="auto"?(this._display.angle=r,this._flipped=!1):(this._display.angle=r+180,this._flipped=!0),this._dirty.rotation=!1):t=="adjusted"?(this.setRaw("centerX",Ye),this.setRaw("centerY",Ye),this.setRaw("x",u),this.setRaw("y",h)):t=="regular"&&(this.setRaw("x",u),this.setRaw("y",h))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){let t=this.get("textType","regular"),e=this.get("inside",!1),i=0,r=0,a=this.get("labelAngle",0),n=this.localBounds(),o=n.right-n.left,l=n.bottom-n.top;if(t=="radial"){if(this._flipped){let u=this.get("centerX");u instanceof wt&&(o=o*(1-u.value*2)),i=o*Qi(a),r=o*Ii(a)}}else!e&&t=="adjusted"&&(i=o/2*Qi(a),r=l/2*Ii(a));this.setRaw("dx",i),this.setRaw("dy",r),super._updatePosition()}get text(){return this._text}};Object.defineProperty(_l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"});Object.defineProperty(_l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hr.classNames.concat([_l.className])});var Sl=class extends Ke{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=yt(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=kr.new(this._root,{themeTags:yt(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(vu.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:St.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(kr.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(t){t&&this._disposers.push(t.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();let t=this.startGrip,e=this.endGrip,i=this.thumb,r=this.get("background");r&&this._disposers.push(r.events.on("click",a=>{this.setPrivateRaw("isBusy",!0);let n=this._display.toLocal(a.point),o=this.width(),l=this.height(),u=this.get("orientation"),h;u=="vertical"?h=(n.y-i.height()/2)/l:h=(n.x-i.width()/2)/o;let c,A;u=="vertical"?(c=h*l,A="y"):(c=h*o,A="x");let d=this.get("animationDuration",0);d>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:A,to:c,duration:d,easing:this.get("animationEasing")}))):(this.thumb.set(A,c),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(i.events.on("dblclick",a=>{if(!bA(a.originalEvent,this))return;let n=this.get("animationDuration",0),o=this.get("animationEasing");this.animate({key:"start",to:0,duration:n,easing:o}),this.animate({key:"end",to:1,duration:n,easing:o})})),this._disposers.push(t.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(e.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(i.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(t.events.on("globalpointerup",()=>{this._startDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._startDown=!1})),this._disposers.push(e.events.on("globalpointerup",()=>{this._endDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._endDown=!1})),this._disposers.push(i.events.on("globalpointerup",()=>{this._thumbDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._thumbDown=!1})),this._disposers.push(t.on("x",()=>{this._updateThumb()})),this._disposers.push(e.on("x",()=>{this._updateThumb()})),this._disposers.push(t.on("y",()=>{this._updateThumb()})),this._disposers.push(e.on("y",()=>{this._updateThumb()})),this._disposers.push(i.events.on("positionchanged",()=>{this._updateGripsByThumb()})),this.get("orientation")=="vertical"?(t.set("x",0),e.set("x",0),this._disposers.push(i.adapters.add("y",a=>Math.max(Math.min(Number(a),this.height()-i.height()),0))),this._disposers.push(i.adapters.add("x",a=>this.width()/2)),this._disposers.push(t.adapters.add("x",a=>this.width()/2)),this._disposers.push(e.adapters.add("x",a=>this.width()/2)),this._disposers.push(t.adapters.add("y",a=>Math.max(Math.min(Number(a),this.height()),0))),this._disposers.push(e.adapters.add("y",a=>Math.max(Math.min(Number(a),this.height()),0)))):(t.set("y",0),e.set("y",0),this._disposers.push(i.adapters.add("x",a=>Math.max(Math.min(Number(a),this.width()-i.width()),0))),this._disposers.push(i.adapters.add("y",a=>this.height()/2)),this._disposers.push(t.adapters.add("y",a=>this.height()/2)),this._disposers.push(e.adapters.add("y",a=>this.height()/2)),this._disposers.push(t.adapters.add("x",a=>Math.max(Math.min(Number(a),this.width()),0))),this._disposers.push(e.adapters.add("x",a=>Math.max(Math.min(Number(a),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){let t="rangechanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}_released(){let t="released";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}updateGrips(){let t=this.startGrip,e=this.endGrip,i=this.get("orientation"),r=this.height(),a=this.width();i=="vertical"?(t.set("y",r*this.get("start",0)),e.set("y",r*this.get("end",1))):(t.set("x",a*this.get("start",0)),e.set("x",a*this.get("end",1)));let n=this.getPrivate("positionTextFunction"),o=Math.round(this.get("start",0)*100),l=Math.round(this.get("end",0)*100),u,h;n?(u=n.call(this,this.get("start",0)),h=n.call(this,this.get("end",0))):(u=o+"%",h=l+"%"),t.set("ariaLabel",this._t("From %1",void 0,u)),t.set("ariaValueNow",""+o),t.set("ariaValueText",o+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100"),e.set("ariaLabel",this._t("To %1",void 0,h)),e.set("ariaValueNow",""+l),e.set("ariaValueText",l+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100")}_updateThumb(){let t=this.thumb,e=this.startGrip,i=this.endGrip,r=this.height(),a=this.width(),n=e.x(),o=i.x(),l=e.y(),u=i.y(),h=0,c=1;this.get("orientation")=="vertical"?ie(l)&&ie(u)&&(!this._thumbBusy&&!t.isDragging()&&(t.set("height",u-l),t.set("y",l)),h=l/r,c=u/r):ie(n)&&ie(o)&&(!this._thumbBusy&&!t.isDragging()&&(t.set("width",o-n),t.set("x",n)),h=n/a,c=o/a),this.getPrivate("isBusy")&&(this.get("start")!=h||this.get("end")!=c)&&(this.set("start",h),this.set("end",c));let A=this.getPrivate("positionTextFunction"),d=Math.round(this.get("start",0)*100),f=Math.round(this.get("end",0)*100),p,m;A?(p=A.call(this,this.get("start",0)),m=A.call(this,this.get("end",0))):(p=d+"%",m=f+"%"),t.set("ariaLabel",this._t("From %1 to %2",void 0,p,m)),t.set("ariaValueNow",""+d),t.set("ariaValueText",d+"%")}_updateGripsByThumb(){let t=this.thumb,e=this.startGrip,i=this.endGrip;if(this.get("orientation")=="vertical"){let r=t.height();e.set("y",t.y()),i.set("y",t.y()+r)}else{let r=t.width();e.set("x",t.x()),i.set("x",t.x()+r)}}};Object.defineProperty(Sl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"});Object.defineProperty(Sl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([Sl.className])});function cr(s){return function(){return s}}var _C=Math.abs,fa=Math.atan2,Bh=Math.cos,YD=Math.max,lb=Math.min,Eo=Math.sin,zc=Math.sqrt,Ya=1e-12,SA=Math.PI,tm=SA/2,KD=2*SA;function qD(s){return s>1?0:s<-1?SA:Math.acos(s)}function SC(s){return s>=1?tm:s<=-1?-tm:Math.asin(s)}var BC=Math.PI,FC=2*BC,Gc=1e-6,jQ=FC-Gc;function ZD(s){this._+=s[0];for(let t=1,e=s.length;t<e;++t)this._+=arguments[t]+s[t]}function WQ(s){let t=Math.floor(s);if(!(t>=0))throw new Error(`invalid digits: ${s}`);if(t>15)return ZD;let e=10**t;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}var Yc=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZD:WQ(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,r){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,e,i,r,a,n){this._append`C${+t},${+e},${+i},${+r},${this._x1=+a},${this._y1=+n}`}arcTo(t,e,i,r,a){if(t=+t,e=+e,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let n=this._x1,o=this._y1,l=i-t,u=r-e,h=n-t,c=o-e,A=h*h+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(A>Gc)if(!(Math.abs(c*l-u*h)>Gc)||!a)this._append`L${this._x1=t},${this._y1=e}`;else{let d=i-n,f=r-o,p=l*l+u*u,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(A),v=a*Math.tan((BC-Math.acos((p+A-m)/(2*g*y)))/2),_=v/y,S=v/g;Math.abs(_-1)>Gc&&this._append`L${t+_*h},${e+_*c}`,this._append`A${a},${a},0,0,${+(c*d>h*f)},${this._x1=t+S*l},${this._y1=e+S*u}`}}arc(t,e,i,r,a,n){if(t=+t,e=+e,i=+i,n=!!n,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),u=t+o,h=e+l,c=1^n,A=n?r-a:a-r;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Gc||Math.abs(this._y1-h)>Gc)&&this._append`L${u},${h}`,i&&(A<0&&(A=A%FC+FC),A>jQ?this._append`A${i},${i},0,1,${c},${t-o},${e-l}A${i},${i},0,1,${c},${this._x1=u},${this._y1=h}`:A>Gc&&this._append`A${i},${i},0,${+(A>=BC)},${c},${this._x1=t+i*Math.cos(a)},${this._y1=e+i*Math.sin(a)}`)}rect(t,e,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function JD(){return new Yc}JD.prototype=Yc.prototype;function BA(s){let t=3;return s.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{let i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return s},()=>new Yc(t)}function XQ(s){return s.innerRadius}function zQ(s){return s.outerRadius}function GQ(s){return s.startAngle}function YQ(s){return s.endAngle}function KQ(s){return s&&s.padAngle}function qQ(s,t,e,i,r,a,n,o){var l=e-s,u=i-t,h=n-r,c=o-a,A=c*l-h*u;if(!(A*A<Ya))return A=(h*(t-a)-c*(s-r))/A,[s+A*l,t+A*u]}function ub(s,t,e,i,r,a,n){var o=s-e,l=t-i,u=(n?a:-a)/zc(o*o+l*l),h=u*l,c=-u*o,A=s+h,d=t+c,f=e+h,p=i+c,m=(A+f)/2,g=(d+p)/2,y=f-A,v=p-d,_=y*y+v*v,S=r-a,F=A*p-f*d,P=(v<0?-1:1)*zc(YD(0,S*S*_-F*F)),D=(F*v-y*P)/_,$=(-F*y-v*P)/_,I=(F*v+y*P)/_,R=(-F*y+v*P)/_,T=D-m,Q=$-g,K=I-m,z=R-g;return T*T+Q*Q>K*K+z*z&&(D=I,$=R),{cx:D,cy:$,x01:-h,y01:-c,x11:D*(r/S-1),y11:$*(r/S-1)}}function Ro(){var s=XQ,t=zQ,e=cr(0),i=null,r=GQ,a=YQ,n=KQ,o=null,l=BA(u);function u(){var h,c,A=+s.apply(this,arguments),d=+t.apply(this,arguments),f=r.apply(this,arguments)-tm,p=a.apply(this,arguments)-tm,m=_C(p-f),g=p>f;if(o||(o=h=l()),d<A&&(c=d,d=A,A=c),!(d>Ya))o.moveTo(0,0);else if(m>KD-Ya)o.moveTo(d*Bh(f),d*Eo(f)),o.arc(0,0,d,f,p,!g),A>Ya&&(o.moveTo(A*Bh(p),A*Eo(p)),o.arc(0,0,A,p,f,g));else{var y=f,v=p,_=f,S=p,F=m,P=m,D=n.apply(this,arguments)/2,$=D>Ya&&(i?+i.apply(this,arguments):zc(A*A+d*d)),I=lb(_C(d-A)/2,+e.apply(this,arguments)),R=I,T=I,Q,K;if($>Ya){var z=SC($/A*Eo(D)),se=SC($/d*Eo(D));(F-=z*2)>Ya?(z*=g?1:-1,_+=z,S-=z):(F=0,_=S=(f+p)/2),(P-=se*2)>Ya?(se*=g?1:-1,y+=se,v-=se):(P=0,y=v=(f+p)/2)}var ee=d*Bh(y),ue=d*Eo(y),G=A*Bh(S),q=A*Eo(S);if(I>Ya){var ge=d*Bh(v),ne=d*Eo(v),ye=A*Bh(_),qe=A*Eo(_),Ge;if(m<SA)if(Ge=qQ(ee,ue,ye,qe,ge,ne,G,q)){var it=ee-Ge[0],dt=ue-Ge[1],Re=ge-Ge[0],We=ne-Ge[1],Rt=1/Eo(qD((it*Re+dt*We)/(zc(it*it+dt*dt)*zc(Re*Re+We*We)))/2),pi=zc(Ge[0]*Ge[0]+Ge[1]*Ge[1]);R=lb(I,(A-pi)/(Rt-1)),T=lb(I,(d-pi)/(Rt+1))}else R=T=0}P>Ya?T>Ya?(Q=ub(ye,qe,ee,ue,d,T,g),K=ub(ge,ne,G,q,d,T,g),o.moveTo(Q.cx+Q.x01,Q.cy+Q.y01),T<I?o.arc(Q.cx,Q.cy,T,fa(Q.y01,Q.x01),fa(K.y01,K.x01),!g):(o.arc(Q.cx,Q.cy,T,fa(Q.y01,Q.x01),fa(Q.y11,Q.x11),!g),o.arc(0,0,d,fa(Q.cy+Q.y11,Q.cx+Q.x11),fa(K.cy+K.y11,K.cx+K.x11),!g),o.arc(K.cx,K.cy,T,fa(K.y11,K.x11),fa(K.y01,K.x01),!g))):(o.moveTo(ee,ue),o.arc(0,0,d,y,v,!g)):o.moveTo(ee,ue),!(A>Ya)||!(F>Ya)?o.lineTo(G,q):R>Ya?(Q=ub(G,q,ge,ne,A,-R,g),K=ub(ee,ue,ye,qe,A,-R,g),o.lineTo(Q.cx+Q.x01,Q.cy+Q.y01),R<I?o.arc(Q.cx,Q.cy,R,fa(Q.y01,Q.x01),fa(K.y01,K.x01),!g):(o.arc(Q.cx,Q.cy,R,fa(Q.y01,Q.x01),fa(Q.y11,Q.x11),!g),o.arc(0,0,A,fa(Q.cy+Q.y11,Q.cx+Q.x11),fa(K.cy+K.y11,K.cx+K.x11),g),o.arc(K.cx,K.cy,R,fa(K.y11,K.x11),fa(K.y01,K.x01),!g))):o.arc(0,0,A,S,_,g)}if(o.closePath(),h)return o=null,h+""||null}return u.centroid=function(){var h=(+s.apply(this,arguments)+ +t.apply(this,arguments))/2,c=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-SA/2;return[Bh(c)*h,Eo(c)*h]},u.innerRadius=function(h){return arguments.length?(s=typeof h=="function"?h:cr(+h),u):s},u.outerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:cr(+h),u):t},u.cornerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:cr(+h),u):e},u.padRadius=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:cr(+h),u):i},u.startAngle=function(h){return arguments.length?(r=typeof h=="function"?h:cr(+h),u):r},u.endAngle=function(h){return arguments.length?(a=typeof h=="function"?h:cr(+h),u):a},u.padAngle=function(h){return arguments.length?(n=typeof h=="function"?h:cr(+h),u):n},u.context=function(h){return arguments.length?(o=h??null,u):o},u}var kre=Array.prototype.slice;function hb(s){return typeof s=="object"&&"length"in s?s:Array.from(s)}function e1(s){this._context=s}e1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2;default:this._context.lineTo(s,t);break}}};function Kc(s){return new e1(s)}function cb(s){return s[0]}function db(s){return s[1]}function im(s,t){var e=cr(!0),i=null,r=Kc,a=null,n=BA(o);s=typeof s=="function"?s:s===void 0?cb:cr(s),t=typeof t=="function"?t:t===void 0?db:cr(t);function o(l){var u,h=(l=hb(l)).length,c,A=!1,d;for(i==null&&(a=r(d=n())),u=0;u<=h;++u)!(u<h&&e(c=l[u],u,l))===A&&((A=!A)?a.lineStart():a.lineEnd()),A&&a.point(+s(c,u,l),+t(c,u,l));if(d)return a=null,d+""||null}return o.x=function(l){return arguments.length?(s=typeof l=="function"?l:cr(+l),o):s},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:cr(+l),o):t},o.defined=function(l){return arguments.length?(e=typeof l=="function"?l:cr(!!l),o):e},o.curve=function(l){return arguments.length?(r=l,i!=null&&(a=r(i)),o):r},o.context=function(l){return arguments.length?(l==null?i=a=null:a=r(i=l),o):i},o}function PC(s,t,e){var i=null,r=cr(!0),a=null,n=Kc,o=null,l=BA(u);s=typeof s=="function"?s:s===void 0?cb:cr(+s),t=typeof t=="function"?t:t===void 0?cr(0):cr(+t),e=typeof e=="function"?e:e===void 0?db:cr(+e);function u(c){var A,d,f,p=(c=hb(c)).length,m,g=!1,y,v=new Array(p),_=new Array(p);for(a==null&&(o=n(y=l())),A=0;A<=p;++A){if(!(A<p&&r(m=c[A],A,c))===g)if(g=!g)d=A,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),f=A-1;f>=d;--f)o.point(v[f],_[f]);o.lineEnd(),o.areaEnd()}g&&(v[A]=+s(m,A,c),_[A]=+t(m,A,c),o.point(i?+i(m,A,c):v[A],e?+e(m,A,c):_[A]))}if(y)return o=null,y+""||null}function h(){return im().defined(r).curve(n).context(a)}return u.x=function(c){return arguments.length?(s=typeof c=="function"?c:cr(+c),i=null,u):s},u.x0=function(c){return arguments.length?(s=typeof c=="function"?c:cr(+c),u):s},u.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:cr(+c),u):i},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:cr(+c),e=null,u):t},u.y0=function(c){return arguments.length?(t=typeof c=="function"?c:cr(+c),u):t},u.y1=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:cr(+c),u):e},u.lineX0=u.lineY0=function(){return h().x(s).y(t)},u.lineY1=function(){return h().x(s).y(e)},u.lineX1=function(){return h().x(i).y(t)},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:cr(!!c),u):r},u.curve=function(c){return arguments.length?(n=c,a!=null&&(o=n(a)),u):n},u.context=function(c){return arguments.length?(c==null?a=o=null:o=n(a=c),u):a},u}var Ab=class{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}};function TC(s){return new Ab(s,!0)}function DC(s){return new Ab(s,!1)}function OC(){}function t1(s,t,e){s._context.bezierCurveTo(s._x1+s._k*(s._x2-s._x0),s._y1+s._k*(s._y2-s._y0),s._x2+s._k*(s._x1-t),s._y2+s._k*(s._y1-e),s._x2,s._y2)}function i1(s,t){this._context=s,this._k=(1-t)/6}i1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:t1(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2,this._x1=s,this._y1=t;break;case 2:this._point=3;default:t1(this,s,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=s,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var LC=function s(t){function e(i){return new i1(i,t)}return e.tension=function(i){return s(+i)},e}(0);function r1(s){this._context=s}r1.prototype={areaStart:OC,areaEnd:OC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(s,t){s=+s,t=+t,this._point?this._context.lineTo(s,t):(this._point=1,this._context.moveTo(s,t))}};function IC(s){return new r1(s)}function s1(s,t){this._context=s,this._t=t}s1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(s,t){switch(s=+s,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(s,t):this._context.moveTo(s,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(s,t);else{var e=this._x*(1-this._t)+s*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=s,this._y=t}};function $C(s){return new s1(s,1)}var pa=class extends St{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:Ro()})}_getTooltipPoint(){let t=this.get("tooltipX"),e=this.get("tooltipY"),i=0,r=0;ie(t)&&(i=t),ie(e)&&(r=e);let a=this.get("radius",0),n=this.get("innerRadius",0),o=this.get("dRadius",0),l=this.get("dInnerRadius",0);return a+=o,n+=l,n<0&&(n=a+n),t instanceof wt&&(i=this.ix*(n+(a-n)*t.value)),e instanceof wt&&(r=this.iy*(n+(a-n)*e.value)),this.get("arc")>=360&&n==0&&(i=0,r=0),{x:i,y:r}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let t=this.get("startAngle",0),e=this.get("arc",0),i=this._generator;e<0&&(t=t+e,e=e*-1),e>.1&&i.cornerRadius(this.get("cornerRadius",0)),i.context(this._display);let r=this.get("radius",0),a=this.get("innerRadius",0),n=this.get("dRadius",0),o=this.get("dInnerRadius",0);r+=n,a+=o,a<0&&(a=r+a),i({innerRadius:a,outerRadius:r,startAngle:(t+90)*Er,endAngle:(t+e+90)*Er});let l=t+e/2;this.ix=Qi(l),this.iy=Ii(l);let u=this.get("shiftRadius",0);this.setRaw("dx",this.ix*u),this.setRaw("dy",this.iy*u),this.markDirtyPosition()}}};Object.defineProperty(pa,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"});Object.defineProperty(pa,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:St.classNames.concat([pa.className])});var Fh=class extends Ke{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ke.new(this._root,{width:Be,height:Be,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ke.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:Be,height:Be})})}};Object.defineProperty(Fh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(Fh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([Fh.className])});var Hs=class extends Fh{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ke.new(this._root,{width:Be,height:Be,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new bh})}_afterNew(){super._afterNew(),this._disposers.push(this.series);let t=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(e=>{if(e.type==="clear"){te(e.oldValues,a=>{this._removeSeries(a)});let i=this.get("colors");i&&i.reset();let r=this.get("patterns");r&&r.reset()}else if(e.type==="push")t.moveValue(e.newValue),this._processSeries(e.newValue);else if(e.type==="setIndex")t.setIndex(e.index,e.newValue),this._processSeries(e.newValue);else if(e.type==="insertIndex")t.insertIndex(e.index,e.newValue),this._processSeries(e.newValue);else if(e.type==="removeIndex")this._removeSeries(e.oldValue);else if(e.type==="moveIndex")t.moveValue(e.value,e.newIndex),this._processSeries(e.value);else if(e.type==="swap"){let i=e.a,r=e.b,a=this.series.indexOf(i),n=this.series.indexOf(r);t.moveValue(i,n),t.moveValue(r,a),this.series.each(o=>{this._processSeries(o),o.markDirtyValues()})}else throw new Error("Unknown IListEvent type")}))}_processSeries(t){t.chart=this,t._placeBulletsContainer(this)}_removeSeries(t){t._handleRemoved(),t.isDisposed()||(this.seriesContainer.children.removeValue(t),t._removeBulletsContainer())}};Object.defineProperty(Hs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(Hs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Fh.classNames.concat([Hs.className])});var Bl=class extends Sh{};Object.defineProperty(Bl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty(Bl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Sh.classNames.concat([Bl.className])});var wu=class extends mn{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();let t=this.get("width",100),e=this.get("height",100),i=this.get("gap",0),r=this.get("strokeWidth",1);if(!i)this._display.moveTo(0,0),this._display.lineTo(t,0);else{let o=i+r,l=e/o;for(let u=-l;u<l*2;u++){let h=Math.round(u*o-o/2)+.5;this._display.moveTo(-t,h),this._display.lineTo(t*2,h)}}this._display.lineStyle(r,this.get("color"),this.get("colorOpacity"));let a=this.get("strokeDasharray");ie(a)&&(a<.5?a=[0]:a=[a]),this._display.setLineDash(a);let n=this.get("strokeDashoffset");n&&this._display.setLineDashOffset(n),this._display.endStroke()}};Object.defineProperty(wu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LinePattern"});Object.defineProperty(wu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mn.classNames.concat([wu.className])});var Ph=class extends mn{_beforeChanged(){super._beforeChanged(),this.isDirty("gap")&&(this._clear=!0)}_draw(){super._draw();let t=this.get("checkered",!1),e=this.get("centered",!0),i=this.get("gap",0),r=this.get("rotation",0),a=this.get("width",100),n=this.get("height",100),o=this.get("maxWidth",5),l=this.get("maxHeight",5),u=this._display,h=o+i,c=l+i,A=Math.round(a/h),d=Math.round(n/c);h=a/A,c=n/d,r!=0&&(u.x=h/2*Qi(r),u.y=-c/2*Ii(r));for(let m=r==0?0:-d*2;m<d*2;m++)for(let g=r==0?0:-A*2;g<A*2;g++)if(!t||(m&1)!=1&&(g&1)!=1||(m&1)==1&&(g&1)==1){let y=g*h,v=m*c;e&&(y+=(h-o)/2,v+=(c-l)/2),u.drawRect(y,v,o,l)}t?(a=a/2-i*2,n=n/2-i*2):(a-=i,n-=i);let f=this.get("color"),p=this.get("colorOpacity");(f||p)&&(u.beginFill(f,p),u.endFill())}};Object.defineProperty(Ph,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RectanglePattern"});Object.defineProperty(Ph,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mn.classNames.concat([Ph.className])});var Fl=class extends xi{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);let t=this.getPrivate("currentPass"),e=this.get("colors",[this.get("baseColor",Ct.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",e.length);let i=this.getPrivate("numColors"),r=0,a=this.get("passOptions"),n=this.get("reuse");for(let o=r;o<i;o++)if(n)e.push(e[o]);else{let l=e[o].toHSL(),u=l.h+(a.hue||0)*t;for(;u>1;)u-=1;let h=l.s+(a.saturation||0)*t;h>1&&(h=1),h<0&&(h=0);let c=l.l+(a.lightness||0)*t;for(;c>1;)c-=1;e.push(Ct.fromHSL(u,h,c))}}getIndex(t){let e=this.get("colors",[]),i=this.get("saturation");return t>=e.length?(this.generateColors(),this.getIndex(t)):i!=null?Ct.saturate(e[t],i):e[t]}next(){let t=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",t+this.get("step",1)),this.getIndex(t)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}};Object.defineProperty(Fl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(Fl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xi.classNames.concat([Fl.className])});var fb=class extends yn{setupDefaultRules(){super.setupDefaultRules();let t=this._root.interfaceColors,e=this.rule.bind(this);e("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:Fl.new(this._root,{}),width:Be,height:Be}),e("PieChart").setAll({radius:ii(80),startAngle:-90,endAngle:270}),e("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),e("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),e("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),e("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),e("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),e("Slice",["pie"]).states.create("hover",{scale:1.04}),e("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),e("Tick",["pie"]).setAll({location:1}),e("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),e("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),e("FunnelSlice").setAll({interactive:!0,expandDistance:0}),e("FunnelSlice").states.create("hover",{expandDistance:.15}),e("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:Ye}),e("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:Ye,rotation:-90}),e("Label",["funnel","vertical"]).setAll({centerY:Ye,centerX:0}),e("Tick",["funnel"]).setAll({location:1}),e("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),e("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),e("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),e("PyramidSeries").setAll({valueIs:"area"}),e("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),e("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),e("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),e("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),e("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),e("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:Ye}),e("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:Ye,rotation:-90}),e("Label",["pyramid","vertical"]).setAll({centerY:Ye,centerX:0}),e("Tick",["pyramid"]).setAll({location:1}),e("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),e("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:Ye}),e("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:Ye,rotation:-90}),e("Label",["pictorial","vertical"]).setAll({centerY:Ye,centerX:0}),e("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),e("Tick",["pictorial"]).setAll({location:.5});{let i=e("Graphics",["pictorial","background"]);i.setAll({fillOpacity:.2}),gt(i,"fill",t,"alternativeBackground")}}};var Th=class extends Hs{_afterNew(){this._defaultThemes.push(fb.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(t){super._processSeries(t),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}};Object.defineProperty(Th,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"});Object.defineProperty(Th,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hs.classNames.concat([Th.className])});var Dh=class extends Qs{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ke.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ke.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ke.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeSlices())}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeLabels())}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeTicks())})}makeSlice(t){let e=this.slicesContainer.children.push(this.slices.make());return e.on("fill",()=>{this.updateLegendMarker(t)}),e.on("fillPattern",()=>{this.updateLegendMarker(t)}),e.on("stroke",()=>{this.updateLegendMarker(t)}),e._setDataItem(t),t.set("slice",e),this.slices.push(e),e}makeLabel(t){let e=this.labelsContainer.children.push(this.labels.make());return e._setDataItem(t),t.set("label",e),this.labels.push(e),e}_shouldMakeBullet(t){return t.get("value")!=null}makeTick(t){let e=this.ticksContainer.children.push(this.ticks.make());return e._setDataItem(t),t.set("tick",e),this.ticks.push(e),e}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){let t=this.get("colors");t&&t.reset();let e=this.get("patterns");e&&e.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let t=0,e=0,i=0,r=1/0,a=0;te(this._dataItems,n=>{let o=n.get("valueWorking",0);t+=o,e+=Math.abs(o)}),te(this._dataItems,n=>{let o=n.get("valueWorking",0);o>i&&(i=o),o<r&&(r=o),a++;let l=o/e;e==0&&(l=0),n.setRaw("valuePercentTotal",l*100)}),this.setPrivateRaw("valueLow",r),this.setPrivateRaw("valueHigh",i),this.setPrivateRaw("valueSum",t),this.setPrivateRaw("valueAverage",t/a),this.setPrivateRaw("valueAbsoluteSum",e)}}show(t){let e=Object.create(null,{show:{get:()=>super.show}});return Xe(this,void 0,void 0,function*(){let i=[];i.push(e.show.call(this,t)),i.push(this._sequencedShowHide(!0,t)),yield Promise.all(i)})}hide(t){let e=Object.create(null,{hide:{get:()=>super.hide}});return Xe(this,void 0,void 0,function*(){let i=[];i.push(e.hide.call(this,t)),i.push(this._sequencedShowHide(!1,t)),yield Promise.all(i)})}_updateChildren(){super._updateChildren(),this._valuesDirty&&te(this._dataItems,t=>{t.get("label").text.markDirtyText()}),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&te(this._dataItems,t=>{this.updateLegendValue(t)}),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),te(this.dataItems,t=>{this._updateTick(t)})}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(t){if(super.processDataItem(t),t.get("fill")==null){let e=this.get("colors");e&&t.setRaw("fill",e.next())}if(t.get("fillPattern")==null){let e=this.get("patterns");e&&t.setRaw("fillPattern",e.next())}}showDataItem(t,e){let i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Xe(this,void 0,void 0,function*(){let r=[i.showDataItem.call(this,t,e)];ie(e)||(e=this.get("stateAnimationDuration",0));let a=this.get("stateAnimationEasing"),n=t.get("value"),o=t.animate({key:"valueWorking",to:n,duration:e,easing:a});o&&r.push(o.waitForStop());let l=t.get("tick");l&&r.push(l.show(e));let u=t.get("label");u&&r.push(u.show(e));let h=t.get("slice");h&&r.push(h.show(e)),h.get("active")&&h.states.applyAnimate("active"),yield Promise.all(r)})}hideDataItem(t,e){let i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Xe(this,void 0,void 0,function*(){let r=[i.hideDataItem.call(this,t,e)],a=this.states.create("hidden",{});ie(e)||(e=a.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));let n=a.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=t.animate({key:"valueWorking",to:0,duration:e,easing:n});o&&r.push(o.waitForStop());let l=t.get("tick");l&&r.push(l.hide(e));let u=t.get("label");u&&r.push(u.hide(e));let h=t.get("slice");h.hideTooltip(),h&&r.push(h.hide(e)),yield Promise.all(r)})}disposeDataItem(t){super.disposeDataItem(t);let e=t.get("label");e&&(this.labels.removeValue(e),e.dispose());let i=t.get("tick");i&&(this.ticks.removeValue(i),i.dispose());let r=t.get("slice");r&&(this.slices.removeValue(r),r.dispose())}hoverDataItem(t){let e=t.get("slice");e&&!e.isHidden()&&e.hover()}unhoverDataItem(t){let e=t.get("slice");e&&e.unhover()}updateLegendMarker(t){if(t){let e=t.get("slice");if(e){let i=t.get("legendDataItem");if(i){let r=i.get("markerRectangle");te(Yp,a=>{e.get(a)!=null&&r.set(a,e.get(a))})}}}}_arrangeDown(t){if(t){let e=this._getNextDown();t.sort((i,r)=>i.y>r.y?1:i.y<r.y?-1:0),te(t,i=>{let r=i.label.adjustedLocalBounds(),a=r.top;i.y+a<e&&(i.y=e-a),i.label.set("y",i.y),e=i.y+r.bottom})}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(t){if(t){let e=this._getNextUp();t.sort((i,r)=>i.y<r.y?1:i.y>r.y?-1:0),te(t,i=>{let r=i.label.adjustedLocalBounds(),a=r.bottom;i.y+a>e&&(i.y=e-a),i.label.set("y",i.y),e=i.y+r.top})}}_arrangeRight(t){if(t){let e=0;t.sort((i,r)=>i.y>r.y?1:i.y<r.y?-1:0),te(t,i=>{let r=i.label.adjustedLocalBounds(),a=r.left;i.y+a<e&&(i.y=e-a),i.label.set("x",i.y),e=i.y+r.right})}}_arrangeLeft(t){if(t){let e=this.labelsContainer.maxWidth();t.sort((i,r)=>i.y<r.y?1:i.y>r.y?-1:0),te(t,i=>{let r=i.label.adjustedLocalBounds(),a=r.right;i.y+a>e&&(i.y=e-a),i.label.set("x",i.y),e=i.y+r.left})}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(t){}_dispose(){super._dispose();let t=this.chart;t&&t.series.removeValue(this)}};Object.defineProperty(Dh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"});Object.defineProperty(Dh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qs.classNames.concat([Dh.className])});var bn=class extends Th{constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:Ye,y:Ye})}_prepareChildren(){super._prepareChildren();let t=this.chartContainer,e=t.innerWidth(),i=t.innerHeight(),r=this.get("startAngle",0),a=this.get("endAngle",0),n=this.get("innerRadius"),o=vh(0,0,r,a,1),l=e/(o.right-o.left),u=i/(o.bottom-o.top),h={left:0,right:0,top:0,bottom:0};if(n instanceof wt){let d=n.value,f=Math.min(l,u);d=Math.max(f*d,f-Math.min(i,e))/f,h=vh(0,0,r,a,d),this.setPrivateRaw("irModifyer",d/n.value)}o=jy([o,h]);let c=this._maxRadius;this._maxRadius=Math.min(l,u);let A=Xt(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-A*(o.bottom+o.top)/2,dx:-A*(o.right+o.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||c!=this._maxRadius)&&this.series.each(d=>{d._markDirtyKey("startAngle")}),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each(d=>{d._markDirtyKey("innerRadius")})}radius(t){let e=Xt(this.get("radius",0),this._maxRadius),i=Xt(this.get("innerRadius",0),e);if(t){let r=this.series.indexOf(t),a=this.series.length,n=t.get("radius");return n!=null?i+Xt(n,e-i):i+(e-i)/a*(r+1)}return e}innerRadius(t){let e=this.radius(),i=Xt(this.get("innerRadius",0),e);if(i<0&&(i=e+i),t){let r=this.series.indexOf(t),a=this.series.length,n=t.get("innerRadius");return n!=null?i+Xt(n,e-i):i+(e-i)/a*r}return i}_updateSize(){super._updateSize(),this.markDirtyKey("radius")}};Object.defineProperty(bn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"});Object.defineProperty(bn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Th.classNames.concat([bn.className])});var gs=class extends Dh{_makeSlices(){return new Xi(Ut.new({}),()=>pa._new(this._root,{themeTags:yt(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template]))}_makeLabels(){return new Xi(Ut.new({}),()=>_l._new(this._root,{themeTags:yt(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template]))}_makeTicks(){return new Xi(Ut.new({}),()=>Bl._new(this._root,{themeTags:yt(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template]))}processDataItem(t){super.processDataItem(t);let e=this.makeSlice(t);e.on("scale",()=>{this._updateTick(t)}),e.on("shiftRadius",()=>{this._updateTick(t)}),e.events.on("positionchanged",()=>{this._updateTick(t)});let i=this.makeLabel(t);i.events.on("positionchanged",()=>{this._updateTick(t)}),this.makeTick(t),e.events.on("positionchanged",()=>{i.markDirty()})}_getNextUp(){let t=this.chart;return t?t._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){let t=this.chart;return t?-t._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();let t=this.chart;if(t){if(this.isDirty("alignLabels")){let e=this.labels.template;if(this.get("alignLabels"))e.set("textType","aligned");else{let i=e.get("textType");(i==null||i=="aligned")&&e.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();let e=this.get("startAngle",t.get("startAngle",-90)),r=this.get("endAngle",t.get("endAngle",270))-e,a=e,n=t.radius(this);this.setPrivateRaw("radius",n);let o=t.innerRadius(this)*t.getPrivate("irModifyer",1);o<0&&(o=n+o),te(this._dataItems,l=>{this.updateLegendValue(l);let u=r*l.get("valuePercentTotal")/100,h=l.get("slice");if(h){h.set("radius",n),h.set("innerRadius",o),h.set("startAngle",a),h.set("arc",u);let d=l.get("fill");h._setDefault("fill",d),h._setDefault("stroke",d);let f=l.get("fillPattern");h._setDefault("fillPattern",f)}let c=Pa(a+u/2),A=l.get("label");if(A&&(A.setPrivate("radius",n),A.setPrivate("innerRadius",o),A.set("labelAngle",c),A.get("textType")=="aligned")){let d=n+A.get("radius",0),f=n*Ii(c);c>90&&c<=270?(!A.isHidden()&&!A.isHiding()&&this._lLabels.push({label:A,y:f}),d*=-1,d-=this.labelsContainer.get("paddingLeft",0),A.set("centerX",Be),A.setPrivateRaw("left",!0)):(!A.isHidden()&&!A.isHiding()&&this._rLabels.push({label:A,y:f}),d+=this.labelsContainer.get("paddingRight",0),A.set("centerX",0),A.setPrivateRaw("left",!1)),A.set("x",d),A.set("y",n*Ii(c))}a+=u,this._updateTick(l)})}}}_updateTick(t){let e=t.get("tick"),i=t.get("label"),r=t.get("slice"),a=e.get("location",1);if(e&&i&&r){let n=(r.get("shiftRadius",0)+r.get("radius",0))*r.get("scale",1)*a,o=i.get("labelAngle",0),l=Qi(o),u=Ii(o),h=this.labelsContainer,c=h.get("paddingLeft",0),A=h.get("paddingRight",0),d=0,f=0;d=i.x(),f=i.y();let p=[];if(d!=0||f!=0){if(i.get("textType")=="circular"){let g=i.radius()-i.get("paddingBottom",0),y=i.get("labelAngle",0);d=g*Qi(y),f=g*Ii(y)}let m=-A;i.getPrivate("left")&&(m=c),p=[{x:r.x()+n*l,y:r.y()+n*u},{x:d+m,y:f},{x:d,y:f}]}e.set("points",p)}}_positionBullet(t){let e=t.get("sprite");if(e){let r=e.dataItem.get("slice");if(r){let a=r.get("innerRadius",0),n=r.get("radius",0),o=r.get("startAngle",0),l=r.get("arc",0),u=t.get("locationX",.5),h=t.get("locationY",.5),c=o+l*u,A=a+(n-a)*h;e.setAll({x:Qi(c)*A,y:Ii(c)*A})}}}};Object.defineProperty(gs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"});Object.defineProperty(gs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Dh.classNames.concat([gs.className])});var qc=class extends Bl{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};Object.defineProperty(qc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"});Object.defineProperty(qc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Bl.classNames.concat([qc.className])});var Pl=class extends St{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}};Object.defineProperty(Pl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"});Object.defineProperty(Pl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:St.classNames.concat([Pl.className])});var Zc=class extends hr{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};Object.defineProperty(Zc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"});Object.defineProperty(Zc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hr.classNames.concat([Zc.className])});var ma=class extends St{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>qc._new(this._root,{themeTags:yt(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template])))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>Pl._new(this._root,{themeTags:yt(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>St._new(this._root,{themeTags:yt(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>Zc._new(this._root,{themeTags:yt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(t,e){let i=this.ticks.make();return i._setDataItem(t),t.setRaw("tick",i),i.set("themeTags",yt(i.get("themeTags"),e)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(t,e){let i=this.grid.make();return i._setDataItem(t),t.setRaw("grid",i),i.set("themeTags",yt(i.get("themeTags"),e)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(t,e){let i=this.axisFills.make();return i._setDataItem(t),i.set("themeTags",yt(i.get("themeTags"),e)),this.axis.gridContainer.children.push(i),t.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(t,e){let i=this.labels.make();return i.set("themeTags",yt(i.get("themeTags"),e)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(t),t.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);let t=this.thumb;t&&(this._disposers.push(t.events.on("pointerdown",e=>{this._handleThumbDown(e)})),this._disposers.push(t.events.on("globalpointerup",e=>{this._handleThumbUp(e)})),this._disposers.push(t.events.on("globalpointermove",e=>{this._handleThumbMove(e)})))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",()=>{this.axis.markDirtySize()})}_changed(){if(super._changed(),this.isDirty("pan")){let t=this.thumb;if(t){let e=this.axis.labelsContainer,i=this.get("pan");i=="zoom"?e.children.push(t):i=="none"&&e.children.removeValue(t)}}}_handleThumbDown(t){this._thumbDownPoint=this.toLocal(t.point);let e=this.axis;this._downStart=e.get("start"),this._downEnd=e.get("end")}_handleThumbUp(t){this._thumbDownPoint=void 0}_handleThumbMove(t){let e=this._thumbDownPoint;if(e){let i=this.toLocal(t.point),r=this._downStart,a=this._downEnd,n=this._getPan(i,e)*Math.min(1,a-r)/2*this.get("panSensitivity",1);this.axis.zoom(r-n,a+n,0)}}_getPan(t,e){return 0}positionToCoordinate(t){return this._inversed?(this._end-t)*this._axisLength:(t-this._start)*this._axisLength}updateTooltipBounds(t){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(t){let e=this._start||0,i=this._end||1;return t=t*(i-e),this.get("inversed")?t=i-t:t=e+t,t}toGlobalPosition(t){let e=this._start||0,i=this._end||1;return this.get("inversed")?t=i-t:t=t-e,t=t/(i-e),t}fixPosition(t){return this.get("inversed")?1-t:t}_updateLC(){}toggleVisibility(t,e,i,r){let a=this.axis,n=a.get("start",0),o=a.get("end",1),l=n+(o-n)*(i-1e-4),u=n+(o-n)*(r+1e-4);e<l||e>u?t.setPrivate("visible",!1):t.setPrivate("visible",!0)}_positionTooltip(t,e){let i=this.chart;i&&(t.set("pointTo",this._display.toGlobal(e)),i.inPlot(e)||t.hide())}processAxis(){}};Object.defineProperty(ma,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"});Object.defineProperty(ma,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:St.classNames.concat([ma.className])});var Cu=class extends _l{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}};Object.defineProperty(Cu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabelRadial"});Object.defineProperty(Cu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_l.classNames.concat([Cu.className])});var ga=class extends ma{constructor(){super(...arguments),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>Cu._new(this._root,{themeTags:yt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>pa._new(this._root,{themeTags:yt(this.axisFills.template.get("themeTags",["fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Ro()})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["renderer","circular"]),super._afterNew(),this.setPrivateRaw("letter","X"),this.setRaw("position","absolute")}_changed(){super._changed(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle"))&&this.updateLayout()}processAxis(){super.processAxis(),this.axis.labelsContainer.set("isMeasured",!1)}updateLayout(){let t=this.chart;if(t){let e=t.getPrivate("radius",0),i=Xt(this.get("radius",Be),e);i<0&&(i=e+i),this.setPrivate("radius",i);let r=Xt(this.get("innerRadius",t.getPrivate("innerRadius",0)),e)*t.getPrivate("irModifyer",1);r<0&&(r=i+r),this.setPrivate("innerRadius",r);let a=this.get("startAngle",t.get("startAngle",-90)),n=this.get("endAngle",t.get("endAngle",270));this.setPrivate("startAngle",a),this.setPrivate("endAngle",n),this.set("draw",o=>{let l=this.positionToPoint(0);o.moveTo(l.x,l.y),a>n&&([a,n]=[n,a]),o.arc(0,0,i,a*Er,n*Er)}),this.axis.markDirtySize()}}updateGrid(t,e,i){if(t){e==null&&(e=0);let r=t.get("location",.5);i!=null&&i!=e&&(e=e+(i-e)*r);let a=this.getPrivate("radius",0),n=this.getPrivate("innerRadius",0),o=this.positionToAngle(e);this.toggleVisibility(t,e,0,1),a!=null&&t.set("draw",l=>{l.moveTo(n*Qi(o),n*Ii(o)),l.lineTo(a*Qi(o),a*Ii(o))})}}positionToAngle(t){let e=this.axis,i=this.getPrivate("startAngle",0),r=this.getPrivate("endAngle",360),a=e.get("start",0),n=e.get("end",1),o=(r-i)/(n-a),l;return this.get("inversed")?l=i+(n-t)*o:l=i+(t-a)*o,l}_handleOpposite(){}positionToPoint(t){let e=this.getPrivate("radius",0),i=this.positionToAngle(t);return{x:e*Qi(i),y:e*Ii(i)}}updateLabel(t,e,i,r){if(t){e==null&&(e=0);let a=.5;r!=null&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),i!=null&&i!=e&&(e=e+(i-e)*a);let n=this.getPrivate("radius",0),o=this.getPrivate("innerRadius",0),l=this.positionToAngle(e);t.setPrivate("radius",n),t.setPrivate("innerRadius",o),t.set("labelAngle",l),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}fillDrawMethod(t,e,i){t.set("draw",r=>{e==null&&(e=this.getPrivate("startAngle",0)),i==null&&(i=this.getPrivate("endAngle",0));let a=this.getPrivate("innerRadius",0),n=this.getPrivate("radius",0);this._fillGenerator.context(r),this._fillGenerator({innerRadius:a,outerRadius:n,startAngle:(e+90)*Er,endAngle:(i+90)*Er})})}updateTick(t,e,i,r){if(t){e==null&&(e=0);let a=.5;r!=null&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),i!=null&&i!=e&&(e=e+(i-e)*a);let n=t.get("length",0);t.get("inside")&&(n*=-1);let l=this.getPrivate("radius",0),u=this.positionToAngle(e);this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1)),l!=null&&t.set("draw",h=>{h.moveTo(l*Qi(u),l*Ii(u)),l+=n,h.lineTo(l*Qi(u),l*Ii(u))})}}updateBullet(t,e,i){if(t){let r=t.get("sprite");if(r){e==null&&(e=0);let a=t.get("location",.5);i!=null&&i!=e&&(e=e+(i-e)*a);let n=this.getPrivate("radius",0),o=this.positionToAngle(e);this.toggleVisibility(r,e,0,1),r.setAll({rotation:o,x:n*Qi(o),y:n*Ii(o)})}}}updateFill(t,e,i){if(t){e==null&&(e=0),i==null&&(i=1);let r=this.fitAngle(this.positionToAngle(e)),a=this.fitAngle(this.positionToAngle(i));t.setAll({startAngle:r,arc:a-r}),t._setSoft("innerRadius",this.getPrivate("innerRadius")),t._setSoft("radius",this.getPrivate("radius"))}}fitAngle(t){let e=this.getPrivate("startAngle",0),i=this.getPrivate("endAngle",0),r=Math.min(e,i),a=Math.max(e,i);return t<r&&(t=r),t>a&&(t=a),t}axisLength(){return Math.abs(this.getPrivate("radius",0)*Math.PI*2*(this.getPrivate("endAngle",360)-this.getPrivate("startAngle",0))/360)}positionTooltip(t,e){let i=this.getPrivate("radius",0),r=this.positionToAngle(e);this._positionTooltip(t,{x:i*Qi(r),y:i*Ii(r)})}updateTooltipBounds(t){}};Object.defineProperty(ga,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererCircular"});Object.defineProperty(ga,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ma.classNames.concat([ga.className])});var Oh=class extends ma{constructor(){super(...arguments),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Ro()}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>Cu._new(this._root,{themeTags:yt(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["renderer","radial"]),super._afterNew(),this.setPrivate("letter","Y"),this.setRaw("position","absolute")}_changed(){super._changed(),(this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle"))&&this.updateLayout()}processAxis(){super.processAxis()}updateLayout(){let t=this.chart;if(t){let e=t.getPrivate("radius",0),i=Xt(this.get("radius",Be),e),r=Xt(this.get("innerRadius",t.getPrivate("innerRadius",0)),e)*t.getPrivate("irModifyer",1);r<0&&(r=i+r),this.setPrivate("radius",i),this.setPrivate("innerRadius",r);let a=this.get("startAngle",t.get("startAngle",-90)),n=this.get("endAngle",t.get("endAngle",270));this.setPrivate("startAngle",a),this.setPrivate("endAngle",n);let o=this.get("axisAngle",0);this.set("draw",l=>{l.moveTo(r*Qi(o),r*Ii(o)),l.lineTo(i*Qi(o),i*Ii(o))}),this.axis.markDirtySize()}}updateGrid(t,e,i){if(t){ie(e)||(e=0);let r=t.get("location",.5);ie(i)&&i!=e&&(e=e+(i-e)*r);let a=this.positionToCoordinate(e)+this.getPrivate("innerRadius",0);this.toggleVisibility(t,e,0,1),ie(a)&&t.set("draw",n=>{let o=this.getPrivate("startAngle",0)*Er,l=this.getPrivate("endAngle",0)*Er;n.arc(0,0,Math.max(0,a),Math.min(o,l),Math.max(o,l))})}}_handleOpposite(){}positionToPoint(t){let e=this.getPrivate("innerRadius",0),i=this.positionToCoordinate(t)+e,r=this.get("axisAngle",0);return{x:i*Qi(r),y:i*Ii(r)}}updateLabel(t,e,i,r){if(t){ie(e)||(e=0);let a=.5;ie(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ie(i)&&i!=e&&(e=e+(i-e)*a);let n=this.positionToPoint(e),o=Math.hypot(n.x,n.y);t.setPrivate("radius",o),t.setPrivate("innerRadius",o),t.set("labelAngle",this.get("axisAngle")),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}fillDrawMethod(t,e,i){t.set("draw",r=>{e=Math.max(0,e),i=Math.max(0,i),this._fillGenerator.context(r);let a=(this.getPrivate("startAngle",0)+90)*Er,n=(this.getPrivate("endAngle",0)+90)*Er;n<a&&([a,n]=[n,a]),this._fillGenerator({innerRadius:e,outerRadius:i,startAngle:a,endAngle:n})})}updateTick(t,e,i,r){if(t){ie(e)||(e=0);let a=.5;ie(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ie(i)&&i!=e&&(e=e+(i-e)*a);let n=this.positionToPoint(e);t.set("x",n.x),t.set("y",n.y);let o=t.get("length",0);t.get("inside")&&(o*=-1);let u=this.get("axisAngle",0)+90;t.set("draw",h=>{h.moveTo(0,0),h.lineTo(o*Qi(u),o*Ii(u))}),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateBullet(t,e,i){if(t){let r=t.get("sprite");if(r){ie(e)||(e=0);let a=t.get("location",.5);ie(i)&&i!=e&&(e=e+(i-e)*a);let n=this.positionToPoint(e);r.setAll({x:n.x,y:n.y}),this.toggleVisibility(r,e,0,1)}}}updateFill(t,e,i){if(t){ie(e)||(e=0),ie(i)||(i=1);let r=this.getPrivate("innerRadius",0),a=this.positionToCoordinate(e)+r,n=this.positionToCoordinate(i)+r;this.fillDrawMethod(t,a,n)}}axisLength(){return this.getPrivate("radius",0)-this.getPrivate("innerRadius",0)}updateTooltipBounds(t){}positionToCoordinate(t){return this._inversed?(t=Math.min(this._end,t),(this._end-t)*this._axisLength):(t=Math.max(this._start,t),(t-this._start)*this._axisLength)}positionTooltip(t,e){let i=this.getPrivate("innerRadius",0)+this.positionToCoordinate(e),r=this.get("axisAngle",0);this._positionTooltip(t,{x:i*Qi(r),y:i*Ii(r)})}};Object.defineProperty(Oh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererRadial"});Object.defineProperty(Oh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ma.classNames.concat([Oh.className])});var Tl=class extends Ke{constructor(){super(...arguments),Object.defineProperty(this,"hand",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(St.new(this._root,{themeTags:["hand"]}))}),Object.defineProperty(this,"pin",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(St.new(this._root,{themeTags:["pin"]}))})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["clock"]),super._afterNew(),this.set("width",ii(1)),this.adapters.add("x",()=>0),this.adapters.add("y",()=>0),this.pin.set("draw",(t,e)=>{let i=e.parent;if(i){let r=i.dataItem;if(r){let a=r.component;if(a){let n=a.chart;if(n){let o=n.getPrivate("radius",0),l=Xt(i.get("pinRadius",0),o);l<0&&(l=o+l),t.moveTo(l,0),t.arc(0,0,l,0,360)}}}}}),this.hand.set("draw",(t,e)=>{let i=e.parent;if(i){let r=i.parent;r&&r.set("width",ii(1));let a=i.dataItem;if(a){let n=a.component;if(n){let o=n.chart;if(o){let l=i.get("bottomWidth",10)/2,u=i.get("topWidth",0)/2,h=o.getPrivate("radius",0),c=Xt(i.get("radius",0),h);c<0&&(c=h+c);let A=i.get("innerRadius",0);A instanceof wt?A=Xt(A,h):A<0&&A<0&&(A=c+A),t.moveTo(A,-l),t.lineTo(c,-u),t.lineTo(c,u),t.lineTo(A,l),t.lineTo(A,-l)}}}}})}_prepareChildren(){super._prepareChildren(),this.hand._markDirtyKey("fill"),this.pin._markDirtyKey("fill")}};Object.defineProperty(Tl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ClockHand"});Object.defineProperty(Tl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([Tl.className])});var pb=class extends yn{setupDefaultRules(){super.setupDefaultRules();let t=this.rule.bind(this),e=this._root.interfaceColors;t("RadarChart").setAll({radius:ii(80),innerRadius:0,startAngle:-90,endAngle:270}),t("RadarColumnSeries").setAll({clustered:!0}),t("Slice",["radar","column","series"]).setAll({width:ii(80),height:ii(80)}),t("RadarLineSeries").setAll({connectEnds:!0}),t("SmoothedRadarLineSeries").setAll({tension:.5}),t("AxisRendererRadial").setAll({minGridDistance:40,axisAngle:-90,inversed:!1,cellStartLocation:0,cellEndLocation:1}),t("AxisRendererCircular").setAll({minGridDistance:100,inversed:!1,cellStartLocation:0,cellEndLocation:1}),t("RadialLabel",["circular"]).setAll({textType:"circular",paddingTop:1,paddingRight:0,paddingBottom:1,paddingLeft:0,centerX:0,centerY:0,radius:8}),t("AxisLabelRadial",["category"]).setAll({text:"{category}",populateText:!0}),t("RadialLabel",["radial"]).setAll({textType:"regular",centerX:0,textAlign:"right"}),t("RadarChart",["gauge"]).setAll({startAngle:180,endAngle:360,innerRadius:ii(90)}),t("ClockHand").setAll({topWidth:1,bottomWidth:10,radius:ii(90),pinRadius:10});{let i=t("Graphics",["clock","hand"]);i.setAll({fillOpacity:1}),gt(i,"fill",e,"alternativeBackground")}{let i=t("Graphics",["clock","pin"]);i.setAll({fillOpacity:1}),gt(i,"fill",e,"alternativeBackground")}}};var mb=class extends yn{setupDefaultRules(){super.setupDefaultRules();let t=this._root.interfaceColors,e=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:Fl.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("Rectangle",["plotbackground","xy","background"]).setAll({fill:Ct.fromHex(0),fillOpacity:0}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:Fl.new(this._root,{saturation:0})});{let l=i("Graphics",["scrollbar","overlay"]);l.setAll({fillOpacity:.5}),gt(l,"fill",t,"background")}i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:Be,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:Be}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:Be}),i("AxisLabel",["y"]).setAll({centerX:Be}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:Be}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{let l=i("Grid",["cursor","x"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:e.translate("Use left and right arrows to move selection")}),gt(l,"stroke",t,"alternativeBackground")}{let l=i("Grid",["cursor","y"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:e.translate("Use up and down arrows to move selection")}),gt(l,"stroke",t,"alternativeBackground")}{let l=i("Graphics",["cursor","selection"]);l.setAll({fillOpacity:.15}),gt(l,"fill",t,"alternativeBackground")}i("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:Ye,centerY:Ye,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});{let l=i("AxisRenderer");l.setAll({crisp:!0,strokeOpacity:0}),gt(l,"stroke",t,"grid")}i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:Be}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:Be});{let l=i("Rectangle",["axis","thumb"]);l.setAll({fillOpacity:0}),gt(l,"fill",t,"alternativeBackground"),l.states.create("hover",{fillOpacity:.1})}i("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{let l=i("Grid");l.setAll({location:0,strokeOpacity:.15,crisp:!0}),gt(l,"stroke",t,"grid")}{let l=i("Grid",["minor"]);l.setAll({location:0,strokeOpacity:.07,crisp:!0}),gt(l,"stroke",t,"grid")}i("Grid",["base"]).setAll({strokeOpacity:.3});{let l=i("Graphics",["axis","fill"]);l.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),gt(l,"fill",t,"alternativeBackground")}i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});{let l=i("AxisTick");l.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),gt(l,"stroke",t,"grid")}i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(l,u)=>{let h=l.get("axisFill");h&&(!ie(u)||u%2==0?h.setPrivate("visible",!0):h.setPrivate("visible",!1))}});let r=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],a={millisecond:e.translate("_date_millisecond"),second:e.translate("_date_second"),minute:e.translate("_date_minute"),hour:e.translate("_date_hour"),day:e.translate("_date_day"),week:e.translate("_date_day"),month:e.translate("_date_month"),year:e.translate("_date_year")},n={millisecond:e.translate("_date_millisecond"),second:e.translate("_date_second"),minute:e.translate("_date_minute"),hour:e.translate("_date_day"),day:e.translate("_date_day"),week:e.translate("_date_day"),month:e.translate("_date_month")+" "+e.translate("_date_year"),year:e.translate("_date_year")},o={millisecond:e.translate("_date_millisecond_full"),second:e.translate("_date_second_full"),minute:e.translate("_date_minute_full"),hour:e.translate("_date_hour_full"),day:e.translate("_date_day_full"),week:e.translate("_date_week_full"),month:e.translate("_date_month_full"),year:e.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:Ep(r),dateFormats:uo(a),periodChangeDateFormats:uo(n)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:Ep(r),dateFormats:uo(a),periodChangeDateFormats:uo(n),tooltipDateFormats:o,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:l=>{let u=l.get("axisFill");if(u){let h=l.component,c=l.get("value"),A=l.get("endValue"),d=h.intervalDuration(),f=h.getPrivate("baseInterval"),p=h.getPrivate("gridInterval",f),m=h.getPrivate("min",0);if(m=_h(new Date(m),p.timeUnit,p.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),c!=null&&A!=null){let g=Math.round(Math.round((c-m)/d))/2;g==Math.round(g)?u.setPrivate("visible",!0):u.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:l=>{let u=l.get("axisFill");if(u){let h=l.get("index"),c=!1;(!ie(h)||h%2==0)&&(c=!0),u.setPrivate("visible",c)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:l=>{let u=l.get("axisFill");if(u){let h=l.component,c=l.get("value"),A=h.getPrivate("step");ie(c)&&ie(A)&&(Rr(c/A/2,5)==Math.round(c/A/2)?u.setPrivate("visible",!1):u.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:ii(70),height:ii(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(l,u)=>{let h=u.parent;if(h){let c=h.height(),A=h.width();l.moveTo(0,c/2),l.lineTo(A,c/2)}}});{let l=i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});gt(l,"stroke",t,"disabled")}i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(l,u)=>{let h=u.parent;if(h){let c=h.height(),A=h.width();l.moveTo(0,0),l.lineTo(A,0),l.lineTo(A,c),l.lineTo(0,c),l.lineTo(0,0)}}});{let l=i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});gt(l,"stroke",t,"disabled")}i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:ii(50),height:ii(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:ii(80),height:ii(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{let l=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});gt(l,"fill",t,"positive"),gt(l,"stroke",t,"positive")}{let l=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});gt(l,"fill",t,"negative"),gt(l,"stroke",t,"negative")}i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{let l=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});gt(l,"fill",t,"positive"),gt(l,"stroke",t,"positive")}{let l=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});gt(l,"fill",t,"negative"),gt(l,"stroke",t,"negative")}i("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{let l=i("Graphics",["rangegrip","button","icon"]);l.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:u=>{u.moveTo(0,.5),u.lineTo(0,12.5),u.moveTo(2,.5),u.lineTo(2,12.5),u.moveTo(4,.5),u.lineTo(4,12.5)}}),gt(l,"stroke",t,"secondaryButtonText")}i("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),i("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:Ye}),i("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:Ye}),i("Button",["rangegrip","vertical","left"]).setAll({centerY:Be}),i("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:Be})}};var di=class extends Hs{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new bh}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new bh}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Ke.new(this._root,{width:Be,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Ke.new(this._root,{width:Be,height:Be,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Ke.new(this._root,{width:Be,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Ke.new(this._root,{height:Be,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Ke.new(this._root,{width:Be,height:Be,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Ke.new(this._root,{width:Be,height:Be}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Ke.new(this._root,{width:Be,height:Be}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Ke.new(this._root,{width:Be,height:Be,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ke.new(this._root,{width:Be,height:Be,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Ke.new(this._root,{height:Be,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Ke.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(vu.new(this._root,{themeTags:["zoom"],icon:St.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(mb.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);let t=this._root,e=this._root.verticalLayout,i=this.zoomOutButton;i.events.on("click",()=>{this.zoomOut()}),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",e);let r=this.plotContainer;r.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),r.children.push(this.topGridContainer),r.children.push(this.bulletsContainer),r.set("interactive",!0),r.set("interactiveChildren",!1),r.set("background",xr.new(t,{themeTags:["plotbackground","xy","background"]})),this._disposers.push(r.events.on("pointerdown",a=>{this._handlePlotDown(a)})),this._disposers.push(r.events.on("globalpointerup",a=>{this._handlePlotUp(a)})),this._disposers.push(r.events.on("globalpointermove",a=>{this._handlePlotMove(a)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(t){t._unstack(),t._posXDp&&t._posXDp.dispose(),t._posYDp&&t._posYDp.dispose(),t.set("baseAxis",void 0);let e=t.get("xAxis");e&&(Ts(e.series,t),e.markDirtyExtremes());let i=t.get("yAxis");i&&(Ts(i.series,t),i.markDirtyExtremes());let r=this.get("cursor");if(r){let a=r.get("snapToSeries");a&&Ts(a,t)}super._removeSeries(t)}handleWheel(t){let e=this.get("wheelX"),i=this.get("wheelY"),r=this.plotContainer,a=t.originalEvent,n=!1;if(bA(a,this))n=!0;else return;let o=r.toLocal(t.point),l=this.get("wheelStep",.2),u=a.deltaY/100,h=a.deltaX/100,c=this.get("wheelZoomPositionX"),A=this.get("wheelZoomPositionY");(e==="zoomX"||e==="zoomXY")&&h!=0&&this.xAxes.each(d=>{if(d.get("zoomX")){let f=d.get("start"),p=d.get("end"),m=d.fixPosition(o.x/r.width());c!=null&&(m=c);let g=d.get("maxDeviation",0),y=Math.min(1+g,Math.max(-g,f-l*(p-f)*h*m)),v=Math.max(-g,Math.min(1+g,p+l*(p-f)*h*(1-m)));y==f&&v==p&&(n=!1),1/(v-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)?this._handleWheelAnimation(d.zoom(y,v)):n=!1}}),(i==="zoomX"||i==="zoomXY")&&u!=0&&this.xAxes.each(d=>{if(d.get("zoomX")){let f=d.get("start"),p=d.get("end"),m=d.fixPosition(o.x/r.width());c!=null&&(m=c);let g=d.get("maxDeviation",0),y=Math.min(1+g,Math.max(-g,f-l*(p-f)*u*m)),v=Math.max(-g,Math.min(1+g,p+l*(p-f)*u*(1-m)));y==f&&v==p&&(n=!1),1/(v-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)?this._handleWheelAnimation(d.zoom(y,v)):n=!1}}),(e==="zoomY"||e==="zoomXY")&&h!=0&&this.yAxes.each(d=>{if(d.get("zoomY")){let f=d.get("start"),p=d.get("end"),m=d.fixPosition(o.y/r.height());A!=null&&(m=A);let g=d.get("maxDeviation",0),y=Math.min(1+g,Math.max(-g,f-l*(p-f)*h*m)),v=Math.max(-g,Math.min(1+g,p+l*(p-f)*h*(1-m)));y==f&&v==p&&(n=!1),1/(v-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)?this._handleWheelAnimation(d.zoom(y,v)):n=!1}}),(i==="zoomY"||i==="zoomXY")&&u!=0&&this.yAxes.each(d=>{if(d.get("zoomY")){let f=d.get("start"),p=d.get("end"),m=d.fixPosition(o.y/r.height());A!=null&&(m=A);let g=d.get("maxDeviation",0),y=Math.min(1+g,Math.max(-g,f-l*(p-f)*u*m)),v=Math.max(-g,Math.min(1+g,p+l*(p-f)*u*(1-m)));y==f&&v==p&&(n=!1),1/(v-y)<d.getPrivate("maxZoomFactor",1/0)/d.get("minZoomCount",1)?this._handleWheelAnimation(d.zoom(y,v)):n=!1}}),(e==="panX"||e==="panXY")&&h!=0&&this.xAxes.each(d=>{if(d.get("panX")){let f=d.get("start"),p=d.get("end"),m=this._getWheelSign(d)*l*(p-f)*h,g=f+m,y=p+m,v=this._fixWheel(g,y);g=v[0],y=v[1],g==f&&y==p&&(n=!1),this._handleWheelAnimation(d.zoom(g,y))}}),(i==="panX"||i==="panXY")&&u!=0&&this.xAxes.each(d=>{if(d.get("panX")){let f=d.get("start"),p=d.get("end"),m=this._getWheelSign(d)*l*(p-f)*u,g=f+m,y=p+m,v=this._fixWheel(g,y);g=v[0],y=v[1],g==f&&y==p&&(n=!1),this._handleWheelAnimation(d.zoom(g,y))}}),(e==="panY"||e==="panXY")&&h!=0&&this.yAxes.each(d=>{if(d.get("panY")){let f=d.get("start"),p=d.get("end"),m=this._getWheelSign(d)*l*(p-f)*h,g=f+m,y=p+m,v=this._fixWheel(g,y);g=v[0],y=v[1],g==f&&y==p&&(n=!1),this._handleWheelAnimation(d.zoom(g,y))}}),(i==="panY"||i==="panXY")&&u!=0&&this.yAxes.each(d=>{if(d.get("panY")){let f=d.get("start"),p=d.get("end"),m=this._getWheelSign(d)*l*(p-f)*u,g=f-m,y=p-m,v=this._fixWheel(g,y);g=v[0],y=v[1],g==f&&y==p&&(n=!1),this._handleWheelAnimation(d.zoom(g,y))}}),n&&a.preventDefault()}_handleSetWheel(){let t=this.get("wheelX"),e=this.get("wheelY"),i=this.plotContainer;t!=="none"||e!=="none"?(this._wheelDp=i.events.on("wheel",r=>{let a=r.originalEvent;(t!=="none"&&Math.abs(a.deltaX)!=0||e!=="none"&&Math.abs(a.deltaY)!=0)&&this.handleWheel(r)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(t){let e=1;return t.get("renderer").get("inversed")&&(e=-1),e}_fixWheel(t,e){let i=e-t;return t<0&&(t=0,e=t+i),e>1&&(e=1,t=e-i),[t,e]}_handlePlotDown(t){let e=t.originalEvent;if(e.button==2)return;let i=this.plotContainer,r=i.toLocal(t.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&e.pointerId&&br(i._downPoints).length>0){let n=this.xAxes.getIndex(0),o=this.yAxes.getIndex(0);n&&(this._downStartX=n.get("start",0),this._downEndX=n.get("end",1)),o&&(this._downStartY=o.get("start",0),this._downEndY=o.get("end",1))}if((this.get("panX")||this.get("panY"))&&r.x>=0&&r.y>=0&&r.x<=i.width()&&r.y<=this.height()){this._downPoint={x:e.clientX,y:e.clientY};let a=this.get("panX"),n=this.get("panY");a&&this.xAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")}),n&&this.yAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")});let o="panstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:t.originalEvent})}}_handleWheelAnimation(t){t?t.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){let t="wheelended";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}_handlePlotUp(t){let e=this._downPoint;if(e&&(this.get("panX")||this.get("panY"))){if(t.originalEvent.clientX==e.x&&t.originalEvent.clientY==e.y){let r="pancancelled";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this,originalEvent:t.originalEvent})}let i="panended";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,originalEvent:t.originalEvent})}this._downPoint=void 0,this.xAxes.each(i=>{i._isPanning=!1}),this.yAxes.each(i=>{i._isPanning=!1})}_handlePlotMove(t){let e=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){let a=t.originalEvent.pointerId;if(a&&(this._movePoints[a]=t.point,br(e._downPoints).length>1)){this._handlePinch();return}}let i=this._downPoint;if(i){i=e.toLocal(this._root.documentPointToRoot(i));let r=e.toLocal(t.point),a=this.get("panX"),n=this.get("panY");if(a){let o=this.get("scrollbarX");o&&o.events.disableType("rangechanged"),this.xAxes.each(l=>{if(l.get("panX")){l._isPanning=!0;let u=l._panStart,h=l._panEnd,A=(h-u)*(i.x-r.x)/e.width();l.get("renderer").get("inversed")&&(A*=-1);let d=u+A,f=h+A;f-d<1+l.get("maxDeviation",1)*2&&(l.set("start",d),l.set("end",f))}}),o&&o.events.enableType("rangechanged")}if(n){let o=this.get("scrollbarY");o&&o.events.disableType("rangechanged"),this.yAxes.each(l=>{if(l.get("panY")){l._isPanning=!0;let u=l._panStart,h=l._panEnd,A=(h-u)*(i.y-r.y)/e.height();l.get("renderer").get("inversed")&&(A*=-1);let d=u-A,f=h-A;f-d<1+l.get("maxDeviation",1)*2&&(l.set("start",d),l.set("end",f))}}),o&&o.events.enableType("rangechanged")}}}_handlePinch(){let t=this.plotContainer,e=0,i=[],r=[];if(Mt(t._downPoints,(a,n)=>{i[e]=n;let o=this._movePoints[a];o&&(r[e]=o),e++}),i.length>1&&r.length>1){let a=t.width(),n=t.height(),o=i[0],l=i[1],u=r[0],h=r[1];if(o&&l&&u&&h){if(u=t.toLocal(u),h=t.toLocal(h),o=t.toLocal(o),l=t.toLocal(l),this.get("pinchZoomX")){let c=this._downStartX,A=this._downEndX;if(c!=null&&A!=null){o.x>l.x&&([o,l]=[l,o],[u,h]=[h,u]);let d=c+o.x/a*(A-c),f=c+l.x/a*(A-c),p=c+u.x/a*(A-c),m=c+h.x/a*(A-c),g=Math.max(.001,f-d),y=Math.max(.001,m-p),v=g/y,_=c*v+d-p*v,S=A*v+f-m*v;this.xAxes.each(F=>{let P=F.fixPosition(_),D=F.fixPosition(S);F.zoom(P,D,0)})}}if(this.get("pinchZoomY")){let c=this._downStartY,A=this._downEndY;if(c!=null&&A!=null){o.y<l.y&&([o,l]=[l,o],[u,h]=[h,u]);let d=c+(1-o.y/n)*(A-c),f=c+(1-l.y/n)*(A-c),p=c+(1-u.y/n)*(A-c),m=c+(1-h.y/n)*(A-c),g=Math.max(.001,f-d),y=Math.max(.001,m-p),v=g/y,_=c*v+d-p*v,S=A*v+f-m*v;this.yAxes.each(F=>{let P=F.fixPosition(_),D=F.fixPosition(S);F.zoom(P,D,0)})}}}}}_handleCursorPosition(){let t=this.get("cursor");if(t){let e=t.getPrivate("point"),i=t.get("snapToSeries");if(t._downPoint&&(i=void 0),i&&e){let r=t.get("snapToSeriesBy"),a=[];te(i,l=>{if(!l.isHidden()&&!l.isHiding())if(r!="x!"&&r!="y!"){let u=l.startIndex(),h=l.endIndex();for(let c=u;c<h;c++){let A=l.dataItems[c];A&&!A.isHidden()&&a.push(A)}}else{let u=l.get("tooltipDataItem");u&&a.push(u)}});let n=1/0,o;if(te(a,l=>{let u=l.get("point");if(u){let h=0;r=="x"||r=="x!"?h=Math.abs(e.x-u.x):r=="y"||r=="y!"?h=Math.abs(e.y-u.y):h=Math.hypot(e.x-u.x,e.y-u.y),h<n&&(n=h,o=l)}}),te(i,l=>{let u=l.get("tooltip");u&&u._setDataItem(void 0)}),o){let l=o.component;l.showDataItemTooltip(o),l.setRaw("tooltipDataItem",o);let u=o.get("point");u&&t.handleMove(l.toGlobal({x:u.x-l.x(),y:u.y-l.y()}),!0)}}}}_updateCursor(){let t=this.get("cursor");t&&t.updateCursor()}_addCursor(t){this.plotContainer.children.push(t)}_prepareChildren(){if(super._prepareChildren(),this.series.each(t=>{this._colorize(t)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){let t=this._prevSettings.cursor,e=this.get("cursor");e!==t&&(this._disposeProperty("cursor"),t&&t.dispose(),e&&(e._setChart(this),this._addCursor(e),this._pushPropertyDisposer("cursor",e.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=e)}if(this.isDirty("scrollbarX")){let t=this._prevSettings.scrollbarX,e=this.get("scrollbarX");e!==t&&(this._disposeProperty("scrollbarX"),t&&t.dispose(),e&&(e.parent||this.topAxesContainer.children.push(e),this._pushPropertyDisposer("scrollbarX",e.events.on("rangechanged",i=>{this._handleScrollbar(this.xAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarX",e.events.on("released",()=>{this.xAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),e.setPrivate("positionTextFunction",i=>{let r=this.xAxes.getIndex(0);return r&&r.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarX=e)}if(this.isDirty("scrollbarY")){let t=this._prevSettings.scrollbarY,e=this.get("scrollbarY");e!==t&&(this._disposeProperty("scrollbarY"),t&&t.dispose(),e&&(e.parent||this.rightAxesContainer.children.push(e),this._pushPropertyDisposer("scrollbarY",e.events.on("rangechanged",i=>{this._handleScrollbar(this.yAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarY",e.events.on("released",()=>{this.yAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),e.setPrivate("positionTextFunction",i=>{let r=this.yAxes.getIndex(0);return r&&r.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarY=e)}this._handleZoomOut()}_processSeries(t){super._processSeries(t);let e=t.get("xAxis"),i=t.get("yAxis");Mp(e.series,t),Mp(i.series,t),t._posXDp=t.addDisposer(e.events.on("positionchanged",()=>{t._fixPosition()})),t._posXDp=t.addDisposer(i.events.on("positionchanged",()=>{t._fixPosition()})),t.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?t.set("baseAxis",i):t.set("baseAxis",e)),t.get("stacked")&&(t._markDirtyKey("stacked"),te(t.dataItems,r=>{r.set("stackToItemY",void 0),r.set("stackToItemX",void 0)})),t._markDirtyAxes(),i.markDirtyExtremes(),e.markDirtyExtremes(),e._seriesAdded=!0,i._seriesAdded=!0,this._colorize(t)}_colorize(t){let e=this.get("colors");if(e&&t.get("fill")==null){let r=e.next();t._setSoft("stroke",r),t._setSoft("fill",r)}let i=this.get("patterns");if(i&&t.get("fillPattern")==null){let r=i.next();t._setSoft("fillPattern",r)}}_handleCursorSelectEnd(){let t=this.get("cursor"),e=t.get("behavior"),i=t.getPrivate("downPositionX",0),r=t.getPrivate("downPositionY",0),a=Math.min(1,Math.max(0,t.getPrivate("positionX",.5))),n=Math.min(1,Math.max(0,t.getPrivate("positionY",.5)));this.xAxes.each(o=>{if(e==="zoomX"||e==="zoomXY"){let l=o.toAxisPosition(i),u=o.toAxisPosition(a);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)}),this.yAxes.each(o=>{if(e==="zoomY"||e==="zoomXY"){let l=o.toAxisPosition(r),u=o.toAxisPosition(n);o.zoom(l,u)}o.setPrivate("updateScrollbar",!0)})}_handleScrollbar(t,e,i,r){t.each(a=>{let n=a.fixPosition(e),o=a.fixPosition(i),l=a.zoom(n,o,void 0,r),u="updateScrollbar";a.setPrivateRaw(u,!1),l?l.events.on("stopped",()=>{a.setPrivateRaw(u,!0)}):a.setPrivateRaw(u,!0)})}_processAxis(t,e){return t.events.onAll(i=>{if(i.type==="clear")te(i.oldValues,r=>{this._removeAxis(r)});else if(i.type==="push")e.children.push(i.newValue),i.newValue.processChart(this);else if(i.type==="setIndex")e.children.setIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="insertIndex")e.children.insertIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="removeIndex")this._removeAxis(i.oldValue);else if(i.type==="moveIndex")e.children.moveValue(i.value,i.newIndex),i.value.processChart(this);else throw new Error("Unknown IListEvent type")})}_removeAxis(t){if(!t.isDisposed()){let e=t.parent;e&&e.children.removeValue(t);let i=t.gridContainer,r=i.parent;r&&r.children.removeValue(i);let a=t.topGridContainer,n=a.parent;n&&n.children.removeValue(a)}}_updateChartLayout(){let t=this.leftAxesContainer.width(),e=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",t),i.set("paddingRight",e);let r=this.topAxesContainer;r.set("paddingLeft",t),r.set("paddingRight",e)}processAxis(t){var e=this.get("cursor");e&&(this.addDisposer(t.on("start",()=>{this._updateCursor()})),this.addDisposer(t.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(t,e){let i=t.fixPosition(t.get("start",0)),r=t.fixPosition(t.get("end",1));if(i>r&&([i,r]=[r,i]),this.xAxes.indexOf(t)!=-1){if(e||t.getPrivate("updateScrollbar")){let a=this.get("scrollbarX");a&&(!a.getPrivate("isBusy")||e)&&(a.setRaw("start",i),a.setRaw("end",r),a.updateGrips())}}else if(this.yAxes.indexOf(t)!=-1&&(e||t.getPrivate("updateScrollbar"))){let a=this.get("scrollbarY");a&&(!a.getPrivate("isBusy")||e)&&(a.setRaw("start",i),a.setRaw("end",r),a.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let t=this.zoomOutButton;if(t&&t.parent){let e=!1;this.xAxes.each(i=>{(Rr(i.get("start",0),5)!=0||Rr(i.get("end",1),5)!=1)&&(e=!0)}),this.yAxes.each(i=>{(Rr(i.get("start",0),5)!=0||Rr(i.get("end",1),5)!=1)&&(e=!0)}),e?t.isHidden()&&t.show():t.hide()}}inPlot(t){let e=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),r=e.toGlobal(t);if(t.x>=-.5&&t.y>=-.5&&t.x<=e.width()+.5&&t.y<=e.height()+.5)return!0;if(i)for(let a=i.length-1;a>=0;a--){let n=i[a];if(n!=this){let o=n.plotContainer,l=this._root.rootPointToDocument(r),u=n._root.documentPointToRoot(l),h=o.toLocal(u);if(h.x>=-.1&&h.y>=-.1&&h.x<=o.width()+.1&&h.y<=o.height()+.1)return!0}}return!1}arrangeTooltips(){let t=this.plotContainer,e=t.width(),i=t.height(),r=this.height(),a=this._root.tooltipContainer.get("layerMargin");a&&a.bottom>r&&(r=a.bottom);let n=t._display.toGlobal({x:0,y:0}),o=t._display.toGlobal({x:e,y:i}),l=[],u=0,h=1/0,c=this._movePoint,A=this.get("maxTooltipDistance"),d=this.get("maxTooltipDistanceBy","xy"),f,p;ie(A)&&this.series.each(g=>{if(!g.isHidden()){let y=g.get("tooltip");if(y){let v=y.get("pointTo");if(v){let _=Math.hypot(c.x-v.x,c.y-v.y);d=="x"?_=Math.abs(c.x-v.x):d=="y"&&(_=Math.abs(c.y-v.y)),_<h&&(h=_,f=g,p=v)}}}});let m=[];if(this.series.each(g=>{let y=g.get("tooltip");if(y&&!y.get("forceHidden")){let v=!1,_=y.get("pointTo");if(_){if(A>=0){let S=y.get("pointTo");if(S&&p&&g!=f){let F=Math.hypot(p.x-S.x,p.y-S.y);d=="x"?F=Math.abs(p.x-S.x):d=="y"&&(F=Math.abs(p.y-S.y)),F>A&&(v=!0)}}else A==-1&&g!=f&&(v=!0);!this.inPlot(this._tooltipToLocal(_))||!y.dataItem?v=!0:v||(u+=_.y),v||g.isHidden()||g.isHiding()?y.hide(0):(y.show(),l.push(y),m.push(g))}}}),this.setPrivate("tooltipSeries",m),this.get("arrangeTooltips")){let g=0,y=0,v=this._root.tooltipContainer,_=l.length;if(u/_>i/2+n.y){l.sort((P,D)=>Rw(D.get("pointTo").y,P.get("pointTo").y));let F=o.y;if(te(l,P=>{let D=P.height();y++,g+=D;let $=P.get("centerY");$ instanceof wt&&(D*=$.value),D+=P.get("marginBottom",0),P.set("bounds",{left:n.x,top:n.y,right:o.x,bottom:F}),P.setPrivate("customData",{left:n.x,top:n.y,right:o.x,bottom:F}),F=Math.min(F-D,P._fy-D),P.parent==v&&v.children.moveValue(P,0)}),F<0){l.reverse();let P=F;te(l,D=>{y++;let $=D.get("bounds");if($){let I=$.top-F,R=$.bottom-F;I<P&&(I=P,R=I+D.height()),D.set("bounds",{left:$.left,top:I,right:$.right,bottom:R}),P=$.bottom-F+D.get("marginBottom",0)}})}}else{l.reverse(),l.sort((P,D)=>Rw(P.get("pointTo").y,D.get("pointTo").y));let F=0;if(te(l,P=>{y++;let D=P.height();g+=D;let $=P.get("centerY");$ instanceof wt&&(D*=$.value),D+=P.get("marginBottom",0),P.set("bounds",{left:n.x,top:F,right:o.x,bottom:Math.max(n.y+r,F+D)}),P.parent==v&&v.children.moveValue(P,0),F=Math.max(F+D,P._fy+D)}),F>r){l.reverse();let P=r;te(l,D=>{y++;let $=D.get("bounds");if($){let I=$.top-(r-F),R=$.bottom-(r-F);R>P&&(R=P,I=R-D.height()),D.set("bounds",{left:$.left,top:I,right:$.right,bottom:R}),P=R-D.height()-D.get("marginBottom",0)}})}}g==0&&y>0&&this._disposers.push(this.root.events.once("frameended",()=>{this.arrangeTooltips()}))}}_tooltipToLocal(t){return this.plotContainer.toLocal(t)}zoomOut(){this.xAxes.each(t=>{t.setPrivate("updateScrollbar",!0),t.zoom(0,1)}),this.yAxes.each(t=>{t.setPrivate("updateScrollbar",!0),t.zoom(0,1)})}_dispose(){super._dispose();let t=this.get("cursor");t&&t.dispose()}};Object.defineProperty(di,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"});Object.defineProperty(di,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Hs.classNames.concat([di.className])});var Ka=class extends di{constructor(){super(...arguments),Object.defineProperty(this,"radarContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Ke.new(this._root,{x:Ye,y:Ye}))}),Object.defineProperty(this,"_arcGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Ro()}),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){this._defaultThemes.push(pb.new(this._root)),super._afterNew();let t=this.radarContainer,e=this.gridContainer,i=this.topGridContainer,r=this.seriesContainer,a=this.bulletsContainer;t.children.pushAll([e,r,i,a]),r.set("mask",St.new(this._root,{})),e.set("mask",St.new(this._root,{})),this._disposers.push(this.plotContainer.events.on("boundschanged",()=>{this._updateRadius()}))}_maskGrid(){}_prepareChildren(){if(super._prepareChildren(),this._sizeDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")){let t=this.chartContainer,e=t.innerWidth(),i=t.innerHeight(),r=this.get("startAngle",0),a=this.get("endAngle",0),n=this.get("innerRadius"),o=vh(0,0,r,a,1),l=e/(o.right-o.left),u=i/(o.bottom-o.top),h={left:0,right:0,top:0,bottom:0};if(n instanceof wt){let A=n.value,d=Math.min(l,u);A=Math.max(d*A,d-Math.min(i,e))/d,h=vh(0,0,r,a,A),this.setPrivateRaw("irModifyer",A/n.value)}o=jy([o,h]),this._maxRadius=Math.max(0,Math.min(l,u));let c=Xt(this.get("radius",0),this._maxRadius);this.radarContainer.setAll({dy:-c*(o.bottom+o.top)/2,dx:-c*(o.right+o.left)/2}),this._updateRadius()}}_addCursor(t){this.radarContainer.children.push(t)}_updateRadius(){let t=Xt(this.get("radius",ii(80)),this._maxRadius);this.setPrivateRaw("radius",t);let e=Xt(this.get("innerRadius",0),t);e<0&&(e=t+e),this.setPrivateRaw("innerRadius",e),this.xAxes.each(r=>{r.get("renderer").updateLayout()}),this.yAxes.each(r=>{r.get("renderer").updateLayout()}),this._updateMask(this.seriesContainer,e,t),this._updateMask(this.gridContainer,e,t),this.series.each(r=>{r.get("maskBullets")?this._updateMask(r.bulletsContainer,e,t):r.bulletsContainer.remove("mask")});let i=this.get("cursor");i&&i.updateLayout()}_updateMask(t,e,i){let r=t.get("mask");r&&r.set("draw",a=>{this._arcGenerator.context(a),this._arcGenerator({innerRadius:e,outerRadius:i+.5,startAngle:(this.get("startAngle",0)+90)*Er,endAngle:(this.get("endAngle",0)+90)*Er})})}processAxis(t){this.radarContainer.children.push(t)}_processSeries(t){super._processSeries(t),this._updateRadius()}inPlot(t,e,i){let r=Math.hypot(t.x,t.y),a=Pa(Math.atan2(t.y,t.x)*An),n=Pa(this.get("startAngle",0)),o=Pa(this.get("endAngle",0)),l=!1;return n<o&&n<a&&a<o&&(l=!0),n>o&&(a>n&&(l=!0),a<o&&(l=!0)),n==o&&(l=!0),l?(e==null&&(e=this.getPrivate("radius",0)),i==null&&(i=this.getPrivate("innerRadius",0)),i>e&&([i,e]=[e,i]),r<=e+.5&&r>=i-.5):!1}_tooltipToLocal(t){return this.radarContainer._display.toLocal(t)}_handlePinch(){}};Object.defineProperty(Ka,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarChart"});Object.defineProperty(Ka,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:di.classNames.concat([Ka.className])});function ZQ(s,t){return s==null?t:t==null?s:t<s?t:s}function JQ(s,t){return s==null?t:t==null?s:t>s?t:s}var Da=class extends Qs{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ke.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Nn}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new ms(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(t=>{if(t.type==="clear")te(t.oldValues,e=>{this._removeAxisRange(e)});else if(t.type==="push")this._processAxisRange(t.newValue);else if(t.type==="setIndex")this._processAxisRange(t.newValue);else if(t.type==="insertIndex")this._processAxisRange(t.newValue);else if(t.type==="removeIndex")this._removeAxisRange(t.oldValue);else if(t.type==="moveIndex")this._processAxisRange(t.value);else throw new Error("Unknown IStreamEvent type")})),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this.onPrivate("endIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this._makeFieldNames()}_processAxisRange(t){let e=Ke.new(this._root,{});t.container=e,this.children.push(e),t.series=this;let i=t.axisDataItem;i.setRaw("isRange",!0);let r=i.component;if(r){r._processAxisRange(i,["range","series"]);let a=i.get("bullet");if(a){let o=a.get("sprite");o&&o.setPrivate("visible",!1)}let n=i.get("axisFill");n&&e.set("mask",n),r._seriesAxisRanges.push(i)}}_onDataClear(){super._onDataClear(),Mt(this._dataSets,(t,e)=>{te(e,i=>{i.dispose()}),e.length=0})}_removeAxisRange(t){let e=t.axisDataItem,i=e.component;e.dispose(),Ts(i._seriesAxisRanges,e);let r=t.container;r&&r.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&te(this.valueXFields,t=>{if(this.get(t+"Field")){this._valueXFields.push(t);let i=this.get(t+"Show");this.__valueXShowFields.push(i),i.indexOf("Working")!=-1?this._valueXShowFields.push(i.split("Working")[0]):this._valueXShowFields.push(i)}}),this.valueYFields&&te(this.valueYFields,t=>{if(this.get(t+"Field")){this._valueYFields.push(t);let i=this.get(t+"Show");this.__valueYShowFields.push(i),i.indexOf("Working")!=-1?this._valueYShowFields.push(i.split("Working")[0]):this._valueYShowFields.push(i)}})}_dispose(){super._dispose(),this._bullets={};let t=this.chart;t&&t.series.removeValue(this),Yr(this.get("xAxis").series,this),Yr(this.get("yAxis").series,this)}_min(t,e){let i=ZQ(this.getPrivate(t),e);this.setPrivate(t,i)}_max(t,e){let i=JQ(this.getPrivate(t),e);this.setPrivate(t,i)}_shouldMakeBullet(t){let e=this.get("xAxis"),i=this.get("yAxis"),r=this.get("baseAxis");if(!e.inited||!i.inited)return!1;let a=this.get("minBulletDistance",0);if(a>0){let n=this.startIndex(),l=this.endIndex()-n;if(e==r){if(e.get("renderer").axisLength()/l<a/5)return!1}else if(i==r&&i.get("renderer").axisLength()/l<a/5)return!1}return t.get(this._xField)!=null&&t.get(this._yField)!=null}_makeFieldNames(){let t=this.get("xAxis"),e=this.get("yAxis"),i=t.getPrivate("name"),r=Sw(i),a=e.getPrivate("name"),n=Sw(a),o=t.get("renderer").getPrivate("letter"),l=e.get("renderer").getPrivate("letter"),u="open",h="low",c="high",A="Show";t.className==="ValueAxis"?(this._xField=this.get(i+o+A),this._xOpenField=this.get(u+r+o+A),this._xLowField=this.get(h+r+o+A),this._xHighField=this.get(c+r+o+A)):(this._xField=i+o,this._xOpenField=u+r+o,this._xLowField=h+r+o,this._xHighField=c+r+o),e.className==="ValueAxis"?(this._yField=this.get(a+l+A),this._yOpenField=this.get(u+n+l+A),this._yLowField=this.get(h+n+l+A),this._yHighField=this.get(c+n+l+A)):(this._yField=a+l,this._yOpenField=u+n+l,this._yLowField=h+n+l,this._yHighField=c+n+l)}_fixVC(){let t=this.get("xAxis"),e=this.get("yAxis"),i=this.get("baseAxis"),r=this.states.lookup("hidden"),a=this.get("sequencedInterpolation");if(r){let n=0;a&&(n=.999999999999),t===i?r.set("vcy",n):(e===i||r.set("vcy",n),r.set("vcx",n))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){let t=this.get("xAxis"),e=this.get("yAxis");this.set("x",t.x()-Xt(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0)),this.set("y",e.y()-Xt(e.get("centerY",0),e.height())-e.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();let t=this.get("xAxis"),e=this.get("yAxis"),i=this.get("baseAxis"),r=this.get("tooltipPositionX"),a;switch(r){case"open":a=this._xOpenField;break;case"low":a=this._xLowField;break;case"high":a=this._xHighField;break;default:a=this._xField}this._tooltipFieldX=a;let n=this.get("tooltipPositionY"),o;switch(n){case"open":o=this._yOpenField;break;case"low":o=this._yLowField;break;case"high":o=this._yHighField;break;default:o=this._yField}this._tooltipFieldY=o,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();let l=this.get("stacked");if(this.isDirty("stacked")&&(l?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,l&&this._stack(),te(this.dataItems,u=>{te(this._valueXShowFields,h=>{let c=u.get(h);c!=null&&(l&&(c+=this.getStackedXValue(u,h)),this._min("minX",c),this._max("maxX",c))}),te(this._valueYShowFields,h=>{let c=u.get(h);c!=null&&(l&&(c+=this.getStackedYValue(u,h)),this._min("minY",c),this._max("maxY",c))}),t.processSeriesDataItem(u,this._valueXFields),e.processSeriesDataItem(u,this._valueYFields)}),t._seriesValuesDirty=!0,e._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&t.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&e.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(t._groupSeriesData(this),e._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){let u=this.startIndex(),h=this.endIndex(),c=this.get("minBulletDistance",0);if(c>0&&i&&(i.get("renderer").axisLength()/(h-u)>c?this._showBullets=!0:this._showBullets=!1),(this._psi!=u||this._pei!=h||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;let A=this.get("vcx",1),d=this.get("vcy",1),f=this.get("stacked",!1),p=this.getPrivate("outOfSelection");if(i===t||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),p)e.markDirtySelectionExtremes();else for(let m=u;m<h;m++)this.processYSelectionDataItem(this.dataItems[m],d,f);if(i===e||!i)if(t._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),p)e.markDirtySelectionExtremes();else for(let m=u;m<h;m++)this.processXSelectionDataItem(this.dataItems[m],A,f);if((i===t||!i)&&(this.get("valueYShow")!=="valueYWorking"||this.get("useSelectionExtremes"))){let m=this.getPrivate("selectionMinY");m!=null&&(this.setPrivateRaw("minY",m),e.markDirtyExtremes());let g=this.getPrivate("selectionMaxY");g!=null&&(this.setPrivateRaw("maxY",g),e.markDirtyExtremes())}if((i===e||!i)&&(this.get("valueXShow")!=="valueXWorking"||this.get("useSelectionExtremes"))){let m=this.getPrivate("selectionMinX");m!=null&&(this.setPrivateRaw("minX",m),e.markDirtyExtremes());let g=this.getPrivate("selectionMaxX");g!=null&&(this.setPrivateRaw("maxX",g),t.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&t.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&e.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let t=this._mainContainerMask;t==null&&(t=this.children.push(St.new(this._root,{})),this._mainContainerMask=t,t.set("draw",(e,i)=>{let r=this.parent;if(r){let a=this._root.container.width(),n=this._root.container.height();e.moveTo(-a,-n),e.lineTo(-a,n*2),e.lineTo(a*2,n*2),e.lineTo(a*2,-n),e.lineTo(-a,-n),this.axisRanges.each(o=>{let l=o.axisDataItem.get("axisFill");if(r&&l){let u=l.get("draw");u&&u(e,i)}})}this.mainContainer._display.mask=t._display})),t.markDirty(),t._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){let t=this.chart;if(t){let e=t.series.indexOf(this);if(this._couldStackTo=[],e>0){let i;for(let r=e-1;r>=0&&(i=t.series.getIndex(r),!(i.get("xAxis")===this.get("xAxis")&&i.get("yAxis")===this.get("yAxis")&&i.className===this.className&&(this._couldStackTo.push(i),!i.get("stacked"))));r--);}this._stackDataItems()}}_unstack(){Mt(this._reallyStackedTo,(t,e)=>{delete e._stackedSeries[this.uid]}),this._reallyStackedTo={},te(this.dataItems,t=>{t.setRaw("stackToItemY",void 0),t.setRaw("stackToItemX",void 0)})}_handleRemoved(){let t=this.get("xAxis");t&&t._handleSeriesRemoved();let e=this.get("yAxis");e&&e._handleSeriesRemoved()}_stackDataItems(){let t=this.get("baseAxis"),e=this.get("xAxis"),i=this.get("yAxis"),r,a;t===e?(r="valueY",a="stackToItemY"):t===i&&(r="valueX",a="stackToItemX");let n=this._couldStackTo.length,o=0,l=this.get("stackToNegative");this._reallyStackedTo={},te(this.dataItems,u=>{for(let h=0;h<n;h++){let c=this._couldStackTo[h],A=c.dataItems[o],d=u.get(r);if(A){let f=A.get(r);if(l)if(ie(d)){if(ie(f)){if(h==n-1&&u.setRaw(a,void 0),d>=0&&f>=0){u.setRaw(a,A),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}if(d<0&&f<0){u.setRaw(a,A),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}else break;else if(ie(d)&&ie(f)){u.setRaw(a,A),this._reallyStackedTo[c.uid]=c,c._stackedSeries[this.uid]=this;break}}}o++})}processXSelectionDataItem(t,e,i){te(this.__valueXShowFields,r=>{let a=t.get(r);a!=null&&(i&&(a+=this.getStackedXValueWorking(t,r)),this._min("selectionMinX",a),this._max("selectionMaxX",a*e))})}processYSelectionDataItem(t,e,i){te(this.__valueYShowFields,r=>{let a=t.get(r);a!=null&&(i&&(a+=this.getStackedYValueWorking(t,r)),this._min("selectionMinY",a),this._max("selectionMaxY",a*e))})}getStackedYValueWorking(t,e){let i=t.get("stackToItemY");if(i){let r=i.component;return i.get(e,0)*r.get("vcy",1)+this.getStackedYValueWorking(i,e)}return 0}getStackedXValueWorking(t,e){let i=t.get("stackToItemX");if(i){let r=i.component;return i.get(e,0)*r.get("vcx",1)+this.getStackedXValueWorking(i,e)}return 0}getStackedYValue(t,e){let i=t.get("stackToItemY");return i?i.get(e,0)+this.getStackedYValue(i,e):0}getStackedXValue(t,e){let i=t.get("stackToItemX");return i?i.get(e,0)+this.getStackedXValue(i,e):0}createLegendMarker(t){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(t){let e=t.get("sprite");if(e){let i=e.dataItem,r=t.get("locationX",i.get("locationX",.5)),a=t.get("locationY",i.get("locationY",.5)),n=this.get("xAxis"),o=this.get("yAxis"),l=this.get("exactLocationX",!1),u=this.get("exactLocationY",!1),h=n.getDataItemPositionX(i,this._xField,r,this.get("vcx",1),l),c=o.getDataItemPositionY(i,this._yField,a,this.get("vcy",1),u),A=this.getPoint(h,c),d=i.get("left",A.x),f=i.get("right",A.x),p=i.get("top",A.y),m=i.get("bottom",A.y),g=0,y=0,v=f-d,_=m-p;if(this._shouldShowBullet(h,c)){e.setPrivate("visible",!t.getPrivate("hidden"));let S=t.get("field"),F=this.get("baseAxis"),P=this.get("xAxis"),D=this.get("yAxis");if(S!=null){let I;F==P?(S=="value"?I=this._yField:S=="open"?I=this._yOpenField:S=="high"?I=this._yHighField:S=="low"&&(I=this._yLowField),I&&(c=D.getDataItemPositionY(i,I,0,this.get("vcy",1),u),A=D.get("renderer").positionToPoint(c),y=A.y,g=d+v*r)):(S=="value"?I=this._xField:S=="open"?I=this._xOpenField:S=="high"?I=this._xHighField:S=="low"&&(I=this._xLowField),I&&(h=P.getDataItemPositionX(i,I,0,this.get("vcx",1),l),A=P.get("renderer").positionToPoint(h),g=A.x,y=m-_*a))}else g=d+v*r,y=m-_*a;let $=t.get("stacked");if($){let I=this.chart;if(F==P){let R=this._bullets[h+"_"+c];if(R){let T=R.bounds(),Q=e.localBounds(),K=y;y=T.top,$=="down"?y=T.bottom-Q.top:$=="auto"?I&&(K<I.plotContainer.height()/2?y=T.bottom-Q.top:y+=Q.bottom):y+=Q.bottom}this._bullets[h+"_"+c]=e}else{let R=this._bullets[h+"_"+c];if(R){let T=R.bounds(),Q=e.localBounds(),K=g;g=T.right,$=="down"?g=T.left-Q.right:$=="auto"?I&&(K<I.plotContainer.width()/2?g=T.left-Q.right:g-=Q.left):g-=Q.left}this._bullets[h+"_"+c]=e}}e.isType("Label")&&(e.setPrivate("maxWidth",Math.abs(v)),e.setPrivate("maxHeight",Math.abs(_))),e.setAll({x:g,y})}else e.setPrivate("visible",!1)}}_shouldShowBullet(t,e){return this._showBullets}setDataSet(t){if(this._dataSets[t]){this._handleDataSetChange(),this._dataItems=this._dataSets[t],this._markDataSetDirty(),this._dataSetId=t;let e="datasetchanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,id:t})}}resetGrouping(){Mt(this._dataSets,(t,e)=>{e!=this._mainDataItems&&te(e,i=>{i.dispose()})}),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){te(this._dataItems,t=>{let e=t.bullets;e&&te(e,i=>{if(i){let r=i.get("sprite");r&&r.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(t){let e=Object.create(null,{show:{get:()=>super.show}});return Xe(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(e.show.call(this,t).then(()=>{this._isShowing=!1;let r=this.get("xAxis"),a=this.get("yAxis"),n=this.get("baseAxis");a!==n&&a.markDirtySelectionExtremes(),r!==n&&r.markDirtySelectionExtremes()})),i.push(this.bulletsContainer.show(t)),i.push(this._sequencedShowHide(!0,t)),yield Promise.all(i)})}hide(t){let e=Object.create(null,{hide:{get:()=>super.hide}});return Xe(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(e.hide.call(this,t).then(()=>{this._isHiding=!1})),i.push(this.bulletsContainer.hide(t)),i.push(this._sequencedShowHide(!1,t)),yield Promise.all(i)})}showDataItem(t,e){let i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Xe(this,void 0,void 0,function*(){let r=[i.showDataItem.call(this,t,e)];ie(e)||(e=this.get("stateAnimationDuration",0));let a=this.get("stateAnimationEasing");te(this._valueFields,n=>{r.push(t.animate({key:n+"Working",to:t.get(n),duration:e,easing:a}).waitForStop())}),yield Promise.all(r)})}hideDataItem(t,e){let i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Xe(this,void 0,void 0,function*(){let r=[i.hideDataItem.call(this,t,e)],a=this.states.create("hidden",{});ie(e)||(e=a.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));let n=a.get("stateAnimationEasing",this.get("stateAnimationEasing")),o=this.get("xAxis"),l=this.get("yAxis"),u=this.get("baseAxis"),h=this.get("stacked");if((u===o||!u)&&te(this._valueYFields,c=>{let A=l.getPrivate("min"),d=l.baseValue();ie(A)&&A>d&&(d=A),h&&(d=0),t.get(c)!=null&&r.push(t.animate({key:c+"Working",to:d,duration:e,easing:n}).waitForStop())}),u===l||!u){let c=o.getPrivate("min"),A=o.baseValue();ie(c)&&c>A&&(A=c),h&&(A=0),te(this._valueXFields,d=>{t.get(d)!=null&&r.push(t.animate({key:d+"Working",to:A,duration:e,easing:n}).waitForStop())})}yield Promise.all(r)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){let t=this._stackedSeries;t&&Mt(t,(e,i)=>{i._stackDirty||i._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(t){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(t),this.updateLegendValue(t));let e=this.get("tooltip"),i=this.get("exactLocationX",!1),r=this.get("exactLocationY",!1);if(e)if(!this.isHidden()&&this.get("visible")){if(e._setDataItem(t),t){let a=this.get("locationX",0),n=this.get("locationY",1),o=t.get("locationX",a),l=t.get("locationY",n),u=this.get("xAxis"),h=this.get("yAxis"),c=this.get("vcx",1),A=this.get("vcy",1),d=u.getDataItemPositionX(t,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*o,c,i),f=h.getDataItemPositionY(t,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*l,A,r),p=this.getPoint(d,f),m=!0;if(te(this._valueFields,g=>{t.get(g)==null&&(m=!1)}),m){let g=this.chart;g&&g.inPlot(p)?(e.label.text.markDirtyText(),e.set("tooltipTarget",this._getTooltipTarget(t)),e.set("pointTo",this._display.toGlobal({x:p.x,y:p.y}))):e._setDataItem(void 0)}else e._setDataItem(void 0)}}else this.hideTooltip()}hideTooltip(){let t=this.get("tooltip");return t&&t.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(t){if(this.get("seriesTooltipTarget")=="bullet"){let e=t.bullets;if(e&&e.length>0){let r=e[0].get("sprite");if(r)return r}}return this}updateLegendValue(t){let e=this.get("legendDataItem");if(e){let i=e.get("label");if(i){let a="";t?(i._setDataItem(t),a=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),a=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",a)}let r=e.get("valueLabel");if(r){let a="";t?(r._setDataItem(t),a=this.get("legendValueText",r.get("text",""))):(r._setDataItem(this._emptyDataItem),a=this.get("legendRangeValueText",r.get("text",""))),r.set("text",a)}}}_getItemReaderLabel(){let t="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(t+=".formatDate()"),t+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(t+=".formatDate()"),t+="}",t}getPoint(t,e){let i=this.get("xAxis").get("renderer").positionToCoordinate(t),r=this.get("yAxis").get("renderer").positionToCoordinate(e),a=999999999;return r<-a&&(r=-a),r>a&&(r=a),i<-a&&(i=-a),i>a&&(i=a),{x:i,y:r}}_shouldInclude(t){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(t){return this.axisRanges.push({axisDataItem:t})}get mainDataItems(){return this._mainDataItems}_adjustStartIndex(t){let e=this.get("xAxis");if(this.get("baseAxis")==e&&e.isType("DateAxis")){let r=e.baseDuration(),a=e.getPrivate("selectionMin",e.getPrivate("min",0)),n=r*this.get("locationX",.5),o=-1/0;for(;o<a;){let l=this.dataItems[t];if(l){let u=l.open;if(u?o=u.valueX:o=l.get("valueX",0),o+=n,o<a)t++;else break}else break}}return t}};Object.defineProperty(Da,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"});Object.defineProperty(Da,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qs.classNames.concat([Da.className])});var Lh=class s extends Da{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(t,e){return this.makeColumn(e,t)}_makeFieldNames(){super._makeFieldNames();let t=this.get("xAxis"),e=this.get("yAxis"),i="CategoryAxis",r="ValueAxis";t.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),t.isType(r)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),e.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),e.isType(r)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();let t=this.get("xAxis"),e=this.get("yAxis"),i=this.dataItems.length,r=Math.max(0,this.startIndex()-2),a=Math.min(this.endIndex()+2,i-1);if(t.inited&&e.inited)for(let n=r;n<=a;n++){let o=this.dataItems[n];this._createGraphics(o)}}_updateChildren(){let t=this.chart;t&&(this._ph=t.plotContainer.height(),this._pw=t.plotContainer.width());let e=this.get("xAxis"),i=this.get("yAxis"),r=this.get("baseAxis"),a=this.columns.template;this.isDirty("fill")&&a.get("fill")==null&&a.set("fill",this.get("fill")),this.isDirty("fillPattern")&&a.get("fillPattern")==null&&a.set("fillPattern",this.get("fillPattern")),this.isDirty("stroke")&&a.get("stroke")==null&&a.set("stroke",this.get("stroke"));let n=0,o=0,l=0;te(r.series,g=>{if(g instanceof s){let y=g.get("stacked");y&&l==0&&o++,!y&&g.get("clustered")&&o++}g===this&&(n=o-1),l++}),this.get("clustered")||(n=0,o=1),o===0&&(o=1,n=0);let u=e.get("renderer"),h=i.get("renderer"),c="cellStartLocation",A="cellEndLocation",d=u.get(c,0),f=u.get(A,1),p=h.get(c,0),m=h.get(A,1);if(this._aLocationX0=d+n/o*(f-d),this._aLocationX1=d+(n+1)/o*(f-d),this._aLocationY0=p+n/o*(m-p),this._aLocationY1=p+(n+1)/o*(m-p),e.inited&&i.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){let g=this.dataItems.length,y=Math.max(0,this.startIndex()-2),v=Math.min(this.endIndex()+2,g-1);for(let S=0;S<y;S++)this._toggleColumn(this.dataItems[S],!1);let _=this.dataItems[y];for(let S=y;S<=v;S++){let F=this.dataItems[S];if(F.get("valueX")!=null&&F.get("valueY")!=null){if(_=F,S>0&&y>0)for(let P=S-1;P>=0;P--){let D=this.dataItems[P];if(D.get("valueX")!=null&&D.get("valueY")!=null){_=D;break}}break}else this._toggleColumn(F,!1)}for(let S=y;S<=v;S++){let F=this.dataItems[S];this._updateGraphics(F,_),F.get("valueX")!=null&&F.get("valueY")!=null&&(_=F)}for(let S=v+1;S<g;S++)this._toggleColumn(this.dataItems[S],!1)}}else this._skipped=!0;this.getPrivate("doNotUpdateLegend")||this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(t){let e=t.get("graphics");if(!e){e=this._makeGraphics(this.columns,t),t.set("graphics",e),e._setDataItem(t);let i=t.get("legendDataItem");if(i){let a=i.get("markerRectangle");if(a){let n=a.states.lookup("default");te(Yp,o=>{let l=e.get(o,this.get(o));a.set(o,l),n.set(o,l)})}}let r=t.get("rangeGraphics");r&&te(r,a=>{a.dispose()}),r=[],t.setRaw("rangeGraphics",r),this.axisRanges.each(a=>{let n=a.container,o=this._makeGraphics(a.columns,t);r&&r.push(o),o.setPrivate("list",a.columns),n.children.push(o)})}}createAxisRange(t){return te(this.dataItems,e=>{let i=e.get("graphics");i&&(i.dispose(),e.set("graphics",void 0))}),super.createAxisRange(t)}_updateGraphics(t,e){let i=t.get("graphics"),r=this._xField,a=this._yField,n=t.get(r),o=t.get(a);if(n!=null&&o!=null){let l=this._xOpenField,u=this._yOpenField,h=this.get("locationX",t.get("locationX",.5)),c=this.get("locationY",t.get("locationY",.5)),A=this.get("openLocationX",t.get("openLocationX",h)),d=this.get("openLocationY",t.get("openLocationY",c)),f=i.get("width"),p=i.get("height"),m=this.get("stacked"),g=this.get("xAxis"),y=this.get("yAxis"),v=this.get("baseAxis"),_=g.get("start"),S=g.get("end"),F=y.get("start"),P=y.get("end"),D,$,I,R,T=this.get("vcy",1),Q=this.get("vcx",1),K=!1,z=!1;if(y.isType("CategoryAxis")&&g.isType("CategoryAxis")){let ee=this._aLocationX0+A-.5,ue=this._aLocationX1+h-.5;if(f instanceof wt){let G=(ue-ee)*(1-f.value)/2;ee+=G,ue-=G}if(D=g.getDataItemPositionX(t,l,ee,Q),$=g.getDataItemPositionX(t,r,ue,Q),ee=this._aLocationY0+d-.5,ue=this._aLocationY1+c-.5,p instanceof wt){let G=(ue-ee)*(1-p.value)/2;ee+=G,ue-=G}I=y.getDataItemPositionY(t,u,ee,T),R=y.getDataItemPositionY(t,a,ue,T),t.setRaw("point",{x:D+($-D)/2,y:I+(R-I)/2})}else if(g===v){let ee=this._aLocationX0+A-.5,ue=this._aLocationX1+h-.5;if(f instanceof wt){let G=(ue-ee)*(1-f.value)/2;ee+=G,ue-=G}if(D=g.getDataItemPositionX(t,l,ee,Q),$=g.getDataItemPositionX(t,r,ue,Q),I=y.getDataItemPositionY(t,a,c,T),this._yOpenField!==this._yField)R=y.getDataItemPositionY(t,u,d,T);else if(m){let G=t.get("stackToItemY");G?R=y.getDataItemPositionY(G,a,d,G.component.get("vcy")):R=y.basePosition()}else R=y.basePosition();t.setRaw("point",{x:D+($-D)/2,y:I}),z=!0}else if(y===v){let ee=this._aLocationY0+d-.5,ue=this._aLocationY1+c-.5;if(p instanceof wt){let G=(ue-ee)*(1-p.value)/2;ee+=G,ue-=G}if(I=y.getDataItemPositionY(t,u,ee,T),R=y.getDataItemPositionY(t,a,ue,T),$=g.getDataItemPositionX(t,r,h,Q),this._xOpenField!==this._xField)D=g.getDataItemPositionX(t,l,A,Q);else if(m){let G=t.get("stackToItemX");G?D=g.getDataItemPositionX(G,r,A,G.component.get("vcx")):D=g.basePosition()}else D=g.basePosition();K=!0,t.setRaw("point",{x:$,y:I+(R-I)/2})}this._updateSeriesGraphics(t,i,D,$,I,R,K,z),D<_&&$<_||D>S&&$>S||I<F&&R<=F||I>=P&&R>P||ca(D)||ca(I)?this._toggleColumn(t,!1):this._toggleColumn(t,!0);let se=t.get("rangeGraphics");se&&te(se,ee=>{this._updateSeriesGraphics(t,ee,D,$,I,R,K,z)}),this._applyGraphicsStates(t,e)}else this._toggleColumn(t,!1)}_updateSeriesGraphics(t,e,i,r,a,n,o,l){let u=e.get("width"),h=e.get("height"),c=e.get("maxWidth"),A=e.get("maxHeight"),d=this.getPoint(i,a),f=this.getPoint(r,n),p=t.get("point");if(p){let m=this.getPoint(p.x,p.y);p.x=m.x+this._x,p.y=m.y+this._y}if(i=d.x,r=f.x,a=d.y,n=f.y,ie(u)){let m=(r-i-u)/2;i+=m,r-=m}if(ie(c)&&c<Math.abs(r-i)){let m=(r-i-c)/2;i+=m,r-=m}if(ie(h)){let m=(n-a-h)/2;a+=m,n-=m}if(ie(A)&&A<Math.abs(n-a)){let m=(n-a-A)/2;a+=m,n-=m}this.get("adjustBulletPosition")&&(o&&(r=Math.min(Math.max(0,r),this._pw),i=Math.min(Math.max(0,i),this._pw)),l&&(a=Math.min(Math.max(0,a),this._ph),n=Math.min(Math.max(0,n),this._ph))),t.setRaw("left",i),t.setRaw("right",r),t.setRaw("top",a),t.setRaw("bottom",n),e.setPrivate("width",r-i),e.setPrivate("height",n-a),e.set("x",i),e.set("y",n-(n-a))}_handleDataSetChange(){super._handleDataSetChange(),te(this._dataItems,t=>{this._toggleColumn(t,!1)})}_applyGraphicsStates(t,e){let i=t.get("graphics"),r=i.states.lookup("dropFromOpen"),a=i.states.lookup("riseFromOpen"),n=i.states.lookup("dropFromPrevious"),o=i.states.lookup("riseFromPrevious");if(r||n||a||o){let l=this.get("xAxis"),u=this.get("yAxis"),h=this.get("baseAxis"),c,A,d;h===l&&u.isType("ValueAxis")?(c=t.get(this._yOpenField),A=t.get(this._yField),d=e.get(this._yField)):h===u&&l.isType("ValueAxis")&&(c=t.get(this._xOpenField),A=t.get(this._xField),d=e.get(this._xField)),ie(c)&&ie(A)&&(A<c?r&&r.apply():a&&a.apply(),ie(d)&&(A<d?n&&n.apply():o&&o.apply()))}}disposeDataItem(t){super.disposeDataItem(t);let e=t.get("graphics");e&&(this.columns.removeValue(e),e.dispose());let i=t.get("rangeGraphics");i&&te(i,r=>{let a=r.getPrivate("list");a&&a.removeValue(r),r.dispose()})}hideDataItem(t,e){let i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return Xe(this,void 0,void 0,function*(){let r=[i.hideDataItem.call(this,t,e)],a=t.get("graphics");a&&r.push(a.hide(e));let n=t.get("rangeGraphics");n&&te(n,o=>{r.push(o.hide(e))}),yield Promise.all(r)})}_toggleColumn(t,e){let i=t.get("graphics");i&&i.setPrivate("visible",e);let r=t.get("rangeGraphics");r&&te(r,n=>{n.setPrivate("visible",e)});let a=t.bullets;a&&te(a,n=>{n.setPrivate("hidden",!e)})}showDataItem(t,e){let i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return Xe(this,void 0,void 0,function*(){let r=[i.showDataItem.call(this,t,e)],a=t.get("graphics");a&&r.push(a.show(e));let n=t.get("rangeGraphics");n&&te(n,o=>{r.push(o.show(e))}),yield Promise.all(r)})}updateLegendMarker(t){let e=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!t){let i=this.dataItems[this.endIndex()-1];i&&(t=i)}if(e){let i=this.columns.template;if(t){let a=t.get("graphics");a&&(i=a)}let r=e.get("markerRectangle");if(r&&!e.get("itemContainer").get("disabled")){let a=r.states.lookup("default");te(Yp,n=>{let o=i.get(n,this.get(n));r.set(n,o),a.set(n,o)})}}}_getTooltipTarget(t){if(this.get("seriesTooltipTarget")=="bullet")return super._getTooltipTarget(t);let e=t.get("graphics");return e||this}};Object.defineProperty(Lh,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"});Object.defineProperty(Lh,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Da.classNames.concat([Lh.className])});var mo=class extends Ke{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Pl.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Pl.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(St.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:Be,height:Be,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineX.events.on("blur",()=>this._handleLineBlur())),this._disposers.push(this.lineY.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineY.events.on("blur",()=>this._handleLineBlur())),dn("keyboardevents")&&this._disposers.push(rr(document,"keydown",t=>{this._handleLineMove(pu(t),t.ctrlKey)}))}_setUpTouch(){let t=this.chart;t&&(t.plotContainer._display.cancelTouch=this.get("behavior")!="none")}_handleXLine(){let t=this.lineX.x(),e=!0;(t<0||t>this.width())&&(e=!1),this.lineX.setPrivate("visible",e)}_handleYLine(){let t=this.lineY.y(),e=!0;(t<0||t>this.height())&&(e=!1),this.lineY.setPrivate("visible",e)}_handleLineMove(t,e){let i="",r=this.chart,a;if(r&&r.xAxes.length){this._root.focused(this.lineX)?(i="positionX",a=r.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(a=r.yAxes.getIndex(0),i="positionY");let n=1;if(e&&(n=5),a){let o=a.get("renderer").get("inversed",!1),l;t=="ArrowRight"||t=="ArrowDown"?l=1:t=="ArrowLeft"||t=="ArrowUp"?l=-1:t=="Tab"&&(l=0),l!=null&&(o&&(l*=-1),this.set(i,a.nextPosition(l*n)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;let t=this.get("xAxis");if(t){let e=t.get("tooltip");e&&(this._tooltipX=!0,this._disposers.push(e.on("pointTo",()=>{this._updateXLine(e)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;let t=this.get("yAxis");if(t){let e=t.get("tooltip");e&&(this._tooltipY=!0,this._disposers.push(e.on("pointTo",()=>{this._updateYLine(e)})))}}}_handleSyncWith(){let t=this.chart;if(t){let e=this.get("syncWith"),i=[];e&&te(e,r=>{let a=r.chart;a&&i.push(a)}),t._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){let t=this.get("positionX"),e=this.get("positionY");t==null&&e==null?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(t){let e=Rr(this._display.toLocal(t.get("pointTo",{x:0,y:0})).x,3);this._toX!=e&&(this.lineX.animate({key:"x",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toX=e)}_updateYLine(t){let e=Rr(this._display.toLocal(t.get("pointTo",{x:0,y:0})).y,3);this._toY!=e&&(this.lineY.animate({key:"y",to:e,duration:t.get("animationDuration",0),easing:t.get("animationEasing")}),this._toY=e)}_drawLines(){this.lineX.set("draw",t=>{t.moveTo(0,0),t.lineTo(0,this.height())}),this.lineY.set("draw",t=>{t.moveTo(0,0),t.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(t){this.chart=t,this._handleSyncWith();let e=t.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),dn("touchevents")&&(this._disposers.push(e.events.on("click",r=>{Up(r.originalEvent)&&this._handleMove(r)})),this._setUpTouch()),this._disposers.push(e.events.on("pointerdown",r=>{this._handleCursorDown(r)})),this._disposers.push(e.events.on("globalpointerup",r=>{this._handleCursorUp(r),!r.native&&!this.isHidden()&&this._handleMove(r)})),this._disposers.push(e.events.on("globalpointermove",r=>{!this.get("syncWith")&&br(e._downPoints).length==0&&!r.native&&this.isHidden()||(this._handleMove(r),Math.hypot(this._lastPoint2.x-r.point.x,this._lastPoint2.y-r.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=r.point))}));let i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(t){let e=this.chart;return e?e.inPlot(t):!1}_handleCursorDown(t){if(t.originalEvent.button==2)return;let e=t.point,i=this._display.toLocal(e),r=this.chart;if(this.selection.set("draw",()=>{}),r&&this._inPlot(i)){if(this._downPoint=i,this.get("behavior")!="none"){this.selection.show();let o="selectstarted";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this,originalEvent:t.originalEvent})}let a=this._getPosition(i).x,n=this._getPosition(i).y;this.setPrivate("downPositionX",a),this.setPrivate("downPositionY",n)}}_handleCursorUp(t){if(this._downPoint){let e=this.get("behavior","none");if(e!="none"){e.charAt(0)==="z"&&this.selection.hide();let i=t.point,r=this._display.toLocal(i),a=this._downPoint,n=this.get("moveThreshold",1);if(r&&a){let o=!1;if((e==="zoomX"||e==="zoomXY"||e==="selectX"||e==="selectXY")&&Math.abs(r.x-a.x)>n&&(o=!0),(e==="zoomY"||e==="zoomXY"||e==="selectY"||e==="selectXY")&&Math.abs(r.y-a.y)>n&&(o=!0),o){let l="selectended";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:t.originalEvent})}else{let l="selectcancelled";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:t.originalEvent})}}}}this._downPoint=void 0}_handleMove(t){if(this.getPrivate("visible")){let e=this.chart;if(e&&br(e.plotContainer._downPoints).length>1){this.set("forceHidden",!0);return}else this.set("forceHidden",!1);let i=t.point,r=this._lastPoint;if(Math.round(r.x)===Math.round(i.x)&&Math.round(r.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,t.originalEvent)}}_getPosition(t){return{x:t.x/this.width(),y:t.y/this.height()}}handleMove(t,e,i){t||(t=this._movePoint);let r=this.get("alwaysShow");if(!t){this.hide(0);return}this._movePoint=t;let a=this._display.toLocal(t),n=this.chart;if(n&&(this._inPlot(a)||this._downPoint)){n._movePoint=t,this.isHidden()&&(this.show(),this.get("behavior","").charAt(0)=="z"&&this.selection.set("draw",()=>{}));let o=a.x,l=a.y,u=this._getPosition(a);this.setPrivate("point",a);let h=this.get("snapToSeries");this._downPoint&&(h=void 0);let c=this.get("positionX"),A=u.x;ie(c)&&(A=c);let d=this.get("positionY"),f=u.y;ie(d)&&(f=d),this.setPrivate("positionX",A),this.setPrivate("positionY",f);let p=this._getPoint(A,f);if(o=p.x,l=p.y,n.xAxes.each(m=>{m._handleCursorPosition(A,h),r&&m.handleCursorShow()}),n.yAxes.each(m=>{m._handleCursorPosition(f,h),r&&m.handleCursorShow()}),!e){n._handleCursorPosition();let m="cursormoved";this.events.isEnabled(m)&&this.events.dispatch(m,{type:m,target:this,point:t,originalEvent:i})}this._updateLines(o,l),n.arrangeTooltips()}else if(!this._downPoint&&!r){this.hide(0);let o="cursorhidden";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})}this._downPoint&&this.get("behavior")!="none"&&this._updateSelection(a)}_getPoint(t,e){return{x:this.width()*t,y:this.height()*e}}_updateLines(t,e){this._tooltipX||this.lineX.set("x",t),this._tooltipY||this.lineY.set("y",e),this._drawLines()}_updateSelection(t){let e=this.selection,i=this.get("behavior"),r=this.width(),a=this.height();t.x<0&&(t.x=0),t.x>r&&(t.x=r),t.y<0&&(t.y=0),t.y>a&&(t.y=a),e.set("draw",n=>{let o=this._downPoint;o&&(i==="zoomXY"||i==="selectXY"?(n.moveTo(o.x,o.y),n.lineTo(o.x,t.y),n.lineTo(t.x,t.y),n.lineTo(t.x,o.y),n.lineTo(o.x,o.y)):i==="zoomX"||i==="selectX"?(n.moveTo(o.x,0),n.lineTo(o.x,a),n.lineTo(t.x,a),n.lineTo(t.x,0),n.lineTo(o.x,0)):(i==="zoomY"||i==="selectY")&&(n.moveTo(0,o.y),n.lineTo(r,o.y),n.lineTo(r,t.y),n.lineTo(0,t.y),n.lineTo(0,o.y)))})}_onHide(){if(this.isHidden()){let t=this.chart;t&&(t.xAxes.each(e=>{e.handleCursorHide()}),t.yAxes.each(e=>{e.handleCursorHide()}),t.series.each(e=>{e.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let t=this.chart;t&&(t.xAxes.each(e=>{e.handleCursorShow()}),t.yAxes.each(e=>{e.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}};Object.defineProperty(mo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"});Object.defineProperty(mo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([mo.className])});var _u=class extends mo{constructor(){super(...arguments),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Ro()})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["radar","cursor"]),super._afterNew()}_handleXLine(){}_handleYLine(){}_getPosition(t){let e=Math.hypot(t.x,t.y),i=Pa(Math.atan2(t.y,t.x)*An),r=this.getPrivate("innerRadius"),a=Pa(this.getPrivate("startAngle")),n=Pa(this.getPrivate("endAngle"));(n<a||n==a)&&(i<a&&(i+=360),n=n+360);let o=(i-a)/(n-a);return o<0&&(o=1+o),o<.003&&(o=0),o>.997&&(o=1),{x:o,y:(e-r)/(this.getPrivate("radius")-r)}}_getPoint(t,e){let i=this.getPrivate("innerRadius"),r=this.getPrivate("startAngle"),a=this.getPrivate("endAngle"),n=this.getPrivate("radius"),o=r+t*(a-r),l=i+(n-i)*e;return{x:l*Qi(o),y:l*Ii(o)}}updateLayout(){let t=this.chart;if(t){let e=t.getPrivate("radius",0);this.setPrivate("radius",Xt(this.get("radius",Be),e));let i=Xt(this.get("innerRadius",t.getPrivate("innerRadius",0)),e);i<0&&(i=e+i),this.setPrivate("innerRadius",i);let r=this.get("startAngle",t.get("startAngle",-90)),a=this.get("endAngle",t.get("endAngle",270));this.setPrivate("startAngle",r),this.setPrivate("endAngle",a)}}_updateLines(t,e){this._tooltipX||this._drawXLine(t,e),this._tooltipY||this._drawYLine(t,e)}_drawXLine(t,e){let i=this.getPrivate("innerRadius"),r=this.getPrivate("radius"),a=Math.atan2(e,t);this.lineX.set("draw",n=>{n.moveTo(i*Math.cos(a),i*Math.sin(a)),n.lineTo(r*Math.cos(a),r*Math.sin(a))})}_drawYLine(t,e){let i=Math.hypot(t,e);this.lineY.set("draw",r=>{r.arc(0,0,i,this.getPrivate("startAngle",0)*Er,this.getPrivate("endAngle",0)*Er)})}_updateXLine(t){let e=t.get("pointTo");e&&(e=this._display.toLocal(e),this._drawXLine(e.x,e.y))}_updateYLine(t){let e=t.get("pointTo");e&&(e=this._display.toLocal(e),this._drawYLine(e.x,e.y))}_inPlot(t){let e=this.chart;return e?e.inPlot(t,this.getPrivate("radius"),this.getPrivate("innerRadius")):!1}_updateSelection(t){this.selection.set("draw",e=>{let i=this.get("behavior"),r=this._downPoint,a=this.getPrivate("startAngle"),n=this.getPrivate("endAngle"),o=this.getPrivate("radius"),l=this.getPrivate("innerRadius");o<l&&([o,l]=[l,o]);let u=a,h=n,c=o,A=l;r&&(i=="zoomXY"||i=="selectXY"?(u=Math.atan2(r.y,r.x)*An,h=Math.atan2(t.y,t.x)*An,A=Math.hypot(r.x,r.y),c=Math.hypot(t.x,t.y)):i=="zoomX"||i=="selectX"?(u=Math.atan2(r.y,r.x)*An,h=Math.atan2(t.y,t.x)*An):(i=="zoomY"||i=="selectY")&&(A=Math.hypot(r.x,r.y),c=Math.hypot(t.x,t.y))),A=zi(A,l,o),c=zi(c,l,o),u=Lw(u,a,n),h=Lw(h,a,n),u==h&&(h=u+360),u*=Er,h*=Er,this._fillGenerator.context(e),this._fillGenerator({innerRadius:A,outerRadius:c,startAngle:u+Math.PI/2,endAngle:h+Math.PI/2})})}};Object.defineProperty(_u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarCursor"});Object.defineProperty(_u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:mo.classNames.concat([_u.className])});var ri=class extends Da{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:im()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:PC()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>St._new(this._root,{themeTags:yt(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>St._new(this._root,{themeTags:yt(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(t){return t[3]}),this._fillGenerator.x0(function(t){return t[2]}),this._fillGenerator.y1(function(t){return t[1]}),this._fillGenerator.x1(function(t){return t[0]}),super._afterNew()}makeStroke(t){let e=this.mainContainer.children.push(t.make());return t.push(e),e}makeFill(t){let e=this.mainContainer.children.push(t.make());return t.push(e),e}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let t=this.get("xAxis"),e=this.get("yAxis");if(this.isDirty("stroke")){let i=this.get("stroke");this.strokes.template.set("stroke",i);let r=this._legendStroke;r&&r.states.lookup("default").set("stroke",i)}if(this.isDirty("fill")){let i=this.get("fill");this.fills.template.set("fill",i);let r=this._legendFill;r&&r.states.lookup("default").set("fill",i)}if(this.isDirty("fillPattern")){let i=this.get("fillPattern");this.fills.template.set("fillPattern",i);let r=this._legendFill;r&&r.states.lookup("default").set("fillPattern",i)}if(this.isDirty("curveFactory")){let i=this.get("curveFactory");i&&(this._strokeGenerator.curve(i),this._fillGenerator.curve(i))}if(t.inited&&e.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(h=>{h.setPrivate("visible",!1)}),this.strokes.each(h=>{h.setPrivate("visible",!1)}),this.axisRanges.each(h=>{let c=h.fills;c&&c.each(d=>{d.setPrivate("visible",!1)});let A=h.strokes;A&&A.each(d=>{d.setPrivate("visible",!1)})});let i=this.startIndex(),r=this.strokes.template.get("templateField"),a=this.fills.template.get("templateField"),n=!0,o=!0;r&&(n=!1),a&&(o=!1);for(let h=i-1;h>=0;h--){let c=this.dataItems[h],A=!0,d=c.dataContext;if(r&&d[r]&&(n=!0),a&&d[a]&&(o=!0),te(this._valueFields,f=>{ie(c.get(f))||(A=!1)}),A&&n&&o){i=h;break}}let l=this.dataItems.length,u=this.endIndex();if(u<l){u++;for(let h=u;h<l;h++){let c=this.dataItems[h],A=!0;if(te(this._valueFields,d=>{ie(c.get(d))||(A=!1)}),A){u=h+1;break}}}if(i>0&&i--,this._endIndex=u,this._clearGraphics(),this._sindex=0,this._dindex=i,this.dataItems.length==1)this._startSegment(0);else for(;this._dindex<u-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each(t=>{t.fills.clear(),t.strokes.clear()})}_startSegment(t){let e=this._endIndex,i=e,r=this.get("autoGapCount"),a=this.get("connect"),n=this.makeFill(this.fills),o=this._fillTemplate,l=this.fills.template;o&&o!=l&&(n.template=o),n.setPrivate("visible",!0);let u=this.makeStroke(this.strokes),h=this._strokeTemplate;h&&h!=this.strokes.template&&(u.template=h),u.setPrivate("visible",!0);let c=this.get("xAxis"),A=this.get("yAxis"),d=this.get("baseAxis"),f=this.get("vcx",1),p=this.get("vcy",1),m=this._xField,g=this._yField,y=this._xOpenField,v=this._yOpenField,_=this.get("openValueXField"),S=this.get("openValueYField");_||(y=this._xField),S||(v=this._yField);let F=this.get("stacked"),P=c.basePosition(),D=A.basePosition(),$;d===A?$=this._yField:$=this._xField;let I=[],R=[];I.push(R);let T=this.strokes.template.get("templateField"),Q=this.fills.template.get("templateField"),K=this.get("locationX",.5),z=this.get("locationY",.5),se=this.get("openLocationX",K),ee=this.get("openLocationY",z),ue=this.get("minDistance",0),G,q=this.fills.template.get("visible");this.axisRanges.length>0&&(q=!0);let ge=!1;(F||_||S)&&(ge=!0);let ne={points:R,segments:I,stacked:F,getOpen:ge,basePosX:P,basePosY:D,fillVisible:q,xField:m,yField:g,xOpenField:y,yOpenField:v,vcx:f,vcy:p,baseAxis:d,xAxis:c,yAxis:A,locationX:K,locationY:z,openLocationX:se,openLocationY:ee,minDistance:ue},ye=this._strokeTemplate,qe=this._fillTemplate;for(G=t;G<i;G++){this._dindex=G;let Ge=this._dataItems[G],it=Ge.get(m),dt=Ge.get(g);if(it==null||dt==null?a||(R=[],I.push(R),ne.points=R):this._getPoints(Ge,ne),T){let Re=Ge.dataContext[T];if(Re)if(Re instanceof Ut||(Re=Ut.new(Re)),this._strokeTemplate=Re,G>t){i=G;break}else ye=Re,u.template=Re}if(Q){let Re=Ge.dataContext[Q];if(Re)if(Re instanceof Ut||(Re=Ut.new(Re)),this._fillTemplate=Re,G>t){i=G;break}else qe=Re,n.template=Re}if(!a){let Re=this.dataItems[G+1];Re&&d.shouldGap(Ge,Re,r,$)&&(R=[],I.push(R),ne.points=R)}}n.setRaw("userData",[t,G]),u.setRaw("userData",[t,G]),G===e&&this._endLine(R,I[0][0]),u&&this._drawStroke(u,I),n&&this._drawFill(n,I),this.axisRanges.each(Ge=>{let it=Ge.container,dt=Ge.fills,Re=this.makeFill(dt);it&&it.children.push(Re),Re.setPrivate("visible",!0),this._drawFill(Re,I);let We=Ge.strokes,Rt=this.makeStroke(We);it&&it.children.push(Rt),ye&&ye!=this.strokes.template&&(Rt.template=ye),qe&&qe!=this.fills.template&&(Re.template=qe),Rt.setPrivate("visible",!0),this._drawStroke(Rt,I),Re.setRaw("userData",[t,G]),Rt.setRaw("userData",[t,G])})}_getPoints(t,e){let i=e.points,r=t.get("locationX",e.locationX),a=t.get("locationY",e.locationY),n=this.get("exactLocationX",!1),o=this.get("exactLocationY",!1),l=e.xAxis.getDataItemPositionX(t,e.xField,r,e.vcx,n),u=e.yAxis.getDataItemPositionY(t,e.yField,a,e.vcy,o);if(this._shouldInclude(l)){let h=this.getPoint(l,u),c=[h.x,h.y];if(h.x+=this._x,h.y+=this._y,t.set("point",h),e.fillVisible){let A=l,d=u;if(e.baseAxis===e.xAxis?d=e.basePosY:e.baseAxis===e.yAxis&&(A=e.basePosX),e.getOpen){let p=t.get(e.xOpenField),m=t.get(e.yOpenField);if(p!=null&&m!=null){let g=t.get("openLocationX",e.openLocationX),y=t.get("openLocationY",e.openLocationY);if(e.stacked){let v=t.get("stackToItemX"),_=t.get("stackToItemY");v?(A=e.xAxis.getDataItemPositionX(v,e.xField,g,v.component.get("vcx"),n),ca(A)&&(A=e.basePosX)):e.yAxis===e.baseAxis?A=e.basePosX:A=e.xAxis.getDataItemPositionX(t,e.xOpenField,g,e.vcx,n),_?(d=e.yAxis.getDataItemPositionY(_,e.yField,y,_.component.get("vcy"),o),ca(d)&&(d=e.basePosY)):e.xAxis===e.baseAxis?d=e.basePosY:d=e.yAxis.getDataItemPositionY(t,e.yOpenField,y,e.vcy,o)}else A=e.xAxis.getDataItemPositionX(t,e.xOpenField,g,e.vcx,n),d=e.yAxis.getDataItemPositionY(t,e.yOpenField,y,e.vcy,o)}}let f=this.getPoint(A,d);c[2]=f.x,c[3]=f.y}if(e.minDistance>0){let A=c[0],d=c[1],f=c[2],p=c[3],m=this._previousPoint,g=m[0],y=m[1],v=m[2],_=m[3];(Math.hypot(A-g,d-y)>e.minDistance||f&&p&&Math.hypot(f-v,p-_)>e.minDistance)&&(i.push(c),this._previousPoint=c)}else i.push(c)}}_endLine(t,e){}_drawStroke(t,e){t.get("visible")&&!t.get("forceHidden")&&t.set("draw",i=>{te(e,r=>{this._strokeGenerator.context(i),this._strokeGenerator(r)})})}_drawFill(t,e){t.get("visible")&&!t.get("forceHidden")&&t.set("draw",i=>{te(e,r=>{this._fillGenerator.context(i),this._fillGenerator(r)})})}_processAxisRange(t){super._processAxisRange(t),t.fills=new Xi(Ut.new({}),()=>St._new(this._root,{themeTags:yt(t.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,t.fills.template])),t.strokes=new Xi(Ut.new({}),()=>St._new(this._root,{themeTags:yt(t.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,t.strokes.template]))}createLegendMarker(t){let e=this.get("legendDataItem");if(e){let i=e.get("marker"),r=e.get("markerRectangle");r&&r.setPrivate("visible",!1),i.set("background",xr.new(i._root,{fillOpacity:0,fill:za(0)}));let a=i.children.push(St._new(i._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=a;let n=i.children.push(St._new(i._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=n;let o=this._root.interfaceColors.get("disabled");if(a.states.create("disabled",{fill:o,stroke:o}),n.states.create("disabled",{fill:o,stroke:o}),this.bullets.length>0){let l=this.bullets.getIndex(0);if(l){let u=l(i._root,this,new ms(this,{legend:!0},{}));if(u){let h=u.get("sprite");h instanceof St&&h.states.create("disabled",{fill:o,stroke:o}),h&&(h.setAll({tooltipText:void 0,tooltipHTML:void 0,focusable:void 0,focusableGroup:void 0,ariaLabel:void 0}),i.children.push(h),h.setAll({x:i.width()/2,y:i.height()/2}),i.events.on("boundschanged",()=>{h.setAll({x:i.width()/2,y:i.height()/2})}))}}}}}};Object.defineProperty(ri,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"});Object.defineProperty(ri,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Da.classNames.concat([ri.className])});var Dl=class extends ri{_afterNew(){super._afterNew(),this.set("maskContent",!1),this.bulletsContainer.set("maskContent",!1),this.bulletsContainer.set("mask",St.new(this._root,{}))}_handleMaskBullets(){}getPoint(t,e){let i=this.get("yAxis"),r=this.get("xAxis"),a=i.get("renderer"),n=a.positionToCoordinate(e)+a.getPrivate("innerRadius",0),l=r.get("renderer").positionToAngle(t);return{x:n*Qi(l),y:n*Ii(l)}}_endLine(t,e){this.get("connectEnds")&&e&&t.push(e)}_shouldInclude(t){let e=this.get("xAxis");return!(t<e.get("start")||t>e.get("end"))}_shouldShowBullet(t,e){let i=this.get("xAxis");return t<i.get("start")||t>i.get("end")?!1:this._showBullets}_positionBullet(t){let e=t.get("sprite");if(e){let i=e.dataItem,r=t.get("locationX",i.get("locationX",.5)),a=t.get("locationY",i.get("locationY",.5)),n=this.get("xAxis"),o=this.get("yAxis"),l=n.getDataItemPositionX(i,this._xField,r,this.get("vcx",1)),u=o.getDataItemPositionY(i,this._yField,a,this.get("vcy",1)),h=this.getPoint(l,u);this._shouldShowBullet(l,u)?(e.setPrivate("visible",!0),e.set("x",h.x),e.set("y",h.y)):e.setPrivate("visible",!1)}}};Object.defineProperty(Dl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadarLineSeries"});Object.defineProperty(Dl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ri.classNames.concat([Dl.className])});var No=class extends fo{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ke.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ke.new(this._root,{width:Be,height:Be})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Ke.new(this._root,{width:Be,height:Be})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ke.new(this._root,{isMeasured:!1,width:Be,height:Be,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Nn}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Ke.new(this._root,{themeTags:["axis","header"],position:"absolute",background:xr.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(e=>{if(e.type==="clear")te(e.oldValues,i=>{i.dispose()});else if(e.type==="push")this._processAxisRange(e.newValue,["range"]);else if(e.type==="setIndex")this._processAxisRange(e.newValue,["range"]);else if(e.type==="insertIndex")this._processAxisRange(e.newValue,["range"]);else if(e.type==="removeIndex")this.disposeDataItem(e.oldValue);else if(e.type==="moveIndex")this._processAxisRange(e.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));let t=this.get("renderer");t&&(t.axis=this,t.processAxis()),this.children.push(t),this.ghostLabel=t.makeLabel(new ms(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(t,e){}zoom(t,e,i,r){if(this.get("zoomable",!0))if(this._updateFinals(t,e),this.get("start")!==t||this.get("end")!=e){let a=this._sAnimation,n=this._eAnimation,o=this.get("maxDeviation",.5)*Math.min(1,e-t);t<-o&&(t=-o),e>1+o&&(e=1+o),t>e&&([t,e]=[e,t]),ie(i)||(i=this.get("interpolationDuration",0)),r||(r="end");let l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),u=l;e===1&&t!==0&&(t<this.get("start",0)?r="start":r="end"),t===0&&e!==1&&(e>this.get("end",1)?r="end":r="start");let h=this.get("minZoomCount",0),c=this.get("maxZoomCount",1/0);ie(h)&&(l=u/h);let A=1;if(ie(c)&&(A=u/c),r==="start"?(c>0&&1/(e-t)<A&&(e=t+1/A),1/(e-t)>l&&(e=t+1/l),e>1&&e-t<1/l&&(t=e-1/l)):(c>0&&1/(e-t)<A&&(t=e-1/A),1/(e-t)>l&&(t=e-1/l),t<0&&e-t<1/l&&(e=t+1/l)),1/(e-t)>l&&(e=t+1/l),1/(e-t)>l&&(t=e-1/l),c!=null&&h!=null&&t==this.get("start")&&e==this.get("end")){let d=this.chart;d&&d._handleAxisSelection(this,!0)}if((a&&a.playing&&a.to==t||this.get("start")==t)&&(n&&n.playing&&n.to==e||this.get("end")==e))return;if(i>0){let d=this.get("interpolationEasing"),f,p;if(this.get("start")!=t&&(f=this.animate({key:"start",to:t,duration:i,easing:d})),this.get("end")!=e&&(p=this.animate({key:"end",to:e,duration:i,easing:d})),this._sAnimation=f,this._eAnimation=p,f)return f;if(p)return p}else this.set("start",t),this.set("end",e)}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(t,e){t.setRaw("isRange",!0),this._createAssets(t,e),this._rangesDirty=!0,this._prepareDataItem(t);let i=t.get("above"),r=this.topGridContainer,a=t.get("grid");i&&a&&r.children.moveValue(a);let n=t.get("axisFill");i&&n&&r.children.moveValue(n)}_prepareDataItem(t,e){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(t=>{this._prepareDataItem(t)}),te(this._seriesAxisRanges,t=>{this._prepareDataItem(t)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){let e=this.chart;e&&e._updateCursor();let i=this.get("start",0),r=this.get("end",1),a=this.get("maxDeviation",.5)*Math.min(1,r-i);if(i<-a){let n=i+a;i=-a,this.setRaw("start",i),this.isDirty("end")&&this.setRaw("end",r-n)}if(r>1+a){let n=r-1-a;r=1+a,this.setRaw("end",r),this.isDirty("start")&&this.setRaw("start",i-n)}}let t=this.get("renderer");if(t._start=this.get("start"),t._end=this.get("end"),t._inversed=t.get("inversed",!1),t._axisLength=t.axisLength()/(t._end-t._start),t._updateLC(),this.isDirty("tooltip")){let e=this.get("tooltip");if(e){let i=t.get("themeTags");e.addTag("axis"),e.addTag(this.className.toLowerCase()),e._applyThemes(),i&&(e.set("themeTags",yt(e.get("themeTags"),i)),e.label._applyThemes())}}}_updateTooltipBounds(){let t=this.get("tooltip");t&&this.get("renderer").updateTooltipBounds(t)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(t){this.chart=t;let e=this.get("renderer");e.chart=t,t.gridContainer.children.push(this.gridContainer),t.topGridContainer.children.push(this.topGridContainer),t.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{t._handleAxisSelection(this)}),this.on("end",()=>{t._handleAxisSelection(this)}),t.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),t.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),t.processAxis(this)}hideDataItem(t){return this._toggleFHDataItem(t,!0),super.hideDataItem(t)}showDataItem(t){return this._toggleFHDataItem(t,!1),super.showDataItem(t)}_toggleFHDataItem(t,e){let i="forceHidden",r=t.get("label");r&&r.set(i,e);let a=t.get("grid");a&&a.set(i,e);let n=t.get("tick");n&&n.set(i,e);let o=t.get("axisFill");o&&o.set(i,e);let l=t.get("bullet");if(l){let u=l.get("sprite");u&&u.set(i,e)}}_toggleDataItem(t,e){let i=t.get("label"),r="visible";i&&i.setPrivate(r,e);let a=t.get("grid");a&&a.setPrivate(r,e);let n=t.get("tick");n&&n.setPrivate(r,e);let o=t.get("axisFill");o&&o.setPrivate(r,e);let l=t.get("bullet");if(l){let u=l.get("sprite");u&&u.setPrivate(r,e)}}_createAssets(t,e,i){var r,a,n;let o=this.get("renderer"),l="minor",u=t.get("label");if(!u)o.makeLabel(t,e);else{let A=u.get("themeTags"),d=!1;i?A?.indexOf(l)==-1&&(d=!0):A?.indexOf(l)!=-1&&(d=!0),d&&((r=u.parent)===null||r===void 0||r.children.removeValue(u),o.makeLabel(t,e),u.dispose(),o.labels.removeValue(u))}let h=t.get("grid");if(!h)o.makeGrid(t,e);else{let A=h.get("themeTags"),d=!1;i?A?.indexOf(l)==-1&&(d=!0):A?.indexOf(l)!=-1&&(d=!0),d&&((a=h.parent)===null||a===void 0||a.children.removeValue(h),o.makeGrid(t,e),h.dispose(),o.grid.removeValue(h))}let c=t.get("tick");if(!c)o.makeTick(t,e);else{let A=!1,d=c.get("themeTags");i?d?.indexOf(l)==-1&&(A=!0):d?.indexOf(l)!=-1&&(A=!0),A&&((n=c.parent)===null||n===void 0||n.children.removeValue(c),o.makeTick(t,e),c.dispose(),o.ticks.removeValue(c))}!i&&!t.get("axisFill")&&o.makeAxisFill(t,e),this._processBullet(t)}_processBullet(t){let e=t.get("bullet"),i=this.get("bullet");if(!e&&i&&!t.get("isRange")&&(e=i(this._root,this,t)),e){e.axis=this;let r=e.get("sprite");r&&(r._setDataItem(t),t.setRaw("bullet",e),r.parent||this.bulletsContainer.children.push(r))}}_afterChanged(){super._afterChanged();let t=this.chart;t&&(t._updateChartLayout(),t.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(t){super.disposeDataItem(t);let e=this.get("renderer"),i=t.get("label");i&&(e.labels.removeValue(i),i.dispose());let r=t.get("tick");r&&(e.ticks.removeValue(r),r.dispose());let a=t.get("grid");a&&(e.grid.removeValue(a),a.dispose());let n=t.get("axisFill");n&&(e.axisFills.removeValue(n),n.dispose());let o=t.get("bullet");o&&o.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());let t=this.ghostLabel;if(!t.isHidden()){let r=t.localBounds(),a=Math.ceil(r.right-r.left),n=t.get("text");te(this.dataItems,o=>{let l=o.get("label");if(l&&!l.isHidden()){let u=l.localBounds();Math.ceil(u.right-u.left)>a&&(n=l.text._getText())}}),t.set("text",n)}let e=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(t,e+(i-e)*.5)}_handleCursorPosition(t,e){t=this.get("renderer").toAxisPosition(t),this._cursorPosition=t,this._snapToSeries=e,this.updateTooltip()}updateTooltip(){let t=this._snapToSeries,e=this._cursorPosition,i=this.get("tooltip"),r=this.get("renderer");ie(e)&&(te(this.series,a=>{if(a.get("baseAxis")===this){let n=this.getSeriesItem(a,e,this.get("tooltipLocation"));t&&t.indexOf(a)!=-1?(a.updateLegendMarker(n),a.updateLegendValue(n),a._settings.tooltipDataItem=n):(a.showDataItemTooltip(n),a.setRaw("tooltipDataItem",n))}}),this.get("snapTooltip")&&(e=this.roundAxisPosition(e,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",e),i&&(r.updateTooltipBounds(i),ca(e)?i.hide(0):(this._updateTooltipText(i,e),r.positionTooltip(i,e),e<this.get("start",0)||e>this.get("end",1)?i.hide(0):i.show(0))))}_updateTooltipText(t,e){t.label.set("text",this.getTooltipText(e))}roundAxisPosition(t,e){return t}_handleSeriesRemoved(){}handleCursorShow(){let t=this.get("tooltip");t&&t.show()}handleCursorHide(){let t=this.get("tooltip");t&&t.hide()}processSeriesDataItem(t,e){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(t){let e=this.get("renderer");return e.toAxisPosition(t/e.axisLength())}toAxisPosition(t){return this.get("renderer").toAxisPosition(t)}toGlobalPosition(t){return this.get("renderer").toGlobalPosition(t)}fixPosition(t){return this.get("renderer").fixPosition(t)}shouldGap(t,e,i,r){return!1}createAxisRange(t){return this.axisRanges.push(t)}_groupSeriesData(t){}getCellWidthPosition(){return .05}};Object.defineProperty(No,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"});Object.defineProperty(No,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:fo.classNames.concat([No.className])});var wi=class extends No{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let i=this.get("syncWithAxis");i&&(this._syncDp=new $r([i.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),i.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let t=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(t=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||t||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){let e=this.chart,i=!1;if(e){let r=this.get("renderer").getPrivate("letter");r=="Y"?e.xAxes.each(a=>{a.className!="ValueAxis"&&(i=!0)}):r=="X"&&e.yAxes.each(a=>{a.className!="ValueAxis"&&(i=!0)})}i&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0,(this.getPrivate("selectionMinFinal")!=this.getPrivate("selectionMin")||this.getPrivate("selectionMaxFinal")!=this.getPrivate("selectionMax"))&&(this._dirtySelectionExtremes=!1))}_clearDirty(){super._clearDirty(),this._dseHandled=!1}_groupData(){}_formatText(t){let e=this.get("numberFormat"),i=this.getNumberFormatter(),r="";return e?r=i.format(t,e):r=i.format(t,void 0,this.getPrivate("stepDecimalPlaces")),r}_prepareAxisItems(){let t=this.getPrivate("min"),e=this.getPrivate("max");if(ie(t)&&ie(e)){let i=this.get("logarithmic"),r=this.getPrivate("step"),a=this.getPrivate("selectionMin"),n=this.getPrivate("selectionMax")+r,o=a-r,l=1,u=t;if(i){if(o=this._minLogAdjusted,o<a)for(;o<a;)o+=r;u=o,u<=0&&(u=1,r<1&&(ie(this._minRealLog)?u=this._minRealLog:u=Math.pow(10,-50))),l=Math.log(n-r)*Math.LOG10E-Math.log(u)*Math.LOG10E,l>2&&(o=Math.pow(10,Math.log(u)*Math.LOG10E-50))}let h=this.get("renderer"),c=h.get("minorLabelsEnabled"),A=h.get("minorGridEnabled",c),d=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E)),f=Math.round(r/d),p=2;Rr(f/5,10)%1==0&&(p=5),Rr(f/10,10)%1==0&&(p=10);let m=r/p,g=0,y=0,v=-1/0;for(;o<n;){let _;this.dataItems.length<g+1?(_=new ms(this,void 0,{}),this._dataItems.push(_),this.processDataItem(_)):_=this.dataItems[g],this._createAssets(_,[]),this._toggleDataItem(_,!0),_.setRaw("value",o);let S=_.get("label");S&&S.set("text",this._formatText(o)),this._prepareDataItem(_);let F=o;if(i&&l>2?F=Math.pow(10,Math.log(u)*Math.LOG10E+g-50):F+=r,A){let D=o+m;for(i&&(l>2&&(m=this._adjustMinMax(o,F,10).step),D=o+m);D<F-r*1e-11;){let $;this.minorDataItems.length<y+1?($=new ms(this,void 0,{}),this.minorDataItems.push($),this.processDataItem($)):$=this.minorDataItems[y],this._createAssets($,["minor"],!0),this._toggleDataItem($,!0),$.setRaw("value",D);let I=$.get("label");I&&(c?I.set("text",this._formatText(D)):I.setPrivate("visible",!1)),this._prepareDataItem($),D+=m,y++}}if(o=F,v==o)break;let P=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E));if(P<1&&!i){let D=Math.round(Math.abs(Math.log(Math.abs(P))*Math.LOG10E))+2;o=Rr(o,D)}g++,i&&l<=2&&o-r<r&&(o=r),v=o}for(let _=g;_<this.dataItems.length;_++)this._toggleDataItem(this.dataItems[_],!1);for(let _=y;_<this.minorDataItems.length;_++)this._toggleDataItem(this.minorDataItems[_],!1);te(this.series,_=>{_.inited&&_._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(t,e){let i=this.get("renderer"),r=t.get("value"),a=t.get("endValue"),n=this.valueToPosition(r),o=n,l=this.valueToPosition(r+this.getPrivate("step"));ie(a)&&(o=this.valueToPosition(a),l=o),t.get("isRange")&&a==null&&(l=n);let u=o,h=t.get("labelEndValue");h!=null&&(u=this.valueToPosition(h)),i.updateLabel(t.get("label"),n,u,e);let c=t.get("grid");if(i.updateGrid(c,n,o),c&&(r==this.get("baseValue",0)?(c.addTag("base"),c._applyThemes()):c.hasTag("base")&&(c.removeTag("base"),c._applyThemes())),i.updateTick(t.get("tick"),n,u,e),i.updateFill(t.get("axisFill"),n,l),this._processBullet(t),i.updateBullet(t.get("bullet"),n,o),!t.get("isRange")){let A=this.get("fillRule");A&&A(t)}}_handleRangeChange(){let t=this.positionToValue(this.get("start",0)),e=this.positionToValue(this.get("end",1)),i=this.get("renderer").gridCount(),r=this._adjustMinMax(t,e,i,!0),a=Uy(r.step);this.setPrivateRaw("stepDecimalPlaces",a),t=Rr(t,a),e=Rr(e,a),r=this._adjustMinMax(t,e,i,!0);let n=r.step;t=r.min,e=r.max,(this.getPrivate("selectionMin")!==t||this.getPrivate("selectionMax")!==e||this.getPrivate("step")!==n)&&(this.setPrivateRaw("selectionMin",t),this.setPrivateRaw("selectionMax",e),this.setPrivateRaw("step",n))}positionToValue(t){let e=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(t*(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)+Math.log(e)*Math.LOG10E)/Math.LOG10E):t*(i-e)+e}valueToPosition(t){let e=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(t<=0){let r=this.get("treatZeroAs");ie(r)&&(t=r)}return(Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)}else return(t-e)/(i-e)}valueToFinalPosition(t){let e=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(t<=0){let r=this.get("treatZeroAs");ie(r)&&(t=r)}return(Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(e)*Math.LOG10E)}else return(t-e)/(i-e)}getX(t,e,i){t=i+(t-i)*e;let r=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(r)}getY(t,e,i){t=i+(t-i)*e;let r=this.valueToPosition(t);return this._settings.renderer.positionToCoordinate(r)}getDataItemCoordinateX(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,r))}getDataItemPositionX(t,e,i,r){let a=t.get(e);if(t.get("stackToItemX")){let o=t.component;a=a*r+o.getStackedXValueWorking(t,e)}else a=this._baseValue+(a-this._baseValue)*r;return this.valueToPosition(a)}getDataItemCoordinateY(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,r))}getDataItemPositionY(t,e,i,r){let a=t.get(e);if(t.get("stackToItemY")){let o=t.component;a=a*r+o.getStackedYValueWorking(t,e)}else a=this._baseValue+(a-this._baseValue)*r;return this.valueToPosition(a)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){let t=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),e=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0)),i=this.get("baseValue",0);return i<t&&(i=t),i>e&&(i=e),i}cellEndValue(t){return t}fixSmallStep(t){return 1+t===1?(t*=2,this.fixSmallStep(t)):t}_fixMin(t){return t}_fixMax(t){return t}_calculateTotals(){if(this.get("calculateTotals")){let t=this.series[0];if(t){let e=t.startIndex();if(t.dataItems.length>0){e>0&&e--;let i=t.endIndex();i<t.dataItems.length&&i++;let r,a;t.get("yAxis")==this?(r="valueY",a="vcy"):t.get("xAxis")==this&&(r="valueX",a="vcx");let n=r+"Working";if(r)for(let o=e;o<i;o++){let l=0,u=0;te(this.series,h=>{if(!h.get("excludeFromTotal")){let c=h.dataItems[o];if(c){let A=c.get(n)*h.get(a);ca(A)||(l+=A,u+=Math.abs(A))}}}),te(this.series,h=>{if(!h.get("excludeFromTotal")){let c=h.dataItems[o];if(c){let A=c.get(n)*h.get(a);ca(A)||(c.set(r+"Total",u),c.set(r+"Sum",l),c.set(r+"TotalPercent",A/u*100))}}})}}}}}_getSelectionMinMax(){let t=this.getPrivate("minFinal"),e=this.getPrivate("maxFinal"),i=this.get("min"),r=this.get("max"),a=this.get("extraMin",0),n=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(a=.1),this.get("extraMax")==null&&(n=.2));let o=this.get("renderer").gridCount(),l=this.get("strictMinMaxSelection"),u=this.get("strictMinMax");if(ie(t)&&ie(e)){let h=e,c=t;if(te(this.series,_=>{if(!_.get("ignoreMinMax")){let S,F,P=_.getPrivate("outOfSelection");if(_.get("xAxis")===this){if(!P){let D=_.getPrivate("minX"),$=_.getPrivate("maxX");(_.startIndex()!=0||_.endIndex()!=_.dataItems.length)&&(D=void 0,$=void 0),S=_.getPrivate("selectionMinX",D),F=_.getPrivate("selectionMaxX",$)}}else if(_.get("yAxis")===this&&!P){let D=_.getPrivate("minY"),$=_.getPrivate("maxY");(_.startIndex()!=0||_.endIndex()!=_.dataItems.length)&&(D=void 0,$=void 0),S=_.getPrivate("selectionMinY",D),F=_.getPrivate("selectionMaxY",$)}!_.isHidden()&&!_.isShowing()&&(ie(S)&&(h=Math.min(h,S)),ie(F)&&(c=Math.max(c,F)))}}),this.axisRanges.each(_=>{if(_.get("affectsMinMax")){let S=_.get("value");S!=null&&(h=Math.min(h,S),c=Math.max(c,S)),S=_.get("endValue"),S!=null&&(h=Math.min(h,S),c=Math.max(c,S))}}),h>c&&([h,c]=[c,h]),ie(i)?u?h=i:h=t:u&&ie(this._minReal)&&(h=this._minReal),ie(r)?u?c=r:c=e:u&&ie(this._maxReal)&&(c=this._maxReal),h===c){let _=h;if(h-=this._deltaMinMax,c+=this._deltaMinMax,h<t){let F=_-t;F==0&&(F=this._deltaMinMax),h=_-F,c=_+F,u=!0}let S=this._adjustMinMax(h,c,o,u);h=S.min,c=S.max}let A=h,d=c,f=c-h;h-=f*a,c+=f*n;let p=this._adjustMinMax(h,c,o);h=p.min,c=p.max,h=zi(h,t,e),c=zi(c,t,e),p=this._adjustMinMax(h,c,o,!0),u||(h=p.min,c=p.max);let m=this.get("syncWithAxis");if(m&&(p=this._syncAxes(h,c,p.step,m.getPrivate("selectionMinFinal",m.getPrivate("minFinal",0)),m.getPrivate("selectionMaxFinal",m.getPrivate("maxFinal",1)),m.getPrivate("selectionStepFinal",m.getPrivate("step",1))),p.min<t&&(p.min=t),p.max>e&&(p.max=e),h=p.min,c=p.max),u&&(ie(i)&&(h=Math.max(h,i)),ie(r)&&(c=Math.min(c,r))),l&&(h=A-(d-A)*a,c=d+(d-A)*n),u){ie(i)?h=i:h=A,ie(r)?c=r:c=d,c-h<=1e-8&&(h-=this._deltaMinMax,c+=this._deltaMinMax);let _=c-h;h-=_*a,c+=_*n}this.get("logarithmic")&&(h<=0&&(h=A*(1-Math.min(a,.99))),h<t&&(h=t),c>e&&(c=e));let g=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),y=Rr(this.valueToFinalPosition(h),g),v=Rr(this.valueToFinalPosition(c),g);this.setPrivateRaw("selectionMinFinal",h),this.setPrivateRaw("selectionMaxFinal",c),this.setPrivateRaw("selectionStepFinal",p.step),this.zoom(y,v)}}_getMinMax(){let t=this.get("min"),e=this.get("max"),i=1/0,r=-1/0,a=this.get("extraMin",0),n=this.get("extraMax",0);this.get("logarithmic")&&(this.get("strictMinMax")||(this.get("extraMin")==null&&(a=.1),this.get("extraMax")==null&&(n=.2)));let o=1/0;if(te(this.series,v=>{if(!v.get("ignoreMinMax")){let _,S;if(v.get("xAxis")===this?(_=v.getPrivate("minX"),S=v.getPrivate("maxX")):v.get("yAxis")===this&&(_=v.getPrivate("minY"),S=v.getPrivate("maxY")),ie(_)&&ie(S)){i=Math.min(i,_),r=Math.max(r,S);let F=S-_;F<=0&&(F=Math.abs(S/100)),F<o&&(o=F)}}}),this.axisRanges.each(v=>{if(v.get("affectsMinMax")){let _=v.get("value");_!=null&&(i=Math.min(i,_),r=Math.max(r,_)),_=v.get("endValue"),_!=null&&(i=Math.min(i,_),r=Math.max(r,_))}}),this.get("logarithmic")){let v=this.get("treatZeroAs");ie(v)&&i<=0&&(i=v),i<=0&&new Error("Logarithmic value axis can not have values <= 0.")}if(i===0&&r===0&&(r=.9,i=-.9),ie(t)&&(i=t),ie(e)&&(r=e),i===1/0||r===-1/0){this.setPrivate("minFinal",void 0),this.setPrivate("maxFinal",void 0);return}i>r&&([i,r]=[r,i]);let l=i,u=r,h=this.adapters.fold("min",i),c=this.adapters.fold("max",r);this._minRealLog=i,ie(h)&&(i=h),ie(c)&&(r=c),i=this._fixMin(i),r=this._fixMax(r),r-i<=1/Math.pow(10,15)&&(r-i!==0?this._deltaMinMax=(r-i)/2:this._getDelta(r),i-=this._deltaMinMax,r+=this._deltaMinMax),i-=(r-i)*a,r+=(r-i)*n,this.get("logarithmic")&&(i<0&&l>=0&&(i=0),r>0&&u<=0&&(r=0)),this._minReal=i,this._maxReal=r;let A=this.get("strictMinMax"),d=this.get("strictMinMaxSelection",!1);d&&(A=d);let f=A;ie(e)&&(f=!0);let p=this.get("renderer").gridCount(),m=this._adjustMinMax(i,r,p,f);if(i=m.min,r=m.max,m=this._adjustMinMax(i,r,p,!0),i=m.min,r=m.max,A){ie(t)?i=t:i=this._minReal,ie(e)?r=e:r=this._maxReal,r-i<=1e-8&&(i-=this._deltaMinMax,r+=this._deltaMinMax);let v=r-i;i-=v*a,r+=v*n}h=this.adapters.fold("min",i),c=this.adapters.fold("max",r),ie(h)&&(i=h),ie(c)&&(r=c),o==1/0&&(o=r-i);let g=Math.round(Math.abs(Math.log(Math.abs(r-i))*Math.LOG10E))+5;i=Rr(i,g),r=Rr(r,g);let y=this.get("syncWithAxis");if(y&&(m=this._syncAxes(i,r,m.step,y.getPrivate("minFinal",y.getPrivate("min",0)),y.getPrivate("maxFinal",y.getPrivate("max",1)),y.getPrivate("step",1)),i=m.min,r=m.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((r-i)/o*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,r=this._maxReal,i<=0&&(i=l*(1-Math.min(a,.99)))),ie(i)&&ie(r)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==r)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",r),this._saveMinMax(i,r);let v=this.get("interpolationDuration",0),_=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:v,easing:_}),this.animatePrivate({key:"max",to:r,duration:v,easing:_})}}_fixZoomFactor(){}_getDelta(t){let e=Math.log(Math.abs(t))*Math.LOG10E,i=Math.pow(10,Math.floor(e));i=i/10,this._deltaMinMax=i}_saveMinMax(t,e){}_adjustMinMax(t,e,i,r){i<=1&&(i=1),i=Math.round(i);let a=t,n=e,o=e-t;o===0&&(o=Math.abs(e));let l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l));u=u/10;let h=u;r&&(h=0),r?(t=Math.floor(t/u)*u,e=Math.ceil(e/u)*u):(t=Math.ceil(t/u)*u-h,e=Math.floor(e/u)*u+h),t<0&&a>=0&&(t=0),e>0&&n<=0&&(e=0),l=Math.log(Math.abs(o))*Math.LOG10E,u=Math.pow(10,Math.floor(l)),u=u/100;let c=Math.ceil(o/i/u)*u,A=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),d=Math.ceil(c/A);d>5?d=10:d<=5&&d>2&&(d=5),c=Math.ceil(c/(A*d))*A*d;let f=this.get("maxPrecision");if(ie(f)){let y=ED(c,f);f<Number.MAX_VALUE&&c!==y&&(c=y,c==0&&(c=1))}let p=0;A<1&&(p=Math.round(Math.abs(Math.log(Math.abs(A))*Math.LOG10E))+1,c=Rr(c,p));let m=Math.floor(t/c);t=Rr(c*m,p);let g;return r?g=Math.floor(e/c):g=Math.ceil(e/c),g===m&&g++,e=Rr(c*g,p),e<n&&(e=e+c),t>a&&(t=t-c),c=this.fixSmallStep(c),{min:t,max:e,step:c}}getTooltipText(t,e){let i=this.get("tooltipNumberFormat",this.get("numberFormat")),r=this.getNumberFormatter(),a=this.get("extraTooltipPrecision",0),n=this.getPrivate("stepDecimalPlaces",0)+a,o=Rr(this.positionToValue(t),n);return i?r.format(o,i):r.format(o,void 0,n)}getSeriesItem(t,e){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),r=this.positionToValue(e),a,n;if(te(t.dataItems,(o,l)=>{let u=Math.abs(o.get(i)-r);(a===void 0||u<n)&&(a=l,n=u)}),a!=null)return t.dataItems[a]}zoomToValues(t,e,i){let r=this.getPrivate("minFinal",0),a=this.getPrivate("maxFinal",0);this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((t-r)/(a-r),(e-r)/(a-r),i)}_syncAxes(t,e,i,r,a,n){if(this.get("syncWithAxis")){let l=Math.round(a-r)/n,u=Math.round((e-t)/i),h=this.get("renderer").gridCount();if(ie(l)&&ie(u)){let c=!1,A=0,d=(e-t)*.01,f=t,p=e,m=i;for(;c!=!0;)if(c=this._checkSync(f,p,m,l),A++,A>500&&(c=!0),c)t=f,e=p,i=m;else{A/3==Math.round(A/3)?(f=t-d*A,t>=0&&f<0&&(f=0)):(p=e+d*A,p<=0&&p>0&&(p=0));let g=this._adjustMinMax(f,p,h,!0);f=g.min,p=g.max,m=g.step}}}return{min:t,max:e,step:i}}_checkSync(t,e,i,r){let a=(e-t)/i;for(let n=1;n<r;n++)if(Rr(a/n,1)==r||a*n==r)return!0;return!1}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),e=this.getPrivate("selectionMin",this.getPrivate("min"));return ie(t)&&ie(e)?this.getPrivate("step",1)/(t-e):.05}nextPosition(t){t==null&&(t=1),this.get("renderer").getPrivate("letter")=="Y"&&(t*=-1);let e=this.positionToValue(this.getPrivate("tooltipPosition",0));return e+=this.getPrivate("step",1)*t,e=zi(e,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(e))}};Object.defineProperty(wi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"});Object.defineProperty(wi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([wi.className])});var ys=class s extends No{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();let t=this.dataItems.length,e=0;this._valuesDirty&&(this._itemMap={},te(this.dataItems,i=>{i.setRaw("index",e),this._itemMap[i.get("category")]=i,e++}),this.setPrivateRaw("maxZoomFactor",t)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*t),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*t),t)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){te(this.series,t=>{let e=this.dataItems[this.startIndex()].get("category"),i=this.dataItems[this.endIndex()-1].get("category"),r=t.get("baseAxis"),a=t.get("xAxis"),n=t.get("yAxis");if(a instanceof s&&n instanceof s)t._markDirtyAxes();else if(r===this){let o,l,u=n;if(a===r?(t.get("categoryXField")&&(o="categoryX"),t.get("openCategoryXField")&&(l="openCategoryX")):n===r&&(t.get("categoryYField")&&(o="categoryY"),t.get("openCategoryYField")&&(l="openCategoryY"),u=a),u instanceof wi&&(o||l)){let h,c;for(let p=0,m=t.dataItems.length;p<m;p++){let g=t.dataItems[p];if(o&&g.get(o)===e){h=g;break}if(l&&g.get(l)===e){h=g;break}}for(let p=t.dataItems.length-1;p>=0;p--){let m=t.dataItems[p];if(o&&m.get(o)===i){c=m;break}if(l&&m.get(l)===i){c=m;break}}let A=0,d=t.dataItems.length;h&&(A=t.dataItems.indexOf(h)),c&&(d=t.dataItems.indexOf(c)+1),t.setPrivate("startIndex",A),t.setPrivate("endIndex",d);let f=!1;for(let p=A;p<d;p++){let m=t.dataItems[p];if(te(t.__valueXShowFields,g=>{m.get(g)!=null&&(f=!0)}),te(t.__valueYShowFields,g=>{m.get(g)!=null&&(f=!0)}),f)break}t.setPrivate("outOfSelection",!f)}t._markDirtyAxes()}})}_prepareAxisItems(){var t;let e=this.get("renderer"),i=this.dataItems.length,r=this.startIndex();r>0&&r--;let a=this.endIndex();a<i&&a++;let n=e.get("minorLabelsEnabled"),o=e.get("minorGridEnabled",n),l=e.axisLength()/Math.max(e.get("minGridDistance"),1),u=Math.max(1,Math.min(i,Math.ceil((a-r)/l)));r=Math.floor(r/u)*u,this._frequency=u;for(let c=0;c<i;c++)this._toggleDataItem(this.dataItems[c],!1);let h=this.dataItems[r].get("index",0);for(let c=r;c<a;c=c+u){let A=this.dataItems[c];this._createAssets(A,[]),this._toggleDataItem(A,!0);let d=u;o&&(d=1),this._prepareDataItem(A,h,d),h++}if(e.get("minorGridEnabled"))for(let c=r;c<a;c++){let A=this.dataItems[c];c%u!=0&&(this._createAssets(A,["minor"],!0),this._toggleDataItem(A,!0),this._prepareDataItem(A,0,1),n||(t=A.get("label"))===null||t===void 0||t.setPrivate("visible",!1))}this._updateGhost()}_prepareDataItem(t,e,i){let r=this.get("renderer"),a=t.get("categoryLocation",0),n=t.get("endCategoryLocation",1),o=t.get("index");ie(o)||(o=this.categoryToIndex(t.get("category")));let l=this.indexToPosition(o,a),u=t.get("endCategory"),h;u?(h=this.categoryToIndex(u),ie(h)||(h=o)):h=o;let c=this.indexToPosition(h,n),A,d;t.get("isRange")?A=h:A=o+this._frequency-1,d=this.indexToPosition(A,n),r.updateLabel(t.get("label"),l,c,i),r.updateGrid(t.get("grid"),l,c),r.updateTick(t.get("tick"),l,c,i),r.updateFill(t.get("axisFill"),l,d),this._processBullet(t),r.updateBullet(t.get("bullet"),l,c);let f=this.get("fillRule");f&&f(t,e)}startIndex(){let t=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),t-1)}endIndex(){let t=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",t),t))}baseValue(){}basePosition(){return 0}getX(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getY(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getDataItemPositionX(t,e,i,r){let a=t.get(e),n=this._itemMap[a];return n?this.indexToPosition(n.get("index",0),i):NaN}getDataItemCoordinateX(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,r))}getDataItemPositionY(t,e,i,r){let a=t.get(e),n=this._itemMap[a];return n?this.indexToPosition(n.get("index",0),i):NaN}getDataItemCoordinateY(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,r))}indexToPosition(t,e){ie(e)||(e=.5);let i=this.dataItems.length,r=this.get("startLocation",0),a=this.get("endLocation",1);i-=r,i-=1-a;let n=(t+e-r)/i,o=this.dataItems[t];return o&&(n+=o.get("deltaPosition",0)),n}categoryToPosition(t){let e=this._itemMap[t];return e?this.indexToPosition(e.get("index")):NaN}categoryToIndex(t){let e=this._itemMap[t];return e?e.get("index"):NaN}dataItemToPosition(t){return this.indexToPosition(t.get("index"))}roundAxisPosition(t,e){return t+=(.5-e)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(t),e)}axisPositionToIndex(t){let e=this.dataItems.length;return zi(Math.floor(t*e),0,e-1)}getTooltipText(t,e){let i=this.dataItems[this.axisPositionToIndex(t)];if(i){let r=i.get("label");if(r)return Cl(r,this.get("tooltipText",""))}}_updateTooltipText(t,e){t._setDataItem(this.dataItems[this.axisPositionToIndex(e)]),t.label.text.markDirtyText()}getSeriesItem(t,e){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),r=this.axisPositionToIndex(e),a=t.dataItems[r],n=this.dataItems[r],o=n.get("category");if(a&&n&&a.get(i)===o)return a;for(let l=0,u=t.dataItems.length;l<u;l++){let h=t.dataItems[l];if(h.get(i)===o)return h}}}zoomToIndexes(t,e,i){let r=this.dataItems.length;this.zoom(t/r,e/r,i)}zoomToCategories(t,e,i){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(e)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}nextPosition(t){t==null&&(t=1),this.get("renderer").getPrivate("letter")=="Y"&&(t*=-1);let e=this.getPrivate("tooltipPosition",0),i=zi(this.axisPositionToIndex(e)+t,0,this.dataItems.length-1);return this.toGlobalPosition(this.indexToPosition(i))}};Object.defineProperty(ys,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"});Object.defineProperty(ys,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:No.classNames.concat([ys.className])});var wr=class extends wi{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(t){this.setPrivateRaw("baseInterval",t),this._baseDuration=po(t)}_fixZoomFactor(){let t=this.get("maxZoomFactor");t!=null&&t!=1/0?this.setPrivateRaw("maxZoomFactor",t):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){let t=this.getPrivate("min"),e=this.getPrivate("max");if(ie(t)&&ie(e)){this._fixZoomFactor();let i=this.getPrivate("groupInterval");if(i?this._setBaseInterval(i):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let r=this.get("groupInterval");r&&(this.setRaw("groupIntervals",[r]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))te(this.series,r=>{this._groupSeriesData(r)}),this._handleRangeChange();else{let r=this.get("baseInterval"),a=r.timeUnit+r.count;te(this.series,n=>{n.setDataSet(a),n.resetGrouping()}),this._setBaseInterval(r),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(t){if(this.get("groupData")&&!t.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let e=[],i=this.baseMainDuration(),r=this.get("groupIntervals");te(r,d=>{po(d)>i&&e.push(d)}),t._dataSets={};let a=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n,o=t.get("baseAxis");t.get("xAxis")===o?n=t._valueYFields:t.get("yAxis")===o&&(n=t._valueXFields);let l=t._mainDataItems,u=this.get("baseInterval"),h=u.timeUnit+u.count;t._dataSets[h]=l;let c=t.get("groupDataCallback"),A=t.get("groupDataWithOriginals",!1);c&&(A=!0),te(e,d=>{let f=-1/0,p=d.timeUnit+d.count;t._dataSets[p]=[];let m,g={},y={},v={},_={};te(n,$=>{g[$]=0,y[$]=0,v[$]=t.get($+"Grouped"),_[$]=$+"Working"});let S=Js(d.timeUnit),F=l[0],P;F&&(P=l[0].get(a));let D;te(l,$=>{let I=$.get(a),R=os(I,d.timeUnit,d.count,this._root,P),T;f<R-S/24?(T=uo($.dataContext),m=new ms(t,T,t._makeDataItem(T)),m.setRaw(a,R),t._dataSets[p].push(m),te(n,Q=>{let K=$.get(Q);ie(K)?(m.setRaw(Q,K),m.setRaw(_[Q],K),y[Q]=1,g[Q]=K):(g[Q]=0,y[Q]=0)}),A&&m.set("originals",[$]),c&&D&&c(D,d),D=m):(te(n,Q=>{let K=v[Q],z=$.get(Q);if(z!=null){let se=m.get(Q);switch(K){case"close":m.setRaw(Q,z);break;case"sum":m.setRaw(Q,se+z);break;case"open":break;case"low":z<se&&m.setRaw(Q,z);break;case"high":z>se&&m.setRaw(Q,z);break;case"average":y[Q]++,g[Q]+=z;let ue=g[Q]/y[Q];m.setRaw(Q,ue);break;case"extreme":Math.abs(z)>Math.abs(se)&&m.setRaw(Q,z);break}m.setRaw(_[Q],m.get(Q));let ee=uo($.dataContext);ee[a]=R,m.dataContext=ee}}),A&&m.get("originals").push($)),f=R}),c&&D&&c(D,d)}),t._dataSetId&&t.setDataSet(t._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",()=>{this.markDirtySize()})}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(t){let e=this.get("baseInterval"),i=ob(0,t,this.get("groupCount",1/0),this.get("groupIntervals"));return po(i)<po(e)&&(i=Object.assign({},e)),i}getIntervalMax(t){return this._intervalMax[t.timeUnit+t.count]}getIntervalMin(t){return this._intervalMin[t.timeUnit+t.count]}_handleRangeChange(){super._handleRangeChange();let t=Math.round(this.getPrivate("selectionMin")),e=Math.round(this.getPrivate("selectionMax"));if(ie(t)&&ie(e)){if(this.get("endLocation")==0&&(e+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=this.get("groupInterval"),r=this.getPrivate("groupInterval"),a=e-t+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(r){let n=po(r);a=Math.ceil(a/n)*n}if(i||(i=this.getGroupInterval(a)),i&&(!r||r.timeUnit!==i.timeUnit||r.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);let n=i.timeUnit+i.count;te(this.series,o=>{o.get("baseAxis")===this&&o.setDataSet(n)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{let o="groupintervalchanged";this.events.isEnabled(o)&&this.events.dispatch(o,{type:o,target:this})})})}}te(this.series,i=>{if(i.get("baseAxis")===this){let r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=$y(i.dataItems,p=>pn(p.get(r),t)).index;n>0&&(n-=1),e+=this.baseDuration()*(1-this.get("endLocation",1));let l=Np(i.dataItems,p=>pn(p.get(r),e)).index,u=l;u>1&&u--;let h=i.dataItems[n],c=i.dataItems[u],A,d;h&&(d=h.get(r)),c&&(A=c.get(r));let f=!1;A!=null&&d!=null&&(A<t||d>e)&&(f=!0),i.setPrivate("outOfSelection",f),i.setPrivate("startIndex",n),i.setPrivate("adjustedStartIndex",i._adjustStartIndex(n)),i.setPrivate("endIndex",l),this.root.events.once("frameended",()=>{i._markDirtyPrivateKey("adjustedStartIndex")})}})}}_adjustMinMax(t,e,i,r){return{min:t,max:e,step:(e-t)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(t,e){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let r=i.timeUnit+i.count;this._intervalMin[r]=t,this._intervalMax[r]=e}_getM(t){return t=="month"||t=="year"||t=="day"?1.05:1.01}_getMinorInterval(t){var e;let i,r=t.count,a=t.timeUnit;return r>1&&(r==10||r==15?r=5:r==12?r=2:r==6?r=1:r==30?r=10:r<10&&(r=1),i={timeUnit:a,count:r}),a=="week"&&(((e=this.getPrivate("baseInterval"))===null||e===void 0?void 0:e.timeUnit)!="week"?i={timeUnit:"day",count:1}:i={timeUnit:"week",count:1}),i}_prepareAxisItems(){let t=this.getPrivate("min"),e=this.getPrivate("max");if(ie(t)&&ie(e)){let i=this._root,r=Math.round(this.getPrivate("selectionMin")),a=Math.round(this.getPrivate("selectionMax")),n=this.get("renderer"),o=this.getPrivate("baseInterval"),l=r,u=0,h=this.get("gridIntervals"),c=ob(0,a-r,n.gridCount(),h);po(c)<this.baseDuration()&&(c=Object.assign({},o));let A=po(c);this._intervalDuration=A;let d=vC(c.timeUnit),f=i.utc,p=i.timezone;l=os(r-A,c.timeUnit,c.count,i,t);let m=l-A,g,y=this.get("dateFormats");this.setPrivateRaw("gridInterval",c);let v=n.get("minorLabelsEnabled"),_=n.get("minorGridEnabled",v),S,F=0;_&&(S=this._getMinorInterval(c),F=po(S));let P=0;for(;l<a+A;){let D;this.dataItems.length<u+1?(D=new ms(this,void 0,{}),this._dataItems.push(D),this.processDataItem(D)):D=this.dataItems[u],this._createAssets(D,[]),this._toggleDataItem(D,!0),D.setRaw("value",l),D.setRaw("labelEndValue",void 0);let $=l+Js(c.timeUnit,c.count*this._getM(c.timeUnit));$=os($,c.timeUnit,1,i),D.setRaw("endValue",$);let I=new Date(l);g=y[c.timeUnit],d&&this.get("markUnitChange")&&ie(m)&&c.timeUnit!="year"&&xC(l,m,d,f,p)&&(g=this.get("periodChangeDateFormats")[c.timeUnit]);let R=D.get("label");R&&R.set("text",i.dateFormatter.format(I,g));let T=c.count;if(c.timeUnit=="week"&&D.setRaw("labelEndValue",l),_){T=1;let Q=c.timeUnit;Q=="week"&&(Q="day");let K=l+Js(Q,this._getM(Q));K=os(K,Q,1,i),D.setRaw("labelEndValue",K)}if(this._prepareDataItem(D,T),m=l,l=$,S){let Q=S.timeUnit,K=S.count,z=this._getM(Q),se=os(m+F*z,Q,K,i,m),ee,ue=this.get("minorDateFormats",this.get("dateFormats"));for(;se<l-.01*F;){let G;this.minorDataItems.length<P+1?(G=new ms(this,void 0,{}),this.minorDataItems.push(G),this.processDataItem(G)):G=this.minorDataItems[P],this._createAssets(G,["minor"],!0),this._toggleDataItem(G,!0),G.setRaw("value",se);let q=se+Js(Q,K*z);q=os(q,Q,1,i),G.setRaw("endValue",q);let ge=new Date(se);g=ue[Q];let ne=G.get("label");if(ne&&(v?ne.set("text",i.dateFormatter.format(ge,g)):ne.setPrivate("visible",!1)),this._prepareDataItem(G,1),se==ee)break;ee=se,se=q,P++}}if(l==m)break;u++}for(let D=u;D<this.dataItems.length;D++)this._toggleDataItem(this.dataItems[D],!1);for(let D=P;D<this.minorDataItems.length;D++)this._toggleDataItem(this.minorDataItems[D],!1);te(this.series,D=>{D.inited&&D._markDirtyAxes()})}this._updateGhost()}_updateFinals(t,e){this.setPrivateRaw("selectionMinFinal",this.positionToValue(t)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(e))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(t){let e=this.getPrivate("baseInterval"),i=e.timeUnit,r=os(t,i,e.count,this._root),a=r+Js(i,e.count*this._getM(i));return a=os(a,i,1,this._root),r+(a-r)*this.get("startLocation",0)}_fixMax(t){let e=this.getPrivate("baseInterval"),i=e.timeUnit,r=os(t,i,e.count,this._root),a=r+Js(i,e.count*this._getM(i));return a=os(a,i,1,this._root),r+(a-r)*this.get("endLocation",1)}_updateDates(t,e){}_handleSeriesRemoved(){this.setPrivate("baseInterval",this.get("baseInterval")),this.setPrivate("min",void 0),this.setPrivate("minFinal",void 0)}baseDuration(){return this._baseDuration}baseMainDuration(){return po(this.get("baseInterval"))}processSeriesDataItem(t,e){let i=this.getPrivate("baseInterval");t.open||(t.open={}),t.close||(t.close={}),te(e,r=>{let a=t.get(r);if(ie(a)){let n=t.open[r],o=t.close[r];if(!(a>=n&&a<=o)){let l=i.timeUnit,u=i.count;n=os(a,l,u,this._root),o=n+Js(l,u*this._getM(l)),o=os(o,l,1,this._root),t.open[r]=n,t.close[r]=o}this._updateDates(n,t.component)}})}_handleSizeDirty(){}getDataItemPositionX(t,e,i,r,a){let n,o,l;return a?l=t.get(e):(t.open&&t.close?(n=t.open[e],o=t.close[e]):(n=t.get(e),o=n),l=n+(o-n)*i,l=this._baseValue+(l-this._baseValue)*r),this.valueToPosition(l)}getDataItemCoordinateX(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,r))}getDataItemPositionY(t,e,i,r,a){let n,o,l;return a?l=t.get(e):(t.open&&t.close?(n=t.open[e],o=t.close[e]):(n=t.get(e),o=n),l=n+(o-n)*i,l=this._baseValue+(l-this._baseValue)*r),this.valueToPosition(l)}getDataItemCoordinateY(t,e,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,r))}roundAxisPosition(t,e){let i=this.positionToValue(t);i=i-(e-.5)*this.baseDuration();let r=this.getPrivate("baseInterval");if(!ca(i)){let a=this._root.locale.firstDayOfWeek,n=r.timeUnit,o=this._root.utc,l=this._root.timezone,u=r.count;i=os(i,n,u,this._root,this.getPrivate("min",0));let h=nb(r,new Date(i),a,o,l);return l&&(i=os(i+this.baseDuration()*.05,n,u,this._root,this.getPrivate("min",0)),h=nb(r,new Date(i+h*e),a,o,l)),this.valueToPosition(i+h*e)}return NaN}getTooltipText(t,e){if(this.getPrivate("min")!=null){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],r=this.positionToValue(t);if(ie(r)){let a=new Date(r),n=this.getPrivate("baseInterval"),o=nb(n,a,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return e!==!1&&(a=new Date(r+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*o)),this._root.dateFormatter.format(a,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(t,e,i,r){let a=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),n=this.positionToValue(e);i==null&&(i=.5),n=n-(i-.5)*this.baseDuration();let o=Np(t.dataItems,l=>{let u=0;return l.open&&(u=l.open[a]),pn(u,n)});if(r||t.get("snapTooltip")){let l=t.dataItems[o.index-1],u=t.dataItems[o.index];if(l&&u&&l.open&&u.close){let h=l.open[a],c=u.close[a];if(Math.abs(n-h)>Math.abs(n-c))return u}if(l)return l;if(u)return u}else{let l=t.dataItems[o.index-1];if(l&&l.open&&l.close){let u=l.open[a],h=l.close[a];if(n>=u&&n<=h)return l}}}shouldGap(t,e,i,r){let a=t.get(r);return e.get(r)-a>this.baseDuration()*i}zoomToDates(t,e,i){this.zoomToValues(t.getTime(),e.getTime(),i)}zoomToValues(t,e,i){let r=this.getPrivate("minFinal",0),a=this.getPrivate("maxFinal",0);if(this.getPrivate("min")!=null&&this.getPrivate("max")!=null)if(this.get("groupData")){let n=this.getGroupInterval(e-t),o=this.get("baseInterval"),l=this.getIntervalMin(o),u=this.getIntervalMax(o)-1;u=os(u,n.timeUnit,n.count,this.root),u+=this._getM(n.timeUnit)*po(n),u=os(u,n.timeUnit,n.count,this.root);let h=os(l,n.timeUnit,n.count,this.root),c=os(u,n.timeUnit,n.count,this.root),A=(t-h)/(c-h),d=(e-h)/(c-h);this.zoom(A,d,i)}else this.zoom((t-r)/(a-r),(e-r)/(a-r),i)}positionToDate(t){return new Date(this.positionToValue(t))}dateToPosition(t){return this.valueToPosition(t.getTime())}getCellWidthPosition(){let t=this.getPrivate("selectionMax",this.getPrivate("max")),e=this.getPrivate("selectionMin",this.getPrivate("min"));return ie(t)&&ie(e)?this._intervalDuration/(t-e):.05}nextPosition(t){t==null&&(t=1);let e=this.get("tooltipLocation",.5)*this.baseDuration();this.get("renderer").getPrivate("letter")=="Y"&&(t*=-1);let i=this.positionToValue(this.getPrivate("tooltipPosition",0)),r=this.getPrivate("baseInterval"),a=this._nextTime(i,t,r),n=this.getPrivate("selectionMin",0),o=this.getPrivate("selectionMax",0),l=os(n,r.timeUnit,r.count,this._root),u=os(o,r.timeUnit,r.count,this._root);return a+=e,a=zi(a,l+e,u-e),this.toGlobalPosition(this.valueToPosition(a))}_nextTime(t,e,i){return os(t+e*this.baseDuration(),i.timeUnit,i.count,this._root)}};Object.defineProperty(wr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"});Object.defineProperty(wr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:wi.classNames.concat([wr.className])});var Ih=class extends xi{constructor(){super(...arguments),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged();let t=this.get("sprite");if(this.isDirty("sprite")&&t&&(t.setAll({position:"absolute",role:"figure"}),this._disposers.push(t)),this.isDirty("location")){let e=t.dataItem;this.axis&&t&&e&&this.axis._prepareDataItem(e)}}_dispose(){let t=this.axis;t&&Mt(t._bullets,(e,i)=>{i.uid==this.uid&&delete t._bullets[e]}),super._dispose()}};Object.defineProperty(Ih,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisBullet"});Object.defineProperty(Ih,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xi.classNames.concat([Ih.className])});var Ds=class extends ma{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:xr.new(this._root,{width:Be,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");let t=this.grid.template;t.set("height",Be),t.set("width",0),t.set("draw",(e,i)=>{e.moveTo(0,0),e.lineTo(0,i.height())}),this.set("draw",(e,i)=>{e.moveTo(0,0),e.lineTo(i.width(),0)})}_changed(){super._changed();let t=this.axis;t.ghostLabel.setPrivate("visible",!this.get("inside")),t.ghostLabel.set("x",-1e3);let e="opposite",i="inside";if(this.isDirty(e)||this.isDirty(i)){let r=this.chart,a=t.children;if(this.get(i)?t.addTag(i):t.removeTag(i),r){if(this.get(e)){let n=r.topAxesContainer.children;n.indexOf(t)==-1&&n.insertIndex(0,t),t.addTag(e),a.moveValue(this)}else{let n=r.bottomAxesContainer.children;n.indexOf(t)==-1&&n.moveValue(t),t.removeTag(e),a.moveValue(this,0)}t.ghostLabel._applyThemes(),this.labels.each(n=>{n._applyThemes()}),this.root._markDirtyRedraw()}t.markDirtySize()}this.thumb.setPrivate("height",t.labelsContainer.height())}_getPan(t,e){return(e.x-t.x)/this.width()}toAxisPosition(t){let e=this._start||0,i=this._end||1;return t-=this._ls,t=t*(i-e)/this._lc,this.get("inversed")?t=i-t:t=e+t,t}toGlobalPosition(t){let e=this._start||0,i=this._end||1;return this.get("inversed")?t=i-t:t=t-e,t=t/(i-e)*this._lc,t+=this._ls,t}_updateLC(){let t=this.axis,e=t.parent;if(e){let i=e.innerWidth();this._lc=this.axisLength()/i,this._ls=(t.x()-e.get("paddingLeft",0))/i}}_updatePositions(){let t=this.axis,e=t.x()-Xt(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0);t.gridContainer.set("x",e),t.topGridContainer.set("x",e),t.bulletsContainer.set("y",this.y());let i=t.chart;if(i){let r=i.plotContainer,a=t.axisHeader,n=t.get("marginLeft",0),o=t.x()-n,l=t.parent;l&&(o-=l.get("paddingLeft",0)),a.children.length>0?(n=t.axisHeader.width(),t.set("marginLeft",n+1)):a.set("width",n),a.setAll({x:o,y:-1,height:r.height()+2})}}processAxis(){super.processAxis();let t=this.axis;t.get("width")==null&&t.set("width",Be);let e=this._root.verticalLayout;t.set("layout",e),t.labelsContainer.set("width",Be),t.axisHeader.setAll({layout:e})}axisLength(){return this.axis.width()}positionToPoint(t){return{x:this.positionToCoordinate(t),y:0}}updateTick(t,e,i,r){if(t){ie(e)||(e=0);let a=.5;ie(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ie(i)&&i!=e&&(e=e+(i-e)*a),t.set("x",this.positionToCoordinate(e));let n=t.get("length",0),o=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("y",Be),o||(n*=-1)):(t.set("y",0),o&&(n*=-1)),t.set("draw",l=>{l.moveTo(0,0),l.lineTo(0,n)}),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateLabel(t,e,i,r){if(t){let a=.5;ie(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ie(e)||(e=0);let n=t.get("inside",this.get("inside",!1));this.get("opposite")?n?(t.set("position","absolute"),t.set("y",0)):(t.set("position","relative"),t.set("y",Be)):n?(t.set("y",0),t.set("position","absolute")):(t.set("y",void 0),t.set("position","relative")),ie(i)&&i!=e&&(e=e+(i-e)*a),t.set("x",this.positionToCoordinate(e)),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,e,i){if(t){ie(e)||(e=0);let r=t.get("location",.5);ie(i)&&i!=e&&(e=e+(i-e)*r),t.set("x",this.positionToCoordinate(e)),this.toggleVisibility(t,e,0,1)}}updateBullet(t,e,i){if(t){let r=t.get("sprite");if(r){ie(e)||(e=0);let a=t.get("location",.5);ie(i)&&i!=e&&(e=e+(i-e)*a);let n=this.axis.roundAxisPosition(e,a),o=this.axis._bullets[n],l=-1;if(this.get("opposite")&&(l=1),t.get("stacked"))if(o){let u=o.get("sprite");u&&r.set("y",u.y()+u.height()*l)}else r.set("y",0);this.axis._bullets[n]=t,r.set("x",this.positionToCoordinate(e)),this.toggleVisibility(r,e,0,1)}}}updateFill(t,e,i){if(t){ie(e)||(e=0),ie(i)||(i=1);let r=this.positionToCoordinate(e),a=this.positionToCoordinate(i);this.fillDrawMethod(t,r,a)}}fillDrawMethod(t,e,i){t.set("draw",r=>{let a=this.axis.gridContainer.height(),n=this.width();i<e&&([i,e]=[e,i]),!(e>n||i<0)&&(r.moveTo(e,0),r.lineTo(i,0),r.lineTo(i,a),r.lineTo(e,a),r.lineTo(e,0))})}positionTooltip(t,e){this._positionTooltip(t,{x:this.positionToCoordinate(e),y:0})}updateTooltipBounds(t){let e=this.get("inside"),i=1e5,r=this._display.toGlobal({x:0,y:0}),a=r.x,n=0,o=this.axisLength(),l=i,u="up";this.get("opposite")?e?(u="up",n=r.y,l=i):(u="down",n=r.y-i,l=i):e?(u="down",n=r.y-i,l=i):(u="up",n=r.y,l=i);let h={left:a,right:a+o,top:n,bottom:n+l},c=t.get("bounds");Qy(h,c)||(t.set("bounds",h),t.set("pointerOrientation",u))}};Object.defineProperty(Ds,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"});Object.defineProperty(Ds,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ma.classNames.concat([Ds.className])});var vn=class extends ma{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:xr.new(this._root,{height:Be,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=yt(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");let t=this.grid.template;t.set("width",Be),t.set("height",0),t.set("draw",(e,i)=>{e.moveTo(0,0),e.lineTo(i.width(),0)}),this.set("draw",(e,i)=>{e.moveTo(0,0),e.lineTo(0,i.height())})}_getPan(t,e){return(t.y-e.y)/this.height()}_changed(){super._changed();let t=this.axis;t.ghostLabel.setPrivate("visible",!this.get("inside")),t.ghostLabel.set("y",-1e3);let e=this.thumb,i="opposite",r="inside",a=this.chart;if(this.isDirty(i)||this.isDirty(r)){let o=t.children;if(this.get(r)?t.addTag(r):t.removeTag(r),a){if(this.get(i)){let l=a.rightAxesContainer.children;l.indexOf(t)==-1&&l.moveValue(t,0),t.addTag(i),o.moveValue(this,0)}else{let l=a.leftAxesContainer.children;l.indexOf(t)==-1&&l.moveValue(t),t.removeTag(i),o.moveValue(this)}t.ghostLabel._applyThemes(),this.labels.each(l=>{l._applyThemes()}),this.root._markDirtyRedraw()}t.markDirtySize()}let n=t.labelsContainer.width();a&&(this.get(i)?e.set("centerX",0):e.set("centerX",n)),e.setPrivate("width",n)}processAxis(){super.processAxis();let t=this.axis;t.get("height")==null&&t.set("height",Be);let e=this._root.horizontalLayout;t.set("layout",e),t.labelsContainer.set("height",Be),t.axisHeader.set("layout",e)}_updatePositions(){let t=this.axis,e=t.y()-Xt(t.get("centerY",0),t.height());t.gridContainer.set("y",e),t.topGridContainer.set("y",e),t.bulletsContainer.set("x",this.x());let i=t.chart;if(i){let r=i.plotContainer,a=t.axisHeader,n=t.get("marginTop",0);a.children.length>0?(n=t.axisHeader.height(),t.set("marginTop",n+1)):a.set("height",n),a.setAll({y:t.y()-n,x:-1,width:r.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(t){return{x:0,y:this.positionToCoordinate(t)}}updateLabel(t,e,i,r){if(t){ie(e)||(e=0);let a=.5;ie(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a);let n=this.get("opposite"),o=t.get("inside",this.get("inside",!1));n?(t.set("x",0),o?t.set("position","absolute"):t.set("position","relative")):o?(t.set("x",0),t.set("position","absolute")):(t.set("x",void 0),t.set("position","relative")),ie(i)&&i!=e&&(e=e+(i-e)*a),t.set("y",this.positionToCoordinate(e)),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateGrid(t,e,i){if(t){ie(e)||(e=0);let r=t.get("location",.5);ie(i)&&i!=e&&(e=e+(i-e)*r),t.set("y",this.positionToCoordinate(e)),this.toggleVisibility(t,e,0,1)}}updateTick(t,e,i,r){if(t){ie(e)||(e=0);let a=.5;ie(r)&&r>1?a=t.get("multiLocation",a):a=t.get("location",a),ie(i)&&i!=e&&(e=e+(i-e)*a),t.set("y",this.positionToCoordinate(e));let n=t.get("length",0),o=t.get("inside",this.get("inside",!1));this.get("opposite")?(t.set("x",0),o&&(n*=-1)):o||(n*=-1),t.set("draw",l=>{l.moveTo(0,0),l.lineTo(n,0)}),this.toggleVisibility(t,e,t.get("minPosition",0),t.get("maxPosition",1))}}updateBullet(t,e,i){if(t){let r=t.get("sprite");if(r){ie(e)||(e=0);let a=t.get("location",.5);ie(i)&&i!=e&&(e=e+(i-e)*a);let n=this.axis.roundAxisPosition(e,a),o=this.axis._bullets[n],l=1;if(this.get("opposite")&&(l=-1),t.get("stacked"))if(o){let u=o.get("sprite");u&&r.set("x",u.x()+u.width()*l)}else r.set("x",0);this.axis._bullets[n]=t,r.set("y",this.positionToCoordinate(e)),this.toggleVisibility(r,e,0,1)}}}updateFill(t,e,i){if(t){ie(e)||(e=0),ie(i)||(i=1);let r=this.positionToCoordinate(e),a=this.positionToCoordinate(i);this.fillDrawMethod(t,r,a)}}fillDrawMethod(t,e,i){t.set("draw",r=>{let a=this.axis.gridContainer.width(),n=this.height();i<e&&([i,e]=[e,i]),!(e>n||i<0)&&(r.moveTo(0,e),r.lineTo(a,e),r.lineTo(a,i),r.lineTo(0,i),r.lineTo(0,e))})}positionToCoordinate(t){return this._inversed?(t-this._start)*this._axisLength:(this._end-t)*this._axisLength}positionTooltip(t,e){this._positionTooltip(t,{x:0,y:this.positionToCoordinate(e)})}updateTooltipBounds(t){let e=this.get("inside"),i=1e5,r=this._display.toGlobal({x:0,y:0}),a=r.y,n=0,o=this.axisLength(),l=i,u="right";this.get("opposite")?e?(u="right",n=r.x-i,l=i):(u="left",n=r.x,l=i):e?(u="left",n=r.x,l=i):(u="right",n=r.x-i,l=i);let h={left:n,right:n+l,top:a,bottom:a+o},c=t.get("bounds");Qy(h,c)||(t.set("bounds",h),t.set("pointerOrientation",u))}_updateLC(){let t=this.axis,e=t.parent;if(e){let i=e.innerHeight();this._lc=this.axisLength()/i,this._ls=t.y()/i}}toAxisPosition(t){let e=this._start||0,i=this._end||1;return t-=this._ls,t=t*(i-e)/this._lc,this.get("inversed")?t=e+t:t=i-t,t}toGlobalPosition(t){let e=this._start||0,i=this._end||1;return this.get("inversed")?t=t-e:t=i-t,t=t/(i-e)*this._lc,t+=this._ls,t}fixPosition(t){return this.get("inversed")?t:1-t}};Object.defineProperty(vn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"});Object.defineProperty(vn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ma.classNames.concat([vn.className])});var $h=class extends kr{_beforeChanged(){super._beforeChanged(),(this.isDirty("lowX0")||this.isDirty("lowY0")||this.isDirty("lowX1")||this.isDirty("lowY1")||this.isDirty("highX0")||this.isDirty("highX1")||this.isDirty("highY0")||this.isDirty("highY1"))&&(this._clear=!0)}_draw(){super._draw();let t=this._display;t.moveTo(this.get("lowX0",0),this.get("lowY0",0)),t.lineTo(this.get("lowX1",0),this.get("lowY1",0)),t.moveTo(this.get("highX0",0),this.get("highY0",0)),t.lineTo(this.get("highX1",0),this.get("highY1",0))}};Object.defineProperty($h,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Candlestick"});Object.defineProperty($h,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kr.classNames.concat([$h.className])});var Cr=class extends Lh{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({}),()=>kr._new(this._root,{position:"absolute",themeTags:yt(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template])))})}makeColumn(t,e){let i=this.mainContainer.children.push(e.make());return i._setDataItem(t),e.push(i),i}_processAxisRange(t){super._processAxisRange(t),t.columns=new Xi(Ut.new({}),()=>kr._new(this._root,{position:"absolute",themeTags:yt(t.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,t.columns.template]))}};Object.defineProperty(Cr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"});Object.defineProperty(Cr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Lh.classNames.concat([Cr.className])});var xn=class extends Cr{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Xi(Ut.new({themeTags:["autocolor"]}),()=>$h._new(this._root,{themeTags:yt(this.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template])))})}makeColumn(t,e){let i=this.mainContainer.children.push(e.make());return i._setDataItem(t),e.push(i),i}_updateGraphics(t,e){super._updateGraphics(t,e);let i=this.getRaw("xAxis"),r=this.getRaw("yAxis"),a=this.getRaw("baseAxis"),n=this.get("vcy",1),o=this.get("vcx",1),l,u,h,c,A,d,f,p,m=this.get("locationX",t.get("locationX",.5)),g=this.get("locationY",t.get("locationY",.5)),y=this.get("openLocationX",t.get("openLocationX",m)),v=this.get("openLocationY",t.get("openLocationY",g)),_;if(r===a){let S=i.getDataItemPositionX(t,this._xOpenField,1,o),F=i.getDataItemPositionX(t,this._xField,1,o);u=i.getDataItemPositionX(t,this._xLowField,1,o),d=i.getDataItemPositionX(t,this._xHighField,1,o),A=Math.max(S,F),l=Math.min(S,F);let P=this._aLocationY0+v-.5,D=this._aLocationY1+g-.5;h=r.getDataItemPositionY(t,this._yField,P+(D-P)/2,n),c=h,f=h,p=h,_="horizontal"}else{let S=r.getDataItemPositionY(t,this._yOpenField,1,n),F=r.getDataItemPositionY(t,this._yField,1,n);c=r.getDataItemPositionY(t,this._yLowField,1,n),p=r.getDataItemPositionY(t,this._yHighField,1,n),f=Math.max(S,F),h=Math.min(S,F);let P=this._aLocationX0+y-.5,D=this._aLocationX1+m-.5;l=i.getDataItemPositionX(t,this._xField,P+(D-P)/2,o),u=l,A=l,d=l,_="vertical"}this._updateCandleGraphics(t,l,u,h,c,A,d,f,p,_)}_updateCandleGraphics(t,e,i,r,a,n,o,l,u,h){let c=t.get("graphics");if(c){let A=this.getPoint(e,r),d=this.getPoint(i,a),f=this.getPoint(n,l),p=this.getPoint(o,u),m=c.x(),g=c.y();c.set("lowX0",A.x-m),c.set("lowY0",A.y-g),c.set("lowX1",d.x-m),c.set("lowY1",d.y-g),c.set("highX0",f.x-m),c.set("highY0",f.y-g),c.set("highX1",p.x-m),c.set("highY1",p.y-g),c.set("orientation",h);let y=t.get("rangeGraphics");y&&te(y,v=>{v.set("lowX0",A.x-m),v.set("lowY0",A.y-g),v.set("lowX1",d.x-m),v.set("lowY1",d.y-g),v.set("highX0",f.x-m),v.set("highY0",f.y-g),v.set("highX1",p.x-m),v.set("highY1",p.y-g),v.set("orientation",h)})}}_processAxisRange(t){super._processAxisRange(t),t.columns=new Xi(Ut.new({}),()=>$h._new(this._root,{themeTags:yt(t.columns.template.get("themeTags",[]),["candlestick","series","column"])},[this.columns.template,t.columns.template]))}};Object.defineProperty(xn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CandlestickSeries"});Object.defineProperty(xn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Cr.classNames.concat([xn.className])});var Vo=class extends ri{_afterNew(){this._setDefault("curveFactory",$C),super._afterNew()}_getPoints(t,e){let i=e.points,r=this.get("stepWidth",Be).value/2,a=t.get("locationX",e.locationX),n=t.get("locationY",e.locationY),o=a,l=n;e.baseAxis===e.xAxis?(a-=r,o+=r):e.baseAxis===e.yAxis&&(n-=r,l+=r);let u=e.xAxis.getDataItemPositionX(t,e.xField,a,e.vcx),h=e.yAxis.getDataItemPositionY(t,e.yField,n,e.vcy),c=e.xAxis.getDataItemPositionX(t,e.xField,o,e.vcx),A=e.yAxis.getDataItemPositionY(t,e.yField,l,e.vcy);if(this._shouldInclude(u)){let d=this.getPoint(u,h),f=[d.x,d.y],p=this.getPoint(c,A),m=[p.x,p.y];if(e.fillVisible){let g=u,y=h,v=c,_=A;if(e.baseAxis===e.xAxis?(y=e.basePosY,_=e.basePosY):e.baseAxis===e.yAxis&&(g=e.basePosX,v=e.basePosX),e.getOpen){let P=t.get(e.xOpenField),D=t.get(e.yOpenField);if(P!=null&&D!=null)if(a=t.get("openLocationX",e.openLocationX),n=t.get("openLocationY",e.openLocationY),o=a,l=n,e.baseAxis===e.xAxis?(a-=r,o+=r):e.baseAxis===e.yAxis&&(n-=r,l+=r),e.stacked){let $=t.get("stackToItemX"),I=t.get("stackToItemY");$?(g=e.xAxis.getDataItemPositionX($,e.xField,a,$.component.get("vcx")),v=e.xAxis.getDataItemPositionX($,e.xField,o,$.component.get("vcx"))):e.yAxis===e.baseAxis?(g=e.basePosX,v=e.basePosX):e.baseAxis===e.yAxis&&(g=e.xAxis.getDataItemPositionX(t,e.xOpenField,a,e.vcx),v=e.xAxis.getDataItemPositionX(t,e.xOpenField,o,e.vcx)),I?(y=e.yAxis.getDataItemPositionY(I,e.yField,n,I.component.get("vcy")),_=e.yAxis.getDataItemPositionY(I,e.yField,l,I.component.get("vcy"))):e.xAxis===e.baseAxis?(y=e.basePosY,_=e.basePosY):e.baseAxis===e.yAxis&&(y=e.yAxis.getDataItemPositionY(t,e.yOpenField,n,e.vcy),_=e.yAxis.getDataItemPositionY(t,e.yOpenField,l,e.vcy))}else g=e.xAxis.getDataItemPositionX(t,e.xOpenField,a,e.vcx),y=e.yAxis.getDataItemPositionY(t,e.yOpenField,n,e.vcy),v=e.xAxis.getDataItemPositionX(t,e.xOpenField,o,e.vcx),_=e.yAxis.getDataItemPositionY(t,e.yOpenField,l,e.vcy)}let S=this.getPoint(g,y),F=this.getPoint(v,_);f[2]=S.x,f[3]=S.y,m[2]=F.x,m[3]=F.y}i.push(f),i.push(m),t.set("point",{x:f[0]+(m[0]-f[0])/2,y:f[1]+(m[1]-f[1])/2})}this.get("noRisers")&&(e.points=[],e.segments.push(i))}};Object.defineProperty(Vo,"className",{enumerable:!0,configurable:!0,writable:!0,value:"StepLineSeries"});Object.defineProperty(Vo,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ri.classNames.concat([Vo.className])});function a1(s){var t,e,i=s.length;if(i===1)t=0,e=s[0][1];else{for(var r=0,a=0,n=0,o=0,l,u,h,c=0;c<i;c++)l=s[c],u=l[0],h=l[1],r+=u,a+=h,n+=u*u,o+=u*h;t=(i*o-r*a)/(i*n-r*r),e=a/i-t*r/i}return{m:t,b:e}}function n1(s){return function(t){return s.b+s.m*t}}function o1(s,t){if(s.length<2)return 1;for(var e=0,i=0;i<s.length;i++)e+=s[i][1];for(var r=e/s.length,a=0,n=0;n<s.length;n++)a+=Math.pow(r-s[n][1],2);for(var o=0,l=0;l<s.length;l++)o+=Math.pow(s[l][1]-t(s[l][0]),2);return 1-o/a}var l1=function(){this.totalCount=0,this.data={}};l1.prototype.train=function(t,e){this.data[e]||(this.data[e]={});for(var i in t){var r=t[i];this.data[e][i]===void 0&&(this.data[e][i]={}),this.data[e][i][r]===void 0&&(this.data[e][i][r]=0),this.data[e][i][r]++}this.totalCount++};l1.prototype.score=function(t){var e={},i;for(var r in t){var a=t[r];for(i in this.data)e[i]={},this.data[i][r]?e[i][r+"_"+a]=(this.data[i][r][a]||0)/this.totalCount:e[i][r+"_"+a]=0}var n={};for(i in e){n[i]=0;for(var o in e[i])n[i]+=e[i][o]}return n};var u1=function(){this.weights=[],this.bias=0};u1.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,i=0;i<this.weights.length;i++)e+=this.weights[i]*t[i];return e+=this.bias,e>0?1:0};u1.prototype.train=function(t,e){if(e!==0&&e!==1)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var i=this.predict(t);if(typeof i=="number"&&i!==e){for(var r=e-i,a=0;a<this.weights.length;a++)this.weights[a]+=r*t[a];this.bias+=r}return this};var $le=607/128,kle=Math.log(Math.sqrt(2*Math.PI));var Mle=Math.sqrt(2*Math.PI);var eH=Math.sqrt(2*Math.PI);function tH(s){for(var t=s,e=s,i=1;i<15;i++)e*=s*s/(2*i+1),t+=e;return Math.round((.5+t/eH*Math.exp(-s*s/2))*1e4)/1e4}var iH=[];for(gb=0;gb<=3.09;gb+=.01)iH.push(tH(gb));var gb;var h1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function rH(s){return typeof s=="string"&&h1.test(s)}var c1=rH;function sH(s){if(!c1(s))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(s.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,t&255,(t=parseInt(s.slice(9,13),16))>>>8,t&255,(t=parseInt(s.slice(14,18),16))>>>8,t&255,(t=parseInt(s.slice(19,23),16))>>>8,t&255,(t=parseInt(s.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255)}var kC=sH;var ya=[];for(let s=0;s<256;++s)ya.push((s+256).toString(16).slice(1));function d1(s,t=0){return(ya[s[t+0]]+ya[s[t+1]]+ya[s[t+2]]+ya[s[t+3]]+"-"+ya[s[t+4]]+ya[s[t+5]]+"-"+ya[s[t+6]]+ya[s[t+7]]+"-"+ya[s[t+8]]+ya[s[t+9]]+"-"+ya[s[t+10]]+ya[s[t+11]]+ya[s[t+12]]+ya[s[t+13]]+ya[s[t+14]]+ya[s[t+15]]).toLowerCase()}function aH(s){s=unescape(encodeURIComponent(s));let t=new Uint8Array(s.length);for(let e=0;e<s.length;++e)t[e]=s.charCodeAt(e);return t}var A1="6ba7b810-9dad-11d1-80b4-00c04fd430c8",f1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function MC(s,t,e,i,r,a){let n=typeof e=="string"?aH(e):e,o=typeof i=="string"?kC(i):i;if(typeof i=="string"&&(i=kC(i)),i?.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+n.length);if(l.set(o),l.set(n,o.length),l=t(l),l[6]=l[6]&15|s,l[8]=l[8]&63|128,r){a=a||0;for(let u=0;u<16;++u)r[a+u]=l[u];return r}return d1(l)}function nH(s,t,e,i){switch(s){case 0:return t&e^~t&i;case 1:return t^e^i;case 2:return t&e^t&i^e&i;case 3:return t^e^i}}function EC(s,t){return s<<t|s>>>32-t}function oH(s){let t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520],i=new Uint8Array(s.length+1);i.set(s),i[s.length]=128,s=i;let r=s.length/4+2,a=Math.ceil(r/16),n=new Array(a);for(let o=0;o<a;++o){let l=new Uint32Array(16);for(let u=0;u<16;++u)l[u]=s[o*64+u*4]<<24|s[o*64+u*4+1]<<16|s[o*64+u*4+2]<<8|s[o*64+u*4+3];n[o]=l}n[a-1][14]=(s.length-1)*8/Math.pow(2,32),n[a-1][14]=Math.floor(n[a-1][14]),n[a-1][15]=(s.length-1)*8&4294967295;for(let o=0;o<a;++o){let l=new Uint32Array(80);for(let f=0;f<16;++f)l[f]=n[o][f];for(let f=16;f<80;++f)l[f]=EC(l[f-3]^l[f-8]^l[f-14]^l[f-16],1);let u=e[0],h=e[1],c=e[2],A=e[3],d=e[4];for(let f=0;f<80;++f){let p=Math.floor(f/20),m=EC(u,5)+nH(p,h,c,A)+d+t[p]+l[f]>>>0;d=A,A=c,c=EC(h,30)>>>0,h=u,u=m}e[0]=e[0]+u>>>0,e[1]=e[1]+h>>>0,e[2]=e[2]+c>>>0,e[3]=e[3]+A>>>0,e[4]=e[4]+d>>>0}return Uint8Array.of(e[0]>>24,e[0]>>16,e[0]>>8,e[0],e[1]>>24,e[1]>>16,e[1]>>8,e[1],e[2]>>24,e[2]>>16,e[2]>>8,e[2],e[3]>>24,e[3]>>16,e[3]>>8,e[3],e[4]>>24,e[4]>>16,e[4]>>8,e[4])}var p1=oH;function RC(s,t,e,i){return MC(80,p1,s,t,e,i)}RC.DNS=A1;RC.URL=f1;var FA=RC;var yb=class extends yn{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}};var m1=yb;var Uo=class s extends yn{constructor(t,e){super(t,e),Object.defineProperty(this,"_dp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"responsiveRules",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._dp=new $r([this._root._rootContainer.onPrivate("width",i=>{this._isUsed()&&this._maybeApplyRules()}),this._root._rootContainer.onPrivate("height",i=>{this._isUsed()&&this._maybeApplyRules()})])}static widthXXS(t,e){return t<=s.XXS}static widthXS(t,e){return t<=s.XS}static widthS(t,e){return t<=s.S}static widthM(t,e){return t<=s.M}static widthL(t,e){return t<=s.L}static widthXL(t,e){return t<=s.XL}static widthXXL(t,e){return t<=s.XXL}static heightXXS(t,e){return e<=s.XXS}static heightXS(t,e){return e<=s.XS}static heightS(t,e){return e<=s.S}static heightM(t,e){return e<=s.M}static heightL(t,e){return e<=s.L}static heightXL(t,e){return e<=s.XL}static heightXXL(t,e){return e<=s.XXL}static isXXS(t,e){return t<=s.XXS&&e<=s.XXS}static isXS(t,e){return t<=s.XS&&e<=s.XS}static isS(t,e){return t<=s.S&&e<=s.S}static isM(t,e){return t<=s.M&&e<=s.M}static isL(t,e){return t<=s.L&&e<=s.L}static isXL(t,e){return t<=s.XL&&e<=s.XL}static isXXL(t,e){return t<=s.XXL&&e<=s.XXL}static maybeXXS(t,e){return t<=s.XXS||e<=s.XXS}static maybeXS(t,e){return t<=s.XS||e<=s.XS}static maybeS(t,e){return t<=s.S||e<=s.S}static maybeM(t,e){return t<=s.M||e<=s.M}static maybeL(t,e){return t<=s.L||e<=s.L}static maybeXL(t,e){return t<=s.XL||e<=s.XL}static maybeXXL(t,e){return t<=s.XXL||e<=s.XXL}static newEmpty(t){return new this(t,!0)}addRule(t){return t.name&&!t.template&&(t.template=this.rule(t.name,t.tags)),this.responsiveRules.push(t),this._maybeApplyRule(t),t}removeRule(t){Ts(this.responsiveRules,t)}dispose(){this._dp&&this._dp.dispose()}_isUsed(){return this._root._rootContainer.get("themes").indexOf(this)!==-1}_maybeApplyRules(){te(this.responsiveRules,t=>{this._maybeUnapplyRule(t)}),te(this.responsiveRules,t=>{this._maybeApplyRule(t)})}_maybeApplyRule(t){if(t.applied)return;let e=this._root._rootContainer.getPrivate("width"),i=this._root._rootContainer.getPrivate("height");t.relevant.call(t,e,i)&&(t.applied=!0,t.template&&t.settings&&t.template.setAll(t.settings),t.applying&&t.applying.call(t))}_maybeUnapplyRule(t){if(!t.applied)return;let e=this._root._rootContainer.getPrivate("width"),i=this._root._rootContainer.getPrivate("height");t.relevant.call(t,e,i)||(t.applied=!1,t.template&&t.template.removeAll(),t.removing&&t.removing.call(t))}setupDefaultRules(){super.setupDefaultRules();let t=e=>this.addRule(e);t({name:"Chart",relevant:s.widthXXS,settings:{paddingLeft:0,paddingRight:0}}),t({name:"Chart",relevant:s.heightXXS,settings:{paddingTop:0,paddingBottom:0}}),t({name:"Bullet",relevant:s.isXS,settings:{forceHidden:!0}}),t({name:"Legend",relevant:s.isXS,settings:{forceHidden:!0}}),t({name:"HeatLegend",tags:["vertical"],relevant:s.widthXS,settings:{forceHidden:!0}}),t({name:"HeatLegend",tags:["horizontal"],relevant:s.heightXS,settings:{forceHidden:!0}}),t({name:"Label",tags:["heatlegend","start"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"Label",tags:["heatlegend","end"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"Button",tags:["resize"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"AxisRendererX",relevant:s.heightXS,settings:{inside:!0}}),t({name:"AxisRendererY",relevant:s.widthXS,settings:{inside:!0}}),t({name:"AxisRendererXLabel",relevant:s.heightXS,settings:{minPosition:.1,maxPosition:.9}}),t({name:"AxisLabel",tags:["y"],relevant:s.widthXS,settings:{centerY:Be,maxPosition:.9}}),t({name:"AxisLabel",tags:["x"],relevant:s.heightXXS,settings:{forceHidden:!0}}),t({name:"AxisLabel",tags:["x","minor"],relevant:s.widthXXL,settings:{forceHidden:!0}}),t({name:"AxisLabel",tags:["y"],relevant:s.widthXXS,settings:{forceHidden:!0}}),t({name:"AxisLabel",tags:["y","minor"],relevant:s.heightXXL,settings:{forceHidden:!0}}),t({name:"AxisTick",tags:["x"],relevant:s.heightXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}}),t({name:"AxisTick",tags:["y"],relevant:s.widthXXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}}),t({name:"Grid",relevant:s.maybeXXS,settings:{forceHidden:!0}}),t({name:"RadialLabel",tags:["radial"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"RadialLabel",tags:["circular"],relevant:s.maybeS,settings:{inside:!0}}),t({name:"AxisTick",relevant:s.maybeS,settings:{inside:!0}}),t({name:"RadialLabel",tags:["circular"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"AxisTick",tags:["circular"],relevant:s.maybeXS,settings:{inside:!0}}),t({name:"PieChart",relevant:s.maybeXS,settings:{radius:ii(99)}}),t({name:"PieChart",relevant:s.widthM,settings:{radius:ii(99)}}),t({name:"RadialLabel",tags:["pie"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"RadialLabel",tags:["pie"],relevant:s.widthM,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pie"],relevant:s.maybeXS,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pie"],relevant:s.widthM,settings:{forceHidden:!0}}),t({name:"FunnelSeries",relevant:s.widthM,settings:{alignLabels:!1}}),t({name:"Label",tags:["funnel","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Tick",tags:["funnel","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Label",tags:["funnel","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Tick",tags:["funnel","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"PyramidSeries",relevant:s.widthM,settings:{alignLabels:!1}}),t({name:"Label",tags:["pyramid","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pyramid","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Label",tags:["pyramid","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pyramid","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"PictorialStackedSeries",relevant:s.widthM,settings:{alignLabels:!1}}),t({name:"Label",tags:["pictorial","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pictorial","vertical"],relevant:s.widthL,settings:{forceHidden:!0}}),t({name:"Label",tags:["pictorial","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Tick",tags:["pictorial","horizontal"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Label",tags:["flow","horizontal"],relevant:s.widthS,settings:{forceHidden:!0}}),t({name:"Label",tags:["flow","vertical"],relevant:s.heightS,settings:{forceHidden:!0}}),t({name:"Chord",relevant:s.maybeXS,settings:{radius:ii(99)}}),t({name:"Label",tags:["hierarchy","node"],relevant:s.maybeXS,settings:{forceHidden:!0}})}};Object.defineProperty(Uo,"XXS",{enumerable:!0,configurable:!0,writable:!0,value:100});Object.defineProperty(Uo,"XS",{enumerable:!0,configurable:!0,writable:!0,value:200});Object.defineProperty(Uo,"S",{enumerable:!0,configurable:!0,writable:!0,value:300});Object.defineProperty(Uo,"M",{enumerable:!0,configurable:!0,writable:!0,value:400});Object.defineProperty(Uo,"L",{enumerable:!0,configurable:!0,writable:!0,value:600});Object.defineProperty(Uo,"XL",{enumerable:!0,configurable:!0,writable:!0,value:800});Object.defineProperty(Uo,"XXL",{enumerable:!0,configurable:!0,writable:!0,value:1e3});var g1=Uo;var nt=function(){function s(t){this._value=t}return Object.defineProperty(s.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),s.prototype.toString=function(){return""+this._value+"%"},s}();function he(s){return new nt(s)}function NC(s){return s instanceof nt}function zr(s){return Number(s)!==s}function y1(s){return{}.toString.call(s)}function PA(s){if(typeof s=="string")return s;if(typeof s=="number")return""+s;throw new Error("Expected a string or number but got "+y1(s))}function Hi(s){return!!s}function Jt(s){if(N(s)&&!k(s)){var t=Number(s);return zr(t)&&ft(s)&&s!=""?Jt(s.replace(/[^0-9.\-]+/g,"")):t}return s}function bs(s){if(N(s)&&!ft(s)){if(k(s))return PA(s);if(ni(s))return s.toString()}return s}function b1(s){return!N(s)||k(s)||NC(s)?s:ft(s)&&s.indexOf("%")!=-1?he(Jt(s)):Jt(s)}function N(s){return s!=null}function gi(s){if(N(s))return s;throw new Error("Value doesn't exist")}function bb(s,t){return N(s)?s:t}function kh(s){return y1(s)==="[object Date]"}function ft(s){return typeof s=="string"}function k(s){return typeof s=="number"&&Number(s)==s}function ni(s){return typeof s=="object"&&s!=null}function Ci(s){return Array.isArray(s)}var rm=Math.PI,UC=rm/2,TA=rm/180,Ll=180/rm;function xb(s,t,e){return N(s)?(s=Jt(s),Le(s,t,e)):s}function be(s,t,e){if(!k(t)||t<=0){var i=Math.round(s);return e&&i-s==.5&&i--,i}else{var r=Math.pow(10,t);return Math.round(s*r)/r}}function QC(s,t){if(!k(t)||t<=0)return Math.ceil(s);var e=Math.pow(10,t);return Math.ceil(s*e)/e}function Le(s,t,e){if(k(t)){if(k(e)&&e<t){var i=e;e=t,t=i}s<t&&(s=t)}return k(e)&&s>e&&(s=e),s}function Fe(s){return be(Math.sin(TA*s),10)}function HC(s){return be(Math.tan(TA*s),10)}function Pe(s){return be(Math.cos(TA*s),10)}function ht(s,t){return k(s)?k(t)&&t>s?t:s:k(t)?t:null}function bt(s,t){return k(s)?k(t)&&t<s?t:s:k(t)?t:null}function v1(s,t){return s.reduce(function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e})}function DA(s,t){var e=gi(s.start),i=gi(t.start),r=gi(s.end),a=gi(t.end);return Math.max(e,i)<=Math.min(r,a)}function OA(s){var t=gi(s.start),e=gi(s.end);return{start:1-e,end:1-t}}function x1(s,t){var e=gi(s.start),i=gi(t.start),r=gi(s.end),a=gi(t.end),n=Math.max(e,i),o=Math.min(r,a);if(!(o<n))return{start:n,end:o}}function Et(s,t){return s?(t||(t={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(s.x-t.x),2)+Math.pow(Math.abs(s.y-t.y),2))):0}function w1(s,t){return s?(t||(t={x:0,y:0}),Math.abs(s.x-t.x)):0}function C1(s,t){return s?(t||(t={x:0,y:0}),Math.abs(s.y-t.y)):0}function _1(s,t,e,i,r){if(!s)return 0;t||(t={x:0,y:0});var a=0,n=s;if(r>0)for(var o=0;o<=r;o++){var l=sm(s,t,e,i,o/r);a+=Et(n,l),n=l}return a}function S1(s,t,e,i){var r=Et(t,i),a=Et(s,e);return Math.abs(a/r)}function Jc(s,t,e){return k(e)||(e=.5),{x:s.x+(t.x-s.x)*e,y:s.y+(t.y-s.y)*e}}function dr(s,t){t||(t={x:s.x*2,y:s.y*2});var e=t.x-s.x,i=t.y-s.y,r=Math.atan2(i,e)*Ll;return r<0&&(r+=360),Ol(r)}function LA(s){if(s){var t=s.length;if(t!==0){for(var e=void 0,i=void 0,r,a=void 0,n=0;n<t;n++){var o=s[n];(!k(i)||o.x>i)&&(i=o.x),(!k(e)||o.x<e)&&(e=o.x),(!k(r)||o.y<r)&&(r=o.y),(!k(a)||o.y>a)&&(a=o.y)}return{x:e,y:r,width:i-e,height:a-r}}}return{x:0,y:0,width:0,height:0}}function Il(s){var t=s.length;if(t!==0){for(var e=void 0,i=void 0,r=void 0,a=void 0,n=0;n<t;n++){var o=s[n];e=bt(o.x,e),i=bt(o.y,i),r=ht(o.x+o.width,r),a=ht(o.y+o.height,a)}return{x:e,y:i,width:r-e,height:a-i}}}function jC(s,t,e,i){var r=(1-i)*(1-i)*s.x+2*(1-i)*i*e.x+i*i*t.x,a=(1-i)*(1-i)*s.y+2*(1-i)*i*e.y+i*i*t.y;return{x:r,y:a}}function sm(s,t,e,i,r){var a={x:0,y:0},n=1-r,o=n*n,l=o*n;return a.x=s.x*l+e.x*3*o*r+i.x*3*n*r*r+t.x*r*r*r,a.y=s.y*l+e.y*3*o*r+i.y*3*n*r*r+t.y*r*r*r,a}function wb(s,t,e,i,r,a){return r=vb(r),a=vb(a),{x:(-s.x+t.x/r+e.x)*r,y:(-s.y+t.y/a+e.y)*a}}function Cb(s,t,e,i,r,a){return r=vb(r),a=vb(a),{x:(t.x+e.x/r-i.x)*r,y:(t.y+e.y/a-i.y)*a}}function vb(s){return 1-s+1e-5}function Ol(s){return s==360?360:s%360}function Un(s,t,e){if(t>e){var i=t;t=e,e=i}s=Ol(s);var r=(t-Ol(t))/360;s<t&&(s+=360*(r+1));var a=t+(e-t)/2+180,n=t+(e-t)/2-180;return s>e&&(s-360>t?s-=360:s<a?s=e:s=t),s<t&&(s>n?s=t:s=e),s}function qa(s,t,e){var i=Number.MAX_VALUE,r=Number.MAX_VALUE,a=-Number.MAX_VALUE,n=-Number.MAX_VALUE,o=[];k(e)||(e=1),o.push(VC(e,s)),o.push(VC(e,t));for(var l=Math.min(Math.floor(s/90)*90,Math.floor(t/90)*90),u=Math.max(Math.ceil(s/90)*90,Math.ceil(t/90)*90),h=l;h<=u;h+=90)h>=s&&h<=t&&o.push(VC(e,h));for(var c=0;c<o.length;c++){var A=o[c];A.x<i&&(i=A.x),A.y<r&&(r=A.y),A.x>a&&(a=A.x),A.y>n&&(n=A.y)}return{x:i,y:r,width:a-i,height:n-r}}function VC(s,t){return{x:s*Pe(t),y:s*Fe(t)}}function _b(s,t){return s.x>=t.x&&s.x<=t.x+t.width&&s.y>=t.y&&s.y<=t.y+t.height}function ea(s,t){for(var e=s.length,i=0;i<e;++i)if(s[i]===t)return i;return-1}function am(s,t){for(var e=s.length,i=0;i<e;++i)if(t(s[i]))return!0;return!1}function Su(s,t){for(var e=s.length,i=new Array(e),r=0;r<e;++r)i[r]=t(s[r],r);return i}function Ce(s,t){for(var e=s.length,i=0;i<e;++i)t(s[i],i)}function B1(s,t){for(var e=s.length;e--;)t(s[e],e)}function IA(s,t){for(var e=s.length,i=0;i<e&&t(s[i],i);++i);}function F1(s,t){for(var e=s.length,i=t;i<e;++i)s[i-t]=s[i];s.length=e-t}function P1(s,t){for(var e=t.length,i=0;i<e;++i)s.push(t[i])}function tt(s,t){var e=!1,i=s.indexOf(t);if(i!==-1){e=!0,s.splice(i,1);for(var r=s.length;i<r;)s[i]===t?(s.splice(i,1),--r):++i}return e}function Oa(s,t,e){var i=ea(s,t);i!==-1&&Eh(s,i),e==null?s.push(t):Mh(s,e,t)}function ed(s,t,e){k(e)?e===0?s.unshift(t):s.splice(e,0,t):s.push(t)}function T1(s,t,e){var i=s.indexOf(t);i!==-1&&s.splice(i,1),k(e)?s.splice(e,0,t):s.push(t)}function Sb(s){return Array.isArray(s)?s:[s]}function Bu(s){for(var t=s.length,e=new Array(t),i=0;i<t;++i)e[i]=s[i];return e}function Mh(s,t,e){s.splice(t,0,e)}function Eh(s,t){s.splice(t,1)}function $A(s,t,e){for(var i=0,r=s.length,a=!1;i<r;){var n=i+r>>1,o=t(e,s[n]);o<0?r=n:(o===0&&(a=!0),i=n+1)}return{found:a,index:a?i-1:i}}function Bb(s,t){for(var e=s.length,i=0;i<e;++i)if(t(s[i],i))return i;return-1}function WC(s,t){for(var e=s.length,i=0;i<e;)t(s[i])?++i:(s.splice(i,1),--e)}var Ot=function(){function s(t){this._disposed=!1,this._dispose=t}return s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},s}();var Qt=function(s){U(t,s);function t(e){return s.call(this,function(){Ce(e,function(i){i.dispose()})})||this}return t}(Ot);var Ti=function(s){U(t,s);function t(){var e=s.call(this,function(){N(e._disposer)&&(e._disposer.dispose(),e._disposer=void 0)})||this;return e}return t.prototype.get=function(){return this._value},t.prototype.set=function(e,i){N(this._disposer)&&this._disposer.dispose(),this._disposer=i,this._value=e},t.prototype.reset=function(){this.set(void 0,void 0)},t}(Ot);var Fu=function(s){U(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e._counter=0,e}return t.prototype.increment=function(){var e=this;return++this._counter,new Ot(function(){--e._counter,e._counter===0&&e.dispose()})},t}(Ot);var XC=!1,Fb=[],nm=[],Pb=[],zC=[],lH=1e3/60,Tb=typeof requestAnimationFrame=="function"?function(s){requestAnimationFrame(s)}:function(s){setTimeout(s,lH)};function D1(){for(var s=Date.now(),t=Fb.length,e=0;e<t;++e)Fb[e](s);F1(Fb,t);for(var e=0;e<nm.length;++e)nm[e](s);nm.length=0;for(var e=0;e<Pb.length;++e)Pb[e](s);Pb.length=0,Fb.length===0&&nm.length===0?XC=!1:Tb(D1)}function O1(){XC||(XC=!0,Tb(D1))}function GC(s){nm.push(s),O1()}function Db(s){Pb.push(s),O1()}function YC(s){zC.push(s)}function KC(){for(var s=Date.now(),t=zC.length,e=0;e<t;++e)zC.shift()(s)}var wn=function(){function s(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{Ce(t,function(e){e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}},s.prototype.hasListeners=function(){return this._listeners.length!==0},s.prototype.hasListenersByType=function(t){return am(this._listeners,function(e){return(e.type===null||e.type===t)&&!e.killed})},s.prototype.enable=function(){this._enabled=!0},s.prototype.disable=function(){this._enabled=!1},s.prototype.enableType=function(t){delete this._disabled[t]},s.prototype.disableType=function(t,e){e===void 0&&(e=1/0),this._disabled[t]=e},s.prototype._removeListener=function(t){if(this._iterating===0){var e=this._listeners.indexOf(t);if(e===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)},s.prototype._removeExistingListener=function(t,e,i,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(a){a.once===t&&a.type===e&&(i==null||a.callback===i)&&a.context===r&&a.disposer.dispose()})},s.prototype.isEnabled=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&this._disabled[t]==null},s.prototype.has=function(t,e,i){var r=Bb(this._listeners,function(a){return a.once!==!0&&a.type===t&&(e==null||a.callback===e)&&a.context===i});return r!==-1},s.prototype._shouldDispatch=function(t){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[t];return k(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled},s.prototype._eachListener=function(t){var e=this;++this._iterating;try{Ce(this._listeners,t)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(Ce(this._killed,function(i){e._removeListener(i)}),this._killed.length=0)}},s.prototype.dispatchImmediately=function(t,e){this._shouldDispatch(t)&&this._eachListener(function(i){!i.killed&&(i.type===null||i.type===t)&&i.dispatch(t,e)})},s.prototype.dispatch=function(t,e){this._shouldDispatch(t)&&this._eachListener(function(i){!i.killed&&(i.type===null||i.type===t)&&YC(function(){i.killed||i.dispatch(t,e)})})},s.prototype._on=function(t,e,i,r,a,n){var o=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,r);var l={type:e,callback:i,context:r,shouldClone:a,dispatch:n,killed:!1,once:t,disposer:new Ot(function(){l.killed=!0,o._removeListener(l)})};return this._listeners.push(l),l},s.prototype.onAll=function(t,e,i){return i===void 0&&(i=!0),this._on(!1,null,t,e,i,function(r,a){return t.call(e,r,a)}).disposer},s.prototype.on=function(t,e,i,r){return r===void 0&&(r=!0),this._on(!1,t,e,i,r,function(a,n){return e.call(i,n)}).disposer},s.prototype.once=function(t,e,i,r){r===void 0&&(r=!0);var a=this._on(!0,t,e,i,r,function(n,o){a.disposer.dispose(),e.call(i,o)});return a.disposer},s.prototype.off=function(t,e,i){this._removeExistingListener(!1,t,e,i)},s.prototype.copyFrom=function(t){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");Ce(t._listeners,function(i){!i.killed&&i.shouldClone&&(i.type===null?e.onAll(i.callback,i.context):i.once?e.once(i.type,i.callback,i.context):e.on(i.type,i.callback,i.context))})},s}();var om=function(s){U(t,s);function t(e){var i=s.call(this)||this;return i.target=e,i}return t.prototype.copyFrom=function(e){var i=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");Ce(e._listeners,function(r){r.context!==e.target&&!r.killed&&r.shouldClone&&(r.type===null?i.onAll(r.callback,r.context):r.once?i.once(r.type,r.callback,r.context):i.on(r.type,r.callback,r.context))})},t}(wn);function I1(s){return function(t){for(var e in s)if(go(s,e)&&!t([e,s[e]]))break}}function $1(s){var t=[];for(var e in s)go(s,e)&&t.push(e);return t}function uH(s,t){return $1(s).sort(t)}function go(s,t){return{}.hasOwnProperty.call(s,t)}function qC(s,t){for(var e in s)if(go(s,e)&&!t(e,s[e]))break}function Qe(s,t){qC(s,function(e,i){return t(e,i),!0})}function Qo(s,t,e){Ce(uH(s,e),function(i){t(i,s[i])})}function lm(s,t){return Object.assign({},s,t)}function k1(s){return JSON.parse(JSON.stringify(s))}function ji(s,t,e){Ce(e,function(i){N(s[i])&&(t[i]=s[i])})}function M1(s,t,e){Ce(e,function(i){t[i]=s[i]})}function kA(s,t){ji(s,t,$1(s))}function $l(s){return function(t){for(var e=s.length,i=0;i<e&&t(s[i]);++i);}}function E1(s){var t=0;return s(function(e){return++t,!0}),t}function td(s){var t=[];return s(function(e){return t.push(e),!0}),t}function Zr(s,t){s(t)}function de(s,t){s(function(e){return t(e),!0})}function Pu(s,t){return $l(td(s).sort(t))}function Ob(s,t){return function(e){return s(function(i){return e(t(i))})}}function R1(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];return function(e){for(var i=!0,r=function(o){return i=e(o)},a=s.length,n=0;n<a&&(s[n](r),!!i);++n);}}function N1(s){return function(t){var e=!0,i=function(r){return e=t(r)};s(function(r){return r(i),e})}}function yo(s){return function(t){var e=0;s(function(i){return t([e++,i])})}}function V1(s,t){var e;return s(function(i){return t(i)?(e=i,!1):!0}),e}function MA(s,t){var e=!1;return s(function(i){return t(i)?(e=!0,!1):!0}),e}var id=function(){function s(t,e){this.createNewItems=!1,this.list=t,this._create=e,this.reset()}return s.prototype.reset=function(){this._listCopy=td(this.list.iterator())},s.prototype.clear=function(){this._listCopy.length=0},s.prototype.getFirst=function(){return this.returnItem(0)},s.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},s.prototype.find=function(t){var e=Bb(this._listCopy,t);if(e!==-1){var i=this._listCopy[e];return tt(this._listCopy,i),i}else return this.getLast()},s.prototype.removeItem=function(t){return tt(this._listCopy,t)},s.prototype.returnItem=function(t){if(t>=0&&t<this._listCopy.length){var e=this._listCopy[t];return tt(this._listCopy,e),e}else if(this.createNewItems)return this._create()},s.prototype.iterator=function(){return $l(this._listCopy)},s}();function um(s,t){return s===t?0:s<t?-1:1}function ZC(s,t){return new Array(t+1).join(s)}function U1(s){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<s;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Cn=function(s){U(t,s);function t(e){var i=this,r=e.events.on("removed",function(a){a.oldValue.dispose()},void 0,!1);return i=s.call(this,function(){r.dispose(),de(e.iterator(),function(a){var n=a[1];n.dispose()})})||this,i}return t}(Ot);var Nt=function(){function s(){this.events=new wn,this._dictionary={}}return s.prototype.hasKey=function(t){return go(this._dictionary,t)},s.prototype.getKey=function(t){return this._dictionary[t]},s.prototype.insertKey=function(t,e){if(go(this._dictionary,t))throw new Error("Key "+t+" already exists in dictionary");this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},s.prototype.setKey=function(t,e){if(go(this._dictionary,t)){var i=this._dictionary[t];i!==e&&(this._dictionary[t]=e,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else this._dictionary[t]=e,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:t,newValue:e})},s.prototype.updateKey=function(t,e){if(go(this._dictionary,t)){var i=this._dictionary[t],r=e(i);i!==r&&(this._dictionary[t]=r,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:t,oldValue:i,newValue:r}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else throw new Error("Key "+t+" doesn't exist in dictionary")},s.prototype.removeKey=function(t){if(go(this._dictionary,t)){var e=this._dictionary[t];delete this._dictionary[t],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e})}},s.prototype.insertKeyIfEmpty=function(t,e){return this.hasKey(t)||this.insertKey(t,e()),this.getKey(t)},s.prototype.clear=function(){var t=this;this.events.isEnabled("removed")&&Qe(this._dictionary,function(e,i){t.events.dispatchImmediately("removed",{type:"removed",target:t,oldValue:i})}),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},s.prototype.copyFrom=function(t){var e=this;de(t.iterator(),function(i){e.setKey(i[0],i[1])})},s.prototype.iterator=function(){return I1(this._dictionary)},s.prototype[Symbol.iterator]=function(){var t,e,i,r;return ai(this,function(a){switch(a.label){case 0:t=[];for(e in this._dictionary)t.push(e);i=0,a.label=1;case 1:return i<t.length?(r=t[i],go(this._dictionary,r)?[4,[r,this._dictionary[r]]]:[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}})},s.prototype.each=function(t){de(this.iterator(),function(e){var i=ch(e,2),r=i[0],a=i[1];return t(r,a)})},s.prototype.sortedIterator=function(){return Pu(this.iterator(),function(t,e){return um(t[0],e[0])})},s}();var kl=function(s){U(t,s);function t(e){var i=s.call(this)||this;return i.template=e,i}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;de(e.iterator(),function(r){i.setKey(r[0],r[1].clone())})},t.prototype.create=function(e){var i=this;return this.insertKeyIfEmpty(e,function(){return i.template.clone()})},t}(Nt);var Q1=function(){function s(){this._storage=new Nt,this.ttl=1e3}return s.prototype.set=function(t,e,i,r){var a=this._storage.insertKeyIfEmpty(t,function(){return new Nt}),n={touched:new Date().getTime(),ttl:k(r)?r:this.ttl,value:i};a.setKey(e,n)},s.prototype.get=function(t,e,i){if(i===void 0&&(i=void 0),this._storage.hasKey(t)){var r=this._storage.getKey(t);if(r.hasKey(e)){var a=r.getKey(e);return a.ttl&&a.touched+a.ttl<new Date().getTime()&&(a.expired=!0),a.expired?(r.removeKey(e),i):a.value}else return i}else return i},s.prototype.clear=function(t){t?this._storage.removeKey(t):this._storage.clear()},s}();var Rh=new Q1;var H1=function(){function s(){var t=this;this.events=new wn,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],typeof addEventListener<"u"&&(addEventListener("beforeprint",function(){Ce(t.baseSprites,function(e){var i=e.paper.svg;i.setAttribute("viewBox","0 0 "+i.clientWidth+" "+i.clientHeight)})}),addEventListener("afterprint",function(){Ce(t.baseSprites,function(e){var i=e.paper.svg;i.removeAttribute("viewBox")})}))}return s.prototype.getUniqueId=function(){var t=this._uidCount;return this._uidCount+=1,"id-"+t},Object.defineProperty(s.prototype,"map",{get:function(){return this._map||(this._map=new Nt),this._map},enumerable:!0,configurable:!0}),s.prototype.setCache=function(t,e,i){Rh.set(this.uid,t,e,i)},s.prototype.getCache=function(t,e){return e===void 0&&(e=void 0),Rh.get(this.uid,t,e)},s.prototype.dispatch=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},s.prototype.dispatchImmediately=function(t,e){this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatchImmediately(t,e)):this.events.dispatchImmediately(t,{type:t,target:this}))},s.prototype.getPlaceholder=function(t){return N(this._placeholders[t])?this._placeholders[t]:(this._placeholders[t]="__amcharts_"+t+"_"+U1(8)+"__",this._placeholders[t])},s.prototype.addToInvalidComponents=function(t){t.baseId?Oa(this.invalidDatas[t.baseId],t):Oa(this.invalidDatas.noBase,t)},s.prototype.removeFromInvalidComponents=function(t){t.baseId&&tt(this.invalidDatas[t.baseId],t),tt(this.invalidDatas.noBase,t)},s.prototype.addToInvalidSprites=function(t){t.baseId?ed(this.invalidSprites[t.baseId],t):ed(this.invalidSprites.noBase,t)},s.prototype.removeFromInvalidSprites=function(t){t.baseId&&tt(this.invalidSprites[t.baseId],t),tt(this.invalidSprites.noBase,t)},s.prototype.addToInvalidPositions=function(t){t.baseId?ed(this.invalidPositions[t.baseId],t):ed(this.invalidPositions.noBase,t)},s.prototype.removeFromInvalidPositions=function(t){t.baseId&&tt(this.invalidPositions[t.baseId],t),tt(this.invalidPositions.noBase,t)},s.prototype.addToInvalidLayouts=function(t){t.baseId?ed(this.invalidLayouts[t.baseId],t):ed(this.invalidLayouts.noBase,t)},s.prototype.removeFromInvalidLayouts=function(t){t.baseId&&tt(this.invalidLayouts[t.baseId],t),tt(this.invalidLayouts.noBase,t)},s}();var E=new H1;function js(s,t){var e=E.registeredClasses[t];return e!=null&&s instanceof e}var JC=function(){function s(t,e,i){this._array=t,this._start=e,this._end=i}return s.prototype.iterator=function(){var t=this;return function(e){if(t._start!==t._end)if(t._start<t._end)for(var i=t._start;i<t._end&&e(t._array[i]);++i);else for(var i=t._start-1;i>=t._end&&e(t._array[i]);--i);}},s.prototype.backwards=function(){return new s(this._array,this._end,this._start)},s.prototype.range=function(t,e){if(t<=e){if(this._start===this._end)return this;if(this._start<this._end){var i=e-t;return t=Math.max(this._start+t,this._start),e=Math.min(t+i,this._end),new s(this._array,t,e)}else{var i=e-t;return t=Math.max(this._start-t,this._end),e=Math.max(t-i,this._end),new s(this._array,t,e)}}else throw new Error("Start index must be lower than end index")},s}();var hH=function(s){U(t,s);function t(e,i,r){var a=s.call(this,[e.events.on("inserted",function(n){var o=n.newValue,l=a._getKey(o),u=0;Zr(e.iterator(),function(h){return h===o?!1:(a._getKey(h)===l&&++u,!0)}),a._insert(o,l,u)},void 0,!1),e.events.on("removed",function(n){a._remove(n.oldValue)},void 0,!1)])||this;return a._keys=[],a._groups={},a._getKey=i,a._sort=r,de(e.iterator(),function(n){a._insert(n,i(n))}),a}return t.prototype._insert=function(e,i,r){if(this._groups[i]==null){this._groups[i]=[];var a=$A(this._keys,this._sort,i),n=a.found,o=a.index;if(n)throw new Error("Key already exists: "+i);Mh(this._keys,o,i)}r==null?this._groups[i].push(e):Mh(this._groups[i],r,e)},t.prototype._remove=function(e){var i=this._getKey(e),r=this._groups[i];if(r!=null&&(tt(r,e),r.length===0)){delete this._groups[i];var a=$A(this._keys,this._sort,i),n=a.found,o=a.index;if(n)Eh(this._keys,o);else throw new Error("Key doesn't exist: "+i)}},t.prototype.iterator=function(){var e=this;return N1(Ob($l(this._keys),function(i){return $l(e._groups[i])}))},t}(Qt);var Lt=function(s){U(t,s);function t(e,i){i===void 0&&(i=!0);var r=this;if(i){var a=e.events.on("removed",function(n){n.oldValue.dispose()},void 0,!1);r=s.call(this,function(){a.dispose(),de(e.iterator(),function(n){n.dispose()})})||this}else r=s.call(this,function(){de(e.iterator(),function(n){n.dispose()})})||this;return r}return t}(Ot);function cm(s,t){if(!(s>=0&&s<t))throw new Error("Index out of bounds: "+s)}var xt=function(){function s(t){t===void 0&&(t=[]),this.events=new wn,this._values=t}return Object.defineProperty(s.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),s.prototype.contains=function(t){return this._values.indexOf(t)!==-1},s.prototype.removeValue=function(t){for(var e=0,i=this._values.length;e<i;)this._values[e]===t?(this.removeIndex(e),--i):++e},s.prototype.indexOf=function(t){return ea(this._values,t)},Object.defineProperty(s.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),s.prototype.hasIndex=function(t){return t>=0&&t<this._values.length},s.prototype.getIndex=function(t){return this._values[t]},s.prototype.setIndex=function(t,e){cm(t,this._values.length);var i=this._values[t];return i!==e&&(this._values[t]=e,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:i,newValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})),i},s.prototype.insertIndex=function(t,e){cm(t,this._values.length+1),Mh(this._values,t,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})},s.prototype._sortQuicksort=function(t,e,i){if(t<e){var r=this._sortPartition(t,e,i);this._sortQuicksort(t,r,i),this._sortQuicksort(r+1,e,i)}},s.prototype._sortPartition=function(t,e,i){for(var r=this._values,a=r[t],n=t-1,o=e+1;;){do++n;while(i(r[n],a)<0);do--o;while(i(r[o],a)>0);if(n>=o)return o;this.swap(n,o)}},s.prototype.sort=function(t){this._sortQuicksort(0,this._values.length-1,t)},s.prototype.swap=function(t,e){var i=this._values.length;if(cm(t,i),cm(e,i),t!==e){var r=this._values[t],a=this._values[e];this._values[t]=a,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:r,newValue:a}),this._values[e]=r,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:a,newValue:r})}},s.prototype.removeIndex=function(t){cm(t,this._values.length);var e=this._values[t];return Eh(this._values,t),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:e}),e},s.prototype.moveValue=function(t,e){var i=this.indexOf(t);if(i!==-1){var r=this._values[i];Eh(this._values,i),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:i,oldValue:r})}e==null?(e=this._values.length,this._values.push(t)):Mh(this._values,e,t),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),i===-1&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})},s.prototype.push=function(t){var e=this._values.push(t)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t}),t},s.prototype.unshift=function(t){this.insertIndex(0,t)},s.prototype.pushAll=function(t){var e=this;Ce(t,function(i){e.push(i)})},s.prototype.copyFrom=function(t){this.pushAll(t._values)},s.prototype.pop=function(){var t=this._values.length-1;return t<0?void 0:this.removeIndex(this._values.length-1)},s.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},s.prototype.setAll=function(t){var e=this,i=Bu(this._values);this._values.length=0,Ce(t,function(r){e._values.push(r)}),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:i,newArray:this._values}),this.events.isEnabled("removed")&&Ce(i,function(r){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:r})}),this.events.isEnabled("inserted")&&Ce(this._values,function(r){e.events.dispatchImmediately("inserted",{type:"inserted",target:e,newValue:r})})},s.prototype.clear=function(){this.setAll([])},s.prototype.iterator=function(){return $l(this._values)},s.prototype[Symbol.iterator]=function(){var t,e;return ai(this,function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}})},s.prototype.each=function(t){Ce(this._values,t)},s.prototype.range=function(t,e){if(t<=e){var i=e-t;return t=Math.max(t,0),e=Math.min(t+i,this._values.length),new JC(this._values,t,e)}else throw new Error("Start index must be lower than end index")},s.prototype.backwards=function(){return new JC(this._values,this._values.length,0)},s}();var Kt=function(s){U(t,s);function t(e){var i=s.call(this)||this;return i.template=e,i}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;de(e.iterator(),function(r){i.push(r.clone())})},t.prototype.create=function(e){var i=e!=null?new e:this.template.clone();return this.push(i),i},t.prototype.clone=function(){for(var e=new t(this.template),i=this.values,r=i.length,a=0;a<r;++a)e.push(i[a].clone());return e},t}(xt);var e_=function(){function s(t){this._values=[],this.events=new wn,t!=null&&this.setAll(t)}return Object.defineProperty(s.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),s.prototype._insert=function(t){return this._values.push(t),this._values.length-1},Object.defineProperty(s.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),s.prototype.indexOf=function(t){return ea(this._values,t)},s.prototype.contains=function(t){return this.indexOf(t)!==-1},s.prototype.getIndex=function(t){return this._values[t]},Object.defineProperty(s.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),s.prototype.insert=function(t){var e=this._insert(t);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:e,newValue:t})},s.prototype.remove=function(t){var e=this.indexOf(t);if(e!==-1){var i=this._values[e];Eh(this._values,e),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:e,oldValue:i})}},s.prototype.setAll=function(t){var e=this;B1(this._values,function(i,r){e._values.pop(),e.events.isEnabled("removed")&&e.events.dispatchImmediately("removed",{type:"removed",target:e,index:r,oldValue:i})}),Ce(t,function(i){e.insert(i)})},s.prototype.clear=function(){this.setAll([])},s.prototype.slice=function(t,e){var i=new s;return i._values=this._values.slice(t,e),i},s.prototype.findClosestIndex=function(t,e,i){i===void 0&&(i="any");var r=-1,a,n,o=0;return Zr(this.iterator(),function(l){var u=e(l);if(i==="any"){if(u===t)return r=o,!1;var h=Math.abs(t-u);(!N(n)||n>h)&&(r=o,a=u,n=h)}else i==="left"&&u<t?(!N(a)||a<u)&&(r=o,a=u):i==="right"&&u>=t&&(!N(a)||a>=u)&&(r=o,a=u);return++o,!0}),r===-1&&(i==="left"?r=0:i==="right"&&(r=this.length-1)),r},s.prototype.iterator=function(){return $l(this._values)},s.prototype[Symbol.iterator]=function(){var t,e;return ai(this,function(i){switch(i.label){case 0:t=this._values.length,e=0,i.label=1;case 1:return e<t?[4,this._values[e]]:[3,4];case 2:i.sent(),i.label=3;case 3:return++e,[3,1];case 4:return[2]}})},s.prototype.each=function(t){Ce(this._values,t)},s}();var dm=function(s){U(t,s);function t(e){var i=s.call(this)||this;return i._ordering=e,i}return t.prototype._insert=function(e){var i=$A(this._values,this._ordering,e).index;return Mh(this._values,i,e),i},t.prototype.indexOf=function(e){var i=$A(this._values,this._ordering,e),r=i.found,a=i.index;return r?a:-1},t.prototype.update=function(e){var i=ea(this._values,e);if(i!==-1){var r=this._values.length-1;(i===0||this._ordering(this._values[i-1],e)<0)&&(i===r||this._ordering(e,this._values[i+1])<0)||(Eh(this._values,i),this._insert(e))}},t}(e_);var Nh=function(s){U(t,s);function t(e){var i=s.call(this)||this;return i.template=e,i}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;de(e.iterator(),function(r){i.insert(r.clone())})},t.prototype.slice=function(e,i){var r=new t(this.template);return r._values=this._values.slice(e,i),r},t.prototype.create=function(e){var i=e!=null?new e:this.template.clone();return this.insert(i),i},t}(e_);var Am=function(s){U(t,s);function t(e,i){var r=s.call(this,i)||this;return r.template=e,r}return Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;de(e.iterator(),function(r){i.insert(r.clone())})},t.prototype.create=function(e){var i=e!=null?new e:this.template.clone();return this.insert(i),i},t}(dm);function Za(s,t){return s===t?0:s<t?-1:1}function RA(s){switch(s){case 0:return 0;case-1:return 1;case 1:return-1}}function Lb(s,t){return s===0?t:s}var j1=function(){function s(){this._callbackId=0,this._callbacks=new dm(function(t,e){return Lb(Za(t.priority,e.priority),Za(t.id,e.id))})}return s.prototype.addAll=function(t,e,i,r,a){r===void 0&&(r=0),this._callbacks.insert({id:++this._callbackId,key:e,callback:i,priority:r,scope:a,type:t})},s.prototype.isEnabled=function(t,e){return am(this._callbacks.values,function(i){return i.key===e&&t instanceof i.type})},s.prototype.applyAll=function(t,e,i){var r=this._callbacks.values,a=r.length;if(a==0)return i;for(var n=0;n<a;++n){var o=r[n];o.key===e&&t instanceof o.type&&(i=o.callback.call(o.scope,i,t,e))}return i},s}();var fm=new j1,_r=function(){function s(t){this._callbackId=0,this._callbacks=new dm(function(e,i){return Lb(Za(e.priority,i.priority),Za(e.id,i.id))}),this._disabled={},this.object=t,this.events=this._callbacks.events}return s.prototype.add=function(t,e,i,r){i===void 0&&(i=0),this._callbacks.insert({id:++this._callbackId,key:t,callback:e,priority:i,scope:r})},s.prototype.has=function(t,e,i,r){return i===void 0&&(i=0),MA(this._callbacks.iterator(),function(a){return a.key===t&&a.callback===e&&a.priority===i&&a.scope===r})},s.prototype.remove=function(t,e){var i=this;Ce(td(this._callbacks.iterator()),function(r){r.key===t&&(!k(e)||e===r.priority)&&i._callbacks.remove(r)})},s.prototype.enableKey=function(t){delete this._disabled[t]},s.prototype.disableKey=function(t,e){e===void 0&&(e=1/0),this._disabled[t]=e},s.prototype._hasListenersByType=function(t){return am(this._callbacks.values,function(e){return e.key===t})},s.prototype.isEnabled=function(t){return this._disabled[t]==null&&(this._hasListenersByType(t)||fm.isEnabled(this.object,t))},s.prototype._shouldDispatch=function(t){var e=this._disabled[t];return k(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):!0},s.prototype.apply=function(t,e){if(this._shouldDispatch(t)){var i=this._callbacks.values,r=i.length;if(r>0)for(var a=0;a<r;++a){var n=i[a];n.key===t&&(e=n.callback.call(n.scope,e,this.object,t))}return e=fm.applyAll(this.object,t,e),e}else return e},s.prototype.keys=function(){return td(Ob(this._callbacks.iterator(),function(t){return t.key}))},s.prototype.copyFrom=function(t){var e=this;de(t._callbacks.iterator(),function(i){e.add(i.key,i.callback,i.priority,i.scope)}),Qe(t._disabled,function(i,r){e._disabled[i]=r})},s.prototype.clear=function(){this._callbacks.clear()},s}();var W1={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function X1(s,t){var e;return W1[s]?e=W1[s]:s.charAt(0)==="#"?e=cH(s):s.match(/^rgba?\(/)&&(e=AH(s)),e||(e={r:0,g:0,b:0,a:1}),N(t)&&(e.a=t),e}function cH(s){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;s=s.replace(t,function(i,r,a,n){return r+r+a+a+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:dH(s)}function dH(s){var t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i;s=s.replace(t,function(i,r,a,n,o){return r+r+a+a+n+n+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],16)/256}:void 0}function AH(s){s=s.replace(/[ ]/g,"");var t=s.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(t=s.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!t)return;return{r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3]),a:parseFloat(t[4])}}function z1(s){return"#"+i_(s.r.toString(16))+i_(s.g.toString(16))+i_(s.b.toString(16))}function G1(s){return N(s.a)&&s.a!==1?"rgba("+s.r+","+s.g+","+s.b+","+s.a+")":"rgb("+s.r+","+s.g+","+s.b+")"}function i_(s){return s.length==1?"0"+s:""+s}function rd(s,t,e){return e=Le(e,0,1),s?t?{r:s.r+Math.round((t.r-s.r)*e),g:s.g+Math.round((t.g-s.g)*e),b:s.b+Math.round((t.b-s.b)*e),a:(s.a||1)+Math.round(((t.a||1)-(s.a||1))*e)}:s:t||s}function Y1(s,t){return s&&{r:Math.max(0,Math.min(255,s.r+Ib(s.r,t))),g:Math.max(0,Math.min(255,s.g+Ib(s.g,t))),b:Math.max(0,Math.min(255,s.b+Ib(s.b,t))),a:s.a}}function Ib(s,t){var e=t>0?255-s:s;return Math.round(e*t)}function K1(s,t){if(s){var e=Math.min(Math.max(s.r,s.g,s.b),230),i=Ib(e,t);return{r:Math.max(0,Math.min(255,Math.round(s.r+i))),g:Math.max(0,Math.min(255,Math.round(s.g+i))),b:Math.max(0,Math.min(255,Math.round(s.b+i))),a:s.a}}else return s}function q1(s,t){if(s==null||t==1)return s;var e=pm(s);return e.s=t,r_(e)}function r_(s){var t,e,i,r=s.h,a=s.s,n=s.l;if(a==0)t=e=i=n;else{var o=function(c,A,d){return d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?c+(A-c)*6*d:d<.5?A:d<.6666666666666666?c+(A-c)*(.6666666666666666-d)*6:c},l=n<.5?n*(1+a):n+a-n*a,u=2*n-l;t=o(u,l,r+1/3),e=o(u,l,r),i=o(u,l,r-1/3)}return{r:Math.round(t*255),g:Math.round(e*255),b:Math.round(i*255)}}function pm(s){var t=s.r/255,e=s.g/255,i=s.b/255,r=Math.max(t,e,i),a=Math.min(t,e,i),n=0,o=0,l=(r+a)/2;if(r===a)n=o=0;else{var u=r-a;switch(o=l>.5?u/(2-r-a):u/(r+a),r){case t:n=(e-i)/u+(e<i?6:0);break;case e:n=(i-t)/u+2;break;case i:n=(t-e)/u+4;break}n/=6}return{h:n,s:o,l}}function $b(s){return(s.r*299+s.g*587+s.b*114)/1e3>=128}var Ft=function(){function s(t){this._value=t}return Object.defineProperty(s.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hex",{get:function(){return this._value?z1(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rgba",{get:function(){return this._value?G1(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"alpha",{get:function(){return this._value!=null&&this._value.a!=null?this._value.a:1},set:function(t){this._value&&(this._value.a=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new s({r:255,g:255,b:255})),this._lightColor},set:function(t){this._lightColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new s({r:0,g:0,b:0})),this._darkColor},set:function(t){this._darkColor=t},enumerable:!0,configurable:!0}),s.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},s.prototype.lighten=function(t){return new s(Y1(this.rgb,t))},s.prototype.brighten=function(t){return new s(K1(this.rgb,t))},s.prototype.saturate=function(t){return new s(q1(this.rgb,t))},Object.defineProperty(s.prototype,"alternative",{get:function(){if(this.rgb!=null)return $b(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),s}();function He(s,t){if(!N(s))return new Ft(void 0);if(typeof s=="string"){var e="_color_"+s+"_"+(t||"1"),i=E.getCache(e);if(i)return new Ft({r:i.r,g:i.g,b:i.b,a:i.a});var r=X1(s,t);return E.setCache(e,r),new Ft(r)}return s instanceof Ft?(N(t)&&(s.alpha=t),s):new Ft(s)}function Z1(s){return s instanceof Ft}function J1(s){return He(s)}function ba(s){return N(s)&&!Z1(s)?J1(s):s}var Gi=function(){function s(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return s.prototype.debug=function(){},Object.defineProperty(s.prototype,"uid",{get:function(){return this._uid||(this._uid=E.getUniqueId(),E.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"map",{get:function(){return this._map||(this._map=new Nt),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new Nt),this._delayedMap},enumerable:!0,configurable:!0}),s.prototype.addDelayedMap=function(t,e){var i=this.delayedMap;i.hasKey(e)||i.setKey(e,[]);var r=i.getKey(e);r.push({property:t,target:this})},s.prototype.processDelayedMap=function(){var t=this;this.delayedMap.each(function(e,i){if(t.map.hasKey(e)){var r=t.map.getKey(e);Ce(i,function(a){a.target[a.property]=r}),t.delayedMap.removeKey(e)}})},s.prototype.applyTheme=function(){var t=this;if(E){var e=this.getCurrentThemes();e&&Ce(e,function(i,r){i(t)})}},Object.defineProperty(s.prototype,"themes",{get:function(){return this._themes},set:function(t){this._themes=t},enumerable:!0,configurable:!0}),s.prototype.getCurrentThemes=function(){return this.themes||E.themes},s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;t.length!==0;){var e=t.shift();e.dispose()}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var i=this._uid;i!=null&&E.map.removeKey(i)}},s.prototype.addDisposer=function(t){this._disposers.push(t)},s.prototype.removeDispose=function(t){if(!this._disposed){var e=ea(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()},s.prototype.clone=function(t){t||(t="clone-"+E.getUniqueId());var e=new this.constructor;return e.cloneId=t,e.copyFrom(this),e},Object.defineProperty(s.prototype,"clones",{get:function(){return this._clones||(this._clones=new xt),this._clones},enumerable:!0,configurable:!0}),s.prototype.copyFrom=function(t){t.clones.push(this),this.clonedFrom=t},Object.defineProperty(s.prototype,"className",{get:function(){return this._className},set:function(t){this._className=t},enumerable:!0,configurable:!0}),s.prototype.setCache=function(t,e,i){Rh.set(this.uid,t,e,i)},s.prototype.getCache=function(t,e){return e===void 0&&(e=void 0),Rh.get(this.uid,t,e)},s.prototype.clearCache=function(){Rh.clear(this.uid)},s.prototype.setTimeout=function(t,e){var i=this,r=setTimeout(function(){i.removeDispose(a),t()},e),a=new Ot(function(){clearTimeout(r)});return this._disposers.push(a),a},s.prototype.setInterval=function(t,e){var i=this,r=setInterval(function(){i.removeDispose(a),t()},e),a=new Ot(function(){clearTimeout(r)});return this._disposers.push(a),a},Object.defineProperty(s.prototype,"config",{set:function(t){try{this.processConfig(t)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),s.prototype.processConfig=function(t){var e=this;if(t){var i=this;if(Qo(t,function(a,n){var o=n;if(a=="callback"&&typeof n=="function"&&n.call(i),e.hasProperty(a)){var l;if(ni(o)&&N(o.type)&&(!ni(i[a])||!N(i[a].className)||o.forceCreate||i[a].className!=o.type)&&!e.asIs(a)?(l=e.createClassInstance(o.type),l?i[a]=l:l=i[a]):l=i[a],l instanceof _r)e.processAdapters(l,o);else if(l instanceof wn)e.processEvents(l,o);else if(a=="locale"&&ft(o))window["am4lang_"+o]&&(i[a]=window["am4lang_"+o]);else if(a=="parent"&&ft(o)){var u=e.map.getKey(o);u?i[a]=u:e.addDelayedMap("parent",o)}else if(e.asIs(a))i[a]=o;else if(e.asFunction(a)&&ft(o))if(N(E.registeredClasses[o]))i[a]=E.registeredClasses[o];else throw Error("Invalid easing function: "+o);else if(o instanceof s)i[a]=o;else if(l instanceof s)l.config=o;else if(l instanceof Kt||l instanceof Nh||l instanceof Am){if(Ci(o))l instanceof Kt?e.processListTemplate(o,l):e.processOrderedTemplate(o,l);else if(ni(o))if(o instanceof s)l.template=o;else{var h=void 0;N(o.template)?h=o.template:h=o,l.template instanceof s?l.template.config=h:Qe(h,function(c,A){var d=l.template[c];d instanceof _r?e.processAdapters(d,A):d instanceof wn?e.processEvents(d,A):d instanceof kl?e.processDictionaryTemplate(d,A):l.template[c]instanceof s?l.template[c].config=A:ni(A)&&N(A.type)?(d=e.createClassInstance(A.type),d?(d instanceof s&&(d.config=A),l.template[c]=d):l.template[c]=A):d instanceof xt?e.processList(A,d):l.template[c]=e.maybeColorOrPercent(A)}),N(o.values)&&(l instanceof Kt?e.processListTemplate(o.values,l):e.processOrderedTemplate(o.values,l))}}else l instanceof xt?a=="children"?e.processList(o,l,e):e.processList(o,l):l instanceof kl?e.processDictionaryTemplate(l,o):l instanceof Nt?e.processDictionary(l,o):l instanceof Ft||l instanceof nt?i[a]=e.maybeColorOrPercent(o):ni(l)&&ni(o)?kA(o,l):(o=e.maybeColorOrPercent(o),i[a]=o)}else e.isReserved(a)||(i[a]=o)},this.configOrder),this.processingErrors.length){var r=this.processingErrors.join(`
`);throw this._processingErrors=[],Error(r)}}},s.prototype.maybeColorOrPercent=function(t){if(ft(t)){if(t.match(/^[\-]?[0-9.]+\%$/))return he(Jt(t));if(t.match(/^\#[0-9abcdef]{3,}$/i))return He(t)}return t},s.prototype.processAdapters=function(t,e){var i=this;Ci(e)?Ce(e,function(r,a){t.add(r.key,r.callback,r.priority||0,i)}):ni(e)&&Qe(e,function(r,a){t.has(r,a)||t.add(r,a)})},s.prototype.processEvents=function(t,e){var i=this;Ci(e)?Ce(e,function(r,a){t.on(r.type,r.callback,i)}):ni(e)&&Qe(e,function(r,a){t.has(r,a)||t.on(r,a)})},s.prototype.processDictionaryTemplate=function(t,e){ni(e)&&Qe(e,function(i,r){var a;i=="template"?a=t.template:t.hasKey(i)?a=t.getKey(i):a=t.create(i),a instanceof s?a.config=r:ni(a)&&ni(r)?kA(r,a):a.setKey(i,r)})},s.prototype.processDictionary=function(t,e){ni(e)&&Qe(e,function(i,r){t.setKey(i,r)})},s.prototype.processListTemplate=function(t,e){var i=this;for(Ce(t,function(r,a){var n=i.getConfigEntryType(r),o;if(e.hasIndex(a)&&!r.forceCreate)o=e.getIndex(a);else if(r instanceof s){e.push(r);return}else n?o=e.create(n):o=e.create();r===o||ni(r)&&(o instanceof s?o.config=r:ni(o)&&ni(r)?kA(r,o):e.setIndex(e.indexOf(o),r))});t.length>e.length;)e.pop()},s.prototype.processOrderedTemplate=function(t,e){var i=this;Ce(t,function(r,a){var n=i.getConfigEntryType(r),o;n?o=e.create(n):o=e.create(),ni(r)&&(o instanceof s?o.config=r:ni(o)&&ni(r)?kA(r,o):e.insert(r))})},s.prototype.processList=function(t,e,i){var r=this;Ci(t)||(t=[t]);var a=e.length,n=0;for(Ce(t,function(o,l){if(ni(o)){var u=void 0;if(l<a&&!o.forceCreate)u=e.getIndex(l);else if(o instanceof s){e.push(o);return}else n++,u=r.createEntryInstance(o),i?u.parent=i:e.push(u);u instanceof s?u.config=o:ni(u)&&ni(o)&&kA(o,u)}else e.hasIndex(l)?e.setIndex(l,o):e.push(o)});!i&&t.length+n<e.length;)e.pop()},s.prototype.configOrder=function(t,e){return t==e?0:t=="language"?-1:e=="language"?1:0},s.prototype.asIs=function(t){return ea(["locale"],t)!=-1},s.prototype.asFunction=function(t){return!1},s.prototype.createClassInstance=function(t){if(N(E.registeredClasses[t]))return new E.registeredClasses[t];throw Error('Invalid type: "'+t+'".')},s.prototype.createEntryInstance=function(t){var e;return N(t.type)&&(e=this.createClassInstance(t.type)),e||t},s.prototype.getConfigEntryType=function(t){if(N(t.type)){if(N(E.registeredClasses[t.type]))return E.registeredClasses[t.type];throw Error('Invalid type: "'+t.type+'".')}},s.prototype.hasProperty=function(t){return t in this},s.prototype.isReserved=function(t){return["type","forceCreate"].indexOf(t)!==-1},Object.defineProperty(s.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),s}();var vs=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="BaseObjectEvents",e}return Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new wn,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),t.prototype.dispatch=function(e,i){this._eventDispatcher&&this.events.isEnabled(e)&&(i?(i.type=e,i.target=i.target||this,this.events.dispatch(e,{type:e,target:this})):this.events.dispatch(e,{type:e,target:this}))},t.prototype.dispatchImmediately=function(e,i){this._eventDispatcher&&this.events.isEnabled(e)&&(i?(i.type=e,i.target=i.target||this,this.events.dispatchImmediately(e,i)):this.events.dispatchImmediately(e,{type:e,target:this}))},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),e._eventDispatcher&&this.events.copyFrom(e._eventDispatcher)},t}(Gi);var It={};pQ(It,{anyToDate:()=>ym,anyToNumber:()=>WA,camelToDashed:()=>gH,capitalize:()=>ld,cleanFormat:()=>Uh,copy:()=>o_,copyProperties:()=>La,decimalPlaces:()=>y_,documentPointToSprite:()=>Ml,documentPointToSvg:()=>Ho,escapeForRgex:()=>QA,fitNumber:()=>bm,fitNumberRelative:()=>vm,get12Hours:()=>XA,getBaseURI:()=>Vh,getDayFromWeek:()=>f_,getFormat:()=>c_,getMonthWeek:()=>A_,getPixelRatio:()=>l_,getTimeZone:()=>zA,getWeek:()=>UA,getWeekYear:()=>p_,getYearDay:()=>Nb,height:()=>g_,isIE:()=>El,isNotEmpty:()=>od,joinUrl:()=>xm,ltrim:()=>h_,numberToString:()=>d_,padString:()=>xs,parseUrl:()=>a_,plainText:()=>jA,random:()=>bH,relativeRadiusToValue:()=>Ar,relativeToValue:()=>Ai,reverseString:()=>Mb,rtrim:()=>u_,serializeUrl:()=>n_,softCopyProperties:()=>pH,splitTextByCharCount:()=>mm,spritePointToDocument:()=>GA,spritePointToSprite:()=>ls,spritePointToSvg:()=>va,spriteRectToSvg:()=>ud,stringify:()=>Eb,stripHash:()=>s_,stripTags:()=>Rb,svgPointToDocument:()=>Vb,svgPointToSprite:()=>Ws,svgRectToSprite:()=>vH,trim:()=>gm,truncateWithEllipsis:()=>HA,unquote:()=>yH,used:()=>bo,valueToRelative:()=>mH,width:()=>m_});function eO(){return/apple/i.test(navigator.vendor)}function tO(){return/MSIE |Trident\//.test(navigator.userAgent)}var kb="string",sd="number",ad="date",VA="duration",Os="__\xA7\xA7\xA7__",Tu="__\xA7\xA7\xA7\xA7__";function bo(s){}function La(s,t){return Qe(s,function(e,i){N(i)&&(t[e]=i)}),t}function s_(s){return/^[^#]*/.exec(s)[0]}function Vh(){var s="#";if(eO()){var t=document.baseURI;if(t){t=s_(t);var e=s_(location.href);t!==e&&(s=e+s)}}return s}function pH(s,t){return Qe(s,function(e,i){N(i)&&!N(t[e])&&(t[e]=i)}),t}function o_(s,t){return Qe(s,function(e,i){t[e]=i}),t}function od(s){return N(s)&&s.toString()!==""}function Ai(s,t){return k(s)?s:s!=null&&k(s.value)&&k(t)?t*s.value:0}function Ar(s,t,e){var i;return k(s)?(i=s,i<0&&(e?i=t+i:i=t-i)):s!=null&&k(s.value)&&(i=t*s.value),i}function mH(s,t){return s instanceof nt?s.value:s/t}function l_(){var s=window.devicePixelRatio||1;return s}function gH(s){return s.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}function ld(s){var t=s.split("");return t[0]=t[0].toUpperCase(),t.join("")}function Eb(s){return JSON.stringify(s)}function QA(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function mm(s,t,e,i,r){if(s.length<=t)return[s];var a=[];if(e){for(var n=-1,o=s.replace(/([,;:!?\\\/]+|[\s])/g,Os+"$1"+Os),l=o.split(Os),u=1;u<l.length;u++){var h=l[u];(h=="."||h==",")&&l[u-1].match(/[\w]+$/)&&(l[u-1]+=h,l[u]="")}for(var u=0;u<l.length;u++){var h=l[u],c=h.length;if(c!==0){if(c>t&&(e!==!0||r!=!1)){i&&(h=Mb(h));var A=h.match(new RegExp(".{1,"+t+"}","g"));if(A){if(i)for(var d=0;d<A.length;d++)A[d]=Mb(A[d]);a=a.concat(A)}}else n===-1&&(a.push(""),n=0),a[n].length+c+1>t&&a[n]!==""&&(a.push(""),n++),a[n]+=h;n=a.length-1}}}else{var A=s.match(new RegExp(".{1,"+t+"}","g"));if(A){if(i)for(var d=0;d<A.length;d++)i||(A[d]=Mb(A[d]));a=A}}return a.length==1&&e&&r&&a[0].length>t&&(a=[]),a}function HA(s,t,e,i,r){if(s.length<=t)return s;t-=e.length,t<1&&(t=1);var a=mm(s,t,i,r);return(a[0]||"")+e}function gm(s){return s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function u_(s){return s.replace(/[\s\uFEFF\xA0]+$/g,"")}function h_(s){return s.replace(/^[\s\uFEFF\xA0]+/g,"")}function Mb(s){return s.split("").reverse().join("")}function yH(s){var t=s.trim();return t=s.replace(/^'(.*)'$/,"$1"),t==s&&(t=s.replace(/^"(.*)"$/,"$1")),t}function xs(s,t,e){return t===void 0&&(t=0),e===void 0&&(e="0"),typeof s!="string"&&(s=s.toString()),t>s.length?Array(t-s.length+1).join(e)+s:s}function c_(s){if(typeof s>"u")return kb;s=s.toLowerCase().replace(/^\[[^\]]*\]/,""),s=s.replace(/\[[^\]]+\]/,""),s=s.trim();var t=s.match(/\/(date|number|duration)$/);return t?t[1]:s===sd?sd:s===ad?ad:s===VA?VA:s.match(/[#0]/)?sd:s.match(/[ymwdhnsqaxkzgtei]/)?ad:kb}function Uh(s){return s.replace(/\/(date|number|duration)$/i,"")}function Rb(s){return s&&s.replace(/<[^>]*>/g,"")}function jA(s){return s&&Rb((""+s).replace(/[\n\r]+/g,". "))}function d_(s){if(zr(s))return"NaN";if(s===1/0)return"Infinity";if(s===-1/0)return"-Infinity";if(s===0&&1/s===-1/0)return"-0";var t=s<0;s=Math.abs(s);var e=gi(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+s)),i=e[1],r=e[2]||"",a;if(e[3]==null)a=r===""?i:i+"."+r;else{var n=+e[3];if(s<1){var o=n-1;a="0."+ZC("0",o)+i+r}else{var o=n-r.length;o===0?a=i+r:o<0?a=i+r.slice(0,o)+"."+r.slice(o):a=i+r+ZC("0",o)}}return t?"-"+a:a}function ym(s){if(kh(s)){var t=new Date(s);return t.setMilliseconds(s.getMilliseconds()),t}else{if(k(s))return new Date(s);var e=Number(s);return k(e)?new Date(e):new Date(s)}}function WA(s){if(kh(s))return s.getTime();if(k(s))return s;if(ft(s)){var t=Number(s);return k(t)?t:void 0}}function Nb(s,t){t===void 0&&(t=!1);var e=new Date(s.getFullYear(),0,0),i=s.getTime()-e.getTime()+(e.getTimezoneOffset()-s.getTimezoneOffset())*60*1e3,r=1e3*60*60*24;return Math.floor(i/r)}function UA(s,t){t===void 0&&(t=!1);var e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-i);var r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)}function A_(s,t){t===void 0&&(t=!1);var e=UA(new Date(s.getFullYear(),s.getMonth(),1),t),i=UA(s,t);return i==1&&(i=53),i-e+1}function f_(s,t,e,i){e===void 0&&(e=1),i===void 0&&(i=!1);var r=new Date(t,0,4,0,0,0,0);i&&r.setUTCFullYear(t);var a=s*7+e-((r.getDay()||7)+3);return a}function XA(s,t){return s>12?s-=12:s===0&&(s=12),N(t)?s+(t-1):s}function zA(s,t,e,i){if(t===void 0&&(t=!1),e===void 0&&(e=!1),i===void 0&&(i=!1),i)return t?"Coordinated Universal Time":"UTC";var r=s.toLocaleString("UTC"),a=s.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(r.length);return e===!1&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),a}function p_(s,t){t===void 0&&(t=!1);var e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())),i=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-i);var r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return r.getFullYear()}function bH(s,t){return Math.floor(Math.random()*(t-s))+s}function bm(s,t,e){return s>e?e:s<t?t:s}function vm(s,t,e){var i=e-t;return(s>e||s<t)&&(s=t+(s-i*Math.floor(s/i))),s}function Ws(s,t){var e=s.x,i=s.y,r=[];if(t){for(;N(t.parent);)r.push(t),t=t.parent;r.reverse();for(var a=0;a<r.length;a++){var n=r[a],o=n.rotation,l=e-n.pixelX-n.ex,u=i-n.pixelY-n.ey;n.dx&&(e-=n.dx),n.dy&&(i-=n.dy);var h=n.scale;n.group&&(h=n.group.scale),e=(Pe(-o)*l-Fe(-o)*u)/h-n.pixelPaddingLeft,i=(Pe(-o)*u+Fe(-o)*l)/h-n.pixelPaddingTop}}return{x:e,y:i}}function va(s,t){var e=s.x,i=s.y;if(t)for(;N(t.parent);){var r=t.rotation;e+=t.pixelPaddingLeft+t.ex,i+=t.pixelPaddingTop+t.ey;var a=t.scale;t.group&&(a=t.group.scale);var n=t.pixelX+(e*Pe(r)-i*Fe(r))*a,o=t.pixelY+(e*Fe(r)+i*Pe(r))*a;t.dx&&(n+=t.dx),t.dy&&(o+=t.dy),e=n,i=o,t=t.parent}return{x:e,y:i}}function ls(s,t,e){return Ws(va(s,t),e)}function vH(s,t){var e=Ws(s,t),i=Ws({x:s.x+s.width,y:s.y+s.height},t);return{x:e.x,y:e.y,width:i.x-e.x,height:i.y-e.y}}function ud(s,t){var e=va(s,t),i=va({x:s.x+s.width,y:s.y+s.height},t);return{x:e.x,y:e.y,width:i.x-e.x,height:i.y-e.y}}function Ho(s,t,e){try{var i=t.getBoundingClientRect();return k(e)||(e=1),{x:(s.x-i.left)/e,y:(s.y-i.top)/e}}catch{return s}}function Vb(s,t){try{var e=t.getBoundingClientRect();return{x:s.x+e.left,y:s.y+e.top}}catch{return s}}function Ml(s,t){if(t&&t.htmlContainer){var e=Ho(s,gi(t.htmlContainer),t.svgContainer.cssScale);return Ws(e,t)}else return s}function GA(s,t){if(t&&t.htmlContainer){var e=va(s,t);return Vb(e,gi(t.htmlContainer))}else return s}function m_(s){var t=getComputedStyle(s),e=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),i=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth);return s.clientWidth-e-i}function g_(s){var t=getComputedStyle(s),e=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),i=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return s.clientHeight-e-i}function y_(s){var t=(""+s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}var xH=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function a_(s){var t=xH.exec(s);return{protocol:t&&t[1]||"",separator:t&&t[2]||"",authority:t&&t[3]||"",domain:t&&t[4]||"",port:t&&t[5]||"",path:t&&t[6]||"",query:t&&t[7]||"",hash:t&&t[8]||""}}function n_(s){return s.protocol+s.separator+s.authority+s.domain+s.port+s.path+s.query+s.hash}function iO(s){return s.protocol===""&&s.separator===""&&s.authority===""&&s.domain===""&&s.port===""}function xm(s,t){var e=a_(s),i=a_(t);if(iO(e))throw new Error("Left URL is not absolute");if(iO(i)){if(i.path!=="")if(i.path[0]==="/")e.path=i.path;else{var r=e.path.split(/\//),a=i.path.split(/\//);if(r.length===0?a.length!==0&&r.push(""):r.length>1&&r.pop(),P1(r,a),e.path=r.join("/"),e.path!==""&&e.path[0]!=="/")throw new Error("URL path must start with /")}return e.query=i.query,e.hash=i.hash,n_(e)}else return n_(i)}function El(){return!!window.MSInputMethodContext&&!!document.documentMode}function v_(s){return+s}E.registeredClasses["ease.linear"]=v_;function wH(s){return s*s}E.registeredClasses["ease.quadIn"]=wH;function CH(s){return s*(2-s)}E.registeredClasses["ease.quadOut"]=CH;function _H(s){return s*=2,(s<=1?s*s:--s*(2-s)+1)/2}E.registeredClasses["ease.quadInOut"]=_H;function rO(s,t){return Math.pow(s,t)}E.registeredClasses["ease.polyIn"]=rO;function sO(s,t){return 1-Math.pow(1-s,t)}E.registeredClasses["ease.polyOut"]=sO;function aO(s,t){return s*=2,(s<=1?Math.pow(s,t):2-Math.pow(2-s,t))/2}E.registeredClasses["ease.polyInOut"]=aO;function SH(s){return rO(s,3)}E.registeredClasses["ease.polyIn3"]=SH;function jb(s){return sO(s,3)}E.registeredClasses["ease.polyOut3"]=jb;function BH(s){return aO(s,3)}E.registeredClasses["ease.polyInOut3"]=BH;function FH(s){return Math.pow(2,10*s-10)}E.registeredClasses["ease.expIn"]=FH;function PH(s){return 1-Math.pow(2,-10*s)}E.registeredClasses["ease.expOut"]=PH;function TH(s){return s*=2,(s<=1?Math.pow(2,10*s-10):2-Math.pow(2,10-10*s))/2}E.registeredClasses["ease.expInOut"]=TH;function DH(s){return 1-Math.cos(s*UC)}E.registeredClasses["ease.sinIn"]=DH;function x_(s){return Math.sin(s*UC)}E.registeredClasses["ease.sinOut"]=x_;function OH(s){return(1-Math.cos(rm*s))/2}E.registeredClasses["ease.sinInOut"]=OH;function w_(s){return s*s*s}E.registeredClasses["ease.cubicIn"]=w_;function vo(s){return--s*s*s+1}E.registeredClasses["ease.cubicOut"]=vo;function LH(s){return s*=2,(s<=1?s*s*s:(s-=2)*s*s+2)/2}E.registeredClasses["ease.cubicInOut"]=LH;function IH(s){return 1-Math.sqrt(1-s*s)}E.registeredClasses["ease.circleIn"]=IH;function $H(s){return Math.sqrt(1- --s*s)}E.registeredClasses["ease.circleOut"]=$H;function kH(s){return s*=2,(s<=1?1-Math.sqrt(1-s*s):Math.sqrt(1-(s-=2)*s)+1)/2}E.registeredClasses["ease.circleInOut"]=kH;var b_=4/11,MH=6/11,EH=8/11,RH=3/4,NH=9/11,VH=10/11,UH=15/16,QH=21/22,HH=63/64,Ub=1/b_/b_;function jH(s){return 1-Qb(1-s)}E.registeredClasses["ease.bounceIn"]=jH;function Qb(s){return s=+s,s<b_?Ub*s*s:s<EH?Ub*(s-=MH)*s+RH:s<VH?Ub*(s-=NH)*s+UH:Ub*(s-=QH)*s+HH}E.registeredClasses["ease.bounceOut"]=Qb;function WH(s){return s*=2,(s<=1?1-Qb(1-s):Qb(s-1)+1)/2}E.registeredClasses["ease.bounceInOut"]=WH;var XH=2*Math.PI,wm=1,Cm=.3/XH,Hb=Math.asin(1/wm)*Cm;function zH(s){return wm*Math.pow(2,10*--s)*Math.sin((Hb-s)/Cm)}E.registeredClasses["ease.elasticIn"]=zH;function GH(s){return 1-wm*Math.pow(2,-10*(s=+s))*Math.sin((s+Hb)/Cm)}E.registeredClasses["ease.elasticOut"]=GH;function YH(s){return s=s*2-1,(s<0?wm*Math.pow(2,10*s)*Math.sin((Hb-s)/Cm):2-wm*Math.pow(2,-10*s)*Math.sin((Hb+s)/Cm))/2}E.registeredClasses["ease.elasticInOut"]=YH;var hd=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.transitionDuration=0,e.transitionEasing=vo,e.properties={},e.propertyFields={},e.filters=new xt,e.isTemplate=!1,e.className="SpriteState",e._disposers.push(new Lt(e.filters)),e.applyTheme(),e}return Object.defineProperty(t.prototype,"adapter",{get:function(){var e=this;return this._adapterO||(this._adapterO=new _r(this),this._adapterO.events.on("inserted",function(i){e[i.newValue.key]=e[i.newValue.key]},void 0,!1),this._adapterO.events.on("removed",function(i){e[i.newValue.key]=e[i.newValue.key]},void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.getPropertyValue=function(e){var i=this.properties[e],r=this.sprite;if(r){var a=this.propertyFields[e];if(N(a)&&(r.dataItem&&(i=r.dataItem.dataContext[a]),i==null&&(i="__unset")),N(i))this._adapterO&&(i=this._adapterO.apply(e,i));else{var n=r.getPropertyValue(e);this._adapterO?i=this._adapterO.apply(e,n):i=n,i==n&&(i=void 0)}}return i},t.prototype.copyFrom=function(e){e&&e!=this&&(this.transitionDuration=e.transitionDuration,this.transitionEasing=e.transitionEasing,La(e.properties,this.properties),La(e.propertyFields,this.propertyFields),this.filters.copyFrom(e.filters),e._adapterO&&this.adapter.copyFrom(e._adapterO))},Object.defineProperty(t.prototype,"allValues",{get:function(){var e=this,i={};if(Qe(this.properties,function(n,o){i[n]=e.getPropertyValue(n)}),this._adapterO){var r=this._adapterO.keys();Qe(r,function(n,o){var l=e.getPropertyValue(o);i[o]=l})}var a=this.propertyFields;return Qe(a,function(n){var o=e.getPropertyValue(n);i[n]=o}),i},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.properties={},this.filters.clear()},t.prototype.processConfig=function(e){N(e)&&N(e.properties)&&Qe(e.properties,function(i,r){ft(r)&&(r.match(/^[0-9.\-]+\%$/)?e.properties[i]=he(Jt(r)):r.match(/^\#[0-9abcdef]{3,}$/i)&&(e.properties[i]=ba(r)))}),s.prototype.processConfig.call(this,e)},t.prototype.asFunction=function(e){return e=="transitionEasing"||s.prototype.asIs.call(this,e)},t}(Gi);E.registeredClasses.SpriteState=hd;var C_=function(s){U(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e._interactionEvents=new Nt,e}return t.prototype._dispatchSpriteEvent=function(e){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(e.type)){var i=lm(e,{target:this.target});this.target.events.dispatchImmediately(i.type,i)}},t.prototype._dispatchSpritePointEvent=function(e){if(!(this.target.disabled||this.target.isTemplate)&&this.target.events.isEnabled(e.type)){var i=lm(e,{target:this.target,spritePoint:e.point?Ml(e.point,this.target):void 0,svgPoint:this.target.getSvgPoint(e.point)});this.target.events.dispatchImmediately(i.type,i)}},t.prototype._addInteractionObjectEvent=function(e,i,r,a){var n=this,o=a+"-"+e,l=this._interactionEvents.insertKeyIfEmpty(o,function(){var u=n.target.interactions.events.on(e,i,r,a);return new Fu(function(){n._interactionEvents.removeKey(o),u.dispose()})});return l.increment()},t.prototype._on=function(e,i,r,a,n,o){var l=s.prototype._on.call(this,e,i,r,a,n,o),u=[l.disposer];switch(i){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":u.push(this._addInteractionObjectEvent(i,this._dispatchSpritePointEvent,this,n));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":u.push(this._addInteractionObjectEvent(i,this._dispatchSpriteEvent,this,n));break}switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0;break}return l.disposer=new Qt(u),l},t}(om);var __=function(){function s(){}return s.opacity=1,s.strokeOpacity=1,s.strokeWidth=1,s.fillOpacity=1,s.fill=He("#000000"),s.stroke=He("#000000"),s.focusable=void 0,s.tabindex=0,s}();var lt={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function nO(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];lt.verbose&&console&&console.log.apply(console,Au(s))}function YA(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];lt.suppressWarnings||console&&console.warn.apply(console,Au(s))}var oO=function(){function s(){this._isPaused=!1,this.animations=[],this.uid=E.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return s.prototype.reportTime=function(t,e){this.dummyCounter<6,e&&(this.time=Date.now())},s.prototype.update=function(){var t=this;if(!this._isPaused){this._frameRequested=!1;var e=Date.now();E.dispatchImmediately("enterframe");var i=[];for(var r in E.invalidDatas)if(go(E.invalidDatas,r)){for(var a=E.invalidDatas[r];a.length>0;){var n=a[0],o=n.dataProvider;if(n.isDisposed())tt(a,n);else if(o&&o.dataInvalid)try{if(o.validateData(),o.dataValidationProgress<1)break}catch(c){tt(a,o),o.raiseCriticalError(c)}else try{if(n.validateData(),n.dataValidationProgress<1)break}catch(c){tt(a,n),n.raiseCriticalError(c)}}if(Date.now()-e>this.updateStepDuration)break}for(;E.invalidRawDatas.length>0;){var n=E.invalidRawDatas[0];if(n.isDisposed())tt(E.invalidRawDatas,n);else try{n.validateRawData()}catch(A){tt(E.invalidRawDatas,n),n.raiseCriticalError(A)}}for(;E.invalidDataItems.length>0;){var n=E.invalidDataItems[0],o=n.dataProvider;if(!(n.isDisposed()||n.dataInvalid||o&&o.dataInvalid))try{n.validateDataItems()}catch(d){tt(E.invalidDataItems,n),n.raiseCriticalError(d)}tt(E.invalidDataItems,n)}for(;E.invalidDataRange.length>0;){var n=E.invalidDataRange[0],o=n.dataProvider;if(!(n.isDisposed()||n.dataInvalid||o&&o.dataInvalid))try{n.validateDataRange(),n.skipRangeEvent||n.dispatchImmediately("datarangechanged"),n.skipRangeEvent=!1}catch(d){tt(E.invalidDataRange,n),n.raiseCriticalError(d)}tt(E.invalidDataRange,n)}var l=[];Qe(E.invalidLayouts,function(c){t.validateLayouts(c)}),Qe(E.invalidPositions,function(c){t.validatePositions(c)});var u=!1;if(e=Date.now(),Qe(E.invalidSprites,function(c,A){for(var d=0;A.length>0;){if(t.validateLayouts(c),t.validatePositions(c),d++,d==5){if(Date.now()-e>t.updateStepDuration)break;d=0}var f=A[A.length-1];if(f&&!f.isDisposed()){if(!f._systemCheckIfValidate())l.push(f);else if(!t.checkIfValidate2(f))l.push(f);else try{f._systemUpdate(l)}catch(p){f.invalid=!1,tt(A,f),f.raiseCriticalError(p)}f.invalid=!1}tt(A,f)}E.invalidSprites[c]=E.invalidSprites[c].concat(l)}),Qe(E.invalidSprites,function(c,A){A.length>0&&(u=!0)}),Qe(E.invalidDatas,function(c,A){A.length>0&&(u=!0)}),Ce(Bu(this.animations),function(c){c.update()}),Qe(E.invalidLayouts,function(c){t.validateLayouts(c)}),Qe(E.invalidPositions,function(c){t.validatePositions(c)}),KC(),Qe(E.invalidLayouts,function(c){t.validateLayouts(c)}),Qe(E.invalidPositions,function(c){t.validatePositions(c)}),E.dispatchImmediately("exitframe"),(u||this.animations.length>0||i.length>0)&&this.requestFrame(),this.updateStepDuration<200){var h=!0;Qe(E.invalidDatas,function(c,A){A.length>0&&(h=!1)}),Qe(E.invalidSprites,function(c,A){A.length>0&&(h=!1)}),h&&(this.updateStepDuration=200)}}},s.prototype.checkIfValidate2=function(t){return!(t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid&&!t.dataItem.component.isTemplate)},s.prototype.requestFrame=function(){var t=this;this._frameRequested||(Tb(function(){t.update()}),this._frameRequested=!0)},s.prototype.softInvalidate=function(t){var e=this;t.children.each(function(i){i instanceof Oe&&e.softInvalidate(i),i.measureFailed&&(js(i,"Label")?i.hardInvalidate():i.invalidate(),i.measureFailed=!1)})},s.prototype.validatePositions=function(t){for(var e=E.invalidPositions[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())tt(e,i);else try{i._systemValidatePositions()}catch(r){i.positionInvalid=!1,tt(e,i),i.raiseCriticalError(r)}}},s.prototype.validateLayouts=function(t){for(var e=E.invalidLayouts[t];e.length>0;){var i=e[e.length-1];if(i.isDisposed())tt(e,i);else try{i.children.each(function(r){r._systemValidateLayouts()}),i.validateLayout()}catch(r){i.layoutInvalid=!1,tt(e,i),i.raiseCriticalError(r)}}},s.prototype.log=function(t){nO(t)},Object.defineProperty(s.prototype,"isPaused",{get:function(){return this._isPaused},set:function(t){this._isPaused=t,t||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),s.VERSION="4.10.39",s}();var Dt=new oO;function uO(s,t,e){return t+(e-t)*s}function qH(s,t,e){return new nt(uO(s,t.percent,e.percent))}function ZH(s,t,e){var i=new Ft(rd(t.rgb,e.rgb,s));return t.alpha!=e.alpha&&(i.alpha=t.alpha+(e.alpha-t.alpha)*s),i}function lO(s,t){return t+s.charAt(0).toUpperCase()+s.substr(1)}var xo=function(){function s(t){this._disposer=new Ot(function(){for(;t.length!==0;)t[0].dispose()})}return s.prototype.isDisposed=function(){return this._disposer.isDisposed()},s.prototype.dispose=function(){this._disposer.dispose()},s}();var Ls=function(s){U(t,s);function t(e,i,r,a){var n=s.call(this)||this;return n.duration=0,n.easing=v_,n.progress=0,n._loop=0,n._pause=!1,n._delayTimeout=null,n._time=0,n._isFinished=!1,n.className="Animation",lt.animationsEnabled===!1&&(r=0),n.object=e,n.animationOptions=Sb(i),n.duration=r,a&&(n.easing=a),n.applyTheme(),n}return t.prototype.debug=function(){},t.prototype.dispose=function(){s.prototype.dispose.call(this),this.pause()},t.prototype.delay=function(e){var i=this;if(e>0){this.pause(),Oa(this.object.animations,this);var r=setTimeout(function(){i._delayTimeout=null,i.start()},e);this._delayTimeout=new Ot(function(){clearTimeout(r)})}return this},t.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,Oa(Dt.animations,this),Oa(this.object.animations,this),Dt.requestFrame()},t.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var e=this.animationOptions.length-1;e>=0;e--){var i=this.animationOptions[e];if(N(i.from)||(i.childObject?i.from=i.childObject[i.property]:(i.from=this.object[i.property],N(i.from)||(i.from=__[i.property]))),i.from==i.to)tt(this.animationOptions,i);else if(!N(i.from)||!(i.from instanceof nt)&&i.to instanceof nt||i.from instanceof nt&&!(i.to instanceof nt))this.staticOptions.push(i),tt(this.animationOptions,i);else if(k(i.to))if(i.updateMethod=uO,i.from instanceof nt){var r=this.object[lO(i.property,"pixel")];isNaN(r)?(this.staticOptions.push(i),tt(this.animationOptions,i)):i.from=r}else isNaN(i.from)&&(this.staticOptions.push(i),tt(this.animationOptions,i));else if(i.to instanceof Ft)i.from?i.updateMethod=ZH:(this.staticOptions.push(i),tt(this.animationOptions,i));else if(i.to instanceof nt){if(i.updateMethod=qH,!isNaN(i.from)){var r=this.object[lO(i.property,"relative")];isNaN(r)||(i.from=he(r*100))}}else this.staticOptions.push(i),tt(this.animationOptions,i)}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var a={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",a)}return this.update(),this.duration===0&&this.end(),this},t.prototype.loop=function(e){return k(e)||(e=1/0),this._loop=e,this},t.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),tt(Dt.animations,this),tt(this.object.animations,this),this},t.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},t.prototype.end=function(){if(this._loop==0&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var e={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",e)}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},t.prototype.kill=function(){this.pause(),this._isFinished=!0},t.prototype.isFinished=function(){return this._isFinished},t.prototype.applyStaticOptions=function(){var e=this;Ce(this.staticOptions,function(i){i.childObject?i.childObject[i.property]=e.progress==1?i.to:i.from:e.object[i.property]=e.progress==1?i.to:i.from})},t.prototype.stop=function(e){if(this.pause(),!e&&this.events.isEnabled("animationstopped")){var i={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",i)}return this},t.prototype.setProgress=function(e){var i=this;if(this._time=this.duration*e,Ce(this.animationOptions,function(a){if(a.updateMethod&&N(a.from)){var n=a.updateMethod(e,a.from,a.to);a.childObject?a.childObject[a.property]=n:i.object[a.property]=n}}),this.progress=e,this.events.isEnabled("animationprogress")){var r={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",r)}Dt.requestFrame()},t.prototype.update=function(){if(!this._pause){var e=void 0;this._time=Le(Date.now()-this._startTime,0,this.duration);var i=this._time/this.duration;e=this.easing(i),(this.duration==0||!k(e)||i>=1)&&(e=1),this.setProgress(e),be(this._time/this.duration,6)==1&&this.end()}return this},Object.defineProperty(t.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),t.prototype.stopSameAnimations=function(){var e=this;Ce(Bu(this.object.animations),function(i){if(i!==e&&!i.delayed){var r=[];Ce(e.animationOptions,function(a){Ce(i.animationOptions,function(n){a.property==n.property&&a.childObject==n.childObject&&(r.push(n),i.animationOptions.length==0&&i.kill())})}),Ce(r,function(a){tt(i.animationOptions,a)})}})},t.prototype.asFunction=function(e){return e=="easing"||s.prototype.asIs.call(this,e)},t}(vs);var Qh="http://www.w3.org/2000/svg",B_="http://www.w3.org/2000/xmlns/",KA="http://www.w3.org/1999/xlink";function Yi(s,t,e,i){return s.addEventListener(t,e,i||!1),new Ot(function(){s.removeEventListener(t,e,i||!1)})}function _m(s){if(ft(s)){var t=document.getElementById(s);if(t==null&&(t=document.getElementsByClassName(s)[0]),t instanceof HTMLElement)return t}else if(s instanceof HTMLElement)return s}function qA(s,t){if(s)if(s.classList){var e=t.split(" ");Ce(e,function(r){s.classList.add(r)})}else{var i=s.getAttribute("class");i?s.setAttribute("class",i.split(" ").filter(function(r){return r!==t}).join(" ")+" "+t):s.setAttribute("class",t)}}function ZA(s,t){if(s)if(s.classList)s.classList.remove(t);else{var e=s.getAttribute("class");e&&s.setAttribute("class",e.split(" ").filter(function(i){return i!==t}).join(" "))}}function F_(s,t,e){s.style[t]=e}function Xb(s,t){return s.currentStyle?s.currentStyle[t]:document.defaultView.getComputedStyle(s,null).getPropertyValue(t)}function cd(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var s=document.createElement("button");s.style.position="fixed",s.style.top="0px",s.style.left="-10000px",document.body.appendChild(s),s.focus(),s.blur(),document.body.removeChild(s)}}function P_(s,t){for(var e=t;;){if(s===e)return!0;if(e.parentNode==null){if(e.host==null)return!1;e=e.host}else e=e.parentNode}}function JA(s){for(var t=s;;){if(t.parentNode==null)return t.host!=null?t:null;t=t.parentNode}}function zb(s){for(var t=s.ownerDocument,e=s;;){if(e.parentNode==null)return e===t||e.host!=null?e:null;e=e.parentNode}}function hO(s){return typeof s.composedPath=="function"?s.composedPath()[0]:s.target}function T_(s){GC(function(){try{var t=s.getBoundingClientRect(),e=t.left-Math.round(t.left),i=t.top-Math.round(t.top);e!==0&&Db(function(){s.style.left=e+"px"}),i!==0&&Db(function(){s.style.top=i+"px"})}catch{}})}var S_;function JH(s){if(s==null){if(!N(S_)){var t=document.createElement("style");t.type="text/css",lt.nonce!=""&&t.setAttribute("nonce",lt.nonce),document.head.appendChild(t),S_=t.sheet}return S_}else{var t=document.createElement("style");return t.type="text/css",lt.nonce!=""&&t.setAttribute("nonce",lt.nonce),s.appendChild(t),t.sheet}}function ej(s,t){var e=s.cssRules.length;return s.insertRule(t+"{}",e),s.cssRules[e]}var _i=function(s){U(t,s);function t(e,i,r){var a=this,n=JH(e);return a=s.call(this,function(){var o=ea(n.cssRules,a._rule);if(o===-1)throw new Error("Could not dispose StyleRule");n.deleteRule(o)})||this,a._rule=ej(n,i),Qe(r,function(o,l){a.setStyle(o,l)}),a}return Object.defineProperty(t.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e},enumerable:!0,configurable:!0}),t.prototype._setVendorPrefixName=function(e,i){var r=this._rule.style;r.setProperty("-webkit-"+e,i,""),r.setProperty("-moz-"+e,i,""),r.setProperty("-ms-"+e,i,""),r.setProperty("-o-"+e,i,""),r.setProperty(e,i,"")},t.prototype.setStyle=function(e,i){e==="transition"?this._setVendorPrefixName(e,i):this._rule.style.setProperty(e,i,"")},t}(Ot);var tj=0,ij=function(s){U(t,s);function t(e,i,r){var a=this,n=N(r)?r:"__style_"+ ++tj+"__";return a=s.call(this,e,"."+n,i)||this,a._className=n,a}return Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e,this.selector="."+e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._className},t}(_i);function D_(s){if(document.readyState!=="loading")s();else{var t=function(){document.readyState!=="loading"&&(document.removeEventListener("readystatechange",t),s())};document.addEventListener("readystatechange",t)}}function Sm(s){var t=Xb(s,"font-family");if(t)return t;var e=s.parentElement||s.parentNode;return e?Sm(e):void 0}function Bm(s){var t=Xb(s,"font-size");if(t)return t;var e=s.parentElement||s.parentNode;return e?Bm(e):void 0}function Gb(s,t){var e=s.getBoundingClientRect(),i=Ci(t)?t:t?[t]:[];if(i.length){for(var r=0;r<i.length;r++){var a=i[r];if(!Gb(a))return!1;var n=a.getBoundingClientRect();if(e.top>=0&&e.left>=0&&e.top<=n.top+n.height&&e.left<=n.left+n.width)return!0}return!1}return e.top>=0&&e.left>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)}var Hh=function(){function s(t){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,typeof t=="string"?this.node=document.createElementNS(Qh,t):this.node=t}return s.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(s.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),s.prototype.transform=function(){var t="translate("+this._x+","+this._y+")";if(this._scale!=1&&(t+=(t?" ":"")+"scale("+this._scale+")"),this._rotation!=0){var e="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(e="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),t+=(t?" ":"")+e}this._transformString=t,this.node.setAttribute("transform",t)},s.prototype.getBBox=function(){var t={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var e=this.node.getBBox();t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}catch{}return t},s.prototype.moveTo=function(t){if(t){var e=t.x,i=t.y;(this._x!=e||this._y!=i)&&(this._x=e,this._y=i,this.transform())}},Object.defineProperty(s.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(t){this.node.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(t){this.node.textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"x",{get:function(){return this._x},set:function(t){this._x!=t&&(this._x=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"y",{get:function(){return this._y},set:function(t){this._y!=t&&(this._y=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!=t&&(this._rotation=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rotationX",{get:function(){return this._rotationX},set:function(t){this._rotationX!=t&&(this._rotationX=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rotationY",{get:function(){return this._rotationY},set:function(t){this._rotationY!=t&&(this._rotationY=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale!=t&&(this._scale=t,this.transform())},enumerable:!0,configurable:!0}),s.prototype.removeAttr=function(t){this.node.removeAttribute(t)},s.prototype.attr=function(t){var e=this;return Qe(t,function(i,r){N(r)?e.node.setAttribute(i,r):e.node.removeAttribute(i)}),this},s.prototype.getAttr=function(t){return this.node.getAttribute(t)},s.prototype.attrNS=function(t,e,i){return this.node.setAttributeNS(t,e,i),this},s.prototype.getAttrNS=function(t,e){return this.node.getAttributeNS(t,e)},s.prototype.removeStyle=function(t){this.node.style[t]=null,delete this.node.style[t]},s.prototype.getStyle=function(t){return this.node.style[t]},s.prototype.addStyle=function(t){var e=this;return Qe(t,function(i,r){N(r)?e.node.style[i]=r:e.removeStyle(i)}),this},s.prototype.addClass=function(t){qA(this.node,t)},s.prototype.removeClass=function(t){ZA(this.node,t)},s.prototype.setClass=function(t){this.node.setAttribute("class",t)},s.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},s.prototype.isDisposed=function(){return this._isDisposed},s.prototype.dispose=function(){this.removeNode()},s}();var Fm=function(s){U(t,s);function t(e){return s.call(this,e)||this}return t.prototype.add=function(e){e&&this.node.appendChild(e.node)},t.prototype.addToBack=function(e){if(e){var i=this.node.childNodes[0];i?i!=e.node&&this.node.insertBefore(e.node,i):this.node.appendChild(e.node)}},t.prototype.removeElement=function(e){if(e)try{e.node&&e.node.parentNode==this.node&&this.node.removeChild(e.node)}catch{}},t.prototype.hasChild=function(e){for(var i=0;i<this.node.childNodes.length;i++)if(this.node.childNodes[i]==e.node)return!0;return!1},Object.defineProperty(t.prototype,"content",{get:function(){return this.node.innerHTML},set:function(e){this.node.innerHTML=e},enumerable:!0,configurable:!0}),t.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var e=this.node.firstChild;e&&e.parentNode&&e.parentNode.removeChild(e)}},t.prototype.removeChildrenByTag=function(e){if(this.node.childNodes)for(var i=this.node.getElementsByTagName(e),r=0;r<i.length;r++)this.node.removeChild(i[r])},t}(Hh);var et=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._purposes={stroke:He("#e5e5e5"),fill:He("#f3f3f3"),primaryButton:He("#6794dc"),primaryButtonHover:He("#6771dc"),primaryButtonDown:He("#68dc75"),primaryButtonActive:He("#68dc75"),primaryButtonText:He("#FFFFFF"),primaryButtonStroke:He("#FFFFFF"),secondaryButton:He("#d9d9d9"),secondaryButtonHover:He("#d9d9d9").brighten(-.25),secondaryButtonDown:He("#d9d9d9").brighten(-.35),secondaryButtonActive:He("#d9d9d9").brighten(.35),secondaryButtonText:He("#000000"),secondaryButtonStroke:He("#FFFFFF"),grid:He("#000000"),background:He("#ffffff"),alternativeBackground:He("#000000"),text:He("#000000"),alternativeText:He("#FFFFFF"),disabledBackground:He("#999999"),positive:He("#67dc75"),negative:He("#dc6788")},e.className="InterfaceColorSet",e.applyTheme(),e}return t.prototype.debug=function(){},t.prototype.getFor=function(e){return this._purposes[e]},t.prototype.setFor=function(e,i){this._purposes[e]=i},t}(Gi);E.registeredClasses.InterfaceColorSet=et;var cO=new Nt;function dO(s,t){t||(t="ampopup");var e=new et,i=e.getFor("text"),r=e.getFor("background");r.alpha=.8;var a=e.getFor("alternativeBackground");a.alpha=.05;var n=cO.insertKeyIfEmpty(t,function(){var o=new Qt([new _i(s,"."+t,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new _i(s,"."+t+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":r.hex,opacity:"0.5"}),new _i(s,"."+t+"-header",{display:"block",width:"100%","min-height":"1.8em",background:a.rgba}),new _i(s,"."+t+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new _i(s,"."+t+"-content",{background:r.hex,"background-color":r.rgba,color:i.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new _i(s,"."+t+"-inside",{padding:"1em"}),new _i(s,"."+t+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new Fu(function(){cO.removeKey(t),o.dispose()})});return n.increment()}var O_=function(s){U(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e._domEvents={},e}return t.prototype._addDOMEvent=function(e,i,r,a){var n=this;if(!this._domEvents[e]){var o=function(l){r.call(a,i,l)};this.target.element.addEventListener(e,o,!1),this._domEvents[e]=new Fu(function(){delete n._domEvents[e],n.target.element.removeEventListener(e,o,!1)})}return this._domEvents[e].increment()},t.prototype._dispatchKeyboardEvent=function(e,i){this.target.events.isEnabled(e)&&this.target.events.dispatchImmediately(e,{type:e,target:this.target,event:i})},t.prototype._on=function(e,i,r,a,n,o){var l=s.prototype._on.call(this,e,i,r,a,n,o),u=[l.disposer];switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":u.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"keyup":u.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"keypress":u.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break;case"input":u.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));break}return l.disposer=new Qt(u),l},t}(om);var L_=function(s){U(t,s);function t(e){var i=s.call(this)||this;return i._eventDispatcher=new O_(i),i.eventDisposers=new Nt,i.replacedStyles=new Nt,i._clickable=!1,i._contextMenuDisabled=!1,i._hoverable=!1,i._trackable=!1,i._draggable=!1,i._swipeable=!1,i._resizable=!1,i._wheelable=!1,i._inert=!1,i._isHover=!1,i.isRealHover=!1,i._isHoverByTouch=!1,i._isDown=!1,i._isFocused=!1,i._isTouchProtected=!1,i._inertiaOptions=new Nt,i.inertias=new Nt,i._hitOptions={},i._hoverOptions={},i._swipeOptions={},i._keyboardOptions={},i._mouseOptions={},i._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},i._disposers.push(i._eventDispatcher),i._element=e,i.className="InteractionObject",i._disposers.push(new Cn(i.inertias)),i._disposers.push(new Cn(i.eventDisposers)),i.applyTheme(),i}return Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHover",{get:function(){return this._isHover},set:function(e){this.isHover!=e&&(this._isHover=e,e?ct().overObjects.moveValue(this):(this.isRealHover=!1,ct().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(e){this.isHoverByTouch!=e&&(this._isHoverByTouch=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new xt),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this._isDown},set:function(e){this.isDown!=e&&(this._isDown=e,e?ct().downObjects.moveValue(this):ct().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new xt),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.isFocused!=e&&(this._isFocused=e,e?ct().focusedObject=this:ct().focusedObject=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(e){this._isTouchProtected!=e&&(this._isTouchProtected=e,e?ct().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&ct().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return this._clickable},set:function(e){this._clickable!==e&&(this._clickable=e,ct().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(e){this._contextMenuDisabled!==e&&(this._contextMenuDisabled=e,ct().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this._hoverable},set:function(e){this._hoverable!==e&&(this._hoverable=e,ct().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this._trackable},set:function(e){this._trackable!==e&&(this._trackable=e,ct().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable!==e&&(this._draggable=e,ct().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this._swipeable},set:function(e){this._swipeable!==e&&(this._swipeable=e,ct().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){this._resizable!==e&&(this._resizable=e,ct().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this._wheelable},set:function(e){this._wheelable!==e&&(this._wheelable=e,ct().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inert",{get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this._focusable},set:function(e){this._focusable!==e&&(this._focusable=e,this._focusable&&this.tabindex==-1&&(this._tabindex=1),ct().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return bb(this._tabindex,-1)},set:function(e){this._tabindex!==e&&(this._tabindex=e,e>-1&&(this.focusable=!0),ct().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(e){this._originalPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalScale",{get:function(){return bb(this._originalScale,1)},set:function(e){this._originalScale!==e&&(this._originalScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalAngle",{get:function(){return bb(this._originalAngle,0)},set:function(e){this._originalAngle!==e&&(this._originalAngle=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(e){this._inertiaOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(e){this._hitOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(e){this._hoverOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(e){this._swipeOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(e){this._keyboardOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(e){this._mouseOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(e){this._cursorOptions=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.inertiaOptions=e.inertiaOptions,this.hitOptions=e.hitOptions,this.hoverOptions=e.hoverOptions,this.swipeOptions=e.swipeOptions,this.keyboardOptions=e.keyboardOptions,this.cursorOptions=e.cursorOptions,this.contextMenuDisabled=e.contextMenuDisabled,ct().applyCursorOverStyle(this)},t.prototype.setEventDisposer=function(e,i,r){var a=this.eventDisposers.getKey(e);i?a==null&&this.eventDisposers.setKey(e,r()):a!=null&&(a.dispose(),this.eventDisposers.removeKey(e))},t.prototype.dispose=function(){s.prototype.dispose.call(this);var e=ct();e.overObjects.removeValue(this),e.downObjects.removeValue(this),e.trackedObjects.removeValue(this),e.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&e.unlockWheel(),e.focusedObject===this&&(e.focusedObject=void 0)},t}(vs);var I_=function(){function s(t,e){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=t,this.keyboardEvent=e,this._startedOn=new Date().getTime(),ct().processDragStart(t),Dt.animations.push(this),this.update()}return s.prototype.update=function(){var t=this.interaction,e=ct().getKeyboardOption(t,"speed"),i=ct().getKeyboardOption(t,"accelleration"),r=ct().getKeyboardOption(t,"accellerationDelay"),a={x:0,y:0};this.keyboardEvent.shiftKey?(e*=.5,i=1):this.keyboardEvent.ctrlKey&&(e*=2);var n=new Date().getTime()-this._startedOn,o=n-r;if(i>0&&o>0){var l=n/r;n=r,a.x+=this.directionX*(e*i*l*o),a.y+=this.directionY*(e*i*l*o)}a.x+=this.directionX*(e*n),a.y+=this.directionY*(e*n),ct().handleTransformMove(t,a,{x:0,y:0},this.keyboardEvent,!0,!1)},s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){this._disposed||(ct().processDragStop(this.interaction),tt(Dt.animations,this))},s}();var $_=function(s){U(t,s);function t(e,i,r,a){var n=s.call(this)||this;return n.animations=[],n.className="Inertia",n.interaction=e,n.type=i,n.point=r,n.startPoint=a,n._disposers.push(new xo(n.animations)),n}return Object.defineProperty(t.prototype,"x",{get:function(){return this.point.x},set:function(e){k(e)&&(this.point.x=e,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.point.y},set:function(e){k(e)&&(this.point.y=e,this.handleMove())},enumerable:!0,configurable:!0}),t.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var e={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",e)}},t.prototype.done=function(){this.interaction.inertias.removeKey(this.type),this.type==="move"&&ct().processDragStop(this.interaction),this.dispose()},t}(Gi);var AO=function(){function s(){}return s.prototype.getEventKey=function(t){var e=t.keyCode||t.which,i;switch(e){case 38:i="up";break;case 40:i="down";break;case 37:i="left";break;case 39:i="right";break;case 13:i="enter";break;case 27:i="esc";break;case 36:i="home";break;case 35:i="end";break;case 9:i="tab";break;case 17:i="ctrl";break;case 18:i="alt";break;case 16:i="shift";break;case 32:i="space";break;case 36:i="home";break;case 35:i="end";break;case 33:i="pgup";break;case 34:i="pgdn";break;case 45:i="ins";break;case 46:i="del";break;case 107:i="plus";break;case 109:i="minus";break;default:i="other";break}return i},s.prototype.isKey=function(t,e){var i=this.getEventKey(t);return ft(e)&&(e=[e]),e.indexOf(i)!==-1},s.prototype.shiftKey=function(t){return t.shiftKey},s.prototype.ctrlKey=function(t){return t.ctrlKey},s.prototype.altKey=function(t){return t.altKey},s.prototype.metaKey=function(t){return t.metaKey},s}();var Ia=new AO;var rj={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function k_(s){switch(s){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Sr(s,t){return N(t)||(t=1),rj[s]*t}function sj(){return new Date}function Wo(){return sj().getTime()}function dd(s){return new Date(s.getTime())}function Yb(s,t,e,i){s=new Date(s.getTime()),t=new Date(t.getTime());var r=0,a=0;!i&&e!="millisecond"&&(r=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-r),a=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-a));var n=!1;switch(e){case"year":s.getUTCFullYear()!=t.getUTCFullYear()&&(n=!0);break;case"month":(s.getUTCFullYear()!=t.getUTCFullYear()||s.getUTCMonth()!=t.getUTCMonth())&&(n=!0);break;case"day":(s.getUTCMonth()!=t.getUTCMonth()||s.getUTCDate()!=t.getUTCDate())&&(n=!0);break;case"hour":s.getUTCHours()!=t.getUTCHours()&&(n=!0);break;case"minute":s.getUTCMinutes()!=t.getUTCMinutes()&&(n=!0);break;case"second":s.getUTCSeconds()!=t.getUTCSeconds()&&(n=!0);break;case"millisecond":s.getTime()!=t.getTime()&&(n=!0);break}if(n)return!0;var o=k_(e);return o?(s.setUTCMinutes(s.getUTCMinutes()+r),t.setUTCMinutes(t.getUTCMinutes()+a),Yb(s,t,o,i)):!1}function Xs(s,t,e,i){var r=0;switch(!i&&t!="millisecond"&&(r=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-r)),t){case"day":var a=s.getUTCDate();s.setUTCDate(a+e);break;case"second":var n=s.getUTCSeconds();s.setUTCSeconds(n+e);break;case"millisecond":var o=s.getUTCMilliseconds();s.setUTCMilliseconds(o+e);break;case"hour":var l=s.getUTCHours();s.setUTCHours(l+e);break;case"minute":var u=s.getUTCMinutes();s.setUTCMinutes(u+e);break;case"year":var h=s.getUTCFullYear();s.setUTCFullYear(h+e);break;case"month":var c=s.getUTCMonth();s.setUTCMonth(c+e);break;case"week":var A=s.getUTCDate();s.setUTCDate(A+e*7);break}if(!i&&t!="millisecond"&&(s.setUTCMinutes(s.getUTCMinutes()+r),t=="day"||t=="week"||t=="month"||t=="year")){var d=s.getTimezoneOffset();if(d!=r){var f=d-r;s.setUTCMinutes(s.getUTCMinutes()+f),s.getTimezoneOffset()!=d&&s.setUTCMinutes(s.getUTCMinutes()-f)}}return s}function Jr(s,t,e,i,r,a,n,o){n===void 0&&(n=0),k(e)||(e=1);var l=0;switch(o&&["day","month","week","year"].indexOf(t)!=-1&&(s=ef(s,o)),!r&&t!="millisecond"&&(l=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-l)),t){case"day":var u=s.getUTCDate();if(e>1){if(a){a=Jr(a,"day",1);var h=s.getTime()-a.getTime(),c=Math.floor(h/Sr("day")/e),A=Sr("day",c*e);s.setTime(a.getTime()+A-l*Sr("minute"))}}else s.setUTCDate(u);s.setUTCHours(0,0,0,0);break;case"second":var d=s.getUTCSeconds();e>1&&(d=Math.floor(d/e)*e),s.setUTCSeconds(d,0);break;case"millisecond":if(e==1)return s;var f=s.getUTCMilliseconds();f=Math.floor(f/e)*e,s.setUTCMilliseconds(f);break;case"hour":var p=s.getUTCHours();e>1&&(p=Math.floor(p/e)*e),s.setUTCHours(p,n,0,0);break;case"minute":var m=s.getUTCMinutes();f=s.getUTCMilliseconds(),e>1&&(m=Math.floor(m/e)*e),s.setUTCMinutes(m,0,0);break;case"month":var g=s.getUTCMonth();e>1&&(g=Math.floor(g/e)*e),s.setUTCMonth(g,1),s.setUTCHours(0,n,0,0);break;case"year":var y=s.getUTCFullYear();e>1&&(y=Math.floor(y/e)*e),s.setUTCFullYear(y,0,1),s.setUTCHours(0,n,0,0);break;case"week":var v=s.getUTCDate(),_=s.getUTCDay();k(i)||(i=1),_>=i?v=v-_+i:v=v-(7+_)+i,s.setUTCDate(v),s.setUTCHours(0,n,0,0);break}if(!r&&t!="millisecond"&&(s.setUTCMinutes(s.getUTCMinutes()+l),t=="day"||t=="week"||t=="month"||t=="year")){var S=s.getTimezoneOffset();if(S!=l){var F=S-l;s.setUTCMinutes(s.getUTCMinutes()+F)}}return s}function ef(s,t){var e=new Date(s.toLocaleString("en-US",{timeZone:t}));return e}function fO(s){var t=new Date;t.setHours(0,0,0,0);var e=ef(t,s);return e.getMinutes()}var pO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._globalEventsAdded=!1,e._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},e._usePointerEventsOnly=!1,e._useTouchEventsOnly=!1,e._addHoverEvents=!0,e._passiveSupported=!1,e._delayedEvents={out:[]},e.overObjects=new xt,e.downObjects=new xt,e.trackedObjects=new xt,e.transformedObjects=new xt,e.pointers=new Nt,e.inertiaOptions=new Nt,e.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},e.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},e.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},e.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},e.mouseOptions={sensitivity:1},e.className="Interaction",e.body=e.getInteraction(document.body),e._disposers.push(e.body),window.hasOwnProperty("PointerEvent")?(e._pointerEvents.pointerdown="pointerdown",e._pointerEvents.pointerup="pointerup",e._pointerEvents.pointermove="pointermove",e._pointerEvents.pointercancel="pointercancel",e._pointerEvents.pointerover="pointerover",e._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(e._pointerEvents.pointerdown="MSPointerDown",e._pointerEvents.pointerup="MSPointerUp",e._pointerEvents.pointermove="MSPointerMove",e._pointerEvents.pointercancel="MSPointerUp",e._pointerEvents.pointerover="MSPointerOver",e._pointerEvents.pointerout="MSPointerOut"):typeof matchMedia<"u"&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(e._addHoverEvents=!1,e._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||e.fullFF()?e._usePointerEventsOnly=!0:e._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?e._pointerEvents.wheel="wheel":N(document.onmousewheel)&&(e._pointerEvents.wheel="mousewheel"),e.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:jb}),e.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:jb}),e._passiveSupported=t.passiveSupported,e.applyTheme(),e}return t.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},t.prototype.debug=function(){},t.prototype.addGlobalEvents=function(){var e=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(Yi(document,this._pointerEvents.pointerdown,function(i){e.handleGlobalPointerDown(i)})),this._disposers.push(Yi(document,this._pointerEvents.pointermove,function(i){e.handleGlobalPointerMove(i)})),this._disposers.push(Yi(document,this._pointerEvents.pointerup,function(i){e.handleGlobalPointerUp(i)})),this._disposers.push(Yi(document,this._pointerEvents.pointercancel,function(i){e.handleGlobalPointerUp(i,!0)})),this._disposers.push(Yi(document,"mouseenter",function(i){!N(i.relatedTarget)&&(i.buttons==0||i.which==0)&&e.handleDocumentLeave(i)}))),this._usePointerEventsOnly||(this._disposers.push(Yi(document,"touchstart",function(i){e.handleGlobalTouchStart(i)})),this._disposers.push(Yi(document,"touchmove",function(i){e.handleGlobalTouchMove(i)})),this._disposers.push(Yi(document,"touchend",function(i){e.handleGlobalTouchEnd(i)}))),this._disposers.push(Yi(document,"keydown",function(i){e.handleGlobalKeyDown(i)})),this._disposers.push(Yi(document,"keyup",function(i){e.handleGlobalKeyUp(i)})),this._globalEventsAdded=!0)},t.prototype.processClickable=function(e){this.processTouchable(e)},t.prototype.processContextMenu=function(e){e.contextMenuDisabled?e.eventDisposers.hasKey("contextMenuDisabled")||e.eventDisposers.setKey("contextMenuDisabled",Yi(e.element,"contextmenu",function(i){i.preventDefault()})):e.eventDisposers.hasKey("contextMenuDisabled")&&e.eventDisposers.getKey("contextMenuDisabled").dispose()},t.prototype.processHoverable=function(e){var i=this;if(e.hoverable||e.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(e),!e.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&e.eventDisposers.setKey("hoverable",new Qt([Yi(e.element,this._pointerEvents.pointerout,function(a){return i.handlePointerOut(e,a)}),Yi(e.element,this._pointerEvents.pointerover,function(a){return i.handlePointerOver(e,a)})])),e.trackable;else{var r=e.eventDisposers.getKey("hoverable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("hoverable"))}this.processTouchable(e)},t.prototype.processMovable=function(e){(e.draggable||e.swipeable||e.trackable||e.resizable)&&(!this.isGlobalElement(e)&&!e.isTouchProtected&&this.prepElement(e),this.applyCursorOverStyle(e)),this.processTouchable(e)},t.prototype.processTrackable=function(e){this.processHoverable(e),this.processMovable(e),e.trackable?this.trackedObjects.moveValue(e):this.trackedObjects.removeValue(e)},t.prototype.processDraggable=function(e){this.processMovable(e)},t.prototype.processSwipeable=function(e){this.processMovable(e)},t.prototype.processResizable=function(e){this.processMovable(e)},t.prototype.processWheelable=function(e){var i=this;if(e.wheelable)e.eventDisposers.hasKey("wheelable")||e.eventDisposers.setKey("wheelable",new Qt([Yi(e.element,this._pointerEvents.wheel,function(a){return i.handleMouseWheel(e,a)},this._passiveSupported?{passive:!1}:!1),e.events.on("out",function(a){e.wheelable&&i.unlockWheel()}),e.events.on("over",function(a){e.wheelable&&i.lockWheel()})]));else{var r=e.eventDisposers.getKey("wheelable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("wheelable"))}},t.prototype.processFocusable=function(e){var i=this;if(e.focusable===!0&&e.tabindex>-1&&!this._useTouchEventsOnly)e.eventDisposers.hasKey("focusable")||e.eventDisposers.setKey("focusable",new Qt([Yi(e.element,"focus",function(a){return i.handleFocus(e,a)}),Yi(e.element,"blur",function(a){return i.handleBlur(e,a)}),Yi(e.element,this._pointerEvents.pointerdown,function(a){return i.handleFocusBlur(e,a)}),Yi(e.element,"touchstart",function(a){return i.handleFocusBlur(e,a)},this._passiveSupported?{passive:!1}:!1)]));else{var r=e.eventDisposers.getKey("focusable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("focusable"))}},t.prototype.processTouchable=function(e){var i=this;if(e.clickable||e.hoverable||e.trackable||e.draggable||e.swipeable||e.resizable)this.addGlobalEvents(),e.eventDisposers.hasKey("touchable")||(!this._useTouchEventsOnly&&!this._usePointerEventsOnly?e.eventDisposers.setKey("touchable",new Qt([Yi(e.element,this._pointerEvents.pointerdown,function(a){return i.handlePointerDown(e,a)}),Yi(e.element,"touchstart",function(a){return i.handleTouchDown(e,a)},this._passiveSupported?{passive:!1}:!1)])):this._useTouchEventsOnly?this._usePointerEventsOnly||e.eventDisposers.setKey("touchable",Yi(e.element,"touchstart",function(a){return i.handleTouchDown(e,a)},this._passiveSupported?{passive:!1}:!1)):e.eventDisposers.setKey("touchable",Yi(e.element,this._pointerEvents.pointerdown,function(a){return i.handlePointerDown(e,a)})));else{var r=e.eventDisposers.getKey("touchable");r!=null&&(r.dispose(),e.eventDisposers.removeKey("touchable"))}},t.prototype.handleFocus=function(e,i){if(!e.focusable){i.preventDefault();return}if(e.isFocused=!0,e.events.isEnabled("focus")&&!Dt.isPaused){var r={type:"focus",target:e,event:i};e.events.dispatchImmediately("focus",r)}},t.prototype.handleFocusBlur=function(e,i){e.focusable!==!1&&this.getHitOption(e,"noFocus")&&e.events.once("focus",function(){e.events.disableType("blur"),cd(),e.sprite&&e.sprite.handleBlur(),e.events.enableType("blur")})},t.prototype.handleBlur=function(e,i){if(!e.focusable){i.preventDefault();return}if(e.isFocused=!1,e.events.isEnabled("blur")&&!Dt.isPaused){var r={type:"blur",target:e,event:i};e.events.dispatchImmediately("blur",r)}},t.prototype.handleGlobalKeyDown=function(e){if(this.focusedObject){if(Ia.isKey(e,"esc"))cd();else if(this.focusedObject.draggable&&Ia.isKey(e,["up","down","left","right"])){e.preventDefault();var i=this.focusedObject,r="interactionKeyboardObject";if(i.eventDisposers.hasKey(r))return;var a=new I_(i,e);switch(i.eventDisposers.setKey(r,a),Ia.getEventKey(e)){case"up":a.directionY=-1;break;case"down":a.directionY=1;break;case"left":a.directionX=-1;break;case"right":a.directionX=1;break}}}},t.prototype.handleGlobalKeyUp=function(e){var i="interactionKeyboardObject";if(this.focusedObject){var r=this.focusedObject.eventDisposers.getKey(i);r!=null&&(e.preventDefault(),r.dispose(),this.focusedObject.eventDisposers.removeKey(i));var a=this.focusedObject.sprite;Ia.isKey(e,"enter")&&a&&(a.events.isEnabled("hit")||a.events.isEnabled("toggled")?this.focusedObject.dispatchImmediately("hit"):a.showTooltipOn=="hit"&&this.focusedObject.dispatchImmediately("up"))}},t.prototype.handleGlobalPointerMove=function(e){var i=this.getPointer(e);if(i.point=this.getPointerPoint(e),this.events.isEnabled("track")&&!Dt.isPaused){var r={type:"track",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("track",r)}this.addBreadCrumb(i,i.point),this.handleGlobalMove(i,e)},t.prototype.handleGlobalPointerDown=function(e){this.processDelayed();var i=this.getPointer(e);if(this.events.isEnabled("down")&&!Dt.isPaused){var r={type:"down",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("down",r)}},t.prototype.preventTouchAction=function(e){e.defaultPrevented||e.preventDefault()},t.prototype.handleGlobalPointerUp=function(e,i){i===void 0&&(i=!1);var r=this.getPointer(e);if(this.events.isEnabled("up")&&!Dt.isPaused){var a={type:"up",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("up",a)}this.handleGlobalUp(r,e,i)},t.prototype.handleGlobalTouchMove=function(e){for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);if(r.point=this.getPointerPoint(e.changedTouches[i]),this.events.isEnabled("track")&&!Dt.isPaused){var a={type:"track",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("track",a)}this.addBreadCrumb(r,r.point),this.handleGlobalMove(r,e)}},t.prototype.handleGlobalTouchStart=function(e){this.processDelayed();for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!Dt.isPaused){var a={type:"down",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("down",a)}}},t.prototype.handleGlobalTouchEnd=function(e){for(var i=0;i<e.changedTouches.length;i++){var r=this.getPointer(e.changedTouches[i]);if(this.events.isEnabled("up")&&!Dt.isPaused){var a={type:"up",target:this,event:e,pointer:r,touch:r.touch};this.events.dispatchImmediately("up",a)}this.handleGlobalUp(r,e)}},t.prototype.handlePointerDown=function(e,i){var r=this.getPointer(i);!r.touch&&i.which!=1&&i.which!=3||(r.button=i.which,this.resetPointer(r,i),this.handleDown(e,r,i))},t.prototype.handlePointerOver=function(e,i){var r=this.getPointer(i);this.handleOver(e,r,i)},t.prototype.handlePointerOut=function(e,i){var r=this.getPointer(i);this.handleOut(e,r,i)},t.prototype.handleMouseWheel=function(e,i){var r=this.getPointer(i);r.point=this.getPointerPoint(i);var a=0,n=0,o=1;if(i.deltaMode==1&&(o=50),o*=this.getMouseOption(e,"sensitivity"),i instanceof WheelEvent)a=Math.round(-1*i.wheelDeltaX||i.deltaX*o),n=Math.round(-1*i.wheelDeltaY||i.deltaY*o);else throw new Error("Invalid event type");this.handleWheel(e,r,a,n,i)},t.prototype.handleTouchDown=function(e,i){for(var r=0;r<i.changedTouches.length;r++){var a=this.getPointer(i.changedTouches[r]);this.maybePreventDefault(e,i,a),this.resetPointer(a,i.changedTouches[r]),this.handleDown(e,a,i)}},t.prototype.handleHit=function(e,i,r){var a=Wo();if(e.lastHit&&e.lastHit>=a-this.getHitOption(e,"doubleHitTime")){if(a-e.lastHit<100)return;if(e.lastHit=void 0,e.lastHitPointer=void 0,e.events.isEnabled("doublehit")&&!Dt.isPaused){var n={type:"doublehit",target:e,point:i.point,event:r,touch:i.touch};e.events.dispatchImmediately("doublehit",n)}}else if(e.lastHit=a,e.lastHitPointer=i,i.button===3){if(e.events.isEnabled("rightclick")&&!Dt.isPaused){var n={type:"rightclick",target:e,event:r};e.events.dispatchImmediately("rightclick",n)}}else if(e.events.isEnabled("hit")&&!Dt.isPaused){var n={type:"hit",target:e,event:r,point:i.point,touch:i.touch};e.events.dispatchImmediately("hit",n)}},t.prototype.handleOver=function(e,i,r,a){if(a===void 0&&(a=!1),!!e.hoverable){var n=!1;if(this.shouldCancelHovers(i)&&this.areTransformed()&&this.moved(i,this.getHitOption(e,"hitTolerance"))&&(n=!0,this.cancelAllHovers(r)),this.processDelayed(),e.overPointers.moveValue(i),!e.isRealHover&&(n||(e.isHover=!0,e.isRealHover=!0,this.overObjects.moveValue(e)),this.handleTrack(this.body,i,r,!0),e.events.isEnabled("over")&&!Dt.isPaused&&!n)){var o={type:"over",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("over",o)}}},t.prototype.handleOut=function(e,i,r,a,n){var o=this;if(a===void 0&&(a=!1),n===void 0&&(n=!1),!!e.hoverable&&(e.overPointers.removeValue(i),e.isHover&&(!e.hasDelayedOut||n))){if(a&&e.overPointers.length)return;if(i&&i.touch&&!n&&!this.old(i)){var l=this.getHoverOption(e,"touchOutBehavior");if(l=="leave"){this._delayedEvents.out.push({type:"out",io:e,pointer:i,event:r,keepUntil:Wo()+500}),e.hasDelayedOut=!0;return}else if(l=="delay"&&this.getHoverOption(e,"touchOutDelay")){this._delayedEvents.out.push({type:"out",io:e,pointer:i,event:r,keepUntil:Wo()+500,timeout:this.setTimeout(function(){o.handleOut(e,i,r,!0)},this.getHoverOption(e,"touchOutDelay"))});return}}if(e.isHover=!1,this.overObjects.removeValue(e),!e.isDisposed()&&e.events.isEnabled("out")&&!Dt.isPaused){var u={type:"out",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("out",u)}e.overPointers.clear(),e.hasDelayedOut=!1}},t.prototype.processDelayed=function(){for(var e;e=this._delayedEvents.out.pop(),!!e;)e.timeout&&e.timeout.dispose(),this.handleOut(e.io,e.pointer,e.event,!1,!0)},t.prototype.handleDown=function(e,i,r){if(this.maybePreventDefault(e,r,i),e.inert&&this.stopInertia(e),this.handleOver(e,i,r,!0),e.downPointers.moveValue(i),this.applyCursorDownStyle(e,i),e.isDown||(e.focusable!==!1&&this.getHitOption(e,"noFocus")&&this.focusedObject&&cd(),e.isDown=!0,this.downObjects.moveValue(e),e.draggable&&this.processDragStart(e,i,r),e.resizable&&this.processResizeStart(e,i,r)),e.events.isEnabled("down")&&!Dt.isPaused){var a={type:"down",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("down",a)}},t.prototype.handleGlobalUp=function(e,i,r){var a=this;r===void 0&&(r=!1);var n=this.downObjects.values.slice();n.sort(function(o,l){if(o&&l){var u=o.element.compareDocumentPosition(l.element);return u&Node.DOCUMENT_POSITION_CONTAINED_BY?1:u&Node.DOCUMENT_POSITION_CONTAINS?-1:0}else return 0}),Ce(n,function(o){o&&o.downPointers.contains(e)&&a.handleUp(o,e,i,r)})},t.prototype.handleDocumentLeave=function(e){var i=this;de(this.downObjects.backwards().iterator(),function(r){r.downPointers.each(function(a){i.handleUp(r,a,e)})})},t.prototype.handleUp=function(e,i,r,a){if(a===void 0&&(a=!1),this.restoreCursorDownStyle(e,i),e.downPointers.removeValue(i),(i&&i.touch||this._useTouchEventsOnly)&&this.handleOut(e,i,r,!0),e.isDown){if(e.downPointers.length==0&&(e.isDown=!1,this.downObjects.removeValue(e)),e.events.isEnabled("up")&&!Dt.isPaused&&i){var n={type:"up",target:e,event:r,pointer:i,touch:i.touch};e.events.dispatchImmediately("up",n)}a||(e.swipeable&&this.swiped(e,i)?this.handleSwipe(e,i,r):(e.clickable&&!this.moved(i,this.getHitOption(e,"hitTolerance"))&&this.handleHit(e,i,r),e.inert&&this.moved(i,this.getHitOption(e,"hitTolerance"))?this.handleInertia(e,i):e.draggable&&this.processDragStop(e,i,r),e.resizable&&this.processResizeStop(e,i,r)))}},t.prototype.maybePreventDefault=function(e,i,r){N(i)&&(e.draggable||e.swipeable||e.trackable||e.resizable)&&!this.isGlobalElement(e)&&i.cancelable!==!1&&(!e.isTouchProtected||!r||!r.touch)&&i.preventDefault()},t.prototype.cancelAllHovers=function(e){var i=this;de(this.overObjects.backwards().iterator(),function(r){if(r){var a=r.overPointers.getIndex(0);i.handleOut(r,a,e,!0,!0)}})},t.prototype.shouldCancelHovers=function(e){return lt.disableHoverOnTransform=="always"||lt.disableHoverOnTransform=="touch"&&e.touch},t.prototype.handleGlobalMove=function(e,i){var r=this;if(!e.touch){var a=hO(e.lastEvent);de(this.overObjects.backwards().iterator(),function(n){if(n&&n.overPointers.contains(e)&&n.hoverable){var o=!1;n.element&&e.lastEvent&&P_(n.element,a)||(o=!0),o&&r.handleOut(n,e,i,!0)}})}de(this.transformedObjects.backwards().iterator(),function(n){n.downPointers.contains(e)&&!(n.swipeable&&r.swiping(n,e))&&(n.draggable||n.resizable)&&r.handleTransform(n,i)}),de(this.trackedObjects.backwards().iterator(),function(n){n.overPointers.contains(e)||r.handleTrack(n,e,i)})},t.prototype.handleTrack=function(e,i,r,a){if(a===void 0&&(a=!1),!(!a&&!this.moved(i,0))&&e.events.isEnabled("track")&&!Dt.isPaused){var n={type:"track",target:e,event:r,point:i.point,pointer:i,touch:i.touch};e.events.dispatchImmediately("track",n)}},t.prototype.handleSwipe=function(e,i,r){if(e.events.isEnabled("swipe")&&!Dt.isPaused){var a={type:"swipe",target:e,event:r,touch:i.touch};e.events.dispatchImmediately("swipe",a)}if(i.startPoint.x<i.point.x){if(e.events.isEnabled("swiperight")&&!Dt.isPaused){var a={type:"swiperight",target:e,event:r,touch:i.touch};e.events.dispatchImmediately("swiperight",a)}}else if(e.events.isEnabled("swipeleft")&&!Dt.isPaused){var a={type:"swipeleft",target:e,event:r,touch:i.touch};e.events.dispatchImmediately("swipeleft",a)}},t.prototype.handleWheel=function(e,i,r,a,n){var o={x:r,y:a};e.events.isEnabled("wheel")&&!Dt.isPaused&&e.events.dispatchImmediately("wheel",{type:"wheel",target:e,event:n,point:i.point,shift:o}),r<0?e.events.isEnabled("wheelleft")&&!Dt.isPaused&&e.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:e,event:n,point:i.point,shift:o}):r>0?e.events.isEnabled("swiperight")&&!Dt.isPaused&&e.events.dispatchImmediately("wheelright",{type:"wheelright",target:e,event:n,point:i.point,shift:o}):a<0?e.events.isEnabled("wheelup")&&!Dt.isPaused&&e.events.dispatchImmediately("wheelup",{type:"wheelup",target:e,event:n,point:i.point,shift:o}):a>0&&e.events.isEnabled("wheeldown")&&!Dt.isPaused&&e.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:e,event:n,point:i.point,shift:o})},t.prototype.handleInertia=function(e,i){e.draggable&&e.downPointers.length===0&&this.handleMoveInertia(e,i),e.resizable&&e.downPointers.length>1&&this.handleResizeInertia(e,i)},t.prototype.handleMoveInertia=function(e,i){var r=e,a="move",n={x:i.point.x,y:i.point.y},o={x:i.startPoint.x,y:i.startPoint.y},l=new $_(r,a,n,o),u=this.getTrailPoint(i,Wo()-this.getInertiaOption(e,"move","time"));if(typeof u>"u"){this.processDragStop(e,i,i.lastUpEvent);return}var h=this.getInertiaOption(e,"move","factor"),c=[{to:i.point.x+(i.point.x-u.point.x)*h,property:"x"},{to:i.point.y+(i.point.y-u.point.y)*h,property:"y"}],A=new Ls(l,c,this.getInertiaOption(e,"move","duration"),this.getInertiaOption(e,"move","easing")).start();this._disposers.push(A.events.on("animationended",function(d){l.done()})),e.inertias.setKey("move",l)},t.prototype.handleResizeInertia=function(e,i){},t.prototype.handleTransform=function(e,i){var r=e.downPointers.getIndex(0),a=null,n=null;r&&(a=r.point,n=r.startPoint);var o,l,u;l={x:e.originalPosition.x,y:e.originalPosition.y},u=l;for(var h=!0,c=1;c<e.downPointers.length;c++){var A=e.downPointers.getIndex(c);if(n.x!=A.startPoint.x&&n.y!=A.startPoint.y){h=!1,o=A,l=o.point,u=o.startPoint;break}}var d=r&&this.moved(r,0);if(e.draggable&&r&&r.dragStartEvents&&r.dragStartEvents.length&&d&&e.events.isEnabled("dragstart")&&!Dt.isPaused&&e.events.dispatchImmediately("dragstart",r.dragStartEvents.shift()),h&&e.draggable)this.handleTransformMove(e,a,n,i,d,r.touch),this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(e,"hitTolerance"))&&this.cancelAllHovers(i);else{var f=o&&this.moved(o,0);(this.shouldCancelHovers(r)&&this.moved(r,this.getHitOption(e,"hitTolerance"))||this.shouldCancelHovers(o)&&this.moved(o,this.getHitOption(e,"hitTolerance")))&&this.cancelAllHovers(i),e.draggable&&e.resizable?(this.handleTransformMove(e,a,n,i,d&&f,r.touch),this.handleTransformResize(e,a,n,l,u,i,d&&f,r.touch)):(e.draggable&&this.handleTransformMove(e,a,n,i,d,r.touch),e.resizable&&(!h||i.ctrlKey)&&this.handleTransformResize(e,a,n,l,u,i,d&&f,r.touch))}},t.prototype.handleTransformMove=function(e,i,r,a,n,o){if(n&&e.events.isEnabled("drag")&&!Dt.isPaused&&(!e.isTouchProtected||!o)){var l={type:"drag",target:e,event:a,shift:{x:i.x-r.x,y:i.y-r.y},startPoint:r,point:i,touch:o};e.events.dispatchImmediately("drag",l)}},t.prototype.handleTransformResize=function(e,i,r,a,n,o,l,u){if(e.events.isEnabled("resize")&&!Dt.isPaused&&(!e.isTouchProtected||!u)){var h={type:"resize",target:e,event:o,scale:S1(i,r,a,n),startPoint1:r,point1:i,startPoint2:n,point2:a,touch:u};e.events.dispatchImmediately("resize",h)}},t.prototype.processDragStart=function(e,i,r){this.transformedObjects.moveValue(e),this.shouldCancelHovers(i)&&this.cancelAllHovers(r);var a={type:"dragstart",target:e,event:r,touch:i?i.touch:!1};i&&(i.dragTarget=e),i&&i.dragStartEvents?i.dragStartEvents.push(a):Dt.isPaused||e.dispatchImmediately("dragstart",a)},t.prototype.processDragStop=function(e,i,r){if(i||(i=this.getDragPointer(e)),i&&(i.dragTarget=void 0),this.transformedObjects.removeValue(e),(!i||this.moved(i,0))&&e.events.isEnabled("dragstop")&&!Dt.isPaused){var a={type:"dragstop",target:e,touch:i?i.touch:!1};e.events.dispatchImmediately("dragstop",a)}},t.prototype.processResizeStart=function(e,i,r){this.transformedObjects.moveValue(e)},t.prototype.processResizeStop=function(e,i,r){this.transformedObjects.removeValue(e)},t.prototype.dragStart=function(e,i){i||(i=this.getDragPointer(e)),i&&this.handleDown(e,i,i.lastDownEvent)},t.prototype.dragStop=function(e,i,r){i||(i=this.getDragPointer(e)),i&&!r&&this.handleGlobalUp(i,i.lastUpEvent,r)},t.prototype.getDragPointer=function(e){return e?e.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},t.prototype.getPointerId=function(e){var i="";return N(e.identifier)?i=""+e.identifier:N(e.pointerId)?i=""+e.pointerId:i="m",i.replace("-","")},t.prototype.getPointerPoint=function(e){return{x:e.clientX,y:e.clientY}},t.prototype.getPointer=function(e){var i=this.getPointerId(e),r=this.getPointerPoint(e),a;return this.pointers.hasKey(i)?(a=this.pointers.getKey(i),a.touch=this.isPointerTouch(e)):(a={id:i,touch:this.isPointerTouch(e),startPoint:r,startTime:Wo(),point:r,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(a,r),this.pointers.setKey(i,a)),a.lastEvent=e,this.lastPointer=a,a},t.prototype.isPointerTouch=function(e){if(typeof Touch<"u"&&e instanceof Touch)return!0;if(typeof PointerEvent<"u"&&e instanceof PointerEvent&&N(e.pointerType))switch(e.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(e instanceof MouseEvent)}else if(N(e.type)&&e.type.match(/^mouse/))return!1;return!0},t.prototype.resetPointer=function(e,i){var r=this.getPointerPoint(i);e.startTime=Wo(),e.startPoint={x:r.x,y:r.y},e.point={x:r.x,y:r.y},e.track=[],e.swipeCanceled=!1},t.prototype.addBreadCrumb=function(e,i){e.track.push({timestamp:Wo(),point:i})},t.prototype.lockDocument=function(){this.prepElement(this.body)},t.prototype.unlockDocument=function(){this.transformedObjects.length==0&&this.restoreAllStyles(this.body)},t.prototype.lockElement=function(e){this.prepElement(e)},t.prototype.unlockElement=function(e){this.restoreAllStyles(e)},t.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,this._passiveSupported?{passive:!1}:!1)},t.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},t.prototype.isLocalElement=function(e,i,r){var a=this.getCache("local_pointer_"+e.id);if(N(a))return a;var n=zb(i)||document;if(n.elementFromPoint){var o=n.elementFromPoint(e.point.x,e.point.y),l=o&&P_(i,o);return this.setCache("local_pointer_"+e.id+"_"+r,l,100),l}return!1},t.prototype.wheelLockEvent=function(e){return e.preventDefault(),!1},t.prototype.prepElement=function(e){var i=e.element;if(i){for(var r=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],a=0;a<r.length;a++)r[a]in i.style&&this.setTemporaryStyle(e,r[a],"none");this.setTemporaryStyle(e,"tapHighlightColor","rgba(0, 0, 0, 0)")}},t.prototype.unprepElement=function(e){var i=e.element;if(i){for(var r=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],a=0;a<r.length;a++)r[a]in i.style&&this.restoreStyle(e,r[a]);this.restoreStyle(e,"tapHighlightColor")}},t.prototype.getHitOption=function(e,i){var r=e.hitOptions[i];return typeof r>"u"&&(r=this.hitOptions[i]),r},t.prototype.getHoverOption=function(e,i){var r=e.hoverOptions[i];return typeof r>"u"&&(r=this.hoverOptions[i]),r},t.prototype.getSwipeOption=function(e,i){var r=e.swipeOptions[i];return typeof r>"u"&&(r=this.swipeOptions[i]),r},t.prototype.getKeyboardOption=function(e,i){var r=e.keyboardOptions[i];return typeof r>"u"&&(r=this.keyboardOptions[i]),r},t.prototype.getMouseOption=function(e,i){var r=e.mouseOptions[i];return typeof r>"u"&&(r=this.mouseOptions[i]),r},t.prototype.getInertiaOption=function(e,i,r){var a=e.inertiaOptions.getKey(i),n;return a&&N(a[r])?n=a[r]:n=this.inertiaOptions.getKey(i)[r],n},t.prototype.stopInertia=function(e){for(var i,r=["move","resize"],a=0;a<r.length;a++)if(i=r[a],e.inertias.hasKey(i)){var n=e.inertias.getKey(i);if(n){n.dispose();continue}}},t.prototype.swiping=function(e,i){var r=Wo();return i.swipeCanceled||!e.swipeable?!1:Math.abs(i.startPoint.y-i.point.y)<this.getSwipeOption(e,"verticalThreshold")&&i.startTime>r-this.getSwipeOption(e,"time")},t.prototype.swiped=function(e,i){var r=Wo();return i.swipeCanceled?!1:Math.abs(i.startPoint.x-i.point.x)>this.getSwipeOption(e,"horizontalThreshold")&&Math.abs(i.startPoint.y-i.point.y)<this.getSwipeOption(e,"verticalThreshold")&&i.startTime>r-this.getSwipeOption(e,"time")},t.prototype.applyCursorOverStyle=function(e){var i=e.cursorOptions;if(N(i.overStyle))for(var r=0;r<i.overStyle.length;r++)F_(e.element,i.overStyle[r].property,i.overStyle[r].value)},t.prototype.applyCursorDownStyle=function(e,i){if(!(i&&i.touch)){var r=e.cursorOptions.downStyle;if(e.downPointers.contains(i)&&N(r))for(var a=0;a<r.length;a++)this.setTemporaryStyle(this.body,r[a].property,r[a].value),this.setTemporaryStyle(e,r[a].property,r[a].value)}},t.prototype.restoreCursorDownStyle=function(e,i){if(!(i&&i.touch)){var r=e.cursorOptions.downStyle;if(e.downPointers.contains(i)&&N(r))for(var a=0;a<r.length;a++)this.restoreStyle(this.body,r[a].property),this.restoreStyle(e,r[a].property)}},t.prototype.setGlobalStyle=function(e){for(var i=ct().body,r=Ci(e)?e:[e],a=0;a<r.length;a++)this.setTemporaryStyle(i,r[a].property,r[a].value)},t.prototype.restoreGlobalStyle=function(e){for(var i=ct().body,r=Ci(e)?e:[e],a=0;a<r.length;a++)this.restoreStyle(i,r[a].property)},t.prototype.isGlobalElement=function(e){return document.body===e.element},t.prototype.moved=function(e,i,r){r===void 0&&(r=300);var a=this.getShift(e);return Math.abs(a.x)>i||Math.abs(a.y)>i},t.prototype.old=function(e,i){return i===void 0&&(i=300),Wo()-e.startTime>i},t.prototype.getShift=function(e){return{x:e.startPoint.x-e.point.x,y:e.startPoint.y-e.point.y}},t.prototype.getTrailPoint=function(e,i){for(var r,a=0;a<e.track.length;a++)if(e.track[a].timestamp>=i){r=e.track[a];break}return r},t.prototype.pointerExists=function(e,i){var r=!1;return e.each(function(a){a!=i&&(r=a.point.x==i.point.x&&a.point.y==i.point.y)}),r},t.prototype.getInteraction=function(e){return new L_(e)},t.prototype.setTemporaryStyle=function(e,i,r){var a=e.element;N(a.style[i])&&!e.replacedStyles.hasKey(i)&&e.replacedStyles.setKey(i,a.style[i]),F_(a,i,r)},t.prototype.restoreStyle=function(e,i){e.replacedStyles.hasKey(i)?(e.element.style[i]=e.replacedStyles.getKey(i),e.replacedStyles.removeKey(i)):delete e.element.style[i]},t.prototype.restoreAllStyles=function(e){de(e.replacedStyles.iterator(),function(i){var r=i[0],a=i[1];e.element.style[r]=a,e.replacedStyles.removeKey(r)})},t.prototype.dispose=function(){this.isDisposed()||(s.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},t.prototype.log=function(e,i,r){var a=!0;if(a){if(i.changedTouches){for(var n=0;n<i.changedTouches.length;n++)this.logTouch(e,i.type,i.changedTouches[n]);return}var o="";if(i.pointerType)switch(i.pointerType){case 2:o="touch";break;case 4:o="mouse";break;default:o=i.pointerType;break}else typeof TouchEvent<"u"&&i instanceof TouchEvent?o="touch":i.type.match(/^mouse/)?o="mouse":o="???";var l="";N(i.identifier)?l=i.identifier:N(i.pointerId)?l=i.pointerId:l="???",console.log(r?e+" ("+r.uid+")  "+i.type+"  "+o+"  "+l:e+"  "+i.type+"  "+o+"  "+l)}},t.prototype.areTransformed=function(e){var i=this.transformedObjects.length;if(e)for(var r=Ci(e)?e:[e],a=0;a<r.length;a++)this.transformedObjects.contains(r[a])&&i--;return i>0},t.prototype.logTouch=function(e,i,r){console.log(e+"  "+i+"  touch  "+r.identifier)},Object.defineProperty(t,"passiveSupported",{get:function(){var e=this;if(this._passiveSupported==null)try{var i=Object.defineProperty({},"passive",{get:function(){e._passiveSupported=!0}});window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch{this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),t}(vs);var M_=null;function ct(){return M_==null&&(M_=new pO),M_}var Tm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.adapter=new _r(e),e._elements={},e._IOs={},e._content="",e._title="",e._classPrefix="ampopup",e._defaultStyles=!0,e._showCurtain=!1,e._draggable=!0,e._align="center",e._dynamicResize=!0,e._verticalAlign="middle",e._shift={x:0,y:0},e._tempShift={x:0,y:0},e._readerTitle="",e._closable=!0,e._cssLoaded=!1,e._fitTo="window",e.isTemplate=!1,e._sized=!1,e.className="Popup",e}return t.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},t.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},t.prototype.dispose=function(){this.close(),s.prototype.dispose.call(this)},t.prototype.positionElement=function(e){var i=this;e===void 0&&(e=!0),this._elements.wrapper&&setTimeout(function(){if(i._elements.wrapper){if(e||!i._sized){i._elements.wrapper.style.opacity="0.01",i._elements.wrapper.style.left="0",i._elements.wrapper.style.top="0",i._elements.wrapper.style.margin="0 0 0 0",i._elements.wrapper.style.width="",i._elements.wrapper.style.height="";var r=i._elements.wrapper.getBoundingClientRect();i._elements.wrapper.style.width=r.width+"px",i._elements.wrapper.style.height=r.height+"px",i._sized=!0}if(i.dynamicResize)for(var a=i._elements.wrapper.getElementsByTagName("img"),n=0;n<a.length;n++){var o=a[n];if(!o.complete){o.addEventListener("load",function(){i.positionElement(!0)});break}}setTimeout(function(){if(i._elements.wrapper){var l;switch((e||!i._sized)&&i._bbox?l=i._bbox:(l=i._elements.wrapper.getBoundingClientRect(),i._elements.wrapper.style.opacity=""),i.align){case"left":i._elements.wrapper.style.left="0",i._elements.wrapper.style.right="auto",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break;case"center":i._elements.wrapper.style.left="50%",i._elements.wrapper.style.right="auto",i._elements.wrapper.style.marginLeft=i.toStyle(Math.round(-l.width/2)+(i._shift.x+i._tempShift.x));break;case"right":i._elements.wrapper.style.left="auto",i._elements.wrapper.style.right="0",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break;default:i._elements.wrapper.style.left=i.toStyle(i.left)||"auto",i._elements.wrapper.style.right=i.toStyle(i.right)||"auto",i._elements.wrapper.style.marginLeft=i.toStyle(i._shift.x+i._tempShift.x);break}switch(i.verticalAlign){case"top":i._elements.wrapper.style.top="0",i._elements.wrapper.style.bottom="auto",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break;case"middle":i._elements.wrapper.style.top="50%",i._elements.wrapper.style.bottom="auto",i._elements.wrapper.style.marginTop=i.toStyle(Math.round(-l.height/2)+(i._shift.y+i._tempShift.y));break;case"bottom":i._elements.wrapper.style.top="auto",i._elements.wrapper.style.bottom="0",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break;default:i._elements.wrapper.style.top=i.toStyle(i.top)||"auto",i._elements.wrapper.style.bottom=i.toStyle(i.bottom)||"auto",i._elements.wrapper.style.marginTop=i.toStyle(i._shift.y+i._tempShift.y);break}}},1)}},1)},t.prototype.setupDragging=function(){var e=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",function(i){e._tempShift.x=i.shift.x,e._tempShift.y=i.shift.y,e.positionElement(!1)}),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",function(i){e._shift.x+=e._tempShift.x,e._shift.y+=e._tempShift.y,e._tempShift.x=0,e._tempShift.y=0,e.positionElement(!1)})):this._IOs.header&&(ct().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},t.prototype.toStyle=function(e){return N(e)?k(e)?""+e+"px":e.toString():null},Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(e){this._classPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(e){this._content!=e&&(this._content=e,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=e,this.positionElement())},enumerable:!0,configurable:!0}),t.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},t.prototype.createContentElement=function(){if(!this._elements.wrapper){var e=this.getClassNames(),i=document.createElement("div");i.className=e.contentClass,i.style.opacity="0.01";var r=document.createElement("a");r.className=e.closeClass;var a=document.createElement("div");a.className=e.headerClass;var n=document.createElement("div");n.innerHTML=this.title,n.className=e.titleClass,this.title||(n.style.display="none");var o=document.createElement("div");o.className=e.insideClass,o.innerHTML=this.content,this._IOs.wrapper=ct().getInteraction(i),this._IOs.header=ct().getInteraction(a),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=ct().getInteraction(r),this._disposers.push(this._IOs.close),r.style.visibility="hidden",i.setAttribute("role","dialog"),a.appendChild(r),a.appendChild(n),i.appendChild(a),i.appendChild(o),this.container.appendChild(i),this._elements.wrapper=i,this._elements.header=a,this._elements.content=o,this._elements.title=n,this._elements.close=r,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(e){this._title!=e&&(this._title=e,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=e,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",this._readerTitle!=""?this._readerTitle:this.title)},set:function(e){this._readerTitle!=e&&(this._readerTitle=e,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(e){e!==this._closable&&(this._closable=e,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(e){e!=this._fitTo&&(this._fitTo=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(e){this._showCurtain!=e&&(this._showCurtain=e,this._elements.curtain&&(this._elements.curtain.style.display=e?"block":"none"))},enumerable:!0,configurable:!0}),t.prototype.createCurtainElement=function(){var e=this.getClassNames(),i=document.createElement("div");i.className=e.curtainClass,this.container.appendChild(i),this._IOs.curtain=ct().getInteraction(i),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),i.style.display=this.showCurtain?"block":"none",this._elements.curtain=i},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(e){this._draggable!=e&&(this._draggable=e,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(e){this._dynamicResize!=e&&(this._dynamicResize=e,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(e){this._align!=e&&(this._align=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(e){this._verticalAlign!=e&&(this._verticalAlign=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(e){this.left!=e&&(this._left=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(e){this.right!=e&&(this._right=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(e){this.top!=e&&(this._top=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(e){this.bottom!=e&&(this._bottom=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(dO(JA(this.container),this.classPrefix)),Qe(this._elements,function(e,i){i.style.display=""}),this._cssLoaded=!0)},t.prototype.applyEvents=function(){var e=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var i=[ct().body.events.on("keyup",function(r){Ia.isKey(r.event,"esc")&&e.closable&&e.close()}),this._IOs.close.events.on("hit",function(r){e.close()})];i.push(this._IOs.curtain.events.on("hit",function(r){e.showCurtain&&e.closable&&e.close()})),this._disposers.push(new Qt(i))}else this._IOs.close.element.style.visibility="hidden"},t.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},t.prototype.releasePointers=function(){N(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},t.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.container=e.container,this.sprite=e.sprite,this.classPrefix=e.classPrefixRaw,this.content=e.content,this.title=e.title,this.readerTitle=e.readerTitle,this.defaultStyles=e.defaultStyles,this.showCurtain=e.showCurtain,this.align=e.align,this.verticalAlign=e.verticalAlign,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.adapter.copyFrom(e.adapter)},t}(vs);var Dm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.adapter=new _r(e),e.className="Modal",e.showCurtain=!0,e.draggable=!1,e}return t}(Tm);var aj=function(){function s(){var t=this;this._targets=[],this._observer=new ResizeObserver(function(e){Ce(e,function(i){Ce(t._targets,function(r){r.target===i.target&&r.callback()})})})}return s.prototype.addTarget=function(t,e){this._observer.observe(t,{box:"content-box"}),this._targets.push({target:t,callback:e})},s.prototype.removeTarget=function(t){this._observer.unobserve(t),WC(this._targets,function(e){return e.target!==t})},s}(),nj=function(){function s(){this._targets=[]}return s.prototype.addTarget=function(t,e){var i=this;if(this._targets.length===0){var r=null,a=function(){var o=Date.now();(r===null||o>r+s.delay)&&(r=o,Ce(i._targets,function(l){var u=l.target.getBoundingClientRect();(u.width!==l.size.width||u.height!==l.size.height)&&(l.size=u,l.callback())})),i._timer=requestAnimationFrame(a)};this._timer=requestAnimationFrame(a)}var n=t.getBoundingClientRect();this._targets.push({target:t,callback:e,size:n})},s.prototype.removeTarget=function(t){WC(this._targets,function(e){return e.target!==t}),this._targets.length===0&&cancelAnimationFrame(this._timer)},s.delay=200,s}(),Kb=null;function oj(){return Kb===null&&(typeof ResizeObserver<"u"?Kb=new aj:Kb=new nj),Kb}var mO=function(){function s(t,e){this._disposed=!1,this._sensor=oj(),this._element=t,this._sensor.addTarget(t,e)}return s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},Object.defineProperty(s.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),s.prototype.reset=function(){YA("resizeSensor.reset() is no longer needed and can be removed")},s}();var qb=[],Om=function(){function s(t,e){var i=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=t,e||(this._printing=!1,this.initSensor(),this._disposers.push(Yi(window,"beforeprint",function(){i._printing=!0})),this._disposers.push(Yi(window,"afterprint",function(){i._printing=!1}))),qb.push(this);var r=document.createElement("div"),a=r.style;a.width="100%",a.height="100%",a.position="relative",t.appendChild(r),this.SVGContainer=r}return s.prototype.initSensor=function(){var t=this;this.resizeSensor&&this.resizeSensor.dispose();var e=function(){t.autoResize&&!t._printing&&t.measure()};this.resizeSensor=new mO(this.htmlElement,e),this._disposers.push(this.resizeSensor)},s.prototype.measure=function(){var t=m_(this.htmlElement),e=g_(this.htmlElement),i=this.container;i&&((this.width!=t||this.height!=e)&&(this.width=t,this.height=e,t>0&&(i.maxWidth=t),e>0&&(i.maxHeight=e),T_(this.SVGContainer)),i.maxWidth||(i.maxWidth=0),i.maxHeight||(i.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(s.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t,this.measure()},enumerable:!0,configurable:!0}),s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){this._disposed||tt(qb,this),Ce(this._disposers,function(t){t.dispose()})},Object.defineProperty(s.prototype,"hideOverflow",{set:function(t){t?this.SVGContainer.style.overflow="hidden":this.SVGContainer.style.overflow=""},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"modal",{get:function(){return N(this._modal)||(this._modal=new Dm,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),s.prototype.openModal=function(t,e){this.closeModal();var i=this.modal;return i.content=t,i.readerTitle=e||"",i.title=e||"",i.open(),i},s.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(s.prototype,"popups",{get:function(){if(!N(this._popups)){var t=new Tm;t.container=this.SVGContainer,this._popups=new Kt(t),this._disposers.push(new Lt(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),s.prototype.openPopup=function(t,e){var i=this.popups.create();return i.content=t,N(e)&&(i.title=e),i.open(),i},s.prototype.closeAllPopups=function(){this.popups.each(function(t){t.close()})},Object.defineProperty(s.prototype,"readerAlertElement",{get:function(){if(!N(this._readerAlertElement)){var t=document.createElement("div");t.setAttribute("role","alert"),t.style.zIndex="-100000",t.style.opacity="0",t.style.position="absolute",t.style.top="0",this.SVGContainer.appendChild(t),this._readerAlertElement=t}return this._readerAlertElement},enumerable:!0,configurable:!0}),s.prototype.readerAlert=function(t){this.readerAlertElement.innerHTML=t},s.prototype.checkTransform=function(t){if(window.getComputedStyle){if(t&&t.style){var e=window.getComputedStyle(t,null);if(e){var i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");if(i&&i!=="none"){var r=i.split("(")[1].split(")")[0].split(","),a=Number(r[0]),n=Number(r[1]),o=Math.sqrt(a*a+n*n);isNaN(o)||(this.cssScale*=o)}}}t.parentNode&&t.parentNode instanceof HTMLElement&&this.checkTransform(t.parentNode)}},s}();var Zb=function(){function s(t,e){this.container=t,this.id=e;var i=document.createElementNS(Qh,"svg");i.setAttribute("version","1.1"),i.setAttributeNS(B_,"xmlns",Qh),i.setAttributeNS(B_,"xmlns:xlink",KA),i.setAttribute("role","group"),this.container.appendChild(i),this.defs=document.createElementNS(Qh,"defs"),i.appendChild(this.defs),i.style.width="100%",i.style.height="100%",i.style.overflow="visible",this.svg=i}return s.prototype.add=function(t){return new Hh(t)},s.prototype.addGroup=function(t){return new Fm(t)},s.prototype.append=function(t){t&&this.svg.appendChild(t.node)},s.prototype.appendDef=function(t){t&&this.defs.appendChild(t.node)},s.prototype.foreignObject=function(){var t=new Hh("foreignObject");return t},s.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},s}();var E_=null;function Xo(){if(E_===null){var s=document.createElement("div");s.hidden=!0,s.style.width="1px",s.style.height="1px",s.style.position="absolute",s.style.zIndex="-1000000",document.body.appendChild(s);var t=new Om(s,!0);E_=new Zb(t.SVGContainer,"ghost")}return E_}var zo=function(s){U(t,s);function t(){var e=s.call(this)||this;e._elements=new xt,e.properties={},e.className="Pattern",e.width=10,e.height=10,e.x=0,e.y=0,e.patternUnits="userSpaceOnUse";var i=new et;return e.backgroundFill=i.getFor("background"),e.backgroundOpacity=0,e.fillOpacity=1,e.fill=i.getFor("alternativeBackground"),e.stroke=i.getFor("alternativeBackground"),e.strokeOpacity=1,e.strokeWidth=1,e.shapeRendering="crispEdges",e.rotation=0,e.element=e.paper.addGroup("pattern"),e.id="pattern-"+E.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e._disposers.push(new Lt(e._elements)),e.patternUnits=e.patternUnits,e.width=e.width,e.height=e.height,e.applyTheme(),e}return t.prototype.draw=function(){var e=this,i=this.element;if(i){i.removeChildNodes();var r=this.paper.add("rect");r.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),i.add(r),i.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),de(this._elements.iterator(),function(a){a.rotation=e.rotation,a.rotationX=e.properties.rotationX,a.rotationY=e.properties.rotationY,e.element.add(a)})}},t.prototype.animate=function(e,i,r){return new Ls(this,e,i,r).start()},t.prototype.addElement=function(e){this._elements.push(e),this._disposers.push(e)},t.prototype.removeElement=function(e){this._elements.removeValue(e),this.removeDispose(e)},Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(e){this.properties.fillOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.properties.fill},set:function(e){this.properties.fill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(e){this.properties.backgroundFill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(e){this.properties.backgroundOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(e){this.properties.strokeOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(e){this.properties.shapeRendering=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(e){this.properties.rotation=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(e){this.properties.patternUnits=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.properties.x},set:function(e){this.properties.x=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.properties.y},set:function(e){this.properties.y=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Xo()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),Qe(e.properties,function(r,a){i[r]=a})},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new xo(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(e){this.properties.strokeDashArray=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){if(e&&N(e.elements)&&Ci(e.elements))for(var i=0,r=e.elements.length;i<r;i++){var a=e.elements[i];if(N(a.type)){var n=this.createEntryInstance(a);n instanceof Gi&&(n.config=a),this.addElement(N(a.typeProperty)?n[a.typeProperty]:n.element)}}s.prototype.processConfig.call(this,e)},t}(Gi);E.registeredClasses.Pattern=zo;var ws=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._stops=new xt,e._rotation=0,e.className="LinearGradient",e._stops.events.on("setIndex",e.validate,e),e._stops.events.on("inserted",e.validate,e),e.element=e.paper.addGroup("linearGradient"),e.id="gradient-"+E.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return t.prototype.validate=function(){var e=this,i=(this._rotation+90)*TA,r=Math.round(50+Math.sin(i+Math.PI)*50)+"%",a=Math.round(50+Math.cos(i)*50)+"%",n=Math.round(50+Math.sin(i)*50)+"%",o=Math.round(50+Math.cos(i+Math.PI)*50)+"%",l=this.element;l.removeChildNodes(),l.attr({x1:r,x2:n,y1:a,y2:o}),de(yo(this._stops.iterator()),function(u){var h=u[0],c=u[1],A=c.offset;k(A)||(A=h/(e._stops.length-1));var d=e.paper.add("stop");N(c.color)&&d.attr({"stop-color":c.color.toString()}),k(c.opacity)&&d.attr({"stop-opacity":c.opacity}),k(A)&&d.attr({offset:A}),l.add(d)})},t.prototype.clear=function(){this._stops.clear()},t.prototype.addColor=function(e,i,r){this._stops.push({color:e,opacity:i,offset:r})},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Xo()},set:function(e){this._paper!=e&&(this._paper=e,this.validate(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e,this.validate()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this._rotation=e.rotation},Object.defineProperty(t.prototype,"gradientUnits",{set:function(e){this.element.attr({gradientUnits:e})},enumerable:!0,configurable:!0}),t}(Gi);E.registeredClasses.LinearGradient=ws;var _n=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._stops=new xt,e.element=e.paper.addGroup("radialGradient"),e.id="gradient-"+E.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return t.prototype.draw=function(){var e=this,i=this.element;if(k(this.cx)){var r=this.cx;r instanceof nt&&(r=r.percent+"%"),i.attr({cx:r})}if(k(this.cy)){var r=this.cy;r instanceof nt&&(r=r.percent+"%"),i.attr({cy:r})}if(this.fx){var r=this.fx;r instanceof nt&&(r=r.percent+"%"),i.attr({fx:r})}if(this.fy){var r=this.fy;r instanceof nt&&(r=r.percent+"%"),i.attr({fy:r})}i.removeChildNodes(),de(yo(this._stops.iterator()),function(a){var n=a[0],o=a[1],l=o.offset;k(l)||(l=n/(e._stops.length-1));var u=e.paper.add("stop");N(o.color)&&u.attr({"stop-color":o.color.toString()}),k(o.opacity)&&u.attr({"stop-opacity":o.opacity}),k(l)&&u.attr({offset:l}),i.add(u)})},t.prototype.addColor=function(e,i,r){this._stops.push({color:e,opacity:i,offset:r}),this.draw()},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Xo()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this._cx},set:function(e){this._cx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this._cy},set:function(e){this._cy=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fx",{get:function(){return this._fx},set:function(e){this._fx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fy",{get:function(){return this._fy},set:function(e){this._fy=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this.cx=e.cx,this.cy=e.cy,this.fx=e.fx,this.fy=e.fy},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._stops.clear()},t}(Gi);E.registeredClasses.RadialGradient=_n;var fi=function(){function s(){}return s.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],s.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],s.pointer=[{property:"cursor",value:"pointer"}],s.default=[{property:"cursor",value:"default"}],s.horizontalResize=[{property:"cursor",value:"ew-resize"}],s.verticalResize=[{property:"cursor",value:"ns-resize"}],s.notAllowed=[{property:"cursor",value:"not-allowed"}],s.text=[{property:"cursor",value:"text"}],s}();var R_={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(s){var t="th";if(s<11||s>13)switch(s%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};var $a=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.adapter=new _r(e),e._locale=R_,e._defaultLocale=R_,e.className="Language",N(lt.defaultLocale)&&(e.locale=lt.defaultLocale),e.applyTheme(),e}return t.prototype.getLocale=function(e){return e==null&&(e=this._locale),this.adapter.apply("locale",{locale:e}).locale},t.prototype.translate=function(e,i){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];i=this.getLocale(i);var n=e,o=this.getTranslations(i),l=o[e];if(l===null)n="";else if(N(l))l&&(n=l);else if(i!==this._defaultLocale)return this.translate.apply(this,Au([e,this._defaultLocale],r));if(r.length)for(var u=r.length,h=0;h<u;++h)n=n.split("%"+(h+1)).join(r[h]);return this.adapter.apply("translate",{translation:n,locale:i}).translation},t.prototype.translateAny=function(e,i){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];return this.translate.apply(this,Au([e,i],r))},t.prototype.setTranslationAny=function(e,i,r){var a=r||this.locale;a[e]=i},t.prototype.translateEmpty=function(e,i){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var n=this.translate.apply(this,Au([e,i],r));return n==e?"":n},t.prototype.translateFunc=function(e,i){i=this.getLocale(i);var r=this.getTranslations(i),a=r[e];return a??(i!==this._defaultLocale?this.translateFunc(e,this._defaultLocale):function(){return""})},t.prototype.translateAll=function(e,i){var r=this;return this.isDefault()?e:Su(e,function(a){return r.translate(a,i)})},t.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(e){if(this._locale!=e&&(this._locale=e,this.events.isEnabled("localechanged"))){var i={type:"localechanged",locale:e,target:this};this.events.dispatchImmediately("localechanged",i)}},enumerable:!0,configurable:!0}),t.prototype.getTranslations=function(e){return this.adapter.apply("translations",{translations:e,locale:e}).translations},t}(vs);var V_=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.adapter=new _r(e),e.className="TextFormatter",e.applyTheme(),e}return t.prototype.debug=function(){},t.prototype.format=function(e,i){N(i)||(i="svg");var r="";e=this.escape(e);var a=e.match(/\[([^\]]*?)\]/gm);if(!a)return this.wrap(e,"",i);for(var n=e.split(/\[[^\[\]]*\]/),o=0,l=n.length;o<l;o++){var u=n[o];if(u!==""){u=this.adapter.apply("chunk",u);var h="";o>0&&(h=a[o-1].replace("[","").replace("]","")),r+=this.wrap(u,h,i)}}return r=this.unescape(r),this.cleanUp(r)},t.prototype.escape=function(e){return e.replace(/\[\[/g,E.getPlaceholder("1")).replace(/([^\/\]]{1})\]\]/g,"$1"+E.getPlaceholder("2")).replace(/\]\]/g,E.getPlaceholder("2")).replace(/\{\{/g,E.getPlaceholder("3")).replace(/\}\}/g,E.getPlaceholder("4")).replace(/\'\'/g,E.getPlaceholder("5"))},t.prototype.unescape=function(e){return e.replace(new RegExp(E.getPlaceholder("1"),"g"),"[[").replace(new RegExp(E.getPlaceholder("2"),"g"),"]]").replace(new RegExp(E.getPlaceholder("3"),"g"),"{{").replace(new RegExp(E.getPlaceholder("4"),"g"),"}}").replace(new RegExp(E.getPlaceholder("5"),"g"),"''")},t.prototype.cleanUp=function(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},t.prototype.wrap=function(e,i,r){switch((i===""||i==="/")&&(i=""),r){case"html":return this.wrapHtml(e,this.translateStyleShortcuts(i));default:return this.wrapSvg(e,this.translateStyleShortcuts(i))}},t.prototype.wrapSvg=function(e,i){return i===""?"<tspan>"+e+"</tspan>":"<tspan style='"+i+"'>"+e+"</tspan>"},t.prototype.getSvgElement=function(e,i){var r=new Hh("tspan");return r.textContent=e,i&&r.node.setAttribute("style",i),r},t.prototype.wrapHtml=function(e,i){return i===""?"<span>"+e+"</span>":"<span style='"+this.styleSvgToHtml(i)+"'>"+e+"</span>"},t.prototype.getHtmlElement=function(e,i){var r=document.createElement("span");return r.innerHTML=e,i&&r.setAttribute("style",i),r},t.prototype.styleSvgToHtml=function(e){return e=e.replace(/fill:/,"color:"),e},t.prototype.translateStyleShortcuts=function(e){if(e==""||e=="[ ]")return"";var i=E.getCache("translateStyleShortcuts_"+e);if(i)return i;var r=e.match(/('[^']*')|("[^"]*")/gi);if(r)for(var a=0;a<r.length;a++)e=e.replace(r[a],r[a].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var n=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!n)return e;for(var a=0;a<n.length;a++)n[a].match(/^bold$/i)?n[a]="font-weight:"+n[a]:n[a]=="/"?n[a]="":n[a].match(/:/)?n[a]=n[a].replace(/\+/g," "):n[a]="fill:"+n[a];var o=n.join(";");return E.setCache("translateStyleShortcuts_"+e,o),o},t.prototype.chunk=function(e,i,r){i===void 0&&(i=!1),r===void 0&&(r=!1);var a=[];e=this.escape(e);for(var n=i?e.split("'"):[e],o=0;o<n.length;o++){var l=n[o];if(l!=="")if(o%2===0){l=l.replace(/\]\[/g,"]"+Os+"["),l=l.replace(/\[\]/g,"[ ]");for(var u=l.split(/[\[\]]+/),h=0;h<u.length;h++){var c=this.cleanUp(this.unescape(u[h]));c!==Os&&c!==""&&(h%2===0?a.push({type:"value",text:this.adapter.apply("chunk",c)}):a.push({type:r?"value":"format",text:"["+c+"]"}))}}else for(var u=l.split(/[\[\]]+/),h=0;h<u.length;h++){var c=this.cleanUp(this.unescape(u[h]));c!==""&&(h%2===0?a.push({type:"text",text:c}):this.isImage(c)?a.push({type:"image",text:"["+c+"]"}):a.push({type:"format",text:"["+c+"]"}))}}return a},t.prototype.isImage=function(e){return!!e.match(/img[ ]?:/)},t}(Gi);var N_;function Ja(){return N_==null&&(N_=new V_),N_}E.registeredClasses.TextFormatter=V_;var Du=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._negativeBase=0,e._numberFormat="#,###.#####",e._outputFormat="svg",e._smallNumberThreshold=1,e._forceLTR=!1,e.className="NumberFormatter",e.applyTheme(),e}return t.prototype.dispose=function(){s.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new $a),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),t.prototype.format=function(e,i,r){(typeof i>"u"||ft(i)&&i.toLowerCase()==="number")&&(i=this._numberFormat);var a,n=Number(e);if(ni(i))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,i).format(n):new Intl.NumberFormat(void 0,i).format(n)}catch{return"Invalid"}else{i=Uh(i);var o=this.parseFormat(i,this.language),l=void 0;n>this._negativeBase?l=o.positive:n<this._negativeBase?l=o.negative:l=o.zero,N(r)&&!l.mod&&(l=k1(l),l.decimals.active=n==0?0:r),a=l.template.split(Os).join(this.applyFormat(n,l))}return this.forceLTR&&(a="\u200E"+a),a},t.prototype.parseFormat=function(e,i){var r=this,a=this.getCache(e);if(N(a))return a;var n={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:i.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}};e=e.replace("||",Tu);var o=e.split("|");return n.positive.source=o[0],typeof o[2]>"u"?n.zero=n.positive:n.zero.source=o[2],typeof o[1]>"u"?n.negative=n.positive:n.negative.source=o[1],Qe(n,function(l,u){if(!u.parsed){if(typeof r.getCache(u.source)<"u"){n[l]=r.getCache(u.source);return}var h=u.source;h.toLowerCase()==="number"&&(h=ft(r._numberFormat)?r._numberFormat:"#,###.#####");for(var c=Ja().chunk(h,!0),A=0;A<c.length;A++){var d=c[A];if(d.text=d.text.replace(Tu,"|"),d.type==="value"){var f=d.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(f)if(f===null||f[0]==="")u.template+=d.text;else{var p=f[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);p&&(u.mod=p[0].toLowerCase(),u.modSpacing=!!f[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));var m=f[0].split(".");if(m[0]!==""){u.thousands.active=(m[0].match(/0/g)||[]).length,u.thousands.passive=(m[0].match(/\#/g)||[]).length+u.thousands.active;var g=m[0].split(",");g.length===1||(u.thousands.interval=gi(g.pop()).length,u.thousands.interval===0&&(u.thousands.interval=-1))}typeof m[1]>"u"||(u.decimals.active=(m[1].match(/0/g)||[]).length,u.decimals.passive=(m[1].match(/\#/g)||[]).length+u.decimals.active),u.template+=d.text.split(f[0]).join(Os)}}else u.template+=d.text}r.setCache(u.source,u),u.parsed=!0}}),this.setCache(e,n),n},t.prototype.applyFormat=function(e,i){var r=e<0;e=Math.abs(e);var a="",n="",o=i.mod?i.mod.split(""):[];if(o.indexOf("b")!==-1){var l=this.applyPrefix(e,this.bytePrefixes,o.indexOf("!")!==-1);e=l[0],a=l[1],n=l[2],i.modSpacing&&(n=" "+n)}else if(o.indexOf("a")!==-1){var u=this.applyPrefix(e,e<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,o.indexOf("!")!==-1);e=u[0],a=u[1],n=u[2],i.modSpacing&&(n=" "+n)}else if(o.indexOf("p")!==-1){var h=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(h)),a=this.language.translate("_percentPrefix")||"",n=this.language.translate("_percentSuffix")||"",a==""&&n==""&&(n="%")}else if(o.indexOf("%")!==-1){var h=bt(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(h)),n="%"}else if(o.indexOf("\u2030")!==-1){var h=bt(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(h)),n="\u2030"}if(o.indexOf("e")!==-1){var c=void 0;i.decimals.passive>=0?c=e.toExponential(i.decimals.passive).split("e"):c=e.toExponential().split("e"),e=Number(c[0]),n="e"+c[1],i.modSpacing&&(n=" "+n)}else if(i.decimals.passive===0)e=Math.round(e);else if(i.decimals.passive>0){var A=Math.pow(10,i.decimals.passive);e=Math.round(e*A)/A}var d="",f=d_(e).split("."),p=f[0];if(p.length<i.thousands.active&&(p=Array(i.thousands.active-p.length+1).join("0")+p),i.thousands.interval>0){for(var m=[],g=p.split("").reverse().join(""),y=0,v=p.length;y<=v;y+=i.thousands.interval){var _=g.substr(y,i.thousands.interval).split("").reverse().join("");_!==""&&m.unshift(_)}p=m.join(i.thousands.separator)}d+=p,f.length===1&&f.push("");var S=f[1];return S.length<i.decimals.active&&(S+=Array(i.decimals.active-S.length+1).join("0")),S!==""&&(d+=i.decimals.separator+S),d===""&&(d="0"),e!==0&&r&&o.indexOf("s")===-1&&(d="-"+d),a&&(d=a+d),n&&(d+=n),d},t.prototype.applyPrefix=function(e,i,r){r===void 0&&(r=!1);for(var a=e,n="",o="",l=!1,u=1,h=0,c=i.length;h<c;h++)i[h].number<=e&&(i[h].number===0?a=0:(a=e/i[h].number,u=i[h].number),n=i[h].prefix,o=i[h].suffix,l=!0);return!l&&r&&i.length&&e!=0&&(a=e/i[0].number,n=i[0].prefix,o=i[0].suffix,l=!0),l&&(a=parseFloat(a.toPrecision(bt(u.toString().length+Math.floor(a).toString().replace(/[^0-9]*/g,"").length,21)))),[a,n,o]},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(e){this._negativeBase=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigNumberPrefixes",{get:function(){return N(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(e){this._bigNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberPrefixes",{get:function(){return N(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(e){this._smallNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(e){this._smallNumberThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bytePrefixes",{get:function(){return N(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(e){this._bytePrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forceLTR",{get:function(){return this._forceLTR},set:function(e){this._forceLTR=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.escape=function(e){return e.replace("||",Tu)},t.prototype.unescape=function(e){return e.replace(Tu,"|")},t}(Gi);E.registeredClasses.NumberFormatter=Du;var Qn=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._dateFormat="yyyy-MM-dd",e._inputDateFormat="yyyy-MM-dd",e._utc=!1,e.timezoneMinutes=0,e._firstDayOfWeek=1,e.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e._outputFormat="svg",e.capitalize=!0,e.className="DateFormatter",e.applyTheme(),e}return Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(e){this._language=e,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),t.prototype.format=function(e,i,r){this.language||(this.sprite?this.language=this.sprite.language:this.language=new $a),(typeof i>"u"||i==="")&&(i=this._dateFormat);var a,n;if(ft(e)?n=this.parse(e):n=ym(e),ni(i))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,i).format(n):new Intl.DateTimeFormat(void 0,i).format(n)}catch{return"Invalid"}else{i=Uh(i);var o=this.parseFormat(i);if(N(this.timezoneOffset)?n.setMinutes(n.getMinutes()+n.getTimezoneOffset()-this.timezoneOffset):N(this.timezone)&&r!==!1&&(n=ef(n,this.timezone)),!k(n.getTime()))return this.language.translate("Invalid date");a=this.applyFormat(n,o,this.language),this.capitalize&&(a=a.replace(/^.{1}/,a.substr(0,1).toUpperCase()))}return a},t.prototype.parseFormat=function(e){var i=this.getCache(e);if(N(i))return i;for(var r={template:"",parts:[]},a=Ja().chunk(e,!0),n=0;n<a.length;n++){var o=a[n];if(o.type==="value"){o.text.match(/^date$/i)&&ft(this._dateFormat)&&(o.text=this._dateFormat);var l=o.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(l)for(var u=0;u<l.length;u++)r.parts.push(l[u]),o.text=o.text.replace(l[u],Os)}r.template+=o.text}return this.setCache(e,r),r},t.prototype.applyFormat=function(e,i,r){var a=i.template,n,o,l,u,h,c,A,d,f=e.getTimezoneOffset(),p=e.getTime();this.utc?(n=e.getUTCFullYear(),o=e.getUTCMonth(),l=e.getUTCDay(),u=e.getUTCDate(),h=e.getUTCHours(),c=e.getUTCMinutes(),A=e.getUTCSeconds(),d=e.getUTCMilliseconds()):(n=e.getFullYear(),o=e.getMonth(),l=e.getDay(),u=e.getDate(),h=e.getHours(),c=e.getMinutes(),A=e.getSeconds(),d=e.getMilliseconds());for(var m=0,g=i.parts.length;m<g;m++){var y="";switch(i.parts[m]){case"G":y=r.translate(n<0?"_era_bc":"_era_ad");break;case"yyyy":y=Math.abs(n).toString(),n<0&&(y+=r.translate("_era_bc"));break;case"yyy":case"yy":case"y":y=Math.abs(n).toString().substr(-i.parts[m].length),n<0&&(y+=r.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var v=p_(e);i.parts[m]=="YYYY"?y=Math.abs(v).toString():y=Math.abs(v).toString().substr(-i.parts[m].length),v<0&&(y+=r.translate("_era_bc"));break;case"u":break;case"q":y=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":y=r.translate(this.months[o]).substr(0,1);break;case"MMMM":y=r.translate(this.months[o]);break;case"MMM":y=r.translate(this.monthsShort[o]);break;case"MM":y=xs(o+1,2,"0");break;case"M":y=(o+1).toString();break;case"ww":y=xs(UA(e,this.utc),2,"0");break;case"w":y=UA(e,this.utc).toString();break;case"W":y=A_(e,this.utc).toString();break;case"dd":y=xs(u,2,"0");break;case"d":y=u.toString();break;case"DD":case"DDD":y=xs(Nb(e,this.utc).toString(),i.parts[m].length,"0");break;case"D":y=Nb(e,this.utc).toString();break;case"F":break;case"g":break;case"t":y=r.translateFunc("_dateOrd").call(this,u);break;case"E":y=(l||7).toString();break;case"EE":y=xs((l||7).toString(),2,"0");break;case"EEE":case"eee":y=r.translate(this.weekdaysShort[l]);break;case"EEEE":case"eeee":y=r.translate(this.weekdays[l]);break;case"EEEEE":case"eeeee":y=r.translate(this.weekdays[l]).substr(0,1);break;case"e":case"ee":y=(l-this.firstDayOfWeek+1).toString(),i.parts[m]=="ee"&&(y=xs(y,2,"0"));break;case"a":h>=12?y=r.translate("PM"):y=r.translate("AM");break;case"aa":h>=12?y=r.translate("P.M."):y=r.translate("A.M.");break;case"aaa":h>=12?y=r.translate("P"):y=r.translate("A");break;case"h":y=XA(h).toString();break;case"hh":y=xs(XA(h),2,"0");break;case"H":y=h.toString();break;case"HH":y=xs(h,2,"0");break;case"K":y=XA(h,0).toString();break;case"KK":y=xs(XA(h,0),2,"0");break;case"k":y=(h+1).toString();break;case"kk":y=xs(h+1,2,"0");break;case"m":y=c.toString();break;case"mm":y=xs(c,2,"0");break;case"s":y=A.toString();break;case"ss":y=xs(A,2,"0");break;case"S":case"SS":case"SSS":y=Math.round(d/1e3*Math.pow(10,i.parts[m].length)).toString();break;case"x":y=p.toString();break;case"n":case"nn":case"nnn":y=xs(d,i.parts[m].length,"0");break;case"z":y=zA(e,!1,!1,this.utc);break;case"zz":y=zA(e,!0,!1,this.utc);break;case"zzz":y=zA(e,!1,!0,this.utc);break;case"zzzz":y=zA(e,!0,!0,this.utc);break;case"Z":case"ZZ":var _=Math.abs(f)/60,S=Math.floor(_),F=_*60-S*60;this.utc&&(S=0,F=0),i.parts[m]=="Z"?(y="GMT",y+=f>0?"-":"+",y+=xs(S,2)+":"+xs(F,2)):(y=f>0?"-":"+",y+=xs(S,2)+xs(F,2));break;case"i":y=e.toISOString();break;case"I":y=e.toUTCString();break}a=a.replace(Os,y)}return a},t.prototype.parse=function(e,i){if(N(i)||(i=this.inputDateFormat),e instanceof Date)return e;if(typeof e=="number")return new Date(e);typeof e!="string"&&(e=e.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new $a);var r,a="";i=Uh(i),i=i.substr(0,e.length);for(var n=this.parseFormat(i),o={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},l={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},u=0,h=0,c=0;c<n.parts.length;c++){switch(h=c+u+1,n.parts[c]){case"yyyy":case"YYYY":a+="([0-9]{4})",o.year=h;break;case"yyy":case"YYY":a+="([0-9]{3})",o.year3=h;break;case"yy":case"YY":a+="([0-9]{2})",o.year2=h;break;case"y":case"Y":a+="([0-9]{1})",o.year1=h;break;case"MMMM":a+="("+this.getStringList(this.months).join("|")+")",o.monthLong=h;break;case"MMM":a+="("+this.getStringList(this.monthsShort).join("|")+")",o.monthShort=h;break;case"MM":case"M":a+="([0-9]{2}|[0-9]{1})",o.month=h;break;case"ww":case"w":a+="([0-9]{2}|[0-9]{1})",o.week=h;break;case"dd":case"d":a+="([0-9]{2}|[0-9]{1})",o.day=h;break;case"DDD":case"DD":case"D":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.yearDay=h;break;case"dddd":a+="("+this.getStringList(this.weekdays).join("|")+")",o.weekdayLong=h;break;case"ddd":a+="("+this.getStringList(this.weekdaysShort).join("|")+")",o.weekdayShort=h;break;case"aaa":case"aa":case"a":a+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",o.am=h;break;case"hh":case"h":a+="([0-9]{2}|[0-9]{1})",o.hour12Base1=h;break;case"HH":case"H":a+="([0-9]{2}|[0-9]{1})",o.hourBase0=h;break;case"KK":case"K":a+="([0-9]{2}|[0-9]{1})",o.hour12Base0=h;break;case"kk":case"k":a+="([0-9]{2}|[0-9]{1})",o.hourBase1=h;break;case"mm":case"m":a+="([0-9]{2}|[0-9]{1})",o.minute=h;break;case"ss":case"s":a+="([0-9]{2}|[0-9]{1})",o.second=h;break;case"SSS":case"SS":case"S":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=h,o.millisecondDigits=n.parts[c].length;break;case"nnn":case"nn":case"n":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",o.millisecond=h;break;case"x":a+="([0-9]{1,})",o.timestamp=h;break;case"Z":a+="GMT([-+]+[0-9]{2}:[0-9]{2})",o.zone=h;break;case"ZZ":a+="([\\-+]+[0-9]{2}[0-9]{2})",o.zone=h;break;case"i":a+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",o.iso=h,u+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":u--;break}a+="[^0-9]*"}var A=new RegExp(a),d=e.match(A);if(d){if(o.year>-1&&(l.year=parseInt(d[o.year])),o.year3>-1){var f=parseInt(d[o.year3]);f+=1e3,l.year=f}if(o.year2>-1){var f=parseInt(d[o.year2]);f>50?f+=1e3:f+=2e3,l.year=f}if(o.year1>-1){var f=parseInt(d[o.year1]);f=Math.floor(new Date().getFullYear()/10)*10+f,l.year=f}if(o.monthLong>-1&&(l.month=this.resolveMonth(d[o.monthLong])),o.monthShort>-1&&(l.month=this.resolveShortMonth(d[o.monthShort])),o.month>-1&&(l.month=parseInt(d[o.month])-1),o.week>-1&&o.day===-1&&(l.month=0,l.day=f_(parseInt(d[o.week]),l.year,1,this.utc)),o.day>-1&&(l.day=parseInt(d[o.day])),o.yearDay>-1&&(l.month=0,l.day=parseInt(d[o.yearDay])),o.hourBase0>-1&&(l.hour=parseInt(d[o.hourBase0])),o.hourBase1>-1&&(l.hour=parseInt(d[o.hourBase1])-1),o.hour12Base0>-1){var f=parseInt(d[o.hour12Base0]);f==11&&(f=0),o.am>-1&&!this.isAm(d[o.am])&&(f+=12),l.hour=f}if(o.hour12Base1>-1){var f=parseInt(d[o.hour12Base1]);f==12&&(f=0),o.am>-1&&!this.isAm(d[o.am])&&(f+=12),l.hour=f}if(o.minute>-1&&(l.minute=parseInt(d[o.minute])),o.second>-1&&(l.second=parseInt(d[o.second])),o.millisecond>-1){var f=parseInt(d[o.millisecond]);o.millisecondDigits==2?f*=10:o.millisecondDigits==1&&(f*=100),l.millisecond=f}if(o.timestamp>-1){l.timestamp=parseInt(d[o.timestamp]);var p=new Date(l.timestamp);l.year=p.getUTCFullYear(),l.month=p.getUTCMonth(),l.day=p.getUTCDate(),l.hour=p.getUTCHours(),l.minute=p.getUTCMinutes(),l.second=p.getUTCSeconds(),l.millisecond=p.getUTCMilliseconds()}o.zone>-1&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),d[o.zone])),o.iso>-1&&(l.year=Jt(d[o.iso+0]),l.month=Jt(d[o.iso+1])-1,l.day=Jt(d[o.iso+2]),l.hour=Jt(d[o.iso+3]),l.minute=Jt(d[o.iso+4]),l.second=Jt(d[o.iso+5]),l.millisecond=Jt(d[o.iso+6]),d[o.iso+7]=="Z"||d[o.iso+7]=="z"?l.utc=!0:d[o.iso+7]!=""&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),d[o.iso+7]))),l.utc?r=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond)):r=new Date(l.year,l.month,l.day,l.hour,l.minute+l.offset,l.second,l.millisecond)}else r=new Date(e);return r},t.prototype.resolveTimezoneOffset=function(e,i){var r=i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);if(r){var a=gi(i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),n=a[1],o=a[2],l=a[3],u=parseInt(o)*60+parseInt(l);n=="+"&&(u*=-1);var h=(e||new Date).getTimezoneOffset(),c=u-h;return c}return 0},t.prototype.resolveMonth=function(e){var i=this.months.indexOf(e);return i>-1||this.language&&!this.language.isDefault()&&(i=this.language.translateAll(this.months).indexOf(e),i>-1)?i:0},t.prototype.resolveShortMonth=function(e){var i=this.monthsShort.indexOf(e);return i>-1||(i=this.months.indexOf(e),i>-1)||this.language&&!this.language.isDefault()&&(i=this.language.translateAll(this.monthsShort).indexOf(e),i>-1)?i:0},t.prototype.isAm=function(e){var i=this.getStringList(["AM","A.M.","A"]);return i.indexOf(e.toUpperCase())>-1},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},t.prototype.getStringList=function(e){for(var i=[],r=0;r<e.length;r++)this.language?i.push(QA(this.language.translate(e[r]))):i.push(QA(e[r]));return i},Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(e){this._inputDateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"utc",{get:function(){return this._utc},set:function(e){this._utc=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(e){this._timezoneOffset!=e&&(this._timezoneOffset=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this._timezone},set:function(e){this._timezone!=e&&(this._timezone=e,this.timezoneMinutes=fO(e),this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){this._firstDayOfWeek=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Gi);E.registeredClasses.DateFormatter=Qn;var tf=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._negativeBase=0,e._baseUnit="second",e._outputFormat="svg",e._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},e._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},e.className="DurationFormatter",e.applyTheme(),e}return t.prototype.format=function(e,i,r){this.language||(this.sprite?this.language=this.sprite.language:this.language=new $a);var a=r||this._baseUnit;(typeof i>"u"||i==="")&&(N(this.durationFormat)?i=this.durationFormat:i=this.getFormat(Jt(e),null,a)),i=Uh(i);var n=this.parseFormat(i,a),o=Number(e),l;o>this._negativeBase?l=n.positive:o<this._negativeBase?l=n.negative:l=n.zero;var u=this.applyFormat(o,l);return l.color!==""&&(this._outputFormat==="svg"?u="<tspan fill='"+l.color+"'>"+u+"</tspan>":this._outputFormat==="html"&&(u="<span style='color: "+l.color+";'>"+u+"</span>")),u},t.prototype.parseFormat=function(e,i){var r=this,a=this.getCache(e);if(N(a))return a;var n=i||this._baseUnit,o={positive:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:n,parsed:!1,absolute:!1}};e=e.replace("||",Tu);var l=e.split("|");return o.positive.source=l[0],typeof l[2]>"u"?o.zero=o.positive:o.zero.source=l[2],typeof l[1]>"u"?o.negative=o.positive:o.negative.source=l[1],Qe(o,function(u,h){if(!h.parsed){if(typeof r.getCache(h.source)<"u"){o[u]=r.getCache(h.source);return}var c=h.source,A=[];A=h.source.match(/^\[([^\]]*)\]/),A&&A.length&&A[0]!==""&&(c=h.source.substr(A[0].length),h.color=A[1]);for(var d=Ja().chunk(c,!0),f=0;f<d.length;f++){var p=d[f];if(p.text=p.text.replace(Tu,"|"),p.type==="value"){p.text.match(/[yYMdDwhHKkmsSn]+a/)&&(h.absolute=!0,p.text=p.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var m=p.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(m)for(var g=0;g<m.length;g++)N(m[g])||(m[g]=r._unitAliases[m[g]]),h.parts.push(m[g]),p.text=p.text.replace(m[g],Os)}h.template+=p.text}r.setCache(h.source,h),h.parsed=!0}}),this.setCache(e,o),o},t.prototype.applyFormat=function(e,i){var r=!i.absolute&&e<this._negativeBase;e=Math.abs(e);for(var a=this.toTimeStamp(e,i.baseUnit),n=i.template,o=0,l=i.parts.length;o<l;o++){var u=i.parts[o],h=this.toTimeUnit(u.substr(0,1)),c=u.length,A=Math.floor(a/this._unitValues[h]);n=n.replace(Os,xs(A,c,"0")),a-=A*this._unitValues[h]}return r&&(n="-"+n),n},t.prototype.toTimeStamp=function(e,i){return e*this._unitValues[i]},t.prototype.toTimeUnit=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.getFormat=function(e,i,r){if(N(this.durationFormat))return this.durationFormat;if(r||(r=this.baseUnit),N(i)&&e!=i){e=Math.abs(e),i=Math.abs(i);var a=this.getValueUnit(ht(e,i),r);return this.durationFormats[r][a]}else{var n=this.getValueUnit(e,r);return this.durationFormats[r][n]}},t.prototype.getValueUnit=function(e,i){i||(i=this.baseUnit);var r,a=this.getMilliseconds(e,i);return qC(this._unitValues,function(n,o){if(n==i||r){var l=a/o;if(l<=1)return r||(r=n),!1;r=n}return!0}),r},t.prototype.getMilliseconds=function(e,i){return i||(i=this.baseUnit),e*this._unitValues[i]},Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(e){this._durationFormat!=e&&(this._durationFormat=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(e){this._durationFormats=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(Gi);E.registeredClasses.DurationFormatter=tf;var gO=new Nt;function yO(s,t){var e=t||"amexport",i=new et,r=gO.insertKeyIfEmpty(e,function(){var a=new Qt([new _i(s,"."+e+"-menu *",{"box-sizing":"border-box"}),new _i(s,"."+e+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new _i(s,"."+e+"-menu-level-0."+e+"-left",{right:"auto",left:"5px"}),new _i(s,"."+e+"-menu-level-0."+e+"-right",{right:"5px",left:"auto"}),new _i(s,"."+e+"-menu-level-0."+e+"-top",{top:"5px",bottom:"auto"}),new _i(s,"."+e+"-menu-level-0."+e+"-bottom",{top:"auto",bottom:"5px"}),new _i(s,"."+e+"-item."+e+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new _i(s,"div:hover > div > ."+e+"-menu ."+e+"-item."+e+"-item-level-0, ."+e+"-item."+e+"-item-level-0.active",{opacity:"0.9"}),new _i(s,"."+e+"-item."+e+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new _i(s,"."+e+"-item."+e+"-item-level-0:before",{display:"block"}),new _i(s,"."+e+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":i.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:i.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new _i(s,"."+e+"-left ."+e+"-item",{margin:"1px 0 0 1px"}),new _i(s,"."+e+"-item:hover, ."+e+"-item.active",{background:i.getFor("secondaryButtonHover").hex,color:i.getFor("secondaryButtonText").hex}),new _i(s,"."+e+"-item > ."+e+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new _i(s,"."+e+"-left ."+e+"-item > ."+e+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new _i(s,"."+e+"-right ."+e+"-item > ."+e+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new _i(s,"."+e+"-top ."+e+"-item > ."+e+"-menu",{top:"-1px",bottom:"auto"}),new _i(s,"."+e+"-bottom ."+e+"-item > ."+e+"-menu",{top:"auto",bottom:"0"}),new _i(s,"."+e+"-item > ."+e+"-menu",{display:"none"}),new _i(s,"."+e+"-item:hover > ."+e+"-menu, ."+e+"-item.active > ."+e+"-menu",{display:"block"}),new _i(s,"."+e+"-item:hover > ."+e+"-menu > ."+e+"-item, ."+e+"-item.active > ."+e+"-menu > ."+e+"-item",{opacity:"1"}),new _i(s,"."+e+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new _i(s,"."+e+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new _i(s,"."+e+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new _i(s,"."+e+"-item-level-0 > ."+e+"-icon",{padding:"0.1em 0.2em"}),new _i(s,"."+e+"-clickable",{cursor:"pointer"})]);return new Fu(function(){gO.removeKey(e),a.dispose()})});return r.increment()}var Lm=function(s){U(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e._validateDisposer=null,e}return t.prototype.invalidate=function(){this._validateDisposer===null&&(this._validateDisposer=E.events.on("exitframe",this.validate,this))},t.prototype.validate=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null)},t.prototype.dispose=function(){this._validateDisposer!==null&&(this._validateDisposer.dispose(),this._validateDisposer=null),s.prototype.dispose.call(this)},t}(vs);var U_=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.adapter=new _r(e),e.closeDelay=1e3,e.closeOnClick=!0,e._language=new Ti,e._menuTag="ul",e._itemTag="li",e._labelTag="a",e._iconTag="img",e._classPrefix="amexport",e._defaultStyles=!0,e._align="right",e._verticalAlign="top",e._tabindex=0,e._ignoreNextClose=!1,e._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],e.className="ExportMenu",e._disposers.push(e._language),e.invalidate(),e.applyTheme(),e}return t.prototype.validate=function(){this.draw(),s.prototype.validate.call(this)},t.prototype.draw=function(){var e=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),gi(this._container).appendChild(this._element);for(var i=this.adapter.apply("items",{items:this._items}).items,r=i.length,a=0;a<r;a++)this.drawBranch(this._element,i[a],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(ct().body.events.on("down",function(n){n.pointer.touch||(e._ignoreNextClose=!1),e.close()})),this._disposers.push(ct().body.events.on("keydown",function(n){var o=Ia.getEventKey(n.event);switch(o){case"esc":e.close();break;case"up":case"down":case"left":case"right":e._currentSelection&&n.event.preventDefault(),e.moveSelection(o);break}})),this.defaultStyles&&this.loadDefaultCSS()},t.prototype.drawBranch=function(e,i,r){var a=this;if(i=this.adapter.apply("branch",{branch:i,level:r}).branch,i.unsupported!==!0){i.ascendants||(i.ascendants=new xt);var n=i.type,o=this.createItemElement(r,n),l;i.icon?(l=this.createIconElement(r,n),l.src=i.icon,(i.label||i.title)&&(l.title=i.title||i.label)):i.svg?(l=this.createSvgElement(r,n,i.svg),(i.label||i.title)&&(l.title=i.title||i.label)):(l=this.createLabelElement(r,n),l.innerHTML=i.label?this.language.translate(i.label):"",i.title&&(l.title=i.title));var u=this.getReaderLabel(i,l.innerHTML);l.setAttribute("aria-label",u),o.appendChild(l),i.interactions=ct().getInteraction(o),i.element=o,this.typeClickable(n)&&(i.interactions.events.on("hit",function(m){if(a.events.isEnabled("hit")&&!a.isDisposed()){var g={type:"hit",event:m.event,target:a,branch:i};a.events.dispatchImmediately("hit",g)}}),i.interactions.events.on("keyup",function(m){if(Ia.isKey(m.event,"enter")&&a.events.isEnabled("enter")){var g={type:"enter",event:m.event,target:a,branch:i};a.events.dispatchImmediately("enter",g)}}));{var h=this.getSubMenu(i);h!=null&&(i.interactions.events.on("keyup",function(m){Ia.isKey(m.event,"enter")&&(a.selectBranch(h[0]),a.setFocus(h[0]))}),i.interactions.events.on("hit",function(m){a.selectBranch(i)}))}i.interactions.events.on("over",function(m){if(m.pointer.touch&&(a._ignoreNextClose=!0),a.selectBranch(i),a.events.isEnabled("over")){var g={type:"over",event:m.event,target:a,branch:i};a.events.dispatchImmediately("over",g)}}),i.interactions.events.on("out",function(m){if(!a.isDisposed()&&(m.pointer.touch||a.delayUnselectBranch(i),a.events.isEnabled("out"))){var g={type:"out",event:m.event,target:a,branch:i};a.events.dispatchImmediately("out",g)}}),i.interactions.events.on("focus",function(m){a.selectBranch(i)}),i.interactions.events.on("blur",function(m){a.delayUnselectBranch(i)});var c=r+1;if(i.menu){var A=this.createMenuElement(c);i.submenuElement=A;for(var d=i.menu.length,f=0;f<d;f++){var p=new xt;i.menu[f].ascendants=p,i.ascendants.length&&p.copyFrom(i.ascendants),p.push(i),this.drawBranch(A,i.menu[f],c)}if(A.innerHTML=="")return;o.appendChild(A)}i.hidden&&this.hideBranch(i),i.id&&o.setAttribute("id",i.id),i.color&&(o.style.backgroundColor=i.color.hex),e.appendChild(o)}},t.prototype.createMenuElement=function(e){var i=document.createElement(this.menuTag);return i.className=this.getMenuItemClass(e),e===0?i.setAttribute("role","menubar"):i.setAttribute("role","menu"),i},t.prototype.getMenuItemClass=function(e){var i=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+e;return e===0&&(i+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:i,level:e}).className},t.prototype.createItemElement=function(e,i){var r=document.createElement(this.itemTag),a=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return r.className=this.adapter.apply("itemClass",{className:a,level:e,type:i}).className,r.setAttribute("role","menuitem"),r.setAttribute("tabindex",this.tabindex.toString()),r},t.prototype.createLabelElement=function(e,i){var r=document.createElement(this.labelTag),a=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(a+=" "+this.classPrefix+"-clickable"),r.className=this.adapter.apply("labelClass",{className:a,level:e,type:i}).className,r},t.prototype.createIconElement=function(e,i){var r=document.createElement(this.iconTag),a=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(a+=" "+this.classPrefix+"-clickable"),r.className=this.adapter.apply("labelClass",{className:a,level:e,type:i}).className,r.setAttribute("tabindex",this.tabindex.toString()),r.setAttribute("role","menuitem"),r},t.prototype.createSvgElement=function(e,i,r){var a=new DOMParser,n=a.parseFromString(r,"image/svg+xml").documentElement,o=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(i||"blank");return this.typeClickable(i)&&(o+=" "+this.classPrefix+"-clickable"),n.setAttribute("class",this.adapter.apply("labelClass",{className:o,level:e,type:i}).className),n.setAttribute("tabindex",this.tabindex.toString()),n.setAttribute("role","menuitem"),n},t.prototype.dispose=function(){this._disposed||(s.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},t.prototype.typeClickable=function(e){return N(e)},t.prototype.hasSubMenu=function(e){return!!(e.menu&&e.menu.length)},t.prototype.getSubMenu=function(e){if(e.menu&&e.menu.length)return e.menu},t.prototype.getReaderLabel=function(e,i){return i=Rb(i),e.ascendants.length==0?(i=i=="..."?this.language.translate("Export"):i,i+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(e)?i+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":e.type=="print"?i=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(e.type)&&(i=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,i)),this.adapter.apply("rederLabel",{label:i,branch:e}).label},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tag",{set:function(e){this._menuTag=e,this._itemTag=e=="ul"?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(e){this._align=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(e){this._verticalAlign=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(e){this._classPrefix=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e,e&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._disposers.push(yO(JA(this.container),this.classPrefix)),this._element&&(this._element.style.display="")},Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(e){this._tabindex=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this,i=this._language.get();return i==null&&(i=new $a,this._language.set(i,i.events.on("localechanged",function(r){e.invalidate()}))),i},set:function(e){var i=this;this._language.set(e,e.events.on("localechanged",function(r){i.invalidate()})),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.close=function(){var e=this;if(!this.isDisposed()){if(this._ignoreNextClose){this._ignoreNextClose=!1;return}if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout(function(){e._element.style.pointerEvents="auto"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var i=this._element.getElementsByClassName("active"),r=i.length,a=r-1;a>=0;a--)i[a]&&ZA(i[a],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},t.prototype.selectBranch=function(e){var i=this;if(!this.isDisposed()&&(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),qA(e.element,"active"),e.submenuElement&&e.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==e&&this._currentSelection.ascendants&&de(R1($l([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(a){!e.ascendants.contains(a)&&e!==a&&i.unselectBranch(a,!0)}),de(e.ascendants.iterator(),function(a){a.closeTimeout&&(i.removeDispose(a.closeTimeout),a.closeTimeout=void 0),qA(a.element,"active")}),this._currentSelection=e,this.events.isEnabled("branchselected"))){var r={type:"branchselected",target:this,branch:e};this.events.dispatchImmediately("branchselected",r)}},t.prototype.unselectBranch=function(e,i){if(!this.isDisposed()&&(ZA(e.element,"active"),e.submenuElement&&e.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==e&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))){var r={type:"branchunselected",target:this,branch:e};this.events.dispatchImmediately("branchunselected",r)}},t.prototype.delayUnselectBranch=function(e,i){var r=this;this.isDisposed()||(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),e.closeTimeout=this.setTimeout(function(){r.unselectBranch(e,i)},this.closeDelay),i!==!0&&e.ascendants&&de(e.ascendants.iterator(),function(a){r.delayUnselectBranch(a,!0)}))},t.prototype.moveSelection=function(e){if(!this.isDisposed()&&this._currentSelection){var i;if(e=="up")i=this.getPrevSibling(this._currentSelection);else if(e=="down")i=this.getNextSibling(this._currentSelection);else if(e=="left"&&this.align=="right"||e=="right"&&this.align=="left"){var r=this.getSubMenu(this._currentSelection);r!=null&&(i=r[0])}else(e=="right"&&this.align=="right"||e=="left"&&this.align=="left")&&(i=this.getParentItem(this._currentSelection));i&&i!==this._currentSelection&&(this.selectBranch(i),this.setFocus(i),this._currentSelection=i)}},t.prototype.getSiblings=function(e){var i=this.getParentItem(e);return i&&i.menu?i.menu:[]},t.prototype.getParentItem=function(e){if(e.ascendants&&e.ascendants.length)return e.ascendants.getIndex(e.ascendants.length-1)},t.prototype.getNextSibling=function(e){var i=this.getSiblings(e);if(i.length>1){var r=i.indexOf(e)+1;return r=i.length==r?0:r,i[r].unsupported?this.getNextSibling(i[r]):i[r]}else return e},t.prototype.getPrevSibling=function(e){var i=this.getSiblings(e);if(i.length>1){var r=i.indexOf(e)-1;return r=r==-1?i.length-1:r,i[r].unsupported?this.getPrevSibling(i[r]):i[r]}else return e},t.prototype.setFocus=function(e){if(e.interactions)try{e.interactions.element.focus()}catch{}},t.prototype.setBlur=function(e){if(e.interactions)try{e.interactions.element.blur()}catch{}},t.prototype.hideBranch=function(e){e.element.style.display="none"},t.prototype.showBranch=function(e){e.element.style.display=""},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t}(Lm);function rf(s,t,e){return new Promise(function(i,r){var a=N(e)&&e.responseType=="blob",n=new XMLHttpRequest;if(n.onload=function(){if(n.status===200){var u=void 0,h;if(a){h=n.response,lj(h).then(function(A){var d={xhr:n,error:!1,response:A,blob:h,type:n.getResponseHeader("Content-Type"),target:t};i(d)});return}else u=n.responseText||n.response;var c={xhr:n,error:!1,response:u,blob:h,type:n.getResponseHeader("Content-Type"),target:t};i(c)}else r({xhr:n,error:!0,type:n.getResponseHeader("Content-Type"),target:t})},n.onerror=function(){r({xhr:n,error:!0,type:n.getResponseHeader("Content-Type"),target:t})},n.open("GET",s,!0),e&&e.withCredentials&&(n.withCredentials=!0),N(e)){if(N(e.requestHeaders))for(var o=0;o<e.requestHeaders.length;o++){var l=e.requestHeaders[o];n.setRequestHeader(l.key,l.value)}N(e.responseType)&&(n.responseType=e.responseType)}n.send()})}function lj(s){return new Promise(function(t,e){var i=new FileReader;i.onload=function(r){t(i.result)},i.onerror=function(r){e(r)},i.readAsText(s)})}var H_;function uj(){return Xe(this,void 0,void 0,function(){var s,t,e,i;return ai(this,function(r){switch(r.label){case 0:return[4,Promise.all([import("./5DVBXETW.js"),import("./VJAVQEV5.js")])];case 1:return s=r.sent(),t=s[0].default||s[0],e=s[1].default||s[1],i=window,i.pdfMake=i.pdfMake||{},i.pdfMake.vfs=e,t.vfs=e,[2,t]}})})}var bO=/src: ([^;]+);/;function hj(){return window.navigator.msSaveOrOpenBlob!=null}function cj(s){return new Promise(function(t,e){var i=new FileReader;i.onload=function(r){t(i.result)},i.onerror=function(r){e(r)},i.readAsDataURL(s)})}function dj(s){return Xe(this,void 0,void 0,function(){var t,e;return ai(this,function(i){switch(i.label){case 0:t=s.sheet,i.label=1;case 1:return i.trys.push([1,2,,4]),[2,t.cssRules];case 2:return e=i.sent(),[4,new Promise(function(r,a){s.addEventListener("load",function(){r(t.cssRules)},!0),s.addEventListener("error",function(n){a(n)},!0),setTimeout(function(){a(new Error("Timeout while waiting for <style> to load"))},1e4)})];case 3:return[2,i.sent()];case 4:return[2]}})})}function vO(s,t,e){return Xe(this,void 0,void 0,function(){var i,r,a,n;return ai(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,rf(t)];case 1:return i=o.sent(),[3,3];case 2:return r=o.sent(),console.error("Failed to load stylesheet",t,r),[2];case 3:a=s.createElement("style"),a.textContent=i.response,lt.nonce!=""&&a.setAttribute("nonce",lt.nonce),s.head.appendChild(a),o.label=4;case 4:return o.trys.push([4,,7,8]),[4,dj(a)];case 5:return n=o.sent(),[4,xO(s,t,n,e)];case 6:return o.sent(),[3,8];case 7:return s.head.removeChild(a),[7];case 8:return[2]}})})}function xO(s,t,e,i){return Xe(this,void 0,void 0,function(){var r,a,n,o,l;return ai(this,function(u){switch(u.label){case 0:for(r=[],a=e.length,n=0;n<a;n++)o=e[n],o.type===CSSRule.IMPORT_RULE?(l=o.href,l&&(l=xm(t,l),r.push(vO(s,l,i)))):i(t,o);return r.length?[4,Promise.all(r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})}function Aj(s){return Xe(this,void 0,void 0,function(){var t,e;return ai(this,function(i){switch(i.label){case 0:t=document.createElement("iframe"),t.src="about:blank",t.setAttribute("title",""),document.head.appendChild(t),i.label=1;case 1:return i.trys.push([1,,3,4]),e=t.contentDocument,[4,Promise.all(Su(document.styleSheets,function(r){var a=r.href;return a==null?xO(e,location.href,r.cssRules,s):(a=xm(location.href,a),vO(e,a,s))}))];case 2:return i.sent(),[3,4];case 3:return document.head.removeChild(t),[7];case 4:return[2]}})})}var j_=function(s){U(t,s);function t(e){var i=s.call(this)||this;return i.adapter=new _r(i),i._formatOptions=new Nt,i._extraSprites=[],i._validateSprites=[],i.dataFieldsOrder=[],i._dynamicDataFields=!0,i._removedObjects=new xt,i._hiddenObjects=[],i._objectsAlreadyHidden=!1,i._filePrefix="amCharts",i.useWebFonts=!0,i.useRetina=!0,i.useSimplifiedExport=!0,i.timeoutDelay=2e3,i._exportRunning=!1,i._prevHasData=!1,i._container=e,i.className="Export",i._formatOptions.setKey("png",{}),i._formatOptions.setKey("jpg",{quality:.8}),i._formatOptions.setKey("gif",{}),i._formatOptions.setKey("svg",{}),i._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),i._formatOptions.setKey("json",{indent:2,useLocale:!0}),i._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:"",addBOM:!0}),i._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),i._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),i.adapter.add("options",function(r){var a=i._formatOptions.getKey(r.type);return r.options?r.options=lm(a,r.options):r.options=a,r}),i.applyTheme(),i.dispatchImmediately("inited"),i}return Object.defineProperty(t.prototype,"menu",{get:function(){return this._menu},set:function(e){var i=this;this._menu&&this.removeDispose(this._menu),this._menu=e,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",function(r){return r.branch.unsupported=!i.typeSupported(r.branch.type),r}),this._menu.events.on("hit",function(r){i.export(r.branch.type,r.branch.options),i.menu.close()}),this._menu.events.on("enter",function(r){i.export(r.branch.type,r.branch.options),i.menu.close()}),this._menu.events.on("over",function(r){i._disablePointers()}),this._menu.events.on("out",function(r){setTimeout(function(){i._releasePointers()},10)}),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",function(r){return r.classPrefix=lt.classNamePrefix+r.classPrefix,r}),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),t.prototype.typeSupported=function(e){var i=!0,r=this.getFormatOptions(e);return N(r)&&r.disabled?i=!1:e==="pdf"||(e==="xlsx"?i=!!this._hasData():(e=="print"&&!window.print||["json","csv","html","pdfdata"].indexOf(e)!==-1&&!this._hasData())&&(i=!1)),this.adapter.apply("supported",{supported:i,type:e}).supported},t.prototype._hasData=function(){return this.data&&this.data.length},t.prototype._getFunction=function(e){switch(e){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},t.prototype.export=function(e,i){return Xe(this,void 0,void 0,function(){var r,a,n,o,l,u=this;return ai(this,function(h){switch(h.label){case 0:return e=="custom"?(this.handleCustom(i),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(r={type:"exportstarted",target:this,format:e,options:i},this.events.dispatchImmediately("exportstarted",r)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){if(u.events.isEnabled("exporttimedout")){var c={type:"exporttimedout",target:u,format:e,options:i};u.events.dispatchImmediately("exporttimedout",c)}u.showTimeout()},this.timeoutDelay)),this.hideNonExportableSprites(),a=this._getFunction(e),i=this.adapter.apply("options",{options:i,type:e}).options,a=this.adapter.apply("exportFunction",{func:a,type:e,options:i}).func,[4,a.call(this,e,i)]);case 1:return n=h.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),n?(this.events.isEnabled("exportfinished")&&(o={type:"exportfinished",target:this,format:e,options:i},this.events.dispatchImmediately("exportfinished",o)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),e==="print"?[2,this.print(n,i,this.adapter.apply("title",{title:this.title,options:i}).title)]:e=="pdfdata"?[2,this.download(n,this.filePrefix+".pdf")]:[2,this.download(n,this.filePrefix+"."+e,i&&i.addBOM)]):(this.events.isEnabled("error")&&(l={type:"error",target:this,format:e,options:i},this.events.dispatchImmediately("error",l)),[2,!1])}})})},t.prototype.unsupported=function(e,i){return Xe(this,void 0,void 0,function(){return ai(this,function(r){return[2,""]})})},t.prototype.handleCustom=function(e){N(e)&&N(e.callback)&&e.callback.call(e.callbackTarget||this,e)},t.prototype.getPrint=function(e,i){return Xe(this,void 0,void 0,function(){return ai(this,function(r){return[2,this.getImage("png",i)]})})},t.prototype.getFontFamilies=function(){return Xe(this,void 0,void 0,function(){var e,i,r,a,n=this;return ai(this,function(o){switch(o.label){case 0:return e=this.getDOMURL(),i=[],r=[],[4,Aj(function(l,u){if(u.type===CSSRule.FONT_FACE_RULE){var h=u.cssText,c=bO.exec(h);if(c!==null){var A=c[1].split(/ *, */).map(function(d){return Xe(n,void 0,void 0,function(){var f,p,m,g,y,v;return ai(this,function(_){switch(_.label){case 0:return f=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(d),f!==null?[3,1]:[2,d];case 1:if(p=f[2],m=xm(l,f[1]),this.webFontFilter&&!m.match(this.webFontFilter))return[2,null];_.label=2;case 2:return _.trys.push([2,7,,8]),[4,rf(m,void 0,{responseType:"blob"})];case 3:return g=_.sent(),hj()?(y=e.createObjectURL(g.blob),i.push(y),[3,6]):[3,4];case 4:return[4,cj(g.blob)];case 5:y=_.sent(),_.label=6;case 6:return[2,'url("'+y+'")'+p];case 7:return v=_.sent(),console.error("Failed to load font",m,v),[2,null];case 8:return[2]}})})});r.push(Promise.all(A).then(function(d){return d=d.filter(function(f){return f!=null}),d.length===0?"":h.replace(bO,"src: "+d.join(", ")+";")}))}}})];case 1:return o.sent(),[4,Promise.all(r)];case 2:return a=o.sent(),[2,{blobs:i,cssText:a.filter(function(l){return!!l}).join(`
`)}]}})})},t.prototype.getImage=function(e,i,r){return Xe(this,void 0,void 0,function(){var a,n,o,l,u,h,h;return ai(this,function(c){switch(c.label){case 0:return a=this._objectsAlreadyHidden,a||this.hideNonExportableSprites(),N(i)||(i=this.getFormatOptions(e)),[4,this.awaitValidSprites()];case 1:return c.sent(),[4,this.simplifiedImageExport()];case 2:if(!c.sent())return[3,10];n=void 0,c.label=3;case 3:return c.trys.push([3,7,,9]),[4,this.getCanvas(i)];case 4:return n=c.sent(),r===!1?[3,6]:[4,this.addExtras(n,i)];case 5:o=c.sent(),this.disposeCanvas(n),n=o,c.label=6;case 6:return l=n.toDataURL(this.getContentType(e),i.quality),this.disposeCanvas(n),a||this.restoreNonExportableSprites(),[2,l];case 7:return u=c.sent(),console.error(u.message+`
`+u.stack),YA("Simple export failed, falling back to advanced export"),n&&this.disposeCanvas(n),[4,this.getImageAdvanced(e,i,r)];case 8:return h=c.sent(),a||this.restoreNonExportableSprites(),[2,h];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(e,i,r)];case 11:return h=c.sent(),a||this.restoreNonExportableSprites(),[2,h];case 12:return[2]}})})},t.prototype.addExtras=function(e,i,r){return Xe(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d,f,p,m,g,y,v=this;return ai(this,function(_){switch(_.label){case 0:return this.extraSprites.length?(a=0,n=0,o=e.width,l=e.height,u=0,h=0,[4,Promise.all(Su(this.extraSprites,function(S){return Xe(v,void 0,void 0,function(){var F,P,D,$;return ai(this,function(I){switch(I.label){case 0:return S instanceof Ee?F={sprite:S,position:"bottom"}:F=S,F.position=F.position||"bottom",F.marginTop=F.marginTop||0,F.marginRight=F.marginRight||0,F.marginBottom=F.marginBottom||0,F.marginLeft=F.marginLeft||0,r?[4,F.sprite.exporting.getCanvasAdvanced(i)]:[3,2];case 1:return P=I.sent(),[3,4];case 2:return[4,F.sprite.exporting.getCanvas(i)];case 3:P=I.sent(),I.label=4;case 4:return D=P.width+F.marginLeft+F.marginRight,$=P.height+F.marginTop+F.marginBottom,F.position=="top"?(o=F.crop?l:ht(o,D),n+=$):F.position=="right"?(l=F.crop?l:ht(l,$),u+=D):F.position=="left"?(l=F.crop?l:ht(l,$),a+=D):F.position==="bottom"&&(o=F.crop?l:ht(o,D),h+=$),[2,{canvas:P,position:F.position,left:F.marginLeft,top:F.marginTop,width:D,height:$}]}})})}))]):[3,2];case 1:return c=_.sent(),A=this.getDisposableCanvas(),A.width=a+o+u,A.height=n+l+h,d=A.getContext("2d"),f=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),f&&(d.fillStyle=f.toString(),d.fillRect(0,0,A.width,A.height)),p=a,m=n,g=p+o,y=m+l,Ce(c,function(S){S.position=="top"?(m-=S.height,d.drawImage(S.canvas,a+S.left,m+S.top)):S.position=="right"?(d.drawImage(S.canvas,g+S.left,n+S.top),g+=S.width):S.position=="left"?(p-=S.width,d.drawImage(S.canvas,p+S.left,n+S.top)):S.position==="bottom"&&(d.drawImage(S.canvas,a+S.left,y+S.top),y+=S.height),v.disposeCanvas(S.canvas)}),d.drawImage(e,a,n),[2,A];case 2:return[2,e]}})})},t.prototype.getCanvas=function(e){return Xe(this,void 0,void 0,function(){var i,r,a,n,o,l,u,h,c,A,d,f,p,m,g,y,v;return ai(this,function(_){switch(_.label){case 0:N(e)||(e={}),i=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),r=this.getDOMURL(),a=null,n=null,_.label=1;case 1:return _.trys.push([1,,4,5]),l=this.sprite.pixelWidth,u=this.sprite.pixelHeight,h=Sm(this.sprite.dom),c=Bm(this.sprite.dom),A=e.scale||1,d=this.getPixelRatio(e),A=this.getAdjustedScale(l*d,u*d,A,e),o=this.getDisposableCanvas(),o.style.width=l*A+"px",o.style.height=u*A+"px",o.width=l*A,o.height=u*A,f=o.getContext("2d"),i&&(f.fillStyle=i.toString(),f.fillRect(0,0,l*A,u*A)),p=[],this.useWebFonts&&p.push(this.getFontFamilies().then(function(S){return n=S.blobs,S.cssText})),p.push(this.imagesToDataURI(this.sprite.dom,e)),p.push(this.prepForeignObjects(this.sprite.dom,e)),[4,Promise.all(p)];case 2:return m=_.sent(),g=this.normalizeSVG("<style>"+m[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,l,u,A,h,c),y=new Blob([g],{type:"image/svg+xml"}),a=r.createObjectURL(y),[4,this.loadNewImage(a,l*A*d,u*A*d,"anonymous")];case 3:return v=_.sent(),f.drawImage(v,0,0),[3,5];case 4:return a!==null&&r.revokeObjectURL(a),n!==null&&Ce(n,function(S){r.revokeObjectURL(S)}),this.restoreRemovedObjects(),[7];case 5:return[2,o]}})})},t.prototype.getCanvasAdvanced=function(e){return Xe(this,void 0,void 0,function(){var i,r,a,n,o,l,u,h,c,A,d;return ai(this,function(f){switch(f.label){case 0:return N(e)||(e={}),[4,this.imagesToDataURI(this.sprite.dom,e)];case 1:return f.sent(),i=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return r=f.sent(),a=this.sprite.pixelWidth,n=this.sprite.pixelHeight,o=Sm(this.sprite.dom),l=Bm(this.sprite.dom),u=e.scale||1,h=this.getPixelRatio(e),u=this.getAdjustedScale(a*h,n*h,u,e),c=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,a,n,u,o,l,i),A=this.getDisposableCanvas(),A.style.width=a*h*u+"px",A.style.height=n*h*u+"px",A.width=a*h*u,A.height=n*h*u,d={useCORS:!0},h!=1&&(d.ignoreDimensions=!0,d.scaleWidth=a*h*u,d.scaleHeight=n*h*u),[4,r.fromString(A.getContext("2d"),c,d).render()];case 3:return f.sent(),[2,A]}})})},t.prototype.getImageAdvanced=function(e,i,r){return Xe(this,void 0,void 0,function(){var a,n,o;return ai(this,function(l){switch(l.label){case 0:return a=this._objectsAlreadyHidden,a||this.hideNonExportableSprites(),N(i)||(i=this.getFormatOptions(e)),[4,this.getCanvasAdvanced(i)];case 1:return n=l.sent(),r===!1?[3,3]:[4,this.addExtras(n,i,!0)];case 2:n=l.sent(),l.label=3;case 3:return o=n.toDataURL(this.getContentType(e),i.quality),this.disposeCanvas(n),a||this.restoreNonExportableSprites(),[2,o]}})})},t.prototype.getDisposableCanvas=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="-10000px",document.body.appendChild(e),e},t.prototype.disposeCanvas=function(e){document.body.contains(e)&&document.body.removeChild(e)},t.prototype.getPixelRatio=function(e){return this.useRetina?l_():1},t.prototype.getAdjustedScale=function(e,i,r,a){if(!a)return r;var n=e*r,o=e*r,l,u;return a.maxWidth&&n>a.maxWidth&&(l=a.maxWidth/e),a.maxHeight&&o>a.maxHeight&&(u=a.maxHeight/i),l||u?bt(l,u):(a.minWidth&&n<a.minWidth&&(l=a.minWidth/e),a.minHeight&&o<a.minHeight&&(u=a.minHeight/i),l||u?ht(l,u):r)},t.prototype.imagesToDataURI=function(e,i){return Xe(this,void 0,void 0,function(){var r,a,n,o,l,u;return ai(this,function(h){switch(h.label){case 0:if(r=e.querySelectorAll("image"),!r.length)return[3,2];for(a=[],n=r.length,o=0;o<n;o++)l=r[o],u=l.getAttributeNS(t.XLINK,"href"),u&&(u.indexOf("data:image")!==-1||(u.indexOf(".svg")!==-1?a.push(this.svgToDataURI(l,i)):a.push(this.imageToDataURI(l,i))));return[4,Promise.all(a)];case 1:return h.sent(),[2];case 2:return[2]}})})},t.prototype.prepForeignObjects=function(e,i){return Xe(this,void 0,void 0,function(){var r,a,n;return ai(this,function(o){if(r=e.querySelectorAll("foreignObject"),r.length)for(a=r.length,n=0;n<a;n++)this.temporarilyRemoveObject(r[n]);return[2]})})},t.prototype.imageToDataURI=function(e,i){return Xe(this,void 0,void 0,function(){var r,a,n,o;return ai(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.loadNewImage(e.getAttributeNS(t.XLINK,"href"),null,null,"anonymous")];case 1:r=l.sent(),a=document.createElement("canvas"),a.width=r.width,a.height=r.height,a.getContext("2d").drawImage(r,0,0);try{return n=a.toDataURL(),e.setAttribute("href",n),[2,n]}catch{return i.keepTainted!==!1&&this.temporarilyRemoveObject(e),[2,void 0]}return[3,3];case 2:return o=l.sent(),(!i||i.keepTainted!==!1)&&this.temporarilyRemoveObject(e),[2,void 0];case 3:return[2]}})})},t.prototype.svgToDataURI=function(e,i){return Xe(this,void 0,void 0,function(){var r,a,n,o,l;return ai(this,function(u){switch(u.label){case 0:r=e.getAttributeNS(t.XLINK,"href"),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,rf(r)];case 2:return a=u.sent(),n=this.adapter.apply("charset",{charset:"base64",type:"svg",options:i}).charset,o=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+n+","+btoa(a.response),options:i}).data,e.setAttributeNS(t.XLINK,"href",o),[2,o];case 3:return l=u.sent(),(!i||i.keepTainted!==!1)&&this.temporarilyRemoveObject(e),[2,void 0];case 4:return[2]}})})},t.prototype.temporarilyRemoveObject=function(e,i){var r=e.parentElement||e.parentNode;i||(i=this.sprite.paper.add("g").node),r.insertBefore(i,e),e.textContent,r.removeChild(e),this._removedObjects.push({element:e,placeholder:i})},t.prototype.restoreRemovedObjects=function(){for(var e;e=this._removedObjects.pop(),!!e;){var i=e.placeholder.parentElement||e.placeholder.parentNode;i.insertBefore(e.element,e.placeholder)}},t.prototype.simplifiedImageExport=function(){return Xe(this,void 0,void 0,function(){var e,i,r,a,n,o,l,u,h;return ai(this,function(c){switch(c.label){case 0:if(this.useSimplifiedExport===!1)return[2,!1];if(e=E.getCache("simplifiedImageExport"),e===!1||e===!0)return[2,e];c.label=1;case 1:c.trys.push([1,6,,7]),i=document.createElement("canvas"),i.width=1,i.height=1,r=i.getContext("2d"),a=this.getDOMURL(),n=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),o=a.createObjectURL(n),l=void 0,c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.loadNewImage(o,1,1)];case 3:return l=c.sent(),[3,5];case 4:return u=c.sent(),[2,!1];case 5:r.drawImage(l,0,0),a.revokeObjectURL(o);try{return E.setCache("simplifiedImageExport",!0),[2,!0]}catch{return E.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return h=c.sent(),E.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2]}})})},t.prototype.loadNewImage=function(e,i,r,a){return new Promise(function(n,o){var l;i&&r?l=new Image(i,r):l=new Image,a&&l.setAttribute("crossOrigin",a),l.onload=function(){n(l)};function u(){if(a){var h=l.src;l.onerror=function(){o(new Error('Loading image "'+e+'" failed'))},l.removeAttribute("crossorigin"),l.src="",l.src=h}else o(new Error('Loading image "'+e+'" failed'))}l.onabort=u,l.onerror=u,l.src=e})},t.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},t.prototype.getSVG=function(e,i,r){return r===void 0&&(r=!0),Xe(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d,f;return ai(this,function(p){switch(p.label){case 0:return a=this._objectsAlreadyHidden,a||this.hideNonExportableSprites(),N(i)||(i=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return p.sent(),n=this.sprite.pixelWidth,o=this.sprite.pixelHeight,l=Sm(this.sprite.dom),u=Bm(this.sprite.dom),h=i.scale||1,c=this.getPixelRatio(i),h=this.getAdjustedScale(n*c,o*c,h,i),A=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),i,n,o,h,l,u),d=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:i}).charset,f=this.adapter.apply("getSVG",{data:r?"data:"+this.getContentType(e)+";"+d+","+encodeURIComponent(A):A,options:i}).data,a||this.restoreNonExportableSprites(),[2,f]}})})},t.prototype.normalizeSVG=function(e,i,r,a,n,o,l,u){var h="";r&&(h+='width="'+Math.round(r*(n||1))+'px" '),a&&(h+='height="'+Math.round(a*(n||1))+'px" ');var c="";o&&(c+="font-family: "+o.replace(/"/g,"")+";"),l&&(c+="font-size: "+l+";"),n&&(h+='viewBox="0 0 '+r+" "+a+'" ');var A=[],d=e.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(d)for(var f=0;f<d.length;f++)e=e.replace(d[f],Os),A.push(d[f]);e.match(/<svg/)?h!==""&&(e=e.replace(/(<svg[^>]*)width="[^"]*"/,"$1"),e=e.replace(/(<svg[^>]*)height="[^"]*"/,"$1"),e=e.replace(/(<svg)/,"$1"+h)):e='<?xml version="1.0" encoding="utf-8"?><svg '+h+' style="'+c+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>",u&&(e=e.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+u.rgba+'"/>')),tO()&&(e=e.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var p=new RegExp("url\\("+QA(Vh()),"g");if(e=e.replace(p,"url(#"),e=e.replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),A.length)for(var f=0;f<A.length;f++)e=e.replace(Os,A[f]);return e=this.adapter.apply("normalizeSVG",{data:e,options:i}).data,e},t.prototype.serializeElement=function(e){return new XMLSerializer().serializeToString(e)},t.prototype.getPDF=function(e,i){return Xe(this,void 0,void 0,function(){function r(m){var g={};g.normal=m.normal.path,p[m.normal.path]=m.normal.bytes,m.bold?(g.bold=m.bold.path,p[m.bold.path]=m.bold.bytes):g.bold=m.normal.path,m.italics?(g.italics=m.italics.path,p[m.italics.path]=m.italics.bytes):g.italics=m.normal.path,m.bolditalics?(g.bolditalics=m.bolditalics.path,p[m.bolditalics.path]=m.bolditalics.bytes):g.bolditalics=m.normal.path,f[m.name]=g}var a,n,o,l,u,h,c,A,d,f,p;return ai(this,function(m){switch(m.label){case 0:return[4,this.getImage(i.imageFormat||"png",i)];case 1:return a=m.sent(),[4,this.pdfmake];case 2:return n=m.sent(),o=[30,30,30,30],l={pageSize:i.pageSize||"A4",pageOrientation:i.pageOrientation||"portrait",pageMargins:i.pageMargins||o,defaultStyle:{font:i.font?i.font.name:void 0},content:[]},u=this.adapter.apply("title",{title:this.title,options:i}).title,h=0,u&&(l.content.push({text:u,fontSize:i.fontSize||14,bold:!0,margin:[0,0,0,15]}),h+=50),i.addURL&&(l.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:i.fontSize,margin:[0,0,0,15]}),h+=50),e!="pdfdata"&&l.content.push({image:a,alignment:i.align||"left",fit:this.getPageSizeFit(l.pageSize,l.pageMargins,h)}),e=="pdfdata"||i.addData?(A=(c=l.content).push,d={},[4,this.getPDFData("pdf",i)]):[3,4];case 3:A.apply(c,[(d.table=m.sent(),d.fontSize=i.fontSize||14,d)]),m.label=4;case 4:return l=this.adapter.apply("pdfmakeDocument",{doc:l,options:i}).doc,f=null,p=null,i.font&&(f={},p={},r(i.font),i.extraFonts&&Ce(i.extraFonts,r)),[4,new Promise(function(g,y){n.createPdf(l,null,f,p).getDataUrl(function(v){g(v)})})];case 5:return[2,m.sent()]}})})},t.prototype.getPDFData=function(e,i){return Xe(this,void 0,void 0,function(){var r,a,n,o,l,u,h=this;return ai(this,function(c){if(r={body:[]},a=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,n=this.data,i.pivot)o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,Qo(a,function(A,d){var f=[];i.addColumnNames&&f.push(d);for(var p=n.length,m=0;m<p;m++){var g=n[m][A];f.push(h.convertToSpecialFormat(A,g,i,!0))}r.body.push(h.getPDFDataRow(f,i,void 0,!0))},function(A,d){var f=o.indexOf(A),p=o.indexOf(d);return f>p?1:f<p?-1:0});else for(i.addColumnNames&&(r.body.push(this.getPDFDataRow(a,i,void 0,!0)),r.headerRows=1),l=n.length,u=0;u<l;u++)r.body.push(this.getPDFDataRow(n[u],i,a));return[2,this.adapter.apply("pdfmakeTable",{table:r,options:i}).table]})})},t.prototype.getPDFDataRow=function(e,i,r,a){var n=this;a===void 0&&(a=!1);var o=[];r||(r=e);var l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return Qo(r,function(u,h){var c=n.convertEmptyValue(u,e[u],i),A=a?c:n.convertToSpecialFormat(u,c,i);A=""+A,o.push(A)},function(u,h){var c=l.indexOf(u),A=l.indexOf(h);return c>A?1:c<A?-1:0}),o},t.prototype.getPageSizeFit=function(e,i,r){r===void 0&&(r=0);var a=[0,0,0,0];typeof i=="number"?a=[i,i,i,i]:i.length==2?a=[i[0],i[1],i[0],i[1]]:i.length==4&&(a=i);var n={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]},o=n[e];return o[0]-=a[0]+a[2],o[1]-=a[1]+a[3]+r,o},t.prototype.getExcel=function(e,i){return Xe(this,void 0,void 0,function(){var r,a,n,o,l,u,h,c,A,d,f=this;return ai(this,function(p){switch(p.label){case 0:return N(i)||(i=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(r=p.sent(),a=this.adapter.apply("xlsxWorkbookOptions",{xlsx:r,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,n=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:r,name:this.title||this.language.translate("Data")}).name),o={SheetNames:[n],Sheets:{}},l=[],u=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,i.pivot)h=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,Qo(u,function(m,g){var y=[];i.addColumnNames&&y.push(g);for(var v=f.data.length,_=0;_<v;_++){var S=f.data[_][m];y.push(f.convertToSpecialFormat(m,S,i,!0))}l.push(f.getExcelRow(y,i,void 0,!0))},function(m,g){var y=h.indexOf(m),v=h.indexOf(g);return y>v?1:y<v?-1:0});else for(i.addColumnNames&&l.push(this.getExcelRow(u,i,void 0,!0)),c=this.data.length,A=0;A<c;A++)l.push(this.getExcelRow(this.data[A],i,u));return o.Sheets[n]=r.utils.aoa_to_sheet(l),o=this.adapter.apply("xlsxWorkbook",{xlsx:r,workbook:o,options:i}).workbook,d=this.adapter.apply("getExcel",{data:"data:"+this.getContentType(e)+";base64,"+r.write(o,a),options:i}).data,[2,d]}})})},t.prototype.normalizeExcelSheetName=function(e){return e=e.replace(/([:\\\/?*\[\]]+)/g," "),HA(e,31,"...",!0)},t.prototype.getExcelRow=function(e,i,r,a){var n=this;a===void 0&&(a=!1);var o=[];r||(r=e);var l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return Qo(r,function(u,h){var c=n.convertEmptyValue(u,e[u],i),A=a?c:n.convertToSpecialFormat(u,c,i,!0);o.push(A)},function(u,h){var c=l.indexOf(u),A=l.indexOf(h);return c>A?1:c<A?-1:0}),o},t.prototype.getCSV=function(e,i,r){return r===void 0&&(r=!0),Xe(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d,f,p=this;return ai(this,function(m){if(N(i)||(i=this.getFormatOptions("csv")),a="",n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,o="",l=this.data,i.pivot)u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,Qo(n,function(g,y){var v=[];i.addColumnNames&&v.push(y);for(var _=l.length,S=0;S<_;S++){var F=l[S][g];v.push(p.convertToSpecialFormat(g,F,i,!0))}a+=o+p.getCSVRow(v,i,void 0,!0),o=`
`},function(g,y){var v=u.indexOf(g),_=u.indexOf(y);return v>_?-1:v<_?1:0});else{for(h=l.length,c=0;c<h;c++)A=this.getCSVRow(l[c],i,n),i.reverse?a=A+o+a:a+=o+A,o=`
`;i.addColumnNames&&(a=this.getCSVRow(n,i,void 0,!0)+o+a)}return d=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,f=this.adapter.apply("getCSV",{data:r?"data:"+this.getContentType(e)+";"+d+","+encodeURIComponent(a):a,options:i}).data,[2,f]})})},t.prototype.getCSVRow=function(e,i,r,a){var n=this;a===void 0&&(a=!1);var o=i.separator||",",l=[];r||(r=e);var u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return Qo(r,function(h,c){var A=n.convertEmptyValue(h,e[h],i),d=a?A:n.convertToSpecialFormat(h,A,i);d=""+d,d=d.replace(/"/g,'""'),(i.forceQuotes||d.search(new RegExp(`"|
|`+o,"g"))>=0)&&(d='"'+d+'"'),l.push(d)},function(h,c){var A=u.indexOf(h),d=u.indexOf(c);return A>d?1:A<d?-1:0}),l.join(o)},t.prototype.getHTML=function(e,i,r){return r===void 0&&(r=!0),Xe(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d=this;return ai(this,function(f){if(N(i)||(i=this.getFormatOptions("html")),a="<table>",i.tableClass&&(a='<table class="'+i.tableClass+'">'),n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,o=this.data,i.pivot)l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,a+=`
<tbody>`,Qo(n,function(p,m){var g=[];i.addColumnNames&&g.push(m);for(var y=o.length,v=0;v<y;v++){var _=o[v][p];g.push(d.convertToSpecialFormat(p,_,i,!0))}a+=`
`+d.getHTMLRow(g,i,void 0,!0)},function(p,m){var g=l.indexOf(p),y=l.indexOf(m);return g>y?-1:g<y?1:0}),a+=`
</tbody>`;else{for(i.addColumnNames&&(a+=`
<thead>
`+this.getHTMLRow(n,i,void 0,!0,!0)+`
</thead>`),a+=`
<tbody>`,u=o.length,h=0;h<u;h++)a+=`
`+this.getHTMLRow(o[h],i,n);a+=`
</tbody>`}return a+=`
</table>`,c=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,A=this.adapter.apply("getHTML",{data:r?"data:"+this.getContentType(e)+";"+c+","+encodeURIComponent(a):a,options:i}).data,[2,A]})})},t.prototype.getHTMLRow=function(e,i,r,a,n){var o=this;a===void 0&&(a=!1),n===void 0&&(n=!1);var l="	<tr>";i.rowClass&&(l='	<tr class="'+i.rowClass+'">'),r||(r=e);var u=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,h=n?"th":"td",c=!0;return Qo(r,function(A,d){var f=o.convertEmptyValue(A,e[A],i),p=a?f:o.convertToSpecialFormat(A,f,i);p=""+p,p=p.replace(/[\u00A0-\u9999<>\&]/gim,function(g){return"&#"+g.charCodeAt(0)+";"});var m=h;i.pivot&&c&&(m="th"),i.cellClass?l+=`
		<`+m+' class="'+i.cellClass+'">'+p+"</"+m+">":l+=`
		<`+m+">"+p+"</"+m+">",c=!1},function(A,d){var f=u.indexOf(A),p=u.indexOf(d);return f>p?1:f<p?-1:0}),l+=`
	</tr>`,l},t.prototype.getJSON=function(e,i,r){return r===void 0&&(r=!0),Xe(this,void 0,void 0,function(){var a,n,o,l,u,h,c,A,d,f=this;return ai(this,function(p){if(N(i)||(i=this.getFormatOptions("json")),n=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)a=this.data;else for(a=[],o=this.data,l=function(m,g){var y=o[g];if(typeof y=="object"){var v={};Qe(y,function(_,S){N(n[_])&&(v[n[_]]=f.convertToSpecialFormat(_,S,i))}),a.push(v)}},u=o.length,h=0;h<u;h++)l(u,h);return c=JSON.stringify(a,function(m,g){return typeof g=="object"&&Qe(g,function(y,v){g[y]=f.convertToSpecialFormat(y,v,i)}),g},i.indent),A=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:i}).charset,d=this.adapter.apply("getJSON",{data:r?"data:"+this.getContentType(e)+";"+A+","+encodeURIComponent(c):c,options:i}).data,[2,d]})})},t.prototype.convertToSpecialFormat=function(e,i,r,a){if(typeof i=="number")if(this.isDateField(e))i=new Date(i);else{if(this.isDurationField(e))return this.durationFormatter.format(i,this.durationFormat);if(this.isNumberField(e)&&this.numberFormat)return this.numberFormatter.format(i,this.numberFormat)}return i instanceof Date?r.useTimestamps?i=i.getTime():r.useLocale?a||(i=i.toLocaleString()):i=this.dateFormatter.format(i,this.dateFormat):ft(i)&&this.isDateField(e)&&this.dateFormat&&(i=this.dateFormatter.format(this.dateFormatter.parse(i),this.dateFormat)),i},t.prototype.convertEmptyValue=function(e,i,r){return N(i)?i:r.emptyAs},t.prototype.download=function(e,i,r){return r===void 0&&(r=!1),Xe(this,void 0,void 0,function(){var m,g,o,a,h,c,A,d,n,m,g,o,l,u,h,c,A,d,f,p,m,g,y,v;return ai(this,function(_){if(this.msBlobDownloadSupport()){if(m=e.split(";"),g=m.shift().replace(/data:/,""),e=decodeURIComponent(m.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv"].indexOf(g)==-1)try{o=atob(e),e=o}catch{return[2,!1]}else return a=new Blob([e],{type:g}),window.navigator.msSaveBlob(a,i),[2,!0];for(h=new Array(e.length),c=0;c<e.length;++c)A=e.charCodeAt(c),h[c]=A;d=new Blob([new Uint8Array(h)],{type:g}),window.navigator.msSaveBlob(d,i)}else if(this.blobDownloadSupport()){if(n=document.createElement("a"),n.download=i,document.body.appendChild(n),m=e.split(";"),g=m.shift().replace(/data:/,""),e=decodeURIComponent(m.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv","text/html"].indexOf(g)==-1)try{o=atob(e),e=o}catch{return[2,!1]}else return r&&(e="\uFEFF"+e),l=new Blob([e],{type:g}),u=window.URL.createObjectURL(l),n.href=u,n.download=i,n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(u)},100),[2,!0];for(h=new Array(e.length),c=0;c<e.length;++c)A=e.charCodeAt(c),h[c]=A;r&&(h=[239,187,191].concat(h)),d=new Blob([new Uint8Array(h)],{type:g}),f=window.URL.createObjectURL(d),n.href=f,n.download=i,document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(function(){window.URL.revokeObjectURL(f)},100)}else this.linkDownloadSupport()?(p=document.createElement("a"),p.download=i,p.href=e,document.body.appendChild(p),p.click(),document.body.removeChild(p)):this.legacyIE()?(m=e.match(/^data:(.*);[ ]*([^,]*),(.*)$/),m.length===4&&(m[2]=="base64"?m[1].match(/^image\//)&&this.showModal('<img src="'+e+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(g=void 0,i.match(/\.svg$/)?g="image/svg+xml":(g="text/plain",i+=".txt"),y=document.createElement("iframe"),y.width="1px",y.height="1px",y.style.display="none",document.body.appendChild(y),v=y.contentDocument,v.open(g,"replace"),v.write(decodeURIComponent(m[3])),v.close(),v.execCommand("SaveAs",!0,i),document.body.removeChild(y)))):window.location.href=e;return[2,!0]})})},t.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},t.prototype.linkDownloadSupport=function(){var e=E.getCache("linkDownloadSupport");if(e===!1||e===!0)return e;var i=document.createElement("a"),r=typeof i.download<"u";return E.setCache("linkDownloadSupport",r),r},t.prototype.blobDownloadSupport=function(){return N(window.Blob)},t.prototype.msBlobDownloadSupport=function(){return N(window.navigator.msSaveOrOpenBlob)},t.prototype.legacyIE=function(){var e=document.createElement("div");return e.innerHTML="<!--[if lt IE 10]><i></i><![endif]-->",e.getElementsByTagName("i").length==1},t.prototype.print=function(e,i,r){return Xe(this,void 0,void 0,function(){return ai(this,function(a){return i.printMethod=="css"?[2,this.printViaCSS(e,i,r)]:[2,this.printViaIframe(e,i,r)]})})},t.prototype.printViaCSS=function(e,i,r){return Xe(this,void 0,void 0,function(){var a,n,o,l,u;return ai(this,function(h){return a=document.documentElement.scrollTop||document.body.scrollTop,n=new _i(JA(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),r&&document&&document.title&&(o=document.title,document.title=r),l=new Image,l.src=e,l.style.maxWidth="100%",l.style.display="block",l.style.position="relative",l.style.visibility="visible",l.style.opacity="1",l.style.clipPath="none",document.body.appendChild(l),this.setTimeout(function(){window.print()},50),u=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u&&i.delay<1e3?i.delay=1e3:i.delay<100&&(i.delay=100),this.setTimeout(function(){document.body.removeChild(l),n.dispose(),o&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=a},i.delay||500),[2,!0]})})},t.prototype.printViaIframe=function(e,i,r){return Xe(this,void 0,void 0,function(){var a,n,o;return ai(this,function(l){return a=document.createElement("iframe"),a.style.visibility="hidden",document.body.appendChild(a),a.contentWindow.document.open(),a.contentWindow.document.close(),n=new Image,n.src=e,n.style.maxWidth="100%",n.style.height="auto",r&&(a.contentWindow.document.title=r),a.contentWindow.document.body.appendChild(n),a.load=function(){a.contentWindow.document.body.appendChild(n)},this.setTimeout(function(){try{a.contentWindow.document.execCommand("print",!1,null)||a.contentWindow.print()}catch{a.contentWindow.print()}},i.delay||50),o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,o&&i.delay<1e3?i.delay=1e3:i.delay<100&&(i.delay=100),this.setTimeout(function(){document.body.removeChild(a)},i.delay+50||100),[2,!0]})})},t.prototype.findBackgroundColor=function(e){var i=1,r=Xb(e,"background-color");if((r.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||r=="transparent")&&(i=0),i==0){var a=e.parentElement;return a?this.findBackgroundColor(a):He("#fff")}else return He(r,i)},Object.defineProperty(t.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(e){this._container=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(e){this._sprite=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(e){this._extraSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(e){this._validateSprites=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(e){this._dataFields=e,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),t.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var e=this.data.length>0;this._prevHasData!=e&&(this._prevHasData=e,this.menu&&this.menu.invalidate())},Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new Qn,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new xt),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(e){this._dateFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new Du,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(e){this._numberFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new xt),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(e){this._numberFields=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new tf,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(e){this._durationFormatter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(e){this._durationFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new xt),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(e){this._durationFields=e},enumerable:!0,configurable:!0}),t.prototype.generateDataFields=function(){var e=this;this._dataFields={},this.data.length&&Ce(this.data,function(i){Qe(i,function(r,a){N(e._dataFields[r])||(e._dataFields[r]=e.adapter.apply("dataFieldName",{name:r,field:r}).name)})})},t.prototype.isDateField=function(e){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(e),field:e}).isDateField},t.prototype.isNumberField=function(e){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(e),field:e}).isNumberField},t.prototype.isDurationField=function(e){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(e),field:e}).isDurationField},t.prototype.getContentType=function(e){var i="";switch(e){case"png":case"gif":i="image/"+e;break;case"jpg":i="image/jpeg";break;case"svg":i="image/svg+xml";break;case"csv":i="text/csv";break;case"json":i="application/json";break;case"html":i="text/html";break;case"pdf":case"pdfdata":i="application/pdf";break;case"xlsx":i="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break}return this.adapter.apply("contentType",{contentType:i,type:e}).contentType},Object.defineProperty(t.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(e){this._filePrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(e){this._backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(e){this._title=e},enumerable:!0,configurable:!0}),t.prototype.showPreloader=function(){var e=this.preloader;e&&(e.progress=.5,e.label.text="...")},t.prototype.hidePreloader=function(){var e=this.preloader;e&&(e.progress=1)},Object.defineProperty(t.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),t.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},t.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this._language=new $a),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal||(this._modal=new Dm,this._modal.adapter.add("classPrefix",function(e){return e=lt.classNamePrefix+e,e})),this._modal},enumerable:!0,configurable:!0}),t.prototype.showModal=function(e,i){this.hideModal(),this.hidePreloader();var r=this.modal;r.container=this.sprite.svgContainer.SVGContainer,r.content=e,r.readerTitle=i,r.open()},t.prototype.hideModal=function(){this._modal&&this.modal.close()},t.prototype._canvg=function(){return Xe(this,void 0,void 0,function(){var e;return ai(this,function(i){switch(i.label){case 0:return[4,import("./MNCTXO3I.js")];case 1:return e=i.sent(),e.default!=null?[2,e.default]:[2,e]}})})},Object.defineProperty(t.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfmake",{get:function(){return H_==null&&(H_=uj()),H_},enumerable:!0,configurable:!0}),t.prototype._xlsx=function(){return Xe(this,void 0,void 0,function(){return ai(this,function(e){switch(e.label){case 0:return[4,import("./5BMTF7DL.js")];case 1:return[2,e.sent()]}})})},Object.defineProperty(t.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),t.prototype.setFormatOptions=function(e,i){this._formatOptions.setKey(e,i)},t.prototype.getFormatOptions=function(e){return this._formatOptions.getKey(e)},Object.defineProperty(t.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),t.prototype._disablePointers=function(){N(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},t.prototype._releasePointers=function(){N(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},t.prototype.hideNonExportableSprites=function(){var e=this;if(!this._objectsAlreadyHidden){var i=this.sprite.svgContainer;i&&Ce(i.nonExportableSprites,function(r){!r.isHidden&&!r.isHiding&&r.visible&&e._hiddenObjects.push(r),r.hide(0)}),this._objectsAlreadyHidden=!0}},t.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(Ce(this._hiddenObjects,function(e){e.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},t.prototype.awaitValidSprites=function(){return Xe(this,void 0,void 0,function(){var e;return ai(this,function(i){switch(i.label){case 0:return e=[],this.validateSprites.length&&Ce(this.validateSprites,function(r,a){r.invalid&&e.push(new Promise(function(n,o){r.events.once("validated",function(l){n()})}))}),e.length?[4,Promise.all(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.processConfig=function(e){E.registeredClasses.ExportMenu=U_,e&&(N(e.menu)&&!N(e.menu.type)&&(e.menu.type="ExportMenu"),N(e.dataFields)&&ni(e.dataFields)&&(this.dataFields=e.dataFields,delete e.dataFields)),s.prototype.processConfig.call(this,e)},t.XLINK="http://www.w3.org/1999/xlink",t}(Lm);var Di=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],Ee=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.properties={},e._eventDispatcher=new C_(e),e._bindings={},e._isTemplate=!1,e._isPath=!1,e._inited=!1,e._ready=!1,e.isHiding=!1,e._isHidden=!1,e.isShowing=!1,e.isStandaloneInstance=!1,e._isActive=!1,e._mask=new Ti,e._positionPrecision=3,e._language=new Ti,e._exporting=new Ti,e._exportable=!0,e._bbox={x:0,y:0,width:0,height:0},e.invalid=!1,e.positionInvalid=!1,e.propertyFields={},e.applyOnClones=!1,e._measuredWidthSelf=0,e._measuredHeightSelf=0,e.maxLeft=0,e.maxRight=0,e.maxTop=0,e.maxBottom=0,e.maxLeftSelf=0,e.maxRightSelf=0,e.maxTopSelf=0,e.maxBottomSelf=0,e._isDragged=!1,e._isResized=!1,e._disabled=!1,e._internalDisabled=!1,e._updateDisabled=!1,e._internalDefaultsApplied=!1,e.rollOutDelay=0,e.isBaseSprite=!1,e.shouldClone=!0,e.appeared=!1,e.ex=0,e.ey=0,e.dragWhileResize=!1,e.measureFailed=!1,e.preventShow=!1,e.cloneTooltip=!0,e.className="Sprite",e._disposers.push(e._eventDispatcher),e.uid,e.group=e.paper.addGroup("g"),e.setPropertyValue("scale",1),e.setPropertyValue("rotation",0),e.setPropertyValue("align","none"),e.setPropertyValue("valign","none"),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("visible",!0),e.setPropertyValue("tooltipPosition","fixed"),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e.setPropertyValue("tooltipX",he(50)),e.setPropertyValue("tooltipX",he(50)),e.setPropertyValue("marginTop",0),e.setPropertyValue("marginBottom",0),e.setPropertyValue("marginLeft",0),e.setPropertyValue("marginRight",0),e.setPropertyValue("dx",0),e.setPropertyValue("dy",0),e.setPropertyValue("paddingTop",0),e.setPropertyValue("paddingBottom",0),e.setPropertyValue("paddingRight",0),e.setPropertyValue("paddingLeft",0),e.setPropertyValue("togglable",!1),e.setPropertyValue("hidden",!1),e.setPropertyValue("urlTarget","_self"),e.setPropertyValue("alwaysShowTooltip",!1),e.setPropertyValue("showTooltipOn","hover"),e._prevMeasuredWidth=0,e._prevMeasuredHeight=0,e._measuredWidth=0,e._measuredHeight=0,e._isMeasured=!0,e.invalidate(),e.applyTheme(),e._disposers.push(e.events),e._disposers.push(e.group),e._disposers.push(e._mask),e._disposers.push(e._language),e._disposers.push(e._exporting),e._disposers.push(new Ot(function(){Qe(e._bindings,function(i,r){r.dispose()})})),e.setPropertyValue("interactionsEnabled",!0),e}return Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new _r(this)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.applyTheme=function(){s.prototype.applyTheme.call(this),lt.autoSetClassName&&this.setClassName()},t.prototype.getCurrentThemes=function(){var e=this._themes;if(e)return e;var i=this._parent;return i?i.getCurrentThemes():E.themes},t.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},t.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,E.addToInvalidSprites(this),Dt.requestFrame())},t.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,E.removeFromInvalidSprites(this),this.afterDraw()},t.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,E.addToInvalidPositions(this),Dt.requestFrame())},t.prototype.validatePosition=function(){var e=this.pixelX,i=this.pixelY,r=this.dx,a=this.dy,n=e+r,o=i+a;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var l=this.measure(),u=this.group.transformString;this.group.moveTo({x:n,y:o}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(u!=this.group.transformString||l)&&(u==null?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),(this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.updateTooltipPosition()),e+r==n&&i+a==o&&(E.removeFromInvalidPositions(this),this.positionInvalid=!1);var h=this._maskRectangle;h&&this._clipElement.moveTo({x:h.x-e,y:h.y-i})},t.prototype.beforeDraw=function(){},t.prototype.draw=function(){},t.prototype.afterDraw=function(){var e,i;if((this.isMeasured||this.horizontalCenter!=="none"||this.verticalCenter!=="none")&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var r=Rc(this._adapterO.keys()),a=r.next();!a.done;a=r.next()){var n=a.value;switch(n){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[n]=this[n];break}}}catch(o){e={error:o}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}this.showTooltipOn=="always"&&(this.visible&&!this.disabled&&!this.__disabled?this.showTooltip():this.hideTooltip(0))},t.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},t.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},t.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},t.prototype.updateFilterScale=function(){var e=this;de(this.filters.iterator(),function(i){i.scale=e.globalScale})},t.prototype.removeFromInvalids=function(){E.removeFromInvalidSprites(this),E.removeFromInvalidPositions(this)},t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),this.isMeasured=e.isMeasured,this.states.copyFrom(e.states),e.filters.length>0&&e.filters.each(function(r){i.filters.push(r.clone())}),e._adapterO&&this.adapter.copyFrom(e._adapterO),e._interaction&&this.interactions.copyFrom(e.interactions),e._plugins&&this.plugins.copyFrom(e.plugins),this.configField=e.configField,this.applyOnClones=e.applyOnClones,this.disabled=e.disabled,this.virtualParent=e.virtualParent,this.exportable=e.exportable,e._tooltip&&(this._tooltip?this._tooltip.copyFrom(e.tooltip):e.cloneTooltip?this.tooltip=e.tooltip.clone():this._tooltip=e.tooltip),this._showSystemTooltip=e.showSystemTooltip,La(e.propertyFields,this.propertyFields),La(e.properties,this),e.fillModifier&&(this.fillModifier=e.fillModifier.clone()),e.strokeModifier&&(this.strokeModifier=e.strokeModifier.clone()),e.focusFilter&&(this.focusFilter=e.focusFilter.clone())},t.prototype.dispose=function(){if(!this.isDisposed()){if(this.showTooltipOn=="always"&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(s.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var e=this._clones.length-1;e>=0;e--){var i=this._clones.getIndex(e);i.dispose()}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var r=this.stroke;r&&!(r instanceof Ft)&&r.dispose&&(this.clonedFrom&&this.clonedFrom.stroke==r||r.dispose());var a=this.fill;if(a&&!(a instanceof Ft)&&a.dispose&&(this.clonedFrom&&this.clonedFrom.fill==a||a.dispose()),N(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var n=this._filters.getIndex(0);n.dispose(),this._filters.removeValue(n)}this._alwaysShowDisposers=void 0}},Object.defineProperty(t.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(e){e=Hi(e),this._isTemplate!=e&&(this._isTemplate=e,this instanceof Oe&&de(this.children.iterator(),function(i){i.isTemplate=e}),e?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSystemTooltip",{get:function(){return N(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:this._parent?this._parent.showSystemTooltip:!1},set:function(e){e=Hi(e),this._showSystemTooltip!=e&&(this._showSystemTooltip=e,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topParent",{get:function(){if(this._topParent)return this._topParent;if(this._parent)return this._parent.topParent},set:function(e){this._topParent=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(!this._isTemplate){this.paper;var i=this._parent;i!=e&&(i&&i.children.removeValue(this),this._parent=e,e?(this.topParent=e.topParent,e.isTemplate&&(this.isTemplate=!0),this.baseId=e.baseId,e.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=e.tooltipContainer),this._dataItem||(this.dataItem=e.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),t.prototype.handleAlwaysShow=function(){this.showTooltip()},t.prototype.handleAlwaysShowTooltip=function(){var e=this,i=this._alwaysShowDisposers;if(i&&Ce(i,function(a){a.dispose()}),this._alwaysShowDisposers=[],this.showTooltipOn=="always")for(;e!=null;){var r=e.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(r),this._alwaysShowDisposers.push(r),e=e.parent}},Object.defineProperty(t.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(e){this._virtualParent=e,this.dataItem&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var e=this.fill;e&&e.element&&this.paper.appendDef(e.element);var i=this.stroke;if(i&&i.element&&this.paper.appendDef(i.element),this.fillModifier&&this.fill instanceof Ft){var r=this.fillModifier.modify(this.fill);r&&r.element&&this.paper.appendDef(r.element)}if(this.strokeModifier&&this.stroke instanceof Ft){var a=this.strokeModifier.modify(this.stroke);a&&a.element&&this.paper.appendDef(a.element)}this._clipPath&&this.paper.appendDef(this._clipPath),this._exportable===!1&&(this.exportable=!1)},Object.defineProperty(t.prototype,"map",{get:function(){var e=this.topParent;return e?e.map:(this._map||(this._map=new Nt),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayedMap",{get:function(){var e=this.topParent;return e?e.delayedMap:(this._delayedMap||(this._delayedMap=new Nt),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){if(this._id!=e){if(this._id=e,this.map.hasKey(e))throw Error("Duplicate id ("+e+") used on multiple objects.");this.map.setKey(e,this),lt.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){if(this._paper)return this._paper;var e=this._parent;return e?e.paper:Xo()},set:function(e){this.setPaper(e)},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){var i=this._paper;return i!=e?(this._paper=e,this.appendDefs(),!0):!1},Object.defineProperty(t.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var e=this._parent;if(e)return e.htmlContainer},set:function(e){this._htmlContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters||(this._filters=new xt,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new Lt(this._filters))),this._filters},enumerable:!0,configurable:!0}),t.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},t.prototype.setSVGAttribute=function(e){this.group.attr(e)},t.prototype.removeSVGAttribute=function(e){this.group.removeAttr(e)},t.prototype.setClassName=function(){var e=this.className,i=lt.classNamePrefix;this.element&&this.element.addClass(i+e),this.group.addClass(i+e+"-group"),N(this.id)&&this.group.addClass(i+this.id),this.userClassName&&this.group.addClass(this.userClassName)},t.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},t.prototype.updateClipPath=function(){var e=this._clipElement;e&&e.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},t.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var e=E.getUniqueId();this._clipPath.attr({id:e}),this.group.attr({"clip-path":'url("'+Vh()+e+'")'})}},t.prototype.applyMask=function(){var e=this.mask;if(this._clipPath&&e)if(e instanceof Oe){this._clipElement.attr({width:ht(0,e.pixelWidth),height:ht(0,e.pixelHeight)});var i=ls({x:e.pixelX,y:e.pixelY},e.parent,this);this._clipPath.x=i.x,this._clipPath.y=i.y}else e.element&&e.element!=this._clipElement&&(this._clipElement=e.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=e.scale,this._clipPath.x=e.pixelX,this._clipPath.y=e.pixelY,this._clipPath.rotation=e.rotation},t.prototype.applyFilters=function(){var e=this;if(this._filters&&this._filters.length>0){var i=100,r=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var a="filter-"+this.uid;this.filterElement.attr({id:a}),de(this.filters.iterator(),function(l){l.sprite=e,l.paper=e.paper,e.filterElement.attr({filterUnits:l.filterUnits}),l.appendPrimitives(e.filterElement),l.width>i&&(i=l.width),l.height>r&&(r=l.height),l.scale=e.globalScale});var n=i+"%",o=r+"%";this.filterElement.attr({width:n,height:o,x:-(i-100)/2+"%",y:-(r-100)/2+"%"}),this.group.attr({filter:'url("'+Vh()+a+'")'})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},t.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},t.prototype.setElement=function(e){this.element=e,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this.removeElement(),this._element=e,this.group.add(e),e.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate(),lt.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgContainer",{get:function(){if(this._svgContainer)return this._svgContainer;if(this._parent)return this._parent.svgContainer},set:function(e){this._svgContainer=e},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var e=this.element.getBBox();this._bbox={x:e.x,y:e.y,width:e.width,height:e.height}}},t.prototype.updateCenter=function(){if(this.element){var e=this.element.transformString,i=this.bbox,r=0,a=0,n=i.x,o=i.y,l=i.width,u=i.height,h=this.pixelPaddingLeft,c=this.pixelPaddingRight,A=this.pixelPaddingTop,d=this.pixelPaddingBottom,f=ht(l+h+c,this.pixelWidth),p=ht(u+A+d,this.pixelHeight),m=i.x,g=i.x+f,y=i.y,v=i.y+p,_=this.horizontalCenter,S=this.verticalCenter;switch(_){case"none":r=n+h;break;case"left":r=h;break;case"middle":r=h-(l+c+h)/2;break;case"right":r=-c-l;break}switch(S){case"none":a=o+A;break;case"top":a=A;break;case"middle":a=A-(u+d+A)/2;break;case"bottom":a=-d-u;break}this._measuredHeight=p,this._measuredWidth=f;var F=be(r-n,this._positionPrecision,!0),P=be(a-o,this._positionPrecision,!0);this.ex=F-h,this.ey=P-A,this.maxLeft=m+F-h,this.maxRight=g+F-h,this.maxTop=y+P-A,this.maxBottom=v+P-A,this.pixelPerfect&&lt.pixelPerfectPrecision==0&&(F-=.5,P-=.5),this.element.moveTo({x:F,y:P}),e!=this.element.transformString&&this.dispatchImmediately("transformed")}},t.prototype.measure=function(){this.updateCenter();var e=this._measuredWidth,i=this._measuredHeight,r=this.maxLeft,a=this.maxRight,n=this.maxTop,o=this.maxBottom;this._measuredWidthSelf=e,this._measuredHeightSelf=i;var l=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,this.rotation!==0||this.scale!==1||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var u=this.paper.svg,h=u.createSVGMatrix(),c=this.rotation,A=this.scale;this.nonScaling&&(A=this.scale/this.globalScale),h.a=Pe(c)*A,h.c=-Fe(c)*A,h.e=0,h.b=Fe(c)*A,h.d=Pe(c)*A,h.f=0;var d=u.createSVGPoint();d.x=r,d.y=n;var f=u.createSVGPoint();f.x=a,f.y=n;var p=u.createSVGPoint();p.x=a,p.y=o;var m=u.createSVGPoint();m.x=r,m.y=o;var g=d.matrixTransform(h),y=f.matrixTransform(h),v=p.matrixTransform(h),_=m.matrixTransform(h);r=Math.min(g.x,y.x,v.x,_.x),a=Math.max(g.x,y.x,v.x,_.x),n=Math.min(g.y,y.y,v.y,_.y),o=Math.max(g.y,y.y,v.y,_.y),e=a-r,i=o-n,this.maxLeft=be(r,l,!0),this.maxRight=be(a,l,!0),this.maxTop=be(n,l,!0),this.maxBottom=be(o,l,!0)}return this._measuredWidth=be(e,l,!0),this._measuredHeight=be(i,l,!0),this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight?(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||this.showTooltipOn=="hit"||this.showTooltipOn=="always")&&this.tooltip&&this.tooltip.visible&&(N(this.tooltipText)||N(this.tooltipHTML))&&this.updateTooltipPosition(),!0):!1},t.prototype.insertBefore=function(e){var i=this._parent;if(i){var r=i.children.indexOf(e);r!==-1&&(i.children.moveValue(this,r),i.sortChildren())}return this},t.prototype.insertAfter=function(e){var i=this._parent;if(i){var r=i.children.indexOf(e);r!==-1&&(i.children.moveValue(this,r+1),i.sortChildren())}return this},t.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},t.prototype.getRelativeX=function(e){return e instanceof nt?e.value:this._parent?e/this._parent.innerWidth:0},t.prototype.getRelativeY=function(e){return e instanceof nt?e.value:this._parent?e/this._parent.innerHeight:0},t.prototype.getPixelX=function(e){var i=0;if(k(e))i=e;else if(e instanceof nt){var r=e.value;this._parent&&(i=be(this._parent.innerWidth*r,this._positionPrecision,!0))}return i},t.prototype.getPixelY=function(e){var i=0;if(k(e))i=e;else if(e instanceof nt){var r=e.value;this._parent&&(i=be(this._parent.innerHeight*r,this._positionPrecision,!0))}return i},t.prototype.moveTo=function(e,i,r,a){this.isDragged&&!a||(e&&(k(e.x)&&this.setPropertyValue("x",be(e.x,this._positionPrecision,!0)),k(e.y)&&this.setPropertyValue("y",be(e.y,this._positionPrecision,!0))),k(i)&&(this.rotation=i),k(r)&&(this.scale=r),this.invalidatePosition())},Object.defineProperty(t.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(e){var i=this;this._mask.get()!==e&&(e?(this.createClipPath(),e instanceof Oe?this._clipElement=this.paper.add("rect"):(e.isMeasured=!1,e.element&&(this._clipElement=e.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(e,new Qt([e.events.on("maxsizechanged",function(){i.inited&&i.applyMask()},void 0,!1),e.events.on("validated",this.applyMask,this,!1),e.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(e){e?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:e.width,height:e.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(e){e=Hi(e),e||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=e&&(this._isMeasured=e,this.invalidatePosition())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){this.invalid&&this.validate(),e.invalid&&e.validate();var i=this.pixelX+this.maxLeft,r=this.pixelY+this.maxTop,a=i+this.maxRight,n=r+this.maxBottom,o=e.pixelX+e.maxLeft,l=e.pixelY+e.maxTop,u=o+e.maxRight,h=l+e.maxBottom;return!(o>a||u<i||l>n||h<r)},Object.defineProperty(t.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),t.prototype.isReady=function(){return this._ready},Object.defineProperty(t.prototype,"states",{get:function(){if(!this._states){var e=new hd;this._states=new kl(e),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new Cn(this._states)),this._disposers.push(e)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var e=this.states.create("hidden");e.properties.opacity=0,e.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultState",{get:function(){if(!this.states.getKey("default")){var e=this.states.create("default");e.properties.opacity=1}return this.states.getKey("default")},enumerable:!0,configurable:!0}),t.prototype.processState=function(e){var i=e.newValue;if(i.sprite=this,i.name=e.key,(this.states.hasKey("hover")||this.showTooltipOn=="hover"&&(N(this.tooltipHTML)||N(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||this.showTooltipOn=="hover"&&(N(this.tooltipHTML)||N(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var r=this.clones.values,a=r.length,n=0;n<a;++n){var o=r[n];o.isDisposed()||o.states.setKey(i.name,i)}},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new xo(this._animations))),this._animations},enumerable:!0,configurable:!0}),t.prototype.getSvgPoint=function(e){try{var i=this.htmlContainer.getBoundingClientRect();return{x:e.x-i.left,y:e.y-i.top}}catch{return e}},t.prototype.animate=function(e,i,r){return new Ls(this,e,i,r).start()},t.prototype.setState=function(e,i,r){var a;if(e instanceof hd)this.states.setKey(e.name,e),a=e;else if(a=this.states.getKey(e),!a)return;if(a.name=="hover"){if(this.isHidden)return;this.isHover=!0}return a.name=="hidden"?this.isHiding=!0:this.visible||this.setVisibility(a.properties.visible||this.defaultState.properties.visible),a.name=="active"&&(this.isActive=!0),k(i)||(i=a.transitionDuration),N(r)||(r=a.transitionEasing),this.transitTo(a,i,r)},t.prototype.applyCurrentState=function(e){var i=this.setState(this.defaultState,e);return this.isHover&&(i=this.setState("hover",e)),this.isDown&&this.interactions.downPointers.length&&(i=this.setState("down",e)),this.isFocused=this.isFocused,this.isActive&&(i=this.setState("active",e),this.isHover&&this.states.hasKey("hoverActive")&&(i=this.setState("hoverActive",e))),i},t.prototype.transitTo=function(e,i,r){var a=this,n=[],o=e.allValues,l;if(Qe(o,function(h,c){var A=a[h];if(c!=A&&a.defaultState.properties[h]==null&&(a.defaultState.properties[h]=A),c!="__unset"){var d={from:A,to:c,property:h};n.push(d)}}),n.length>0&&(l=this.animate(n,i,r),l&&!l.isFinished()?this._disposers.push(l.events.on("animationended",function(){a.dispatchImmediately("transitionended")})):this.dispatchImmediately("transitionended")),e.filters.length>0){var u=[];de(e.filters.iterator(),function(h){var c=h.clone();u.push(c);var A=[];de(a.filters.iterator(),function(d){d.className==c.className&&(MA(a.defaultState.filters.iterator(),function(f){return f.className===c.className})||a.defaultState.filters.push(d),Qe(c.properties,function(f,p){var m=d.properties[f];m!=p&&A.push({property:f,from:m,to:p})}))}),c.animate(A,i,r)}),this.filters.clear(),this.filters.pushAll(u)}return l},t.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(t.prototype,"isHover",{get:function(){return this.isInteractive()?this.interactions.isHover:!1},set:function(e){e=Hi(e),e!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=e,e?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this.isInteractive()?this.interactions.isDown:!1},set:function(e){e=Hi(e),this.isInteractive()&&this.isDown!=e&&(this.interactions.isDown=e,e?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this.isInteractive()?this.interactions.isFocused:!1},set:function(e){e=Hi(e),this.focusable&&this.isFocused!=e&&this.isInteractive()&&(this.interactions.isFocused=e,e===!0?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this.setActive(e)},enumerable:!0,configurable:!0}),t.prototype.setActive=function(e){e=Hi(e),this._isActive!==e&&(this._isActive=e,e&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(t.prototype,"disabled",{get:function(){var e=this.getPropertyValue("disabled");return N(e)?e:this.virtualParent?this.virtualParent.disabled:this._parent?this._parent.disabled:!1},set:function(e){this.setDisabled(e)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){e=Hi(e);var i=this.getPropertyValue("disabled");if(i!=e){if(this.setPropertyValue("disabled",e,!0),e)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var r=this._parent.element;r.hasChild(this.group)||r.add(this.group)}this instanceof Oe?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),Dt.requestFrame(),!0}return!1},Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(e){this._internalDisabled!=e&&(this._internalDisabled=e,this._updateDisabled=!0,this.invalidatePosition(),e||this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new Du,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(e){this._numberFormatter=e,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new Qn,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(e){this._dateFormatter=e,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new tf,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(e){this._durationFormatter=e,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this._language.get();return e||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(e=new $a,this.language=e,e))},set:function(e){var i=this;this._language.get()!==e&&this._language.set(e,e.events.on("localechanged",function(r){if(i._numberFormatter&&(i._numberFormatter.language=i.language),i._dateFormatter&&(i._dateFormatter.language=i.language),i._durationFormatter&&(i._durationFormatter.language=i.language),i._exporting.get()){var a=i._exporting.get();a.numberFormatter.language=i.language,a.dateFormatter.language=i.language,a.durationFormatter.language=i.language,a.language=i.language}i instanceof Oe&&i.deepInvalidate()}))},enumerable:!0,configurable:!0}),t.prototype.populateString=function(e,i){if(N(e)){e=PA(e),e=Ja().escape(e);var r=e.match(/\{([^}]+)\}/g),a=void 0;if(r)for(a=0;a<r.length;a++){var n=r[a].replace(/\{([^}]+)\}/,"$1"),o=this.getTagValue(n,"",i);N(o)||(o=""),e=e.split(r[a]).join(o)}e=Ja().unescape(e)}else e="";return this._adapterO?this._adapterO.apply("populateString",e):e},t.prototype.getTagValue=function(e,i,r){var a;N(r)||(r=this.dataItem);for(var n=[],o=/([^.]+)\(([^)]*)\)|([^.]+)/g,l;l=o.exec(e),l!==null;)if(l[3])n.push({prop:l[3]});else{var u=[];if(gm(l[2])!="")for(var h=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,c=void 0;c=h.exec(l[2]),c!==null;)u.push(c[1]||c[2]||c[3]);n.push({method:l[1],params:u})}if(r){a=this.getTagValueFromObject(n,r.values),(!N(a)||ni(a))&&(a=this.getTagValueFromObject(n,r));var A=r.dataContext;!N(a)&&A&&(a=this.getTagValueFromObject(n,r.dataContext),N(a)||(a=this.getTagValueFromObject([{prop:e}],A)),!N(a)&&A.dataContext&&(a=this.getTagValueFromObject(n,A.dataContext))),!N(a)&&r.component&&r.component.dataItem!==r&&(a=r.component.getTagValue(e,i))}return N(a)||(a=this.getTagValueFromObject(n,this.populateStringFrom||this)),!N(a)&&this._parent&&(a=this._parent.getTagValue(e,i)),a},t.prototype.getTagValueFromObject=function(e,i,r){for(var a=i,n=!1,o=0,l=e.length;o<l;o++){var u=e[o];if(u.prop){if(a=a[u.prop],!N(a))return}else switch(u.method){case"formatNumber":var h=WA(a);N(h)&&(a=this.numberFormatter.format(h,r||u.params[0]||void 0),n=!0);break;case"formatDate":var c=void 0;if(ft(a)?c=this.dateFormatter.parse(a):c=ym(a),!kh(c)||zr(c.getTime()))return;N(c)&&(a=this.dateFormatter.format(c,r||u.params[0]||void 0),n=!0);break;case"formatDuration":var A=WA(a);N(A)&&(a=this.durationFormatter.format(A,r||u.params[0]||void 0,u.params[1]||void 0),n=!0);break;case"urlEncode":case"encodeURIComponent":a=encodeURIComponent(a);break;default:a[u.method]&&a[u.method].apply(this,u.params);break}}if(!n){var d=[{method:"",params:r}];if(!N(r))k(a)?(d[0].method="formatNumber",d[0].params=""):kh(a)&&(d[0].method="formatDate",d[0].params="");else{var f=c_(r);f===sd?d[0].method="formatNumber":f===ad?d[0].method="formatDate":f===VA&&(d[0].method="formatDuration")}d[0].method&&(a=this.getTagValueFromObject(d,a))}return a},Object.defineProperty(t.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(e){this.setDataItem(e)},enumerable:!0,configurable:!0}),t.prototype.setDataItem=function(e){var i=this;if(this._dataItem!=e){if(this._dataItem=e,e){if(this.configField){var r=e.dataContext;r&&(this.config=r[this.configField],!this.config&&r.dataContext&&(this.config=r.dataContext[this.configField]))}var a=e.dataContext;if(a){var n=a.dataContext;Qe(this.propertyFields,function(o,l){if(N(a[l])){var u=i;u[o]=a[l]}else if(n){var h=n[l];if(N(h)){var u=i;u[o]=h}}})}}this.invalidate()}},t.prototype.getPropertyValue=function(e){var i=this.properties[e];return this._isTemplate||(this._adapterO&&(i=this._adapterO.apply(e,i)),i=fm.applyAll(this,e,i)),i},t.prototype.setColorProperty=function(e,i,r){var a=this.properties[e];return i instanceof Ft&&a instanceof Ft&&i.toString()==a.toString()?!1:this.setPropertyValue(e,i,r)},t.prototype.setPercentProperty=function(e,i,r,a,n,o){if(i=b1(i),k(i))return k(n)&&(i=be(i,n,o)),this.setPropertyValue(e,i,r,a);var l=this.properties[e];return i instanceof nt&&l instanceof nt&&i.value==l.value?!1:this.setPropertyValue(e,i,r,a)},t.prototype.setPropertyValue=function(e,i,r,a){if(this.properties[e]!==i&&!this.isDisposed()){if(this.properties[e]=i,this.events.isEnabled("propertychanged")){var n={type:"propertychanged",target:this,property:e};this.events.dispatchImmediately("propertychanged",n)}if(r&&this.invalidate(),a&&this.invalidatePosition(),this.applyOnClones)for(var o=this.clones.values,l=o.length,u=0;u<l;++u){var h=o[u];h.isDisposed()||(h[e]=i)}return!0}return!1},t.prototype.bind=function(e,i,r,a){var n=this;r===void 0&&(r=e),N(this._bindings[e])&&this._bindings[e].dispose(),this[e]=i[r],this._bindings[e]=i.events.on("propertychanged",function(o){if(o.property===r){var l=i[r];a&&(l=a(l)),n[e]=l}})},t.prototype.observe=function(e,i,r,a){var n=this;return new Qt(Su(Sb(e),function(o){return n.events.on("propertychanged",function(l){l.property===o&&i.call(r,l)},r,a)}))},t.prototype.applyAccessibility=function(){var e=this.readerTitle,i=this.readerDescription,r=this.role,a=this.readerHidden,n=this.readerChecked,o=this.readerControls,l=this.readerLive,u=this.readerOrientation,h=this.readerValueNow,c=this.readerValueText,A=[],d=[],f=this.readerLabelledBy;f&&A.push(f);var p=this.readerDescribedBy;if(p&&d.push(p),e)if(A.length||this.showSystemTooltip){var m=this.titleElement,g=this.uid+"-title";m.node.textContent!=e&&(m.node.textContent=e,m.attr({id:g})),A.push(g)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":e});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(i){var y=this.descriptionElement,v=this.uid+"-description";y.node.textContent!=i&&(y.node.textContent=i,y.attr({id:v})),d.push(v)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);A.length?this.setSVGAttribute({"aria-labelledby":A.join(" ")}):this.removeSVGAttribute("aria-labelledby"),d.length?this.setSVGAttribute({"aria-describedby":d.join(" ")}):this.removeSVGAttribute("aria-describedby"),r?this.setSVGAttribute({role:r}):this.removeSVGAttribute("role"),a?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),n?this.setSVGAttribute({"aria-checked":"true"}):n===!1?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),o?this.setSVGAttribute({"aria-controls":o}):this.removeSVGAttribute("aria-controls"),l?this.setSVGAttribute({"aria-live":l}):this.removeSVGAttribute("aria-live"),u?this.setSVGAttribute({"aria-orientation":u}):this.removeSVGAttribute("aria-orientation"),h?this.setSVGAttribute({"aria-valuenow":h}):this.removeSVGAttribute("aria-valuenow"),c?this.setSVGAttribute({"aria-valuetext":c}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return N(e)&&this.dataItem?this.populateString(e):e},set:function(e){e=bs(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescription",{get:function(){var e=this.getPropertyValue("readerDescription");return N(e)&&this.dataItem?this.populateString(e):this.getPropertyValue("readerDescription")},set:function(e){e=bs(e),this.setPropertyValue("readerDescription",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(e){e=bs(e),this.setPropertyValue("role",e)&&(this.applyAccessibility(),e=="slider"&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(e){e=Hi(e),this.setPropertyValue("readerHidden",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(e){e=Hi(e),this.setPropertyValue("readerChecked",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(e){e=bs(e),this.setPropertyValue("readerControls",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(e){e=bs(e),this.setPropertyValue("readerLive",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(e){e=bs(e),this.setPropertyValue("readerLabelledBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(e){e=bs(e),this.setPropertyValue("readerDescribedBy",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(e){e=bs(e),this.setPropertyValue("readerOrientation",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(e){e=bs(e),this.setPropertyValue("readerValueNow",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(e){e=bs(e),this.setPropertyValue("readerValueText",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactions",{get:function(){if(!this._interaction){var e=ct().getInteraction(this.dom);this._interaction=e,e.clickable=this.clickable,e.hoverable=this.hoverable,e.trackable=this.trackable,e.draggable=this.draggable,e.swipeable=this.swipeable,e.resizable=this.resizable,e.wheelable=this.wheelable,e.contextMenuDisabled=this.contextMenuDisabled,e.inert=this.inert,e.sprite=this,this._disposers.push(e)}return this._interaction},enumerable:!0,configurable:!0}),t.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(t.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(e){var i=this;e=Hi(e),this.setPropertyValue("focusable",e)&&(!e&&!this.isInteractive()||(this.interactions.focusable=e,e?(this.setSVGAttribute({focusable:e}),N(this._tabindex)||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",e,function(){return new Qt([i.events.on("blur",i.handleBlur,i,!1),i.events.on("focus",i.handleFocus,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleFocus=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},t.prototype.handleBlur=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(t.prototype,"focusFilter",{get:function(){var e=this._focusFilter;if(e)return e;if(this.virtualParent)return this.virtualParent.focusFilter;if(this._parent)return this._parent.focusFilter},set:function(e){this._focusFilter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(e){e!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){var e=this._tabindex;if(e!=null)return e;if(this.virtualParent)return this.virtualParent.tabindex;if(this._parent)return this._parent.tabindex},set:function(e){e=Jt(e),this.setPropertyValue("tabindex",e)&&k(e)&&(this.interactions.tabindex=e,this.setSVGAttribute({tabindex:e}),this._tabindex=e,this.focusable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(e){var i=this;e=Hi(e),this.setPropertyValue("draggable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.draggable=e,this.interactions.setEventDisposer("sprite-draggable",e,function(){return new Qt([i.events.on("down",i.handleDown,i,!1),i.events.on("dragstart",i.handleDragStart,i,!1),i.events.on("drag",i.handleDragMove,i,!1),i.events.on("dragstop",i.handleDragStop,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleDragStart=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},t.prototype.dragStart=function(e){this._isDragged=!0,ct().dragStart(this.interactions,e)},t.prototype.handleDragStop=function(e){(!this.interactions.isTouchProtected||!e.touch)&&(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},t.prototype.dragStop=function(e,i){this._isDragged=!1,ct().dragStop(this.interactions,e,i)},t.prototype.handleDragMove=function(e){if(!this.interactions.isTouchProtected||!e.touch){var i=this.interactions.originalPosition;if(i&&this._isDragged){var r=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:i.x+e.shift.x/r,y:i.y+e.shift.y/r},void 0,void 0,!0)}this.dispatchImmediately("dragged",e)}},Object.defineProperty(t.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(e){e=Hi(e),this.setPropertyValue("inert",e)&&(!e&&!this.isInteractive()||(this.interactions.inert=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(e){var i=this;e=Hi(e),this.setPropertyValue("hoverable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.hoverable=e,this.interactions.setEventDisposer("sprite-hoverable",e,function(){return new Qt([i.events.on("over",i.handleOver,i,!1),i.events.on("out",i.handleOut,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleOver=function(e){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var i=void 0;e&&e.pointer&&(i=Ho(e.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),this.showTooltipOn=="hover"&&this.showTooltip(i)}else this.showTooltipOn=="hover"&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},t.prototype.handleOut=function(e){var i=this;if(this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover){this._outTimeout=this.setTimeout(function(){i.tooltip.isHover||(i.tooltip.targetSprite==i&&i.hideTooltip(),i._outTimeout=i.setTimeout(i.handleOutReal.bind(i),i.rollOutDelay))},10);return}this.showTooltipOn=="hover"&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay)},t.prototype.handleOutReal=function(){!this.isHidden&&!this.isHiding&&this.states.hasKey("hover")&&this.applyCurrentState()},Object.defineProperty(t.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),t.prototype.handleDown=function(e){this.interactions.downPointers.length===1&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},t.prototype.handleUp=function(e){var i=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),this.showTooltipOn=="hit"&&(this.updateTooltipPosition(e.pointer?e.pointer.point:void 0),this._disposers.push(E.events.once("exitframe",function(){i.showTooltip()})),this._disposers.push(ct().body.events.once("down",function(r){i.hideTooltip()})))},Object.defineProperty(t.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(e){var i=this;e=Hi(e),this.setPropertyValue("clickable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.clickable=e,this.interactions.setEventDisposer("sprite-clickable",e,function(){return new Qt([i.events.on("down",i.handleDown,i,!1),i.events.on("up",i.handleUp,i,!1)])})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(e){var i=this;e=Hi(e),this.setPropertyValue("togglable",e)&&(!e&&!this.isInteractive()||this.interactions.setEventDisposer("sprite-togglable",e,function(){return i.events.on("hit",i.handleToggle,i,!1)}))},enumerable:!0,configurable:!0}),t.prototype.handleToggle=function(e){this.isActive=!this.isActive},Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(e){e=Hi(e),this.setPropertyValue("contextMenuDisabled",e)&&(this.interactions.contextMenuDisabled=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(e){this.setPropertyValue("url",e)&&(this._urlDisposer&&this._urlDisposer.dispose(),od(e)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=fi.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(e){this.setBaseId(e)},enumerable:!0,configurable:!0}),t.prototype.setBaseId=function(e){e!=this._baseId&&(this.invalid&&(this.invalid=!1,E.removeFromInvalidSprites(this),this.invalidate()),this._baseId=e)},Object.defineProperty(t.prototype,"baseSprite",{get:function(){if(this.isBaseSprite)return this;if(this._parent)return this._parent.baseSprite},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(e){this.setPropertyValue("urlTarget",e)},enumerable:!0,configurable:!0}),t.prototype.urlHandler=function(e){if(od(this.url)){var i=this.populateString(this.url);this.urlTarget==="_self"?window.location.href=i:window.open(i,this.urlTarget)}},Object.defineProperty(t.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(e){e=Hi(e),this.setPropertyValue("swipeable",e)&&(this.applyCursorStyle(),!e&&!this.isInteractive()||(this.interactions.swipeable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(e){e=Hi(e),this.setPropertyValue("trackable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.trackable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(e){this.setPropertyValue("wheelable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.wheelable=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(e){var i=this;e=Hi(e),this.setPropertyValue("resizable",e)&&(!e&&!this.isInteractive()||(this.applyCursorStyle(),this.interactions.resizable=e,this.interactions.setEventDisposer("sprite-resizable",e,function(){return new Qt([i.events.on("down",i.handleDown,i,!1),i.events.on("resize",i.handleResize,i,!1)])})))},enumerable:!0,configurable:!0}),t.prototype.handleResize=function(e){if((!this.interactions.isTouchProtected||!e.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*e.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var i=Ho(e.point1,this.htmlContainer,this.svgContainer.cssScale),r=Ho(e.point2,this.htmlContainer,this.svgContainer.cssScale),a=Jc(i,r),n=Ml(e.startPoint1,this._parent),o=Ml(e.startPoint2,this._parent),l=this.interactions.originalPosition,u=this.interactions.originalScale;if(l){var h={x:(n.x-l.x)/u,y:(n.y-l.y)/u},c={x:(o.x-l.x)/u,y:(o.y-l.y)/u},A=Jc(h,c),d=Ws(a,this._parent);this.moveTo({x:d.x-A.x*this.scale,y:d.y-A.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(t.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOverStyle",{set:function(e){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=e,ct().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorDownStyle",{set:function(e){this.cursorOptions.downStyle=e},enumerable:!0,configurable:!0}),t.prototype.applyCursorStyle=function(){},Object.defineProperty(t.prototype,"interactionsEnabled",{get:function(){var e=this.getPropertyValue("interactionsEnabled");return e===!1?!1:this.virtualParent?this.virtualParent.interactionsEnabled:this._parent?this._parent.interactionsEnabled:!0},set:function(e){if(e=Hi(e),this.setPropertyValue("interactionsEnabled",e)){var i=null;e?this.group.node.style.pointerEvents="":i="none",this.group.node.style.pointerEvents=i}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exporting",{get:function(){return this.getExporting()},set:function(e){this._exporting.set(e,e)},enumerable:!0,configurable:!0}),t.prototype.getExporting=function(){var e=this._exporting.get();if(e)return e;if(this.isStandaloneInstance||!this._parent)e=new j_(this.svgContainer.SVGContainer),e.sprite=this,e.language=this.language,e.numberFormatter=this.numberFormatter,e.dateFormatter=this.dateFormatter,e.durationFormatter=this.durationFormatter,this._exporting.set(e,e);else return this._parent.exporting;return e},Object.defineProperty(t.prototype,"exportable",{get:function(){return this._exportable},set:function(e){var i=this.svgContainer;this._exportable=e,i&&(e?tt(i.nonExportableSprites,this):ea(i.nonExportableSprites,this)==-1&&i.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),t.prototype.modalPrefix=function(e){return e=lt.classNamePrefix+e,e},Object.defineProperty(t.prototype,"modal",{get:function(){var e=this.svgContainer;if(e){var i=e.modal;return i.adapter.has("classPrefix",this.modalPrefix)||i.adapter.add("classPrefix",this.modalPrefix),i}},enumerable:!0,configurable:!0}),t.prototype.openModal=function(e,i){var r=this.svgContainer;if(r)return r.openModal(e,i)},t.prototype.closeModal=function(){var e=this.svgContainer;e&&e.closeModal()},Object.defineProperty(t.prototype,"popups",{get:function(){var e=this.svgContainer;if(e){var i=e.popups;return i.template.sprite=this,i.template.adapter.has("classPrefix",this.modalPrefix)||i.template.adapter.add("classPrefix",this.modalPrefix),i}},enumerable:!0,configurable:!0}),t.prototype.openPopup=function(e,i){var r=this.svgContainer;if(r)return r.openPopup(e,i)},t.prototype.closeAllPopups=function(){var e=this.svgContainer;e&&e.closeAllPopups()},Object.defineProperty(t.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(e){this.isDragged||this.setPercentProperty("x",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelX",{get:function(){var e=Le(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(e){k(e)&&(e=be(e,this._positionPrecision,!0),this.setPropertyValue("minX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(e){k(e)&&(e=be(e,this._positionPrecision,!0),this.setPropertyValue("maxX",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(e){this.isDragged||this.setPercentProperty("y",e,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelY",{get:function(){var e=Le(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(e){k(e)&&(e=be(e,this._positionPrecision,!0),this.setPropertyValue("minY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(e){k(e)&&(e=be(e,this._positionPrecision,!0),this.setPropertyValue("maxY",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(e){k(e)&&(e=be(e,this._positionPrecision,!0),this.setPropertyValue("dx",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(e){k(e)&&(e=be(e,this._positionPrecision,!0),this.setPropertyValue("dy",e,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(e){e=Jt(e),k(e)||(e=0),this.setPropertyValue("rotation",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(e){e=bs(e),this.setPropertyValue("align",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(e){e=bs(e),this.setPropertyValue("valign",e)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(e){e=bs(e),this.setPropertyValue("horizontalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(e){e=bs(e),this.setPropertyValue("verticalCenter",e)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){var e=this.getPropertyValue("maxWidth");if(!k(e)&&this._parent){var i=this._parent.maxWidth;return this._parent.layout!="absolute"&&this.align!="none"&&this.align!=null&&(i=i-this.pixelMarginLeft-this.pixelMarginRight),i}return e},set:function(e){this.setMaxWidth(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxWidth=function(e){var i=this.maxWidth,r=this.maxHeight;if(this.setPropertyValue("maxWidth",e)){k(this.relativeWidth)&&this.invalidate();var a={type:"maxsizechanged",target:this,previousWidth:i,previousHeight:r};this.dispatchImmediately("maxsizechanged",a)}},Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.getPropertyValue("maxHeight");if(!k(e)&&this._parent){var i=this._parent.maxHeight;return this._parent.layout!="absolute"&&this.valign!="none"&&this.valign!=null&&(i=i-this.pixelMarginTop-this.pixelMarginBottom),i}return e},set:function(e){this.setMaxHeight(e)},enumerable:!0,configurable:!0}),t.prototype.setMaxHeight=function(e){var i=this.maxWidth,r=this.maxHeight;if(this.setPropertyValue("maxHeight",e)){k(this.relativeHeight)&&this.invalidate();var a={type:"maxsizechanged",target:this,previousWidth:i,previousHeight:r};this.dispatchImmediately("maxsizechanged",a)}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){var i=this.setPercentProperty("width",e,!0,!1,this._positionPrecision,!0);i&&(this.percentWidth=void 0,this.relativeWidth=void 0,e instanceof nt?(this.percentWidth=e.percent,k(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(e),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){var i=this.setPercentProperty("height",e,!0,!1,this._positionPrecision,!0);i&&(this.percentHeight=void 0,this._relativeHeight=void 0,e instanceof nt?(this.percentHeight=e.percent,k(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(e),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelWidth",{get:function(){var e;k(this.percentWidth)?e=this.maxWidth:k(this._pixelWidth)?e=this._pixelWidth:e=0;var i=this.minWidth;i!=null&&e<i&&(e=i);var r=be(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",r):r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelHeight",{get:function(){var e;k(this.percentHeight)?e=this.maxHeight:k(this._pixelHeight)?e=this._pixelHeight:e=0;var i=this.minHeight;i!=null&&e<i&&(e=i);var r=be(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",r):r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeWidth",{get:function(){var e=this._relativeWidth;if(k(e))return this._adapterO?this._adapterO.apply("relativeWidth",e):e},set:function(e){this._relativeWidth!=e&&(this._relativeWidth=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){var e=this._relativeHeight;if(k(e))return this._adapterO?this._adapterO.apply("relativeHeight",e):e},set:function(e){this._relativeHeight!=e&&(this._relativeHeight=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerWidth",{get:function(){var e=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerHeight",{get:function(){var e=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerWidth",{get:function(){var e=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerHeight",{get:function(){var e=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalScale",{get:function(){var e=this.scale;return this._parent&&(e=e*this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(e){e=Jt(e),e<0&&(e=0),e!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",e,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),t.prototype.margin=function(e,i,r,a){return this.marginTop=e,this.marginRight=i,this.marginBottom=r,this.marginLeft=a,this},Object.defineProperty(t.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(e){this.setPercentProperty("marginLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(e){this.setPercentProperty("marginRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(e){this.setPercentProperty("marginTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(e){this.setPercentProperty("marginBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginRight",{get:function(){var e=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginRight",{get:function(){var e=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginLeft",{get:function(){var e=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginLeft",{get:function(){var e=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginTop",{get:function(){var e=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginTop",{get:function(){var e=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginBottom",{get:function(){var e=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginBottom",{get:function(){var e=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",e):e},enumerable:!0,configurable:!0}),t.prototype.padding=function(e,i,r,a){return this.paddingTop=e,this.paddingRight=i,this.paddingBottom=r,this.paddingLeft=a,this},Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(e){this.setPercentProperty("paddingLeft",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(e){this.setPercentProperty("paddingRight",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(e){this.setPercentProperty("paddingTop",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(e){this.setPercentProperty("paddingBottom",e,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPath(e)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return this.setPropertyValue("path",e)?(this._adapterO&&(e=this._adapterO.apply("path",e)),this._isPath||((!this.element||this.element.node&&!(this.element.node instanceof SVGPathElement))&&(this.element=this.paper.add("path")),this._isPath=!0),N(e)?this.element.attr({d:e}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0):!1},Object.defineProperty(t.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(e){this.setPropertyValue("fillModifier",e)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(e){this.setPropertyValue("strokeModifier",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(e){e=xb(e,0,1),this.setPropertyValue("fillOpacity",e)&&this.setSVGAttribute({"fill-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(e){this.setFill(e)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){if((!ni(e)||"r"in e)&&(e=ba(e)),this.setColorProperty("fill",e)||this.fillModifier){if(e instanceof Ft&&this.fillModifier&&(e=this.fillModifier.modify(e)),this.realFill=e,e instanceof Ft)this.setSVGAttribute({fill:e.toString()});else if(!N(e))this.removeSVGAttribute("fill");else if(e instanceof zo||e instanceof ws||e instanceof _n){var i=e;i.paper=this.paper,this.setSVGAttribute({fill:'url("'+Vh()+i.id+'")'})}}},Object.defineProperty(t.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(e){e=xb(e,0,1),this.setPropertyValue("opacity",e)&&this.setSVGAttribute({opacity:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(e){this.setStroke(e)},enumerable:!0,configurable:!0}),t.prototype.setStroke=function(e){if((!ni(e)||"r"in e)&&(e=ba(e)),this.setColorProperty("stroke",e)||this.strokeModifier){if(e instanceof Ft&&this.strokeModifier&&(e=this.strokeModifier.modify(e)),this.realStroke=e,e instanceof Ft)e.hex=="none"?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:e.toString()});else if(!N(e))this.removeSVGAttribute("stroke");else if(e instanceof zo||e instanceof ws||e instanceof _n){var i=e;i.paper=this.paper,this.setSVGAttribute({stroke:'url("'+Vh()+i.id+'")'})}}},Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(e){e=xb(e,0,1),this.setPropertyValue("strokeOpacity",e)&&this.setSVGAttribute({"stroke-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(e){e=Hi(e),this.setPropertyValue("nonScalingStroke",e)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(e){e=Hi(e),this.setPropertyValue("nonScaling",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(e){e=Jt(e),this.setPropertyValue("strokeWidth",e,!0),this.nonScalingStroke&&(k(e)||(e=1),e=e/this.globalScale),this.setSVGAttribute({"stroke-width":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(e){e=bs(e),this.setPropertyValue("strokeDasharray",e)&&this.setSVGAttribute({"stroke-dasharray":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(e){e=Jt(e),this.setPropertyValue("strokeDashoffset",e)&&this.setSVGAttribute({"stroke-dashoffset":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(e){this.setPropertyValue("strokeLinecap",e)&&this.setSVGAttribute({"stroke-linecap":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(e){this.setPropertyValue("strokeLinejoin",e)&&this.setSVGAttribute({"stroke-linejoin":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(e){e=bs(e),this.setPropertyValue("shapeRendering",e)&&this.setSVGAttribute({"shape-rendering":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(e){e=Hi(e),e?this._positionPrecision=lt.pixelPerfectPrecision:this._positionPrecision=3,this.setPropertyValue("pixelPerfect",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rtl",{get:function(){return N(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(e){e=Hi(e),this.isBaseSprite&&(this.topParent.rtl=e),this._rtl=e},enumerable:!0,configurable:!0}),t.prototype.show=function(e){return this.showReal(e)},t.prototype.showReal=function(e){var i=this;if(!this.preventShow){var r,a=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||a.opacity!=null&&this.opacity<a.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),k(e)||(e=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,r=this.applyCurrentState(e),r&&!r.isFinished()?(this._showHideDisposer=r.events.on("animationended",function(){i.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var n=this.defaultState.properties.visible;N(n)||(n=!0),this.visible=n,this.readerHidden=!1,this.dispatchImmediately("shown")}return r}},t.prototype.hide=function(e){return this.hideReal(e)},t.prototype.hideReal=function(e){var i=this,r;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var a=this.hiddenState;a?(r=this.setState(a,e,void 0),r&&!r.isFinished()?(this._hideAnimation=r,this._showHideDisposer=r.events.on("animationended",function(){i.isHiding=!1,i._isHidden=!0,a.properties.visible==!1&&(i.visible=!1)},this),this._disposers.push(this._showHideDisposer),this._disposers.push(r)):(this.isHiding=!1,this._isHidden=!0)):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return k(e)||(e=this.hiddenState.transitionDuration),r},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getVisibility()},set:function(e){e=Hi(e),this.setVisibility(e)},enumerable:!0,configurable:!0}),t.prototype.getVisibility=function(){var e=this.getPropertyValue("visible");return N(e)||(e=!0),e},t.prototype.setVisibility=function(e){if(this.setPropertyValue("visible",e)&&(e?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var i={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",i)}},Object.defineProperty(t.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(e){e=Jt(e),this.setPropertyValue("zIndex",e)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),t.prototype.toFront=function(){var e=this._parent;e&&e.children.indexOf(this)!=e.children.length-1&&(e.children.moveValue(this,e.children.length-1),this.dispatch("zIndexChanged"))},t.prototype.toBack=function(){var e=this._parent;e&&e.children.indexOf(this)!=0&&(e.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(t.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(e){this.setPropertyValue("userClassName",e)&&(!e&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){if(this._tooltip)return this._tooltip;if(this.virtualParent)return this.virtualParent.tooltip;if(this._parent)return this._parent.tooltip},set:function(e){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=e,e&&(e.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDataItem",{get:function(){var e=this._tooltipDataItem;return e||this.dataItem},set:function(e){this._tooltipDataItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(e){this._tooltipColorSource=e},enumerable:!0,configurable:!0}),t.prototype.showTooltip=function(e){this.showTooltipOn=="always"&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!e&&this.tooltipPosition=="pointer"&&this.isHover&&(e=Ho(ct().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var i=this;i!=null;){if(!i.visible||i.disabled||i.__disabled){this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0);return}i=i.parent}if(N(this.tooltipText)||N(this.tooltipHTML)){var r=this.tooltip,a=this.tooltipDataItem;if(r){r.targetSprite=this;var n=this,o=this.tooltipColorSource;if((r.getStrokeFromObject||r.getFillFromObject)&&o&&(o.isTemplate?a&&IA(a.sprites,function(d){return d.clonedFrom==o?(n=d,!1):!0}):n=o),r.getStrokeFromObject){for(var l=this.stroke,u=n;u.parent!=null&&(l=u.stroke,l==null&&(u=u.parent),l==null););l instanceof Ft?r.background.animate({property:"stroke",to:l},r.animationDuration):r.background.stroke=l}if(r.dataItem=a,r.label.populateStringFrom=this,r.getFillFromObject){for(var h=this.fill,u=n;u.parent!=null;)if(h=u.fill,h==null||h instanceof Ft&&h.rgb==null)u=u.parent;else if(h!=null)break;h==null&&(h=He("#000000")),h instanceof Ft&&r.visible?r.background.animate({property:"fill",to:h},r.animationDuration):r.background.fill=h,r.autoTextColor&&h instanceof Ft&&(r.label.fill=h.alternative)}var c="";if(this.tooltipHTML&&(r.html=this.tooltipHTML,c=this.tooltipHTML),this.tooltipText&&(r.text=this.tooltipText,c=this.tooltipText),this.updateTooltipPosition(e))if(r.readerDescribedBy=this.uidAttr(),r.label.invalid&&r.label.validate(),c!=null&&c!=""&&r.label.currentText!=""){r&&!r.parent&&(r.parent=this.tooltipContainer);var A=r.defaultState.transitionDuration;return A<=0&&(A=1),r.show(A),r.currentSprite=this,!0}else this.hideTooltip(0);else this.hideTooltip(0)}}return!1},t.prototype.updateTooltipPosition=function(e){var i=this;if(this.tooltipPosition=="pointer"){if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=ct().body.events.on("track",function(a){return i.pointTooltipTo(Ho(a.point,i.svgContainer.SVGContainer,i.svgContainer.cssScale),!0)}),e)return this.pointTooltipTo(e,!0)}else{var r=va({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(r)}},t.prototype.pointTooltipTo=function(e,i){var r=this.tooltip;return r&&this.topParent&&(r.showInViewport||_b(e,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))?(r.pointTo(e,i),!0):!1},t.prototype.hideTooltip=function(e){if(this.showTooltipOn!="always"){var i=this.tooltip;i&&(i.targetSprite==this&&(i.targetSprite=void 0),i.hide(e),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(t.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(e){e=bs(e),this.hoverable=!0,this.setPropertyValue("tooltipHTML",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(e){e=bs(e),e&&(this.hoverable=!0),this.setPropertyValue("tooltipText",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipContainer",{get:function(){if(this._tooltipContainer)return this._tooltipContainer;if(this._parent)return this._parent.tooltipContainer},set:function(e){this._tooltipContainer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(e){this.setPercentProperty("tooltipX",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowTooltip",{get:function(){return this.getPropertyValue("showTooltipOn")=="always"},set:function(e){e=Hi(e),e&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(e){this.setPropertyValue("showTooltipOn",e)&&(e=="hit"&&(this.clickable=!0),this.tooltip&&(e=="always"?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(e){this.setPropertyValue("tooltipPosition",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(e){this.setPercentProperty("tooltipY",e)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");N(e)||(e=he(50));var i;return k(e)&&(i=e),e instanceof nt&&(i=this.maxLeftSelf+this._measuredWidthSelf*e.value-this.pixelPaddingLeft-this.ex),k(i)||(i=0),i},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");N(e)||(e=he(50));var i;return k(e)&&(i=e),e instanceof nt&&(i=this.maxTopSelf+this._measuredHeightSelf*e.value-this.pixelPaddingTop-this.ey),k(i)||(i=0),i},t.prototype.raiseCriticalError=function(e,i){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",e).message:this.modal.content=e.message,i?this.modal.closable=!0:this.disabled=!0,lt.suppressErrors||this.modal.open()),lt.verbose&&console.log(e)},t.prototype.processConfig=function(e){e&&(N(e.tooltipColorSource)&&ft(e.tooltipColorSource)&&this.map.hasKey(e.tooltipColorSource)&&(e.tooltipColorSource=this.map.getKey(e.tooltipColorSource)),N(e.cursorOverStyle)&&ft(e.cursorOverStyle)&&(e.cursorOverStyle=this.getCursorStyle(e.cursorOverStyle)),N(e.cursorDowntyle)&&ft(e.cursorDowntyle)&&(e.cursorDowntyle=this.getCursorStyle(e.cursorDowntyle)),N(e.cursorOptions)&&(N(e.cursorOptions.overStyle)&&ft(e.cursorOptions.overStyle)&&(e.cursorOptions.overStyle=this.getCursorStyle(e.cursorOptions.overStyle)),N(e.cursorOptions.downStyle)&&ft(e.cursorOptions.downStyle)&&(e.cursorOptions.downStyle=this.getCursorStyle(e.cursorOptions.downStyle)))),s.prototype.processConfig.call(this,e),this.processDelayedMap()},t.prototype.getCursorStyle=function(e){switch(e){case"grab":return fi.grab;case"grabbing":return fi.grabbing;case"pointer":return fi.pointer;case"horizontalResize":return fi.horizontalResize;case"verticalResize":return fi.verticalResize;default:return fi.default}},t.prototype.configOrder=function(e,i){return e==i?0:e=="tooltipColorSource"?1:i=="tooltipColorSource"?-1:s.prototype.configOrder.call(this,e,i)},Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:this._parent?this._parent.isHidden:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(e){e=Hi(e),this.setShowOnInit(e)},enumerable:!0,configurable:!0}),t.prototype.setShowOnInit=function(e){this.setPropertyValue("showOnInit",e)&&(this.isTemplate||(e&&!this.inited&&!this.hidden?(this._showOnInitDisposer=new Qt([E.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer)):this._showOnInitDisposer&&this._showOnInitDisposer.dispose()))},t.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},t.prototype.appear=function(){var e=this;if(this.appeared=!1,!this.hidden&&!this.isHidden&&this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var i=this.show();i&&!i.isFinished()?this.addDisposer(i.events.on("animationended",function(){e.appeared=!0,e.dispatch("appeared")})):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(t.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(e){e=Hi(e),this.setPropertyValue("hidden",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plugins",{get:function(){var e=this;return this._plugins||(this._plugins=new xt,this._disposers.push(this._plugins.events.on("inserted",function(i){i.newValue.target=e,i.newValue.init()})),this._disposers.push(new Lt(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),t.prototype._systemUpdate=function(e){this.validate()},t.prototype._systemCheckIfValidate=function(){return!0},t.prototype._systemValidatePositions=function(){this.validatePosition()},t.prototype._systemValidateLayouts=function(){},t}(vs);E.registeredClasses.Sprite=Ee;var jh=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Rectangle",e.element=e.paper.add("rect"),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this._positionPrecision;this.pixelPerfect&&(e=0);var i=be(this.innerWidth,e),r=be(this.innerHeight,e);this.element.attr({width:i,height:r})},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(Ee);E.registeredClasses.Rectangle=jh;var Oe=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._childrenByLayout=[],e._childrenDisposers=new Nt,e.hasFocused=!1,e.setStateOnSprites=[],e.layoutInvalid=!1,e._absoluteWidth=0,e._absoluteHeight=0,e._shouldBeReady=[],e._tapToActivate=!1,e.tapTimeout=3e3,e.className="Container",e._element=e.paper.addGroup("g"),e.group.add(e.element),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("layout","absolute"),e.setPropertyValue("fixedWidthGrid",!1),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e._positionPrecision=4,e._disposers.push(new Cn(e._childrenDisposers)),e.children.events.on("inserted",e.handleChildAdded,e),e.children.events.on("removed",e.handleChildRemoved,e),e.applyTheme(),e}return t.prototype.handleChildAdded=function(e){this.processChild(e.newValue)},t.prototype.processChild=function(e){try{this._childrenDisposers.insertKey(e.uid,new Qt([e.events.on("transformed",this.handleChildTransform,this),e.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch{}if(this.element){var i=this.element;i.add(e.group)}e.parent=this,e.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:e}),this.invalidate()},t.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},t.prototype.handleChildRemoved=function(e){var i=e.oldValue;if(this._childrenDisposers.removeKey(i.uid),this.element){var r=this.element;r.removeElement(i.group)}i.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:i})},t.prototype.handleChildTransform=function(e){var i=e.target;i.isMeasured&&this.invalidateLayout()},t.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||(this.layoutInvalid=!0,E.addToInvalidLayouts(this),Dt.requestFrame())},t.prototype.invalidate=function(){s.prototype.invalidate.call(this),this.invalidateLayout()},t.prototype.deepInvalidate=function(){s.prototype.invalidate.call(this),Ce(this._childrenByLayout,function(e){e instanceof t?e.deepInvalidate():e.invalidate()}),this.invalidateLayout()},Object.defineProperty(t.prototype,"children",{get:function(){return this._children||(this._children=new xt),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),t.prototype.removeElement=function(){},t.prototype.sortChildren=function(){var e=this;if(this._childrenByLayout=[],this.layout=="none"||this.layout=="absolute"||!this.layout)this._childrenByLayout=this.children.values;else{var i=[],r=[];de(this.children.iterator(),function(a){e.layout=="horizontal"||e.layout=="grid"?k(a.percentWidth)?r.push(a):i.push(a):e.layout=="vertical"&&k(a.percentHeight)?r.push(a):i.push(a)}),this._childrenByLayout=i.concat(r)}this.calculateRelativeSize()},t.prototype.calculateRelativeSize=function(){var e=this,i=0,r=0;Ce(this._childrenByLayout,function(a){a.isMeasured&&(k(a.percentWidth)&&(i+=a.percentWidth),k(a.percentHeight)&&(r+=a.percentHeight))}),Ce(this._childrenByLayout,function(a){a.isMeasured&&(e.layout=="horizontal"&&(k(a.percentWidth)&&(a.relativeWidth=a.percentWidth/i),k(a.percentHeight)&&(a.relativeHeight=a.percentHeight/100)),e.layout=="vertical"&&(k(a.percentHeight)&&(a.relativeHeight=a.percentHeight/r),k(a.percentWidth)&&(a.relativeWidth=a.percentWidth/100)),e.layout=="grid"&&(k(a.percentHeight)&&(a.relativeHeight=a.percentHeight/100),k(a.percentWidth)&&(a.relativeWidth=a.percentWidth/100))),(e.layout=="absolute"||!a.isMeasured)&&(k(a.percentWidth)&&(a.relativeWidth=a.percentWidth/100),k(a.percentHeight)&&(a.relativeHeight=a.percentHeight/100))})},t.prototype.addChildren=function(){if(this.element){var e=Bu(this.children.values),i=e.map(function(l,u){return{idx:u,data:l}});i.sort(function(l,u){var h=l.data.zIndex||0,c=u.data.zIndex||0;return h<c?-1:h>c?1:l.idx-u.idx}),e=i.map(function(l){return l.data});var r=this.element,a=!0;if(r.node&&r.node.childNodes){for(var n=0,o=r.node.childNodes.length;n<o;n++)if(r.node.childNodes[n]!=e[n].group.node){a=!1;break}}a||(Ce(e,function(l){l.group&&r.add(l.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},t.prototype.createChild=function(e){var i=new e;return i.parent=this,i},t.prototype.removeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.parent=void 0,this.children.removeValue(e)}},t.prototype.disposeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.dispose(),this.children.removeValue(e)}},Object.defineProperty(t.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(e){this._background&&this.background!=e&&this.removeDispose(this._background),e&&(this._background=e,this._disposers.push(e),this.processBackground())},enumerable:!0,configurable:!0}),t.prototype.handleGlobalScale=function(){s.prototype.handleGlobalScale.call(this),this.children.each(function(e){e.handleGlobalScale()})},t.prototype.createBackground=function(){return new jh},t.prototype.processBackground=function(){var e=this._background;e&&(e.isMeasured=!1,this._background.fill=new et().getFor("background"),e.parent=this,e.isMeasured=!1,this.children.removeValue(e),this._disposers.push(e),this.group.addToBack(this._background.group))},t.prototype.validateLayout=function(){var e=this;E.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var i=0,r=0,a=!0;this.children&&(this.sortChildren(),Ce(this._childrenByLayout,function(n){var o,l;if(k(n.relativeWidth)?(o=be(e._availableWidth*n.relativeWidth,2),e.layout=="horizontal"&&(o-=n.pixelMarginRight+n.pixelMarginLeft)):e.layout=="horizontal"&&n.invalid&&n.validate(),k(n.relativeHeight)?(l=be(e._availableHeight*n.relativeHeight,2),e.layout=="vertical"&&(l-=n.pixelMarginTop+n.pixelMarginBottom)):e.layout=="vertical"&&n.invalid&&n.validate(),n.invalid==!1){if(k(n.relativeWidth)&&(n.maxWidth=o),k(n.relativeHeight)&&(n.maxHeight=l),n.isMeasured){e.layout=="horizontal"&&(k(n.percentWidth)||n.measuredWidth>0&&(e._availableWidth-=n.measuredWidth+n.pixelMarginLeft+n.pixelMarginRight)),e.layout=="vertical"&&(k(n.percentHeight)||n.measuredHeight>0&&(e._availableHeight-=n.measuredHeight+n.pixelMarginTop+n.pixelMarginBottom));var u=n.measuredWidth,h=n.measuredHeight;n.align!="none"&&(u+=n.pixelMarginLeft+n.pixelMarginRight),n.valign!="none"&&(h+=n.pixelMarginTop+n.pixelMarginBottom),i=Math.max(i,u),r=Math.max(r,h)}}else n.isMeasured&&(k(n.relativeWidth)&&n.maxWidth!=o&&(n.maxWidth=o,a=!1),k(n.relativeHeight)&&n.maxHeight!=l&&(n.maxHeight=l,a=!1))})),this._absoluteWidth=i,this._absoluteHeight=r,a&&this.arrange()},t.prototype.arrange=function(){var e=this,i=this.children,r=0,a=0,n=ht(this.innerWidth,this._absoluteWidth),o=ht(this.innerHeight,this._absoluteHeight),l,u,h,c,A=this.pixelPaddingLeft,d=this.pixelPaddingRight,f=this.pixelPaddingTop,p=this.pixelPaddingBottom,m=0,g=0,y=0,v=0,_=[],S=[],F,P,D,$=this.maxWidth,I=this.maxHeight,R=this.minWidth,T=this.minHeight,Q=Bu(i.values);if(this.reverseOrder&&Q.reverse(),this.layout=="grid"){P=$,F=1;for(var K=0,z=Q.length;K<z;K++){var se=Q[K];if(se.isMeasured&&!se.disabled&&!se.__disabled){var ee=se.measuredWidth;ee<P&&(P=ee),ee>F&&(F=ee)}}P=Le(P,1,$),F=Le(F,1,$),this.fixedWidthGrid?D=$/F:D=$/P,D=ht(1,Math.floor(D)),D=bt(this.maxColumns,D),_=this.getColumnWidth(Q,D,F)}for(var ue,G,q,ge,K=0,z=Q.length;K<z;K++){var se=Q[K];if(se.isMeasured&&!se.disabled&&!se.__disabled){var ne=void 0,ye=void 0,qe=se.pixelMarginLeft,Ge=se.pixelMarginRight,it=se.pixelMarginTop,dt=se.pixelMarginBottom,Re=se.measuredWidth,We=se.measuredHeight,Rt=void 0,pi=void 0,V=void 0,_e=void 0;switch(this.layout){case"none":break;case"absolute":switch(se.align){case"left":ne=qe-se.maxLeft;break;case"center":ne=(n-Re)/2-se.maxLeft;break;case"right":ne=n-Ge-se.maxRight;break;default:se.x instanceof nt||(ne=se.pixelX);break}switch(se.valign){case"top":ye=it-se.maxTop;break;case"middle":ye=(o-We)/2-se.maxTop;break;case"bottom":ye=o-dt-se.maxBottom;break;default:se.y instanceof nt||(ye=se.pixelY);break}break;case"vertical":switch(se.align){case"left":ne=qe-se.maxLeft;break;case"center":ne=(n-Re)/2-se.maxLeft;break;case"right":ne=n-Ge-se.maxRight;break;default:ne=se.pixelX;break}ye=g+it-se.maxTop,g=ye+se.maxBottom+dt;break;case"horizontal":switch(se.valign){case"top":ye=it-se.maxTop;break;case"middle":ye=(o-We)/2-se.maxTop;break;case"bottom":ye=o-dt-se.maxBottom;break;default:ye=se.pixelY;break}ne=m+qe-se.maxLeft,m=ne+se.maxRight+Ge;break;case"grid":switch(ne=m+qe-se.maxLeft,se.valign){case"top":ye=g+it-se.maxTop;break;case"middle":ye=g+(o-We)/2-se.maxTop;break;case"bottom":ye=g+o-dt-se.maxBottom;break;default:ye=g-se.maxTop;break}m+=_[v],S[y]=ht(S[y],We),v++;var ve=_[v];if(k(ve)||(ve=F),m>bt(this.innerWidth,$)-ve+1&&v<D){D=v,m=0,g=0,y=0,v=0,_=this.getColumnWidth(Q,D,F),S=[],K=-1;continue}v>=D&&(v=0,g+=S[y],y++,m=0);break}this.layout!=="none"&&(se.moveTo({x:ne,y:ye}),Rt=ne+se.maxLeft-qe,pi=ne+se.maxRight+Ge,V=ye+se.maxTop-it,_e=ye+se.maxBottom+dt,(pi>u||!k(u))&&(u=pi),(Rt<l||!k(l))&&(l=Rt),(V<h||!k(h))&&(h=V),(_e>c||!k(c))&&(c=_e),(pi>G||!k(G))&&(G=pi),(Rt<ue||!k(ue))&&(ue=Rt),(V<q||!k(q))&&(q=V),(_e>ge||!k(ge))&&(ge=ge))}else se.validatePosition()}if(this.layout=="none"){var Z=this.bbox;l=Z.x,u=Z.x+Z.width,h=Z.y,c=Z.y+Z.height}k(l)||(l=0,ue=0),k(u)||(u=this._availableWidth,G=u),k(h)||(h=0,q=0),k(c)||(c=this._availableHeight,ge=c),k(q)||(q=0),k(ge)||(ge=q),k(ue)||(ue=0),k(G)||(G=ue),r=u-l,a=c-h,k(this.relativeWidth)&&(r=$-A-d,l=0,u=r),k(this.relativeHeight)&&(a=I-f-p,h=0,c=a),k(this._pixelWidth)&&(l=0,r=this._pixelWidth-A-d),k(R)&&r<R&&(l=0,r=this.minWidth-A-d),k(this._pixelHeight)&&(h=0,a=this._pixelHeight-f-p),k(T)&&a<T&&(h=0,a=T-f-p);var Y=G-ue,oe=ge-q;if(this.layout!="none"&&(this.contentAlign||this.contentValign)&&i.length>0){var Te,$e,me=r,ke=a;me<Y&&(me=Y),ke<oe&&(ke=oe),this.contentAlign=="center"&&(Te=(me-Y)/2),this.contentAlign=="right"&&(Te=me-Y),this.contentValign=="middle"&&($e=(ke-oe)/2),this.contentValign=="bottom"&&($e=ke-oe),k(Te)&&de(i.iterator(),function(Mi){var ds=Mi.maxLeft,Dr=Te;e.layout=="horizontal"&&(Mi.x=Mi.pixelX+Dr),e.layout=="grid"&&(Mi.x=Mi.pixelX+Dr),e.layout=="vertical"&&(Dr+=Mi.pixelMarginLeft,Mi.align=="none"&&(Mi.x=Dr-ds)),e.layout=="absolute"&&(Dr+=Mi.pixelMarginLeft,Mi.align=="none"&&(Mi.x=Dr-ds))}),k($e)&&de(i.iterator(),function(Mi){var ds=Mi.maxTop,Dr=$e;e.layout=="horizontal"&&(Dr+=Mi.pixelMarginTop,Mi.valign=="none"&&(Mi.y=Dr-ds)),e.layout=="grid"&&(Dr+=Mi.pixelMarginTop,Mi.y=Dr-ds),e.layout=="vertical"&&(Mi.y=Mi.pixelY+Dr),e.layout=="absolute"&&(Dr+=Mi.pixelMarginTop,Mi.valign=="none"&&(Mi.y=Dr-ds))})}var rt=this.bbox;r=ht(r,R),a=ht(a,T),this.contentWidth=r,this.contentHeight=a,r=bt(r,$),a=bt(a,I),this._bbox={x:l,y:h,width:r,height:a};var Ne=this.maxLeft,Tt=this.maxTop,or=this.maxBottom,bi=this.maxRight;if(this.measure(),(Ne!=this.maxLeft||bi!=this.maxRight||Tt!=this.maxTop||or!=this.maxBottom)&&this.events.isEnabled("transformed")){var Ms={type:"transformed",target:this};rt&&(Ms.dummyData=rt.width+" "+r+"  "+rt.height+" "+a),this.events.dispatchImmediately("transformed",Ms)}this.dispatchImmediately("layoutvalidated")},t.prototype.updateCenter=function(){s.prototype.updateCenter.call(this),this.updateBackground()},t.prototype.updateBackground=function(){var e=this._background;e&&(e.x=this.maxLeft,e.y=this.maxTop,e.width=this.maxRight-this.maxLeft,e.height=this.maxBottom-this.maxTop)},t.prototype.getColumnWidth=function(e,i,r){var a=this,n=[],o=0;return Ce(e,function(l){l.isMeasured&&!l.disabled&&!l.__disabled&&(a.fixedWidthGrid?n[o]=r:n[o]=ht(n[o],l.measuredWidth+l.pixelMarginRight+l.pixelMarginLeft),o++,o==i&&(o=0))}),n},Object.defineProperty(t.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(e){this.setPropertyValue("layout",e)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(e){this.setPropertyValue("contentValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(e){this.setPropertyValue("contentAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(e){this.setPropertyValue("fixedWidthGrid",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(e){this.setPropertyValue("maxColumns",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(e){this.setPropertyValue("reverseOrder",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(e){this.setPropertyValue("setStateOnChildren",e,!0)},enumerable:!0,configurable:!0}),t.prototype.fitsToBounds=function(e){var i=e.x,r=e.y,a=.5;return i>=-a&&i<=this.pixelWidth+a&&r>=-a&&r<=this.pixelHeight+a},t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),this.layout=e.layout,this.setStateOnChildren=e.setStateOnChildren,e._background&&(this.background=e._background.clone(),this.background.copyFrom(e._background)),de(e.children.iterator(),function(r){if(r.shouldClone){var a=r.clone();a.parent=i}})},Object.defineProperty(t.prototype,"preloader",{get:function(){var e=this._preloader;if(e)return e;if(this.parent)return this.parent.preloader},set:function(e){this._preloader&&this.removeDispose(this._preloader),this._preloader=e,e&&(e.parent=this.tooltipContainer,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){var i=this,r=s.prototype.setPaper.call(this,e);return r&&(this._background&&(this._background.paper=e,this._background.topParent=this.topParent),this.children.each(function(a){a.setPaper(e),a.topParent=i.topParent})),r},t.prototype.removeFromInvalids=function(){s.prototype.removeFromInvalids.call(this),E.removeFromInvalidLayouts(this)},t.prototype.setDataItem=function(e){this._dataItem!=e&&(de(this.children.iterator(),function(i){i.dataItem=e}),this._background&&(this._background.dataItem=e)),s.prototype.setDataItem.call(this,e)},t.prototype.measureElement=function(){this.disabled||this.isTemplate||this.layout=="none"||this.__disabled||this.validateLayout()},Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(e){this.setPropertyValue("fontFamily",e,!0)&&(this.setSVGAttribute({"font-family":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(e){this.setPropertyValue("fontSize",e,!0)&&(this.setSVGAttribute({"font-size":e}),this.invalidateLabels())},enumerable:!0,configurable:!0}),t.prototype.invalidateLabels=function(){this.children.each(function(e){e.hardInvalidate?(e.hardInvalidate(),e.events.once("validated",e.handleValidate,e,!1)):e instanceof t&&e.invalidateLabels()})},Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(e){this.setPropertyValue("fontWeight",e),this.setSVGAttribute({"font-weight":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(e){this.setPropertyValue("textDecoration",e),this.setSVGAttribute({"text-decoration":e})},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),s.prototype.dispose.call(this)},t.prototype.setState=function(e,i,r){var a=e;return e instanceof hd&&(a=e.name),this.setStateOnChildren&&de(this.children.iterator(),function(n){n.setState(a,i,r),a!="active"&&(n.isActive=!1)}),this._background&&this._background.setState(a),this.setStateOnSprites.length&&Ce(this.setStateOnSprites,function(n){n.setState(a,i,r)}),s.prototype.setState.call(this,e,i,r)},t.prototype.setActive=function(e){s.prototype.setActive.call(this,e),this._background&&(this._background.isActive=e)},t.prototype.dispatchReady=function(){var e=this;if(!this.isReady()&&!this.isDisposed()){var i=!0;Zr(this.children.iterator(),function(r){return!r.__disabled&&!r.disabled&&!r.isReady()?(i=!1,!1):!0}),IA(this._shouldBeReady,function(r){return!r.__disabled&&!r.disabled&&!r.isReady()?(i=!1,!1):!0}),i?s.prototype.dispatchReady.call(this):E.events.once("exitframe",function(){e.dispatchReady(),Dt.requestFrame()},void 0,!1)}},t.prototype._systemUpdate=function(e){this.children.each(function(i){i.invalid&&(i._systemCheckIfValidate()?i.dataItem&&i.dataItem.component&&i.dataItem.component.dataInvalid?e.push(i):i.validate():e.push(i))}),s.prototype._systemUpdate.call(this,e)},t.prototype._systemValidatePositions=function(){this.children.each(function(e){e.positionInvalid&&e.validatePosition()}),s.prototype._systemValidatePositions.call(this)},t.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(t.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(e){this._tapToActivate!=e&&this.setTapToActivate(e)},enumerable:!0,configurable:!0}),t.prototype.setTapToActivate=function(e){var i=this;this._tapToActivate=e,this.interactions.isTouchProtected=e,e&&this.interactions.setEventDisposer("container-tapToActivate",e,function(){return new Qt([i.events.on("hit",i.handleTapToActivate,i,!1),i.events.on("down",i.initTapTimeout,i,!1),i.events.on("track",i.initTapTimeout,i,!1),ct().body.events.on("down",function(r){ct().isLocalElement(r.pointer,i.paper.svg,i.uid)||i.handleTapToActivateDeactivation()},i,!1)])}),ct()},t.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},t.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},t.prototype.initTapTimeout=function(){var e=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){e.handleTapToActivateDeactivation()},this.tapTimeout))},t.prototype.moveHtmlContainer=function(e){var i=_m(e);if(i){this.htmlContainer=i;var r=this.svgContainer;r.htmlElement=i,r.htmlElement.appendChild(r.SVGContainer),r.initSensor(),r.measure()}else ft(e)&&e!=""&&Dt.log("html container '"+e+"' not found")},t.prototype.hasLicense=function(){if(lt.commercialLicense)return!0;for(var e=0;e<lt.licenses.length;e++)if(lt.licenses[e].match(/^CH.{5,}/i))return!0;return!1},t}(Ee);E.registeredClasses.Container=Oe;var Im=function(){function s(){}return s.prototype.parse=function(t){return[]},Object.defineProperty(s.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),s.prototype.maybeToNumber=function(t,e){return this.options.numberFields.indexOf(t)!==-1?WA(e):e},Object.defineProperty(s.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),s.prototype.maybeToDate=function(t,e){return this.options.dateFields.indexOf(t)!==-1?this.options.dateFormatter.parse(e,this.dateFormat):e},s.prototype.maybeToEmpty=function(t){return(!N(t)||t=="")&&N(this.options.emptyAs)?this.options.emptyAs:t},Object.defineProperty(s.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new Qn,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),s}();var fj=[",",";","	"],Ad=function(s){U(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e.contentType="text/csv",e.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},e}return t.isCSV=function(e){return!!t.getDelimiterFromData(e)},t.getDelimiterFromData=function(e){var i=e.split(`
`),r=i.length,a;return Ce(fj,function(n){for(var o=0,l=0,u=0;u<r;++u)if(o=i[u].split(n).length,o>1){if(l===0)l=o;else if(o!=l){l=0;break}}else{l=0;break}l&&(a=n)}),a},t.prototype.parse=function(e){this.options.delimiter||(this.options.delimiter=t.getDelimiterFromData(e));var i=this.CSVToArray(e,this.options.delimiter),r=N(this.options.emptyAs),a=this.parsableNumbers,n=this.parsableDates,o=[],l=[],u,h;for(h=0;h<this.options.skipRows;h++)i.shift();if(this.options.useColumnNames){l=i.shift();for(var c=0;c<l.length;c++)u=N(l[c])?l[c].replace(/^\s+|\s+$/gm,""):"",u===""&&(u="col"+c),l[c]=u}for(var A;A=this.options.reverse?i.pop():i.shift(),!!A;)if(!(this.options.skipEmpty&&A.length===1&&A[0]==="")){var d={};for(h=0;h<A.length;h++)u=l[h]===void 0?"col"+h:l[h],d[u]=A[h]===""?this.options.emptyAs:A[h],r&&(d[u]=this.maybeToEmpty(d[u])),a&&(d[u]=this.maybeToNumber(u,d[u])),n&&(d[u]=this.maybeToDate(u,d[u]));o.push(d)}return o},t.prototype.CSVToArray=function(e,i){i=i||",";for(var r=new RegExp("(\\"+i+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+i+"\\r\\n]*))","gi"),a=[[]],n=null;n=r.exec(e),!!n;){var o=n[1];o.length&&o!==i&&a.push([]);var l=void 0;n[2]?l=n[2].replace(new RegExp('""',"g"),'"'):l=n[3],a[a.length-1].push(l)}return a},t}(Im);var Wh=function(s){U(t,s);function t(){var e=s!==null&&s.apply(this,arguments)||this;return e.contentType="application/json",e.options={},e}return t.isJSON=function(e){try{return JSON.parse(e),!0}catch{return!1}},t.prototype.parse=function(e){var i=this,r;try{N(JSON)&&(r=JSON.parse(e))}catch{return}var a=N(this.options.emptyAs),n=this.parsableNumbers,o=this.parsableDates;if(Array.isArray(r)&&(n||o||a))for(var l=function(c,A){var d=r[c];Qe(d,function(f,p){a&&(d[f]=i.maybeToEmpty(d[f])),n&&(d[f]=i.maybeToNumber(f,d[f])),o&&(d[f]=i.maybeToDate(f,d[f]))})},u=0,h=r.length;u<h;u++)l(u,h);return r},t}(Im);var wO=function(){function s(){this.adapter=new _r(this)}return s.prototype.load=function(t){var e=Array.isArray(t)?t:[t],i=Su(e,function(r){return r.dispatchImmediately("started"),r.dispatchImmediately("loadstarted"),rf(r.url,r,r.requestOptions)});Promise.all(i).then(function(r){Ce(r,function(a){var n=a.target;n.dispatchImmediately("loadended"),a.error?n.events.isEnabled("error")&&n.events.dispatchImmediately("error",{type:"error",code:a.xhr.status,message:n.language.translate("Unable to load file: %1",null,n.url),target:n}):n.processData(a.response,a.type),n.dispatchImmediately("ended")})}).catch(function(r){r.target&&(r.target.dispatchImmediately("loadended"),r.target.events.isEnabled("error")&&r.target.events.dispatchImmediately("error",{type:"error",code:r.xhr.status,message:r.target.language.translate("Unable to load file: %1",null,r.target.url),target:r.target}),r.target.dispatchImmediately("ended"))})},s.prototype.getParserByType=function(t){var e=this.adapter.apply("getParserByType",{parser:null,type:t}).parser;if(e)return e;if(t=="csv"||t=="text/csv"||t=="application/vnd.ms-excel")return new Ad;if(t=="json"||t=="application/json")return new Wh},s.prototype.getParserByData=function(t,e){var i=this.adapter.apply("getParserByData",{parser:null,data:t,type:e}).parser;if(!i){if(i=this.getParserByType(e),i)return i;if(Wh.isJSON(t))return this.getParserByType("json");if(Ad.isCSV(t))return this.getParserByType("csv")}return i},s}();var $m=new wO;var W_=function(s){U(t,s);function t(e,i){var r=s.call(this)||this;return r.adapter=new _r(r),r._requestOptions={},r._incremental=!1,r._incrementalParams={},r._keepCount=!1,r._updateCurrentData=!1,r.showPreloader=!0,r.className="DataSource",e&&(r.url=e),i&&(typeof i=="string"?r.parser=$m.getParserByType(i):r.parser=i),r}return t.prototype.processData=function(e,i){if(this.dispatchImmediately("parsestarted"),!this.parser&&(this.parser=$m.getParserByData(e,i),!this.parser)){if(this.events.isEnabled("parseerror")){var r={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",r)}this.dispatchImmediately("parseended");return}if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",e))),!N(this.data)&&this.events.isEnabled("parseerror")){var a={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",a)}this.dispatchImmediately("parseended"),N(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date},Object.defineProperty(t.prototype,"url",{get:function(){var e=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(e=this.addUrlParams(e,this.incrementalParams)),this.adapter.apply("url",e)},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(e){this._requestOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser||(this._parser=new Wh),this.adapter.apply("parser",this._parser)},set:function(e){this._parser=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(e){var i=this;this._reloadFrequency!=e&&(this._reloadFrequency=e,e?N(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",function(r){i._reloadTimeout=setTimeout(function(){i.load()},i.reloadFrequency)})):N(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(e){this._incremental=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(e){this._incrementalParams=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(e){this._keepCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(e){this._updateCurrentData=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new $a,this.language)},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new Qn,this.dateFormatter)},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),t.prototype.timestampUrl=function(e){var i=new Date().getTime().toString(),r={};return r[i]="",this.addUrlParams(e,r)},t.prototype.dispose=function(){s.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),N(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},t.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),$m.load(this))},t.prototype.addUrlParams=function(e,i){var r=e.match(/\?/)?"&":"?",a=[];return Qe(i,function(n,o){o!=""?a.push(n+"="+encodeURIComponent(o)):a.push(n)}),a.length?e+r+a.join("&"):e},t.prototype.processConfig=function(e){E.registeredClasses.json=Wh,E.registeredClasses.JSONParser=Wh,E.registeredClasses.csv=Ad,E.registeredClasses.CSVParser=Ad,s.prototype.processConfig.call(this,e)},t}(vs);var X_=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._rules=new xt,e._appliedRules={},e._appliedTargets=[],e._useDefault=!0,e.adapter=new _r(e),e._enabled=!1,e._responsiveDisposers=[],e._noStates=[],e.className="Responsive",e.rules.events.on("inserted",function(){e.checkRules()},!0),e.rules.events.on("removed",function(){e.checkRules()},!0),e._disposers.push(e.rules.events),e.applyTheme(),e}return Object.defineProperty(t.prototype,"component",{get:function(){return this._component},set:function(e){var i=this;e!=this._component&&(this.disposeResponsiveHandlers(),this._component=e,this._responsiveDisposers.push(gi(this.component).events.on("sizechanged",function(){i.checkRules()},this)),this._responsiveDisposers.push(gi(this.component).events.once("datavalidated",function(){i._component.isReady()&&i.checkRules(!0)},this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(e){this._enabled!=e&&(this._enabled=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(e){this._useDefault!=e&&(this._useDefault=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(e){this._rules=e,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",sr)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allRules",{get:function(){var e=new xt;return this.useDefault&&e.copyFrom(this.defaultRules),e.copyFrom(this.rules),this.adapter.apply("allRules",e)},enumerable:!0,configurable:!0}),t.prototype.isApplied=function(e){var i=this._appliedRules[e];return N(i)?i:!1},t.prototype.checkRules=function(e){var i=this;e===void 0&&(e=!1);var r=this.allRules;if(!(!r||r.length==0)){var a=!1,n=gi(this.component);if(!(n.pixelWidth==0||n.pixelHeight==0)&&(de(r.iterator(),function(o){o.id||(o.id=E.getUniqueId());var l=o.relevant(n);(l&&!i.isApplied(o.id)||!l&&i.isApplied(o.id))&&(a=!0),i._appliedRules[o.id]=l}),e&&(a=!0),a)){if(!this.component.isReady()){n.hidden=!0,n.events.once("ready",function(o){o.target.show(0),i._applyRules()});return}this.dispatchImmediately("ruleschanged"),this._applyRules()}}},t.prototype._applyRules=function(){var e=this;this._timeout&&this._timeout.dispose(),this._timeout=this.setTimeout(function(){e.applyRules()},10)},t.prototype.applyRules=function(e){var i=this,r=N(e)?e:gi(this.component),a=!1;if(this.enabled){var n=!1;de(this.allRules.iterator(),function(o){var l=i.getState(o,r);l&&(a||(ea(i._appliedTargets,r.uid)!==-1&&r.setState(i.getDefaultState(r),0),a=!0),i.isApplied(gi(o.id))&&(l.transitionDuration=0,i.setTargetState(r,l),i.dispatchImmediately("ruleapplied",{rule:o}),n=!0))}),n?T1(this._appliedTargets,r.uid):tt(this._appliedTargets,r.uid)}r.children&&de(r.children.iterator(),function(o){i.applyRules(o)})},t.prototype.getState=function(e,i){var r="responsive-"+e.id,a=i.uid+"_"+r;if(ea(this._noStates,a)===-1){if(i.states.hasKey(r))return i.states.getKey(r);var n=e.state(i,r);return n||this._noStates.push(a),n}},t.prototype.getDefaultState=function(e){return e.states.hasKey("responsive-default")?e.states.getKey("responsive-default"):e.states.create("responsive-default")},t.prototype.setTargetState=function(e,i){var r=this,a=this.getDefaultState(e);Qe(i.properties,function(n,o){N(a.properties[n])||(a.properties[n]=r.getValue(e,n))}),e.setState(i)},t.prototype.getValue=function(e,i){var r=e.getPropertyValue(i);return!N(r)&&N(e[i])&&(r=e[i]),r},t.prototype.dispose=function(){this.disposeResponsiveHandlers(),s.prototype.dispose.call(this)},t.prototype.disposeResponsiveHandlers=function(){for(var e=this._responsiveDisposers.pop();e;)e.dispose(),e=this._responsiveDisposers.pop()},t}(vs);var sr=new xt;sr.events.on("inserted",function(s){s.newValue.id=E.getUniqueId()});var fr=function(){function s(){}return s.widthXXS=function(t){return t.pixelWidth<=s.XXS},s.widthXS=function(t){return t.pixelWidth<=s.XS},s.widthS=function(t){return t.pixelWidth<=s.S},s.widthM=function(t){return t.pixelWidth<=s.M},s.widthL=function(t){return t.pixelWidth<=s.L},s.widthXL=function(t){return t.pixelWidth<=s.XL},s.widthXXL=function(t){return t.pixelWidth<=s.XXL},s.heightXXS=function(t){return t.pixelHeight<=s.XXS},s.heightXS=function(t){return t.pixelHeight<=s.XS},s.heightS=function(t){return t.pixelHeight<=s.S},s.heightM=function(t){return t.pixelHeight<=s.M},s.heightL=function(t){return t.pixelHeight<=s.L},s.heightXL=function(t){return t.pixelHeight<=s.XL},s.heightXXL=function(t){return t.pixelHeight<=s.XXL},s.isXXS=function(t){return t.pixelWidth<=s.XXS&&t.pixelHeight<=s.XXS},s.isXS=function(t){return t.pixelWidth<=s.XS&&t.pixelHeight<=s.XS},s.isS=function(t){return t.pixelWidth<=s.S&&t.pixelHeight<=s.S},s.isM=function(t){return t.pixelWidth<=s.M&&t.pixelHeight<=s.M},s.isL=function(t){return t.pixelWidth<=s.L&&t.pixelHeight<=s.L},s.isXL=function(t){return t.pixelWidth<=s.XL&&t.pixelHeight<=s.XL},s.isXXL=function(t){return t.pixelWidth<=s.XXL&&t.pixelHeight<=s.XXL},s.maybeXXS=function(t){return t.pixelWidth<=s.XXS||t.pixelHeight<=s.XXS},s.maybeXS=function(t){return t.pixelWidth<=s.XS||t.pixelHeight<=s.XS},s.maybeS=function(t){return t.pixelWidth<=s.S||t.pixelHeight<=s.S},s.maybeM=function(t){return t.pixelWidth<=s.M||t.pixelHeight<=s.M},s.maybeL=function(t){return t.pixelWidth<=s.L||t.pixelHeight<=s.L},s.maybeXL=function(t){return t.pixelWidth<=s.XL||t.pixelHeight<=s.XL},s.maybeXXL=function(t){return t.pixelWidth<=s.XXL||t.pixelHeight<=s.XXL},s.XXS=100,s.XS=200,s.S=300,s.M=400,s.L=600,s.XL=800,s.XXL=1e3,s}();var Sn=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._disabled=!1,e.hasProperties=!1,e.values={},e.categories={},e.dates={},e.locations={},e.workingLocations={},e.properties={},e.sprites=[],e.isTemplate=!1,e._index=null,e._visible=!0,e._hidden=!1,e._ignoreMinMax=!1,e.hasChildren={},e.isHiding=!1,e._valueAnimations={},e._locationAnimations={},e.className="DataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new _r(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.component&&this._index!=null?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new xo(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._hidden?!1:this._visible},set:function(e){e&&(this.hidden=!1),this._visible!=e&&this.setVisibility(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden!=e&&(this._hidden=e,e?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,Ce(this.sprites,function(i){i.__disabled=e})},enumerable:!0,configurable:!0}),t.prototype.setVisibility=function(e,i){if(Ce(this.sprites,function(a){e?a.visible=a.defaultState.properties.visible:a.hiddenState?a.visible=a.hiddenState.properties.visible:a.visible=!1}),this._visible=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var r={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",r)}},t.prototype.show=function(e,i,r){var a=this;if(!this.hidden){this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer);var n;return r&&Ce(r,function(o){n=a.setWorkingValue(o,a.values[o].value,e,i)}),Ce(this.sprites,function(o){var l=o.show(e);l!=null&&!l.isFinished()&&(a._disposers.push(l),i!=null&&i>0&&l.delay(i))}),n}},t.prototype.dispose=function(){s.prototype.dispose.call(this),Ce(this.sprites,function(e){e.dispose()}),this.sprites=[]},t.prototype.hide=function(e,i,r,a){var n=this;if(this.isHiding=!0,Ce(this.sprites,function(l){var u=l.hide(e);u!=null&&!u.isFinished()&&(n._disposers.push(u),i!=null&&i>0&&u.delay(i))}),k(r)&&a){var o;if(Ce(a,function(l){var u=n.setWorkingValue(l,r,e,i);u&&(o=u)}),o&&!o.isFinished())return this._hideDisposer=o.events.on("animationended",function(){n.setVisibility(!1,!0),n.isHiding=!1}),this._disposers.push(this._hideDisposer),o;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},t.prototype.getDuration=function(e){if(!k(e)){var i=this.component;i&&(e=i.interpolationDuration)}if(e!=null)return this._adapterO?this._adapterO.apply("duration",e):e},t.prototype.getValue=function(e,i){if(e&&this.component){i||(i=this.component.dataFields[e+"Show"],i||(i="value"));var r=this.values[e][i];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:r,field:e}).value:r}},t.prototype.getWorkingValue=function(e){if(e&&this.component){var i=this.component.dataFields[e+"Show"];return i||(i="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[e][i],field:e}).workingValue:this.values[e][i]}},t.prototype.getActualWorkingValue=function(e){return this.values[e].workingValue},t.prototype.setValue=function(e,i,r,a){var n=this.values[e].value,o=this.getDuration(r);if(i=Jt(i),n!==i){if(this.values[e].value=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var l={type:"valuechanged",target:this,property:e};this.events.dispatchImmediately("valuechanged",l)}this.component&&this.component.handleDataItemValueChange(this,e)}this.setWorkingValue(e,i,o,a)},t.prototype.setCalculatedValue=function(e,i,r){var a=this.values[e][r];if(a!==i&&k(i)){if(this.values[e][r]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var n={type:"calculatedvaluechanged",target:this,property:e};this.events.dispatchImmediately("calculatedvaluechanged",n)}this.component&&this.component.handleDataItemCalculatedValueChange(this,e)}},t.prototype.setWorkingValue=function(e,i,r,a){if(k(this.values[e].value)){var n=this.getDuration(r),o=this.values[e].workingValue;if(n!=null&&n>0&&k(o)&&this.component)if(o!=i){var l=this.animate({childObject:this.values[e],property:"workingValue",from:o,to:i,dummyData:e},n,this.component.interpolationEasing);return a!=null&&l.delay(a),l.events.on("animationstarted",this.handleInterpolationProgress,this),l.events.on("animationprogress",this.handleInterpolationProgress,this),l.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[e]=l,l}else{var u=this._valueAnimations[e];u&&u.stop(),this.values[e].workingValue=i}else{var u=this._valueAnimations[e];if(u&&u.stop(),this.values[e].workingValue=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var h={type:"workingvaluechanged",target:this,property:e};this.events.dispatchImmediately("workingvaluechanged",h)}this.component&&this.component.handleDataItemWorkingValueChange(this,e)}}},t.prototype.setLocation=function(e,i,r,a){var n=this.locations[e];if(n!==i){if(this.locations[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var o={type:"locationchanged",target:this,property:e};this.events.dispatchImmediately("locationchanged",o)}this.component&&this.component.handleDataItemValueChange(this,e),this.setWorkingLocation(e,i,r,a)}},t.prototype.setWorkingLocation=function(e,i,r,a){var n=this.getDuration(r),o=this.workingLocations[e];if(n!=null&&n>0&&k(o)&&this.component)if(o!=i){var l=this.animate({childObject:this.workingLocations,property:e,from:o,to:i,dummyData:e},n,this.component.interpolationEasing);return a!=null&&l.delay(a),l.events.on("animationstarted",this.handleInterpolationProgress,this),l.events.on("animationprogress",this.handleInterpolationProgress,this),l.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[e]=l,l}else{var u=this._locationAnimations[e];u&&u.stop(),this.workingLocations[e]=i}else{var u=this._locationAnimations[e];if(u&&u.stop(),this.workingLocations[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var h={type:"workinglocationchanged",target:this,property:e};this.events.dispatchImmediately("workinglocationchanged",h)}this.component&&this.component.handleDataItemWorkingLocationChange(this,e)}},t.prototype.setDate=function(e,i,r){!kh(i)&&this.component&&(i=this.component.dateFormatter.parse(i));var a=this.dates[e];a!==i&&(this.dates[e]=i,this.setValue(e,i.getTime(),r))},t.prototype.getDate=function(e){return this._adapterO?this._adapterO.apply("date",{date:this.dates[e],field:e}).date:this.dates[e]},t.prototype.setProperty=function(e,i){if(this.properties[e]!==i){if(this.hasProperties=!0,this.properties[e]=i,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var r={type:"propertychanged",target:this,property:e,value:i};this.events.dispatchImmediately("propertychanged",r)}this.component&&this.component.handleDataItemPropertyChange(this,e)}},t.prototype.setCategory=function(e,i){ft(i)||(i=PA(i)),this.categories[e]!==i&&(this.categories[e]=i)},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),e.dataContext&&(this.dataContext=o_(e.dataContext,{})),La(e.locations,this.locations),e._adapterO&&this.adapter.copyFrom(e._adapterO),this.component=e.component},Object.defineProperty(t.prototype,"opacity",{set:function(e){Ce(this.sprites,function(i){i.opacity=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){if(this._ignoreMinMax=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var i={type:"propertychanged",target:this,property:"ignoreMinMax",value:e};this.events.dispatchImmediately("propertychanged",i)}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),t.prototype.animate=function(e,i,r){return new Ls(this,e,i,r).start()},t.prototype.handleInterpolationProgress=function(e){var i=e.target,r=i.animationOptions[0];if(r){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var a={type:"workingvaluechanged",target:this,property:r.dummyData};this.events.dispatchImmediately("workingvaluechanged",a)}this.component&&this.component.handleDataItemWorkingValueChange(this,r.dummyData)}},t.prototype.hasValue=function(e){for(var i=0,r=e.length;i<r;i++){var a=this.values[e[i]];if(!a||!N(a.value))return!1}return!0},Object.defineProperty(t.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataContext",{get:function(){return this._dataContext},set:function(e){this._dataContext=e},enumerable:!0,configurable:!0}),t.prototype.addSprite=function(e){e.dataItem&&e.dataItem!=this&&tt(e.dataItem.sprites,e),this.visible||e.hide(0),this.isHiding&&e.hide(),this.sprites.push(e),e.dataItem=this},t}(vs);var Bn=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.dataFields={},e._dataSources={},e._parseDataFrom=0,e._dataDisposers=[],e._currentDataSetId="",e._start=0,e._end=1,e.skipRangeEvent=!1,e.rangeChangeDuration=0,e.rangeChangeEasing=vo,e.parsingStepDuration=50,e.dataInvalid=!1,e.rawDataInvalid=!1,e.dataRangeInvalid=!1,e.dataItemsInvalid=!1,e.interpolationDuration=0,e.interpolationEasing=vo,e.sequencedInterpolation=!0,e.sequencedInterpolationDelay=0,e.dataValidationProgress=0,e._addAllDataItems=!0,e._usesData=!0,e.className="Component",e.minZoomCount=1,e.maxZoomCount=0,e._dataItems=new Nh(e.createDataItem()),e._dataItems.events.on("inserted",e.handleDataItemAdded,e,!1),e._dataItems.events.on("removed",e.handleDataItemRemoved,e,!1),e._disposers.push(new Lt(e._dataItems)),e._disposers.push(e._dataItems.template),e.invalidateData(),e.dataUsers.events.on("inserted",e.handleDataUserAdded,e,!1),e._disposers.push(new Qt(e._dataDisposers)),e._start=0,e._end=1,e.maxZoomDeclination=1,e.applyTheme(),e}return t.prototype.createDataItem=function(){return new Sn},t.prototype.handleDataUserAdded=function(e){var i=e.newValue;i.dataProvider=this},t.prototype.handleDataItemValueChange=function(e,i){this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,i){},t.prototype.handleDataItemWorkingLocationChange=function(e,i){},t.prototype.handleDataItemCalculatedValueChange=function(e,i){},t.prototype.handleDataItemPropertyChange=function(e,i){},t.prototype.processDataItem=function(e,i){var r=this;if(e){i||(i={}),e.dataContext=i;var a=!1;Qe(this.dataFields,function(n,o){var l=n,u=i[o];if(r._adapterO&&r._adapterO.isEnabled("dataContextValue")&&(u=r._adapterO.apply("dataContextValue",{field:l,value:u,dataItem:e}).value),N(u))if(a=!0,e.hasChildren[l]){var h=r.createDataItem();h.copyFrom(r.mainDataSet.template);var c=new Nh(h);c.events.on("inserted",r.handleDataItemAdded,r,!1),c.events.on("removed",r.handleDataItemRemoved,r,!1),r._dataDisposers.push(new Lt(c));for(var A=u.length,d=0;d<A;d++){var f=u[d],p=c.create();p.parent=e,r.processDataItem(p,f)}var m=e;m[l]=c}else e[l]=u}),Qe(this.propertyFields,function(n,o){var l=n,u=i[o];N(u)&&(a=!0,e.setProperty(l,u))}),!this._addAllDataItems&&!a&&this.mainDataSet.remove(e)}},t.prototype.updateDataItem=function(e){var i=this;if(e){var r=e.dataContext;Qe(this.dataFields,function(a,n){var o=a,l=r[n];if(i._adapterO&&(l=i._adapterO.apply("dataContextValue",{field:o,value:l,dataItem:e}).value),N(l))if(e.hasChildren[o]){var u=e,h=u[o];h.each(function(c){i.updateDataItem(c)})}else e[o]=l}),Qe(this.propertyFields,function(a,n){var o=a,l=r[n];N(l)&&e.setProperty(o,l)})}},t.prototype.validateDataElements=function(){for(var e=this.endIndex,i=this.startIndex;i<e;i++){var r=this.dataItems.getIndex(i);r&&this.validateDataElement(r)}},t.prototype.validate=function(){this.validateDataElements(),s.prototype.validate.call(this)},t.prototype.validateDataElement=function(e){},t.prototype.addData=function(e,i,r){var a=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),r||(e instanceof Array?Ce(e,function(n){a.data.push(n)}):this.data.push(e)),this.inited)this.removeData(i,r);else if(k(i))for(;i>0;)this.data.shift(),i--;this.invalidateData()},t.prototype.removeData=function(e,i){if(k(e)&&e>0){for(;e>0;){var r=this.mainDataSet.getIndex(0);r&&this.mainDataSet.remove(r),this.dataUsers.each(function(a){if(!a.data||a.data.length==0){var n=a.mainDataSet.getIndex(0);n&&a.mainDataSet.remove(n)}}),i||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,e--}this.invalidateDataItems()}},t.prototype.invalidateData=function(){this.disabled||this.isTemplate||(E.addToInvalidComponents(this),Dt.requestFrame(),this.dataInvalid=!0,de(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},t.prototype.invalidateDataUsers=function(){de(this.dataUsers.iterator(),function(e){e.invalidate()})},t.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(Oa(E.invalidDataItems,this),Dt.requestFrame(),this.dataItemsInvalid=!0,de(this.dataUsers.iterator(),function(e){e.invalidateDataItems()}))},t.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,Oa(E.invalidDataRange,this),Dt.requestFrame())},t.prototype.validateDataRange=function(){tt(E.invalidDataRange,this),this.dataRangeInvalid=!1,(this.startIndex!=this._prevStartIndex||this.endIndex!=this._prevEndIndex)&&(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},t.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},t.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},t.prototype.appendDataItems=function(){for(var e=this.endIndex,i=this.startIndex;i<e;i++){var r=this.dataItems.getIndex(i);r&&(r.__disabled=!1)}for(var i=0;i<this.startIndex;i++){var r=this.dataItems.getIndex(i);r&&(r.__disabled=!0)}for(var i=this.endIndex;i<this.dataItems.length;i++){var r=this.dataItems.getIndex(i);r&&(r.__disabled=!0)}},t.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(Oa(E.invalidRawDatas,this),Dt.requestFrame(),this.rawDataInvalid=!0,de(this.dataUsers.iterator(),function(e){e.invalidateRawData()}))},t.prototype.validateRawData=function(){var e=this;tt(E.invalidRawDatas,this),de(this.mainDataSet.iterator(),function(i){i&&e.updateDataItem(i)})},t.prototype.dispose=function(){var e=this;this.mainDataSet.template.clones.clear(),Qe(this._dataSources,function(i,r){e.removeDispose(r)}),this.disposeData(),s.prototype.dispose.call(this)},t.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),Ce(this._dataDisposers,function(e){e.dispose()}),de(this.dataUsers.iterator(),function(e){e.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},t.prototype.getDataItem=function(e){return this.mainDataSet.create()},t.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,E.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var e=this.dataItem.dataContext;this._data=e[this.dataFields.data]}if(this._parseDataFrom===0&&this.data.length>0&&this.disposeData(),this.data.length>0){var i=this.preloader;de(this.dataUsers.iterator(),function(c){c._startIndex=void 0,c._endIndex=void 0});var r=0,a=Date.now(),n=this._parseDataFrom,o=this.data.length,l=function(){var c=u.data[n];if(u._usesData){var A=u.getDataItem(c);u.processDataItem(A,c)}if(u.dataUsers.each(function(f){if(f.data.length==0){var p=f.getDataItem(c);f.processDataItem(p,c)}}),r++,r==100){r=0;var d=Date.now()-a;if(d>u.parsingStepDuration&&n<u.data.length-10)return u._parseDataFrom=n+1,i&&(n/u.data.length>.5&&!i.visible||(i.progress=n/u.data.length)),u.dataValidationProgress=n/u.data.length,n=u.data.length,u.invalidateData(),{value:void 0}}},u=this;for(n;n<o;n++){var h=l();if(typeof h=="object")return h.value}i&&(i.progress=1),this.dataUsers.each(function(c){(c.hidden||c.appeared&&!c.visible&&c.stacked)&&c.hide(0)})}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},t.prototype.validateDataItems=function(){tt(E.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(t.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(e){this.setData(e)},enumerable:!0,configurable:!0}),t.prototype.setData=function(e){this.isDisposed()||(this._parseDataFrom=0,this.disposeData(),this._data=e,e&&e.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated")))},t.prototype.getDataSource=function(e){var i=this;return N(this._dataSources[e])||(this._dataSources[e]=new W_,this._dataSources[e].component=this,this.setDataSourceEvents(this._dataSources[e],e),this._dataSources[e].adapter.add("dateFields",function(r){return i.dataSourceDateFields(r)}),this._dataSources[e].adapter.add("numberFields",function(r){return i.dataSourceNumberFields(r)}),this.events.on("inited",function(){i.loadData(e)},this,!1)),this._dataSources[e]},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(e){var i=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=e,this._dataSources.data.component=this,this.events.on("inited",function(){i.loadData("data")},this,!1),this.setDataSourceEvents(e,"data")},enumerable:!0,configurable:!0}),t.prototype.loadData=function(e){this._dataSources[e].load()},t.prototype.dataSourceDateFields=function(e){return e},t.prototype.dataSourceNumberFields=function(e){return e},t.prototype.populateDataSourceFields=function(e,i,r){return Ce(r,function(a){i[a]&&ea(e,i[a])===-1&&e.push(i[a])}),e},t.prototype.setDataSourceEvents=function(e,i){var r=this;e.events.on("started",function(a){var n=r.preloader;n&&(n.progress=0)},void 0,!1),e.events.on("loadstarted",function(a){var n=r.preloader;n&&(n.progress=.25)},void 0,!1),e.events.on("loadended",function(a){var n=r.preloader;n&&(n.progress=.5)},void 0,!1),e.events.on("parseended",function(a){var n=r.preloader;n&&(n.progress=.75)},void 0,!1),e.events.on("ended",function(a){var n=r.preloader;n&&(n.progress=1)},void 0,!1),e.events.on("error",function(a){var n=r.preloader;n&&(n.progress=1),r.openModal(a.message)},void 0,!1),i&&e.events.on("done",function(a){var n=r.preloader;n&&(n.progress=1),i=="data"&&!Ci(a.data)&&(a.data=[a.data]),e.incremental&&i=="data"&&r.data.length?r.addData(a.data,e.keepCount?a.data.length:0):e.updateCurrentData&&i=="data"&&r.data.length?(Ce(r.data,function(o,l){N(a.data[l])&&Qe(o,function(u,h){N(a.data[l][u])&&(o[u]=a.data[l][u])})}),r.invalidateRawData()):r[i]=a.data})},Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new X_,this._responsive.component=this),this._responsive},set:function(e){this._responsive=e,this._responsive.component=this},enumerable:!0,configurable:!0}),t.prototype.zoom=function(e,i,r,a){var n=this;i===void 0&&(i=!1),r===void 0&&(r=!1);var o=e.start,l=e.end,u=e.priority;if(e.start==e.end&&(e.start=e.start-.5/this.maxZoomFactor,e.end=e.end+.5/this.maxZoomFactor),u=="end"&&l==1&&o!=0&&o<this.start&&(u="start"),u=="start"&&o==0&&l>this.end&&(u="end"),k(a)||(a=this.maxZoomDeclination),!k(o)||!k(l))return{start:this.start,end:this.end};if(this._finalStart!=o||this._finalEnd!=l){var h=this.maxZoomFactor/this.minZoomCount,c=this.maxZoomFactor/this.maxZoomCount;if(u=="start"?(this.maxZoomCount>0&&1/(l-o)<c&&(l=o+1/c),1/(l-o)>h&&(l=o+1/h),l>1&&l-o<1/h&&(o=l-1/h)):(this.maxZoomCount>0&&1/(l-o)<c&&(o=l-1/c),1/(l-o)>h&&(o<=0?l=o+1/h:o=l-1/h),o<0&&l-o<1/h&&(l=o+1/h)),o<-a&&(o=-a),1/(l-o)>h&&(l=o+1/h),l>1+a&&(l=1+a),1/(l-o)>h&&(o=l-1/h),this._finalEnd=l,this._finalStart=o,this.skipRangeEvent=i,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!r){var A=this.rangeChangeAnimation;if(A&&A.progress<1){var d=A.animationOptions;if(d.length>1){if(d[0].to==o&&d[1].to==l)return{start:o,end:l};A.isDisposed()||A.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),A=this.animate([{property:"start",to:o},{property:"end",to:l}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=A,A&&!A.isFinished()?A.events.on("animationended",function(){n.dispatchImmediately("rangechangeended")}):this.dispatchImmediately("rangechangeended")}else this.start=o,this.end=l,this.dispatch("rangechangeended")}return{start:o,end:l}},t.prototype.zoomToIndexes=function(e,i,r,a){if(!(!k(e)||!k(i))){var n=e/this.dataItems.length,o=i/this.dataItems.length;this.zoom({start:n,end:o},r,a)}},Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return Le(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(e){this.setPropertyValue("maxZoomFactor",e)&&(e==1&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(e){this.setPropertyValue("maxZoomDeclination",e)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return k(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(e){this._startIndex=Le(Math.round(e),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),t.prototype.indexToPosition=function(e){return e/this.dataItems.length},Object.defineProperty(t.prototype,"endIndex",{get:function(){var e=this.dataItems.length;return(!k(this._endIndex)||this._endIndex>e)&&(this._endIndex=e),this._endIndex},set:function(e){this._endIndex=Le(Math.round(e),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(e){if(this._start!=e){this._start=e;var i=Math.max(0,Math.floor(this.dataItems.length*e)||0);this._startIndex=Math.min(i,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(e){this._end!=e&&(this._end=e,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*e)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),t.prototype.removeFromInvalids=function(){s.prototype.removeFromInvalids.call(this),E.removeFromInvalidComponents(this),tt(E.invalidDataItems,this),tt(E.invalidDataRange,this),tt(E.invalidRawDatas,this)},Object.defineProperty(t.prototype,"dataItems",{get:function(){if(this._currentDataSetId!=""){var e=this.dataSets.getKey(this._currentDataSetId);if(e)return e}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new Nt),this._dataSets},enumerable:!0,configurable:!0}),t.prototype.setDataSet=function(e){if(this._currentDataSetId!=e){var i=this.dataSets.getKey(e);if(i)return this.dataItems.each(function(r){r.__disabled=!0}),this._currentDataSetId=e,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(r){r.__disabled=!1}),!0;if(this._currentDataSetId!="")return this.dataItems.each(function(r){r.__disabled=!0}),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(r){r.__disabled=!1}),!0}return!1},Object.defineProperty(t.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),t.prototype._updateDataItemIndexes=function(e){for(var i=this.mainDataSet.values,r=i.length,a=e;a<r;++a)i[a]._index=a},t.prototype.handleDataItemAdded=function(e){e.newValue.component=this,this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.handleDataItemRemoved=function(e){this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems()},t.prototype.bindDataField=function(e,i){this.dataFields[e]=i,this.invalidateDataRange()},t.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},t.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(t.prototype,"dataUsers",{get:function(){var e=this;return this._dataUsers||(this._dataUsers=new xt,this._disposers.push(new Ot(function(){de(e._dataUsers.iterator(),function(i){i.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=s.prototype.clone.call(this);return e.dataFields=La(this.dataFields,{}),e},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.data=e.data,this.sequencedInterpolation=e.sequencedInterpolation,this.sequencedInterpolationDelay=e.sequencedInterpolationDelay,this.interpolationDuration=e.interpolationDuration,this.interpolationEasing=e.interpolationEasing},t.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},t.prototype.getExporting=function(){var e=s.prototype.getExporting.call(this);return e.adapter.has("data",this._exportData,-1,this)||(e.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",function(i){e.handleDataUpdated()})),e},t.prototype._exportData=function(e){return e.data=this.data,e},t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return i&&this.invalidateData(),i},t.prototype.setShowOnInit=function(e){e!=this.getPropertyValue("showOnInit")&&(e&&!this.inited&&!this.hidden?(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2)):this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2)),s.prototype.setShowOnInit.call(this,e)},t.prototype.setBaseId=function(e){e!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,E.removeFromInvalidComponents(this),this._baseId=e,this.invalidateData()),s.prototype.setBaseId.call(this,e)},Object.defineProperty(t.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(e){this.setPropertyValue("minZoomCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(e){this.setPropertyValue("maxZoomCount",e)},enumerable:!0,configurable:!0}),t.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},t.prototype.asFunction=function(e){return e=="interpolationEasing"||e=="rangeChangeEasing"||s.prototype.asIs.call(this,e)},t}(Oe);E.registeredClasses.Component=Bn;var Ni=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.isOversized=!1,e.className="Label",e.fill=new et().getFor("text"),e.wrap=!1,e.truncate=!1,e.fullWords=!0,e.ellipsis="\u2026",e.textAlign="start",e.textValign="top",e.layout="absolute",e.baseLineRatio=-.27,e._positionPrecision=1,e.events.on("maxsizechanged",function(){e.inited&&e.handleMaxSize()},e,!1),e.events.once("validated",e.handleValidate,e,!1),e.applyTheme(),e}return t.prototype.afterDraw=function(){s.prototype.afterDraw.call(this),this.validatePosition()},t.prototype.setPaper=function(e){var i=s.prototype.setPaper.call(this,e);return i&&this.hardInvalidate(),i},t.prototype.handleValidate=function(){(this.currentText||this.text)&&(this.bbox.width==0||this.bbox.height==0)&&E.events.once("exitframe",this.hardInvalidate,this)},t.prototype.handleMaxSize=function(){(this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized)&&this.invalidate()},t.prototype.arrange=function(){},t.prototype.updateCurrentText=function(){var e,i;od(this.html)&&this.paper.supportsForeignObject()?(e="html",i=this.html):(e="svg",i=this.text),ni(i)&&(i=i.toString()),N(i)&&i!==""&&(i=this.populateString(i,this.dataItem)),e=="html"?this._adapterO&&(i=this._adapterO.apply("htmlOutput",i)):this._adapterO&&(i=this._adapterO.apply("textOutput",i));var r=i!=this.currentText||e!=this._currentFormat;return this.currentText=i,this._currentFormat=e,r},t.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},t.prototype.getLineBBox=function(e){var i=e&&e.element,r=i&&i.node;r&&r.parentNode&&(e.bbox=i.getBBox())},t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.bbox.width,i=this.bbox.height,r=this.topParent;if(r&&(!r.maxWidth||!r.maxHeight)){r.events.once("maxsizechanged",this.hardInvalidate,this,!1);return}var a=ht(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),n=ht(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),o=n+","+a+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(!(!this.updateCurrentText()&&this.inited&&this._prevStatus==o)){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var l=this._currentFormat,u=this.currentText;if(!N(u)||u==""){this.element.attr({display:"none"});return}var h=u.split(`
`);this._prevStatus=o,this.textAlign=this.textAlign;var c=this.group.getAttr("display");if(c=="none"&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),l==="svg"){this.element.removeAttr("display");var A=this.element;this.resetBBox();for(var d=0,f="",p=0;p<h.length;p++){var m=h[p];if(m==""){var g=this.getSVGLineElement("",0);g.add(this.getSvgElement(".",Ja().translateStyleShortcuts(f))),A.add(g);var y=Math.ceil(g.getBBox().height);y>0&&(d+=y),A.removeElement(g);var v=this.getLineInfo(p);v&&(v.text="",v.element.textContent="");continue}var _=Ja().chunk(m,null,this.ignoreFormatting),S=0,F=!0,P=!1,D=this.getLineInfo(p);D?(D.text="",D.element.textContent=""):(D={text:"",element:this.getSVGLineElement("",0),complex:!1},A.add(D.element)),D.element.removeAttr("display"),D.element.removeChildren(),this.textPathElement&&D.element.add(this.textPathElement);for(var $=0;$<_.length;$++){$&&(D.complex=!0);var I=_[$];if(I.type==="format")f=I.text;else{if(P)continue;if(D.text=I.text,D.style=Ja().translateStyleShortcuts(f),this.textPathElement?this.getSvgElement(D.text,D.style,this.textPathElement):this.getSvgElement(D.text,D.style,D.element),this.getLineBBox(D),D.bbox.width=Math.ceil(D.bbox.width),S<D.bbox.height&&(S=D.bbox.height),(this.wrap||this.truncate)&&D.bbox.width>a){this.isOversized=!0;var R=D.element.textContent,T=D.bbox.width/R.length,Q=bt(Math.ceil((D.bbox.width-a)/T),R.length);if(this.truncate){var K=!1,z=D.element.node;if(z&&z.childNodes)for(var se=D.element.node.childNodes.length-1;se>=0;se--){var ee=D.element.node.childNodes[se];if(K&&D.bbox.width<=a&&(ee.textContent+=" "+this.ellipsis,D.bbox=D.element.getBBox(),D.bbox.width=Math.floor(D.bbox.width),D.bbox.width<=a))break;K=!1;var ue=ee.textContent;for(R=D.element.textContent,Q=bt(Math.ceil((D.bbox.width-a)/T),R.length);D.bbox.width>a&&Q<=R.length&&Q>0;){var G=ht(R.length-Q-this.ellipsis.length,1);G<=1&&(Q=0,se>0&&(K=!0,D.element.node.removeChild(ee))),ue=HA(ue,G,this.ellipsis,this.fullWords,this.rtl),ue.length>G&&this.fullWords&&(ue=HA(ue,G,this.ellipsis,!1,this.rtl)),ee.textContent=ue,D.bbox=D.element.getBBox(),D.bbox.width=Math.floor(D.bbox.width),Q=Math.ceil(Q*1.1)}P=!0}}else{var q=D.element.node;if(q){for(var ge=D.element.node.lastChild,ne=void 0;D.bbox.width>a&&Q<=R.length&&Q>0;){var G=ht(I.text.length-Q,1);if(F?ne=mm(I.text,G,!0,this.rtl):(ne=mm(I.text,G,!0,this.rtl,!1),(ne[0].length>G||G===1)&&(D.element.node.removeChild(ge),Q=0)),Q>0){var ye=ne.shift();F&&(ye=gm(ye)),ge.textContent=Ja().cleanUp(ye)}D.bbox=D.element.getBBox(),D.bbox.width=Math.floor(D.bbox.width),Q++}if(ne.length>0){var qe="";N(ne)&&(this.rtl?qe+=ne.join("")+f:qe+=f+ne.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var Ge=$+1;Ge<_.length;Ge++)_[Ge].type=="value"?qe+=_[Ge].text.replace(/([\[\]]{1})/g,"$1$1"):qe+=_[Ge].text;h.splice(p+1,0,qe)}P=!0}}}this.bbox.width<D.bbox.width&&(this.bbox.width=D.bbox.width),this.bbox.height=d+S,this.textPathElement?D.element.attr({dy:-this.paddingBottom.toString()}):D.element.attr({x:"0",y:d+S,dy:be(this.baseLineRatio*S,3).toString()}),F=!1}}var it=D.element.node;if(it){var ge=it.lastChild;ge&&(ge.textContent=this.rtl?h_(ge.textContent):u_(ge.textContent))}d+=S,this.addLineInfo(D,p)}this.maybeHideOversized(),this.measureFailed=!1,(this.bbox.width==0||this.bbox.height==0)&&(this.measureFailed=!0),this._measuredWidth=be(ht(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=be(ht(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,(i!=this._measuredHeight||e!=this._measuredWidth)&&this.dispatch("transformed"),this.hideUnused(h.length)}else{this.element.removeAttr("display"),this.resetBBox();var A=this.element;A.removeChildren(),this.setCache("lineInfo",[],0);var dt=this.paper.foreignObject();A.add(dt),this.maxWidth&&dt.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&dt.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var Re=this.getHTMLLineElement(u);dt.node.appendChild(Re),Re.style.display="inline-block";var We=Re.clientWidth,Rt=Re.clientHeight;Re.style.display="block",this._bbox={x:0,y:0,width:We,height:Rt},dt.attr({width:We+1,height:Rt}),this.maybeHideOversized(),this._measuredWidth=ht(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=ht(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(Re.style.overflow="hidden"),(We>a||Rt>n)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),c=="none"&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}},t.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},t.prototype.alignSVGText=function(){var e=this.element,i=e.node.children||e.node.childNodes;if(!(!i||i&&i.length==0)){var r=this._measuredWidth,a=this._measuredHeight;this.pixelPaddingLeft,this.pixelPaddingRight,this.pixelPaddingTop,this.pixelPaddingBottom,this.rtl?e.attr({direction:"rtl"}):e.removeAttr("direction");for(var n=i.length-1;n>=0;n--){var o=i[n];if(o.setAttribute("text-anchor",this.textAlign),this.textPathElement)o.removeAttribute("x"),o.removeAttribute("y");else{switch(this.textAlign){case"middle":o.setAttribute("x",(r/2).toString()+"px");break;case"end":this.rtl||o.setAttribute("x",r.toString());break;default:this.rtl?o.setAttribute("x",r.toString()):o.removeAttribute("text-anchor");break}var l=Jt(o.getAttribute("y"));switch(this.textValign){case"middle":o.setAttribute("y",((l||0)+(a-this.bbox.height)/2).toString());break;case"bottom":o.setAttribute("y",((l||0)+a-this.bbox.height).toString());break;default:o.setAttribute("y",(l||0).toString());break}}}}},t.prototype.getSVGLineElement=function(e,i){var r=this.paper.addGroup("text");return r.textContent=e,r.attr({x:"0"}),N(i)&&r.attr({y:i.toString()}),(this.truncate||this.wrap)&&r.attr({overflow:"hidden"}),r},Object.defineProperty(t.prototype,"rtl",{get:function(){return N(this._rtl)?this._rtl:this._topParent?this._topParent.rtl:!1},set:function(e){e=Hi(e),this._rtl=e,this.element&&this.alignSVGText()},enumerable:!0,configurable:!0}),t.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},t.prototype.getHTMLLineElement=function(e){var i=document.createElement("div");switch(i.innerHTML=e,this.textAlign){case"middle":i.style.textAlign="center";break;case"end":i.style.textAlign="right";break}return this.wrap?i.style.wordWrap="break-word":i.style.whiteSpace="nowrap",this.rtl&&(i.style.direction="rtl"),N(this.fill)&&(i.style.color=this.fill.toString()),i},t.prototype.setStyles=function(){var e=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?e.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(e.removeStyle("webkitUserSelect"),e.removeStyle("msUserSelect"))},t.prototype.hideUnused=function(e){this.initLineCache();var i=this.getCache("lineInfo");if(i.length>=e)for(var r=e;r<i.length;r++){var a=i[r];a&&a.element&&a.element.attr({display:"none"})}},Object.defineProperty(t.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(e){this.setPropertyValue("text",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPropertyValue("path",e,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:e}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(KA,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:e}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(e){this.setPropertyValue("locationOnPath",e),this.textPathElement&&this.textPathElement.attr({startOffset:e*100+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(e){this.setPropertyValue("baseLineRatio",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(e){this.resetBBox(),this.setPropertyValue("wrap",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(e){this.resetBBox(),this.setPropertyValue("truncate",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(e){this.setPropertyValue("fullWords",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(e){this.setPropertyValue("ellipsis",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(e){this.setPropertyValue("selectable",e,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(e){this.setPropertyValue("textAlign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(e){this.setPropertyValue("textValign",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(e){if(this.setPropertyValue("html",e,!0),!N(e)){var i=this.element;i.removeChildrenByTag("foreignObject")}},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){if(s.prototype.setFill.call(this,e),this.html)for(var i=this.element,r=i.node.getElementsByTagName("div"),a=0;a<r.length;a++){var n=r[a];N(this.fill)&&(n.style.color=this.fill.toString())}},Object.defineProperty(t.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(e){this.setPropertyValue("hideOversized",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(e){this.setPropertyValue("ignoreFormatting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},t.prototype.getLineInfo=function(e){this.initLineCache();var i=this.getCache("lineInfo");return i.length>e?i[e]:void 0},t.prototype.addLineInfo=function(e,i){this.initLineCache(),this.getCache("lineInfo")[i]=e},t.prototype.initLineCache=function(){N(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},t.prototype.setDataItem=function(e){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),e&&(this._sourceDataItemEvents=new Qt([e.events.on("valuechanged",this.invalidate,this,!1),e.events.on("workingvaluechanged",this.invalidate,this,!1),e.events.on("calculatedvaluechanged",this.invalidate,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),s.prototype.setDataItem.call(this,e)},Object.defineProperty(t.prototype,"availableWidth",{get:function(){return N(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableHeight",{get:function(){return N(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),t.prototype.getSvgElement=function(e,i,r){var a=this.paper.add("tspan");if(a.textContent=e,i)if(lt.nonce&&r){var n="amcharts_element_style_"+btoa(i).replace(/[^\w]*/g,"");a.node.setAttribute("class",n);var o=document.createElementNS(Qh,"defs");r.node.appendChild(o);var l=document.createElement("style");l.type="text/css",l.innerHTML="."+n+" { "+i+"}",l.setAttribute("nonce",lt.nonce),o.appendChild(l)}else a.node.setAttribute("style",i);return r&&r.add(a),a},t.prototype.deepInvalidate=function(){s.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return e?this.dataItem&&(e=this.populateString(e)):e=this.populateString(jA(od(this.html)?this.html:this.text)),e},set:function(e){e=bs(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),t}(Oe);E.registeredClasses.Label=Ni;sr.push({relevant:fr.heightXS,state:function(s,t){if(s instanceof Ni&&s.parent&&s.parent.isBaseSprite){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var us=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="RoundedRectangle",e.element=e.paper.add("path"),e.cornerRadius(3,3,3,3),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight;if(k(e)&&k(i)){var r=bt(e,i)/2,a=Ai(this.cornerRadiusTopLeft,r),n=Ai(this.cornerRadiusTopRight,r),o=Ai(this.cornerRadiusBottomRight,r),l=Ai(this.cornerRadiusBottomLeft,r),u=bt(Math.abs(e/2),Math.abs(i/2)),h=Le(a,0,u),c=Le(n,0,u),A=Le(o,0,u),d=Le(l,0,u),f="M"+h+",0 L"+(e-c)+",0",p=" L"+d+","+i,m=" L0,"+h,g=" L"+e+","+(i-A),y=" a"+c+","+c+" 0 0 1 "+c+","+c,v=" a"+A+","+A+" 0 0 1 -"+A+","+A,_=" a"+d+","+d+" 0 0 1 -"+d+",-"+d,S=" a"+h+","+h+" 0 0 1 "+h+",-"+h,F=f+y+g+v+p+_+m+S+" Z";this.path=F}},t.prototype.cornerRadius=function(e,i,r,a){this.cornerRadiusTopLeft=e,this.cornerRadiusTopRight=i,this.cornerRadiusBottomLeft=r,this.cornerRadiusBottomRight=a},Object.defineProperty(t.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(e){this.setPercentProperty("cornerRadiusTopLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(e){this.setPercentProperty("cornerRadiusTopRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(e){this.setPercentProperty("cornerRadiusBottomRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(e){this.setPercentProperty("cornerRadiusBottomLeft",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(Ee);E.registeredClasses.RoundedRectangle=us;var ka=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="Button",e.tooltipY=0,e.iconPosition="left",e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0;var i=new et,r=e.background;r.fill=i.getFor("secondaryButton"),r.stroke=i.getFor("secondaryButtonStroke"),r.fillOpacity=1,r.strokeOpacity=1,r.cornerRadius(3,3,3,3),e.label=new Ni,e.label.fill=i.getFor("secondaryButtonText"),e.label.shouldClone=!1;var a=r.states.create("hover");a.properties.fillOpacity=1,a.properties.fill=i.getFor("secondaryButtonHover");var n=r.states.create("down");return n.transitionDuration=100,n.properties.fill=i.getFor("secondaryButtonDown"),n.properties.fillOpacity=1,e.role="button",e.focusable=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(e){var i=this._icon;i&&(i.parent=void 0),e&&(this._icon=e,e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(e){this.setPropertyValue("iconPosition",e),this.icon&&(e=="left"?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label&&this.removeDispose(this._label),this._label=e,e&&(e.parent=this,e.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new us},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),e.label&&this.label.copyFrom(e.label),e.icon&&(this.icon=e.icon.clone())},t}(Oe);E.registeredClasses.Button=ka;function fd(s){var t=ce(s[0]),e={x:0,y:0},i=lt.minPolylineStep;k(i)||(i=.5);for(var r=0,a=s.length;r<a;r++){var n=s[r];Et(n,e)>i&&(t+=ce(n),e=n)}return t}function we(s){return" M"+be(s.x,4)+","+be(s.y,4)+" "}function ce(s){return" L"+be(s.x,4)+","+be(s.y,4)+" "}function Nl(s,t){return" Q"+be(t.x,4)+","+be(t.y,4)+" "+be(s.x,4)+","+be(s.y,4)}function Ou(s,t,e){return" C"+be(t.x,4)+","+be(t.y,4)+" "+be(e.x,4)+","+be(e.y,4)+" "+be(s.x,4)+","+be(s.y,4)}function Fi(){return" Z"}function Br(s,t,e,i){if(t==0)return"";k(i)||(i=e);var r="",a=",",n=Math.ceil(Math.abs(t)/180),o=1;t<0&&(o=0);var l=0,u=0,h=-Pe(s)*e,c=-Fe(s)*i;if(t<.5&&e>3e3){var A=s+t,d=be(Pe(A)*e,4),f=be(Fe(A)*i,4);return ce({x:d,y:f})}for(var p=0;p<n;p++){var A=s+t/n*(p+1),d=be(Pe(A)*e+h-l,4),f=be(Fe(A)*i+c-u,4);r+=" a"+e+a+i+a+0+a+0+a+o+a+d+a+f,l=d,u=f}return r}function wo(s,t,e,i,r,a,n){if(t==0||(k(i)||(i=0),e==0&&i<=0))return"";if(e<i){var o=e;e=i,i=o,k(r)&&(r=r/i*e)}t=bt(t,360),t==360&&(a=0,n=0);var l=s+t,u=Fe(bt(t,45)/2);r=k(r)?r:e,a=a||0,n=k(n)?n:a;var h=r/e*i,c=r/e*a,A=r/e*n;a=Le(a,0,(e-i)/2),c=Le(c,0,(r-h)/2),n=Le(n,0,(e-i)/2),A=Le(A,0,(r-h)/2),a=be(Le(a,0,e*u),4),c=be(Le(c,0,r*u),4),n=be(Le(n,0,i*u),4),A=be(Le(A,0,h*u),4);var d=Math.asin(a/e/2)*Ll*2,f=Math.asin(c/r/2)*Ll*2;i<n&&(i=n),h<A&&(h=A);var p=Math.asin(n/i/2)*Ll*2,m=Math.asin(A/h/2)*Ll*2;k(p)||(p=0),k(m)||(m=0);var g=s+t/2,y={x:be(Pe(g)*i,4),y:Fe(g)*h},v={x:Pe(s)*(i+n),y:Fe(s)*(h+A)},_={x:Pe(s)*(e-a),y:Fe(s)*(r-c)},S={x:Pe(l)*(e-a),y:Fe(l)*(r-c)},F={x:Pe(l)*(i+n),y:Fe(l)*(h+A)},P={x:Pe(s+d)*e,y:Fe(s+f)*r},D={x:Pe(l-p)*i,y:Fe(l-m)*h};n+=n*Fe(p/2),A+=A*Fe(m/2),p>(l-s)/2&&(D=y);var $="";return t==360?$=we(_):($=we(v),$+=ce(_),$+=Fn(P,a,c,!0)),$+=Br(s+d,t-2*d,e,r),k(i)&&i!=0?(t==360&&a==0?$+=we(F):($+=Fn(S,a,c,!0),$+=ce(F),$+=Fn(D,n,A,!0)),$+=Br(l-p,-(t-2*p),i,h),(t<360||a>0)&&($+=Fn(v,n,A,!0)),$+=ce(v)):($+=Fn(S,a,c,!0),t<360&&($+=ce(v))),$}function Fn(s,t,e,i,r,a){if(t==0)return"";a=a||0,r=!!r,i=!!i;var n=",",o=+i,l=+r;return" A"+t+n+e+n+a+n+l+n+o+n+be(s.x,4)+n+be(s.y,4)}function Jb(s,t,e,i){return k(e)||(e=0),k(i)||(i=0),we({x:e,y:i})+ce({x:e+s,y:i})+ce({x:e+s,y:i+t})+ce({x:e,y:i+t})+Fi()}function Hn(s,t){var e=",",i=" L";return t?"M"+s.x+e+s.y+i+s.x+e+(s.y+s.height)+i+(s.x+s.width)+e+(s.y+s.height)+i+(s.x+s.width)+e+s.y+i+s.x+e+s.y:"M"+s.x+e+s.y+i+(s.x+s.width)+e+s.y+i+(s.x+s.width)+e+(s.y+s.height)+i+s.x+e+(s.y+s.height)+i+s.x+e+s.y}var z_=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="Grip";var i=new et;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var r=new Ee;r.element=e.paper.add("path");var a=we({x:-6,y:0});return a+=ce({x:6,y:0}),a+=we({x:-8,y:-6}),a+=ce({x:0,y:-12}),a+=ce({x:8,y:-6}),a+=we({x:-8,y:6}),a+=ce({x:0,y:12}),a+=ce({x:8,y:6}),r.path=a,r.strokeWidth=2,r.fillOpacity=0,r.pixelPerfect=!0,r.padding(0,4,0,4),r.stroke=i.getFor("text"),r.strokeOpacity=.7,r.align="center",r.valign="middle",e.icon=r,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",function(n){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.events.on("down",function(n){e._autoHideTimeout&&e._autoHideTimeout.dispose()}),e.events.on("out",function(n){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.applyTheme(),e}return Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){if(this.setPropertyValue("position",e))switch(e){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=he(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=he(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=he(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=he(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=he(30),this.height=void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(e){this.setPropertyValue("autoHideDelay",e)},enumerable:!0,configurable:!0}),t}(ka);E.registeredClasses.Grip=z_;var km=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ChartDataItem",e.applyTheme(),e}return t}(Sn);var Vl=function(s){U(t,s);function t(){var e=s.call(this)||this;if(e._legend=new Ti,e.constructor===t)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");e.className="Chart";var i=new Ni;e.titles=new Kt(i),e._disposers.push(new Lt(e.titles)),e._disposers.push(i),e.width=he(100),e.height=he(100),e.layout="vertical";var r=e.createChild(Oe);r.shouldClone=!1,r.layout="vertical",r.width=he(100),r.height=he(100),e.chartAndLegendContainer=r;var a=r.createChild(Oe);return a.shouldClone=!1,a.width=he(100),a.height=he(100),e.chartContainer=a,e.showOnInit=!0,e._disposers.push(e._legend),e.titles.events.on("inserted",function(n){e.processTitle(n),e.updateReaderTitleReferences()},e,!1),e.titles.events.on("removed",function(n){e.updateReaderTitleReferences()},e,!1),e.role="region",e.defaultState.transitionDuration=1,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},t.prototype.draw=function(){this.fixLayout(),s.prototype.draw.call(this)},t.prototype.fixLayout=function(){var e=this.legend;if(e){var i=this.chartAndLegendContainer,r=this.chartContainer;switch(r.x=void 0,r.y=void 0,e.position!="absolute"&&(e.x=void 0,e.y=void 0),e.position){case"left":i.layout="horizontal",e.toBack();break;case"right":i.layout="horizontal",e.toFront();break;case"top":i.layout="vertical",e.toBack();break;case"bottom":i.layout="vertical",e.toFront();break;case"absolute":e.isMeasured=!1;break}}},t.prototype.feedLegend=function(){},t.prototype.processTitle=function(e){var i=e.newValue;return i.parent=this,i.toBack(),i.shouldClone=!1,i.align="center",i.uidAttr(),i},t.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var e=[];de(this.titles.iterator(),function(i){e.push(i.uid)}),this.setSVGAttribute({"aria-labelledby":e.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend.get()},set:function(e){this.setLegend(e)},enumerable:!0,configurable:!0}),t.prototype.setLegend=function(e){var i=this;this._legend.get()!==e&&(e?(e.parent=this.chartAndLegendContainer,this._legend.set(e,e.events.on("propertychanged",function(r){r.property=="position"&&i.fixLayout()},void 0,!1)),e.addDisposer(new Ot(function(){i.legend=void 0}))):this._legend.reset(),this.feedLegend())},t.prototype.dispose=function(){this.legend&&this.legend.dispose(),s.prototype.dispose.call(this)},t.prototype.processConfig=function(e){e&&N(e.legend)&&!N(e.legend.type)&&(e.legend.type="Legend"),s.prototype.processConfig.call(this,e)},t.prototype.copyFrom=function(e){this.titles.copyFrom(e.titles),this.chartContainer.copyFrom(e.chartContainer),e.legend&&(this.legend=e.legend.clone(),this.legend.removeChildren()),s.prototype.copyFrom.call(this,e)},Object.defineProperty(t.prototype,"dragGrip",{get:function(){var e=this;if(!this._dragGrip){var i=this.tooltipContainer.createChild(z_);i.align="right",i.valign="middle",i.hide(0),i.events.on("down",function(r){r.touch&&(e.interactionsEnabled=!1)}),i.events.on("up",function(r){e.interactionsEnabled=!0}),this.events.on("down",function(r){r.touch&&i.show()}),this._dragGrip=i}return this._dragGrip},set:function(e){this._dragGrip=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(e){this.parent.focusable=e},enumerable:!0,configurable:!0}),t}(Bn);E.registeredClasses.Chart=Vl;sr.push({relevant:fr.widthXS,state:function(s,t){if(s instanceof Vl){var e=s.states.create(t);return s.pixelPaddingLeft>10&&(e.properties.paddingLeft=10),s.pixelPaddingRight>10&&(e.properties.paddingRight=10),e}return null}});sr.push({relevant:fr.heightXS,state:function(s,t){if(s instanceof Vl){var e=s.states.create(t);return s.pixelPaddingTop>10&&(e.properties.paddingTop=10),s.pixelPaddingBottom>10&&(e.properties.paddingBottom=10),e}return null}});sr.push({relevant:fr.widthXXS,state:function(s,t){if(s instanceof Vl){var e=s.states.create(t);return e.properties.paddingLeft=0,e.properties.paddingRight=0,e}return null}});sr.push({relevant:fr.heightXXS,state:function(s,t){if(s instanceof Vl){var e=s.states.create(t);return e.properties.paddingTop=0,e.properties.paddingBottom=0,e}return null}});var G_=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PointedShape",e.pointerBaseWidth=15,e.pointerLength=10,e.pointerY=0,e.pointerX=0,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),k(this.pointerX)||(this.pointerX=this.pixelWidth/2),k(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(t.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(e){this.setPropertyValue("pointerBaseWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(e){this.setPropertyValue("pointerLength",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(e){this.setPropertyValue("pointerX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(e){this.setPropertyValue("pointerY",e,!0)},enumerable:!0,configurable:!0}),t}(Ee);var Y_=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PointedRectangle",e.element=e.paper.add("path"),e.cornerRadius=6,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.cornerRadius,i=this.innerWidth,r=this.innerHeight;if(i>0&&r>0){var a=this.pointerX,n=this.pointerY,o=this.pointerBaseWidth/2,l=bt(i/2,r/2),u=Le(e,0,l),h=Le(e,0,l),c=Le(e,0,l),A=Le(e,0,l),d=0,f=0,p=i,m=0,g=i,y=r,v=0,_=r,S=void 0,F=void 0,P=void 0,D=void 0,$=(a-d)*(y-f)-(n-f)*(g-d),I=(a-v)*(m-_)-(n-_)*(p-v);if($>0&&I>0){var R=Le(a,u+o,i-o-h);n=Le(n,-1/0,0),S="M"+u+",0 L"+(R-o)+",0 L"+a+","+n+" L"+(R+o)+",0 L"+(i-h)+",0"}else S="M"+u+",0 L"+(i-h)+",0";if($<0&&I<0){var R=Le(a,A+o,i-o-c);n=Le(n,r,1/0),P=" L"+(i-c)+","+r+" L"+(R+o)+","+r+" L"+a+","+n+" L"+(R-o)+","+r+" L"+A+","+r}else P=" L"+A+","+r;if($<0&&I>0){var T=Le(n,u+o,r-A-o);a=Le(a,-1/0,0),D=" L0,"+(r-A)+" L0,"+(T+o)+" L"+a+","+n+" L0,"+(T-o)+" L0,"+u}else D=" L0,"+u;if($>0&&I<0){var T=Le(n,h+o,r-o-c);a=Le(a,i,1/0),F=" L"+i+","+h+" L"+i+","+(T-o)+" L"+a+","+n+" L"+i+","+(T+o)+" L"+i+","+(r-c)}else F=" L"+i+","+(r-c);var Q=" a"+h+","+h+" 0 0 1 "+h+","+h,K=" a"+c+","+c+" 0 0 1 -"+c+","+c,z=" a"+A+","+A+" 0 0 1 -"+A+",-"+A,se=" a"+u+","+u+" 0 0 1 "+u+",-"+u;this.path=S+Q+F+K+P+z+D+se}},Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(G_);var jn=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.properties={},e.isTemplate=!1,e._scale=1,e._nonScaling=!0,e.className="Filter",e.filterPrimitives=new xt,e.properties.filterUnits="objectBoundingBox",e.filterPrimitives.events.on("inserted",function(i){e._disposers.push(i.newValue)}),e.width=120,e.height=120,e.applyTheme(),e}return t.prototype.appendPrimitives=function(e){de(this.filterPrimitives.iterator(),function(i){e.add(i)})},t.prototype.animate=function(e,i,r){var a=new Ls(this,e,i,r).start();return a},Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),Qe(e.properties,function(r,a){i[r]=a})},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Xo()},set:function(e){this._paper!=e&&(this._paper=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new xo(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.updateScale()},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){},Object.defineProperty(t.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(e){this.properties.filterUnits=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(e){this._nonScaling=e,e||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{set:function(e){this.setSprite(e)},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.filters.removeValue(this),this._sprite=e},t}(Gi);var sf=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="DropShadowFilter",e.color=He("#000"),e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.feOffset=e.paper.add("feOffset"),e.feOffset.attr({result:"offsetBlur"}),e.filterPrimitives.push(e.feOffset),e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":e.color}),e.filterPrimitives.push(e.feFlood),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({in2:"offsetBlur",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feMerge=e.paper.addGroup("feMerge"),e.feMerge.add(e.paper.add("feMergeNode")),e.feMerge.add(e.paper.add("feMergeNode").attr({in:"SourceGraphic"})),e.filterPrimitives.push(e.feMerge),e.width=200,e.height=200,e.blur=1.5,e.dx=3,e.dy=3,e.opacity=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.feFlood&&this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feFlood.attr({"flood-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.properties.dx},set:function(e){this.properties.dx=e,this.feOffset.attr({dx:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.properties.dy},set:function(e){this.properties.dy=e,this.feOffset.attr({dy:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},t}(jn);E.registeredClasses.DropShadowFilter=sf;var Go=function(s){U(t,s);function t(){var e=s.call(this)||this;e._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},e._pointTo={x:0,y:0},e.fitPointerToBounds=!1,e._verticalOrientation="up",e.fixDoc=!0,e.className="Tooltip",e.isMeasured=!1,e.getFillFromObject=!0,e.margin(5,5,5,5),e.defaultState.transitionDuration=1,e.hiddenState.transitionDuration=1;var i=e.background;i.interactionsEnabled=!1,i.fillOpacity=.9,i.strokeWidth=1,i.strokeOpacity=1,i.stroke=He("#ffffff"),i.cornerRadius=3,i.pointerLength=6,i.pointerBaseWidth=10;var r=new sf;r.dy=1,r.dx=1,r.opacity=.5,i.filters.push(r),e.autoTextColor=!0;var a=e.createChild(Ni);return a.shouldClone=!1,e.label=a,a.padding(7,12,4,12),a.interactionsEnabled=!1,a.horizontalCenter="middle",a.fill=He("#ffffff"),e._disposers.push(a),e.label.events.on("sizechanged",e.drawBackground,e),e.label.zIndex=1,e.pointerOrientation="vertical",e.animationDuration=0,e.animationEasing=vo,e.setPropertyValue("showInViewport",!1),e.role="tooltip",e.visible=!1,e.opacity=0,e.x=0,e.y=0,e.events.on("visibilitychanged",e.handleVisibility,e),e.applyTheme(),e}return t.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(t.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(e){this.setPropertyValue("getStrokeFromObject",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(e){this.setPropertyValue("autoTextColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(e){var i=this;this.setPropertyValue("keepTargetHover",e,!0)&&e&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",function(r){i.targetSprite&&i.targetSprite.hoverable&&(i.targetSprite.isHover=!0)})),this._disposers.push(this.events.on("out",function(r){i.targetSprite&&i.targetSprite.hoverable&&(i.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(e){this.setPropertyValue("showInViewport",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(e){this.setPropertyValue("getFillFromObject",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new Y_},Object.defineProperty(t.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(e){this.setPropertyValue("pointerOrientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.label.html},set:function(e){this.label.html!=e&&(this.label.html=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text!=e&&(this.label.text=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.label;e.invalid&&e.validate();var i=this._pointTo.x,r=this._pointTo.y,a=this._boundingRect,n=e.measuredWidth,o=e.measuredHeight,l=this.background.pointerLength,u,h;if(this.ignoreBounds&&(a=void 0),a&&this.fixDoc&&n>a.width){GA({x:a.x,y:a.y},this.parent);var c=GA({x:a.x+a.width,y:a.y+a.height},this.parent),A=document.body.offsetWidth;document.body.offsetHeight,c.x>A/2?a.x=a.width-n:a.width=a.x+n}var d=this.pointerOrientation;d=="horizontal"||d=="left"||d=="right"?(h=-o/2,d=="horizontal"?a&&i>a.x+a.width/2?u=-n/2-l:u=n/2+l:d=="left"?u=n/2+l:u=-n/2-l):(a&&(u=Le(0,a.x-i+n/2,a.x-i+a.width-n/2)),d=="vertical"?a&&r>a.y+o+l?(h=-o-l,this._verticalOrientation="up"):(h=l,this._verticalOrientation="down"):d=="down"?(h=-o-l,this._verticalOrientation="up"):(h=l,this._verticalOrientation="down")),a&&(h=Le(h,a.y-r,a.y+a.height-o-r)),e.x=u,e.y=h,this.drawBackground()},t.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},t.prototype.drawBackground=function(){var e=this.label,i=this.background,r=e.measuredWidth,a=e.measuredHeight,n=this._boundingRect,o=r,l=e.pixelX-r/2,u=a,h=e.pixelY,c=this._pointTo.x,A=this._pointTo.y,d=n.x-c,f=d+n.width,p=n.y-A,m=p+n.height;i.x=l,i.y=h,i.width=o,i.height=u,this.fitPointerToBounds?(i.pointerX=Le(-i.x,d-i.x,f-i.x),i.pointerY=Le(-i.y,p-i.y,m-i.y)):(i.pointerX=-i.x,i.pointerY=-i.y),i.validate()},t.prototype.delayedPointTo=function(e,i){var r=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=E.events.once("exitframe",function(){r.pointTo(e,i)}),this.addDisposer(this._pointToDisposer)},t.prototype.pointTo=function(e,i){(this._pointTo.x!=e.x||this._pointTo.y!=e.y)&&(this._pointTo=e,this.invalidate(),!this.visible||i?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):this.pixelX==0&&this.pixelY==0?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new Ls(this,[{property:"x",to:e.x,from:this.pixelX},{property:"y",to:e.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},t.prototype.setBounds=function(e){var i=this._boundingRect;(i.x!=e.x||i.y!=e.y||i.width!=e.width||i.height!=e.height)&&(this._boundingRect=e,this.invalidate())},Object.defineProperty(t.prototype,"boundingContainer",{set:function(e){this._boundingContainer=e,e.events.on("sizechanged",this.updateBounds,this),e.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),t.prototype.updateBounds=function(){var e=this._boundingContainer,i=ud({x:e.pixelX,y:e.pixelY,width:e.maxWidth,height:e.maxHeight},e);this.setBounds(i)},Object.defineProperty(t.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(e){this.setPropertyValue("ignoreBounds",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),e._boundingRect&&(this._boundingRect=e._boundingRect)},t.prototype.asFunction=function(e){return e=="animationEasing"||s.prototype.asIs.call(this,e)},t}(Oe);E.registeredClasses.Tooltip=Go;var ta=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Bullet",e.isMeasured=!1,e.tooltipX=0,e.tooltipY=0,e.layout="none",e.applyOnClones=!0,e.copyToLegendMarker=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){if(this.setPropertyValue("locationX",e)){var i=this.dataItem;i&&i.component&&i.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){if(this.setPropertyValue("locationY",e)){var i=this.dataItem;i&&i.component&&i.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(e){this.setPropertyValue("xField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(e){this.setPropertyValue("yField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(e){this.setPropertyValue("isDynamic",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(e){this.setPropertyValue("copyToLegendMarker",e)},enumerable:!0,configurable:!0}),t}(Oe);E.registeredClasses.Bullet=ta;sr.push({relevant:fr.isXS,state:function(s,t){if(s instanceof ta){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var Mm=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="ResizeButton",e.orientation="horizontal",e.layout="absolute",e.horizontalCenter="middle",e.verticalCenter="middle",e.draggable=!0,e.padding(8,8,8,8),e.background.cornerRadius(20,20,20,20);var i=new Ee;i.element=e.paper.add("path");var r=we({x:-2,y:-6});return r+=ce({x:-2,y:6}),r+=we({x:2,y:-6}),r+=ce({x:2,y:6}),i.path=r,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=new et().getFor("alternativeText"),i.strokeOpacity=.7,e.icon=i,e.label.dispose(),e.label=void 0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"orientation",{set:function(e){var i=this.icon;i&&(e=="horizontal"?i.rotation=0:i.rotation=-90)},enumerable:!0,configurable:!0}),t}(ka);E.registeredClasses.ResizeButton=Mm;var Yo=function(s){U(t,s);function t(){var e=s.call(this)||this;e._previousStart=0,e._previousEnd=1,e._prevStart=0,e._prevEnd=1,e._isBusy=!1,e._skipRangeEvents=!1,e.updateWhileMoving=!0,e.className="Scrollbar",e.minHeight=12,e.minWidth=12,e.animationDuration=0,e.animationEasing=vo,e.margin(10,10,10,10);var i=new et,r=e.background;return r.cornerRadius(10,10,10,10),r.fill=i.getFor("fill"),r.fillOpacity=.5,e.showSystemTooltip=!0,e.startGrip=new Mm,e.endGrip=new Mm,e.events.on("transformed",function(){e.updateThumb()},e,!1),e.start=0,e.end=1,e.role="scrollbar",e.thumb.role="slider",e.thumb.readerLive="polite",e.startGrip.role="slider",e.endGrip.role="slider",e.events.once("inited",function(){e._previousStart=void 0,e.dispatchRangeChange()},void 0,!1),e.hideGrips=!1,e.orientation="horizontal",e.setSVGAttribute({"aria-valuemin":"0"}),e.setSVGAttribute({"aria-valuemax":"100"}),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),this.orientation==="horizontal"?(N(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),N(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),N(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),N(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(N(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),N(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),N(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),N(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},t.prototype.validateLayout=function(){this.updateSize(),s.prototype.validateLayout.call(this),this.updateExtremes()},t.prototype.processBackground=function(){s.prototype.processBackground.call(this);var e=this.background;e.clickable=!0,e.events.on("hit",this.handleBgHit,this,void 0)},t.prototype.handleBgHit=function(e){this.makeBusy();var i=e.spritePoint;i=ls(i,this.background,this);var r=this.thumb;if(this.orientation=="horizontal"){var a=i.x-r.pixelWidth/2;a=Le(a,0,this.innerWidth-r.pixelWidth),this._thumbAnimation=r.animate({property:"x",to:a},this.animationDuration,this.animationEasing)}else{var n=i.y-r.pixelHeight/2;n=Le(n,0,this.innerHeight-r.pixelHeight),this._thumbAnimation=r.animate({property:"y",to:n},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},t.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},t.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},t.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),this.animationDuration*1.1)},t.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},t.prototype.dispatchRangeChange=function(){(this._previousEnd!=this.end||this._previousStart!=this.start)&&(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},t.prototype.updateThumb=function(e){if(e===void 0&&(e=!0),!!this.parent){var i=this.thumb,r=this.start,a=this.end,n=this.startGrip,o=this.endGrip,l=this.adapter.apply("positionValueDirection",{flipped:!1}).flipped,u=l?"To %1":"From %1",h=l?"From %1":"To %1",c,A;if(this.orientation=="horizontal"){var d=this.innerWidth;i.width=d*(a-r),i.maxX=d-i.pixelWidth,i.x=r*d,n.moveTo({x:i.pixelX,y:0},void 0,void 0,!0),o.moveTo({x:i.pixelX+i.pixelWidth,y:0},void 0,void 0,!0),c=this.adapter.apply("positionValue",{value:Math.round(r*100)+"%",position:r}).value,A=this.adapter.apply("positionValue",{value:Math.round(a*100)+"%",position:a}).value,n.readerTitle=this.language.translate(u,void 0,c),n.readerValueNow=""+Math.round(r*100),n.readerValueText=n.readerTitle,o.readerTitle=this.language.translate(h,void 0,A),o.readerValueNow=""+Math.round(a*100),o.readerValueText=o.readerTitle}else{var f=this.innerHeight;i.height=f*(a-r),i.maxY=f-i.pixelHeight,i.y=(1-a)*f,n.moveTo({x:0,y:i.pixelY+i.pixelHeight},void 0,void 0,!0),o.moveTo({x:0,y:i.pixelY},void 0,void 0,!0),c=this.adapter.apply("positionValue",{value:Math.round((1-r)*100)+"%",position:1-r}).value,A=this.adapter.apply("positionValue",{value:Math.round((1-a)*100)+"%",position:1-a}).value,n.readerTitle=this.language.translate(h,void 0,c),n.readerValueNow=""+Math.round(r*100),n.readerValueText=n.readerTitle,o.readerTitle=this.language.translate(u,void 0,A),o.readerValueNow=""+Math.round(a*100),o.readerValueText=o.readerTitle}i.readerTitle=this.language.translate("From %1 to %2",void 0,c,A),i.readerValueNow=""+Math.round(r*100),i.readerValueText=i.readerTitle,this.readerValueNow=""+Math.round(r*100),this.readerValueText=i.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&e&&this.dispatchRangeChange()}},t.prototype.updateExtremes=function(){var e=this.orientation,i=0,r=0,a=0,n=0;e=="horizontal"?(a=this.innerWidth,r=n=this.innerHeight/2):(n=this.innerHeight,i=a=this.innerWidth/2);var o=this.startGrip;o.minX=i,o.maxX=a,o.minY=r,o.maxY=n;var l=this.endGrip;l.minX=i,l.maxX=a,l.minY=r,l.maxY=n;var u=this.thumb;u.minX=i,u.maxX=a,u.minY=r,u.maxY=n},t.prototype.updateSize=function(){var e=this.orientation,i=this.startGrip;i&&(i.orientation=e),this.endGrip&&(this.endGrip.orientation=e);var r=this.thumb;r&&(e=="horizontal"?(k(this._pixelWidth)||this.width instanceof nt||(this.width=he(100)),N(this.percentHeight)&&(this.height=this.minHeight),r.height=this.innerHeight,r.verticalCenter="middle",r.horizontalCenter="left"):(k(this._pixelHeight)||this.height instanceof nt||(this.height=he(100)),N(this.percentWidth)&&(this.width=this.minWidth),r.width=this.innerWidth,r.verticalCenter="top",r.horizontalCenter="middle"))},Object.defineProperty(t.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__start",{get:function(){return this._start},set:function(e){this._start=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__end=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__end",{get:function(){return this._end},set:function(e){this._end=this.getPosition(e),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),t.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},t.prototype.fixRange=function(e){(e.start!=be(this._start,2)||e.end!=be(this._end,2))&&(this._start=e.start,this._end=e.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},t.prototype.getPosition=function(e){return Le(be(e,4),0,1)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(e==="horizontal"?(this.startGrip.cursorOverStyle=fi.horizontalResize,this.endGrip.cursorOverStyle=fi.horizontalResize):(this.startGrip.cursorOverStyle=fi.verticalResize,this.endGrip.cursorOverStyle=fi.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.updateByOrientation=function(){},Object.defineProperty(t.prototype,"startGrip",{get:function(){return this._startGrip},set:function(e){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endGrip",{get:function(){return this._endGrip},set:function(e){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=e,this.processGrip(e)},enumerable:!0,configurable:!0}),t.prototype.processGrip=function(e){e.parent=this,e.isMeasured=!1,e.focusable=!0,e.shouldClone=!1,e.zIndex=100,e.events.on("drag",this.handleGripDrag,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("down",this.makeBusy,this,!1),e.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(e)},t.prototype.handleGripDrag=function(e){this.makeBusy(),e.target===this._startGrip?this._usingGrip="start":this._usingGrip="end",this.orientation=="horizontal"?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(t.prototype,"thumb",{get:function(){if(!this._thumb){var e=new ka;e.background.cornerRadius(10,10,10,10),e.padding(0,0,0,0),this.thumb=e}return this._thumb},set:function(e){var i=this;e&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=e,e.parent=this,e.isMeasured=!1,e.inert=!0,e.draggable=!0,e.clickable=!0,e.hoverable=!0,e.focusable=!0,e.shouldClone=!1,e.zIndex=0,e.cursorOverStyle=fi.grab,e.cursorDownStyle=fi.grabbing,e.events.on("dragstart",this.makeBusy,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("positionchanged",this.handleThumbPosition,this,!1),e.events.on("sizechanged",this.handleThumbPosition,this,!1),e.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(ct().body.events.on("keyup",function(r){Ia.isKey(r.event,["space","enter"])&&i.thumb.isFocused&&(r.event.preventDefault(),i.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),t.prototype.handleDoubleClick=function(){this.makeBusy();var e=0,i=1;this.start!=0||this.end!=1?(this._prevStart=this.start,this._prevEnd=this.end):(e=this._prevStart,i=this._prevEnd);var r=this.animate([{property:"__start",to:e},{property:"__end",to:i}],this.animationDuration,this.animationEasing);r&&!r.isFinished()?(r.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=r):this.makeUnbusy()},t.prototype.handleThumbPosition=function(){var e=this.thumb;if(this.orientation=="horizontal"){var i=this.innerWidth,r=e.innerWidth,a=e.pixelX;this._start=a/i,this._end=(a+r)/i,this.updateThumb()}else{var n=this.innerHeight,o=e.innerHeight,l=e.pixelY;l+o>n&&(l=n-o,e.y=l),this._start=1-(l+o)/n,this._end=1-l/n,this.updateThumb()}},t.prototype.createBackground=function(){return new us},Object.defineProperty(t.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(e){var i=this;this._hideGrips=e,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),e?(this._overDisposer=this.events.on("over",function(){i.startGrip.show(),i.endGrip.show()},void 0,!1),this._outDisposer=this.events.on("out",function(){i.startGrip.hide(),i.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e)},enumerable:!0,configurable:!0}),t.prototype.asFunction=function(e){return e=="animationEasing"||s.prototype.asIs.call(this,e)},t}(Oe);E.registeredClasses.Scrollbar=Yo;var Ko=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.childrenCreated=!1,e.className="LegendDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var i=this.component.labels.create();this._label=i,this.addSprite(i),this._disposers.push(i),i.parent=this.itemContainer,this._disposers.push(new Ot(function(){N(e.component)&&e.component.labels.removeValue(i)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueLabel",{get:function(){var e=this;if(!this._valueLabel){var i=this.component.valueLabels.create();this._valueLabel=i,this.addSprite(i),this._disposers.push(i),i.parent=this.itemContainer,this._disposers.push(new Ot(function(){N(e.component)&&e.component.valueLabels.removeValue(i)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemContainer",{get:function(){var e=this;if(!this._itemContainer){var i=this.component,r=i.itemContainers.create();r.parent=i,this._itemContainer=r,this.addSprite(r),this._disposers.push(r),r.togglable&&r.events.on("toggled",function(o){i.toggleDataItem(o.target.dataItem)},void 0,!1),r.focusable&&(r.events.on("hit",function(o){i.focusedItem=void 0},void 0,!1),r.events.on("focus",function(o){i.focusedItem=o.target.dataItem},void 0,!1),r.events.on("blur",function(o){i.focusedItem=void 0},void 0,!1)),this._disposers.push(new Ot(function(){N(e.component)&&e.component.itemContainers.removeValue(r)})),this.dataContext.uidAttr&&(r.readerControls=this.dataContext.uidAttr(),r.readerLabelledBy=this.dataContext.uidAttr());var a=this.dataContext;if((a instanceof Sn||a instanceof Ee)&&!a.isDisposed()){var n=function(o){r.readerChecked=o.visible,r.events.disableType("toggled"),r.isActive=!o.visible,r.events.enableType("toggled")};a.addDisposer(new Ot(function(){e.component&&e.component.dataItems.remove(e)})),a instanceof Ee?(r.addDisposer(a.events.on("visibilitychanged",n,void 0,!1)),r.addDisposer(a.events.on("hidden",function(o){r.readerChecked=!1,r.events.disableType("toggled"),r.isActive=!0,r.events.enableType("toggled")},void 0,!1)),r.addDisposer(a.events.on("shown",function(o){r.readerChecked=!0,r.events.disableType("toggled"),r.isActive=!1,r.events.enableType("toggled")},void 0,!1))):r.addDisposer(a.events.on("visibilitychanged",n,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){var e=this;if(!this._marker){var i=this.component.markers.create();this._marker=i,i.parent=this.itemContainer,this.addSprite(i),this._disposers.push(i),this._disposers.push(new Ot(function(){N(e.component)&&e.component.markers.removeValue(i)}))}return this._marker},enumerable:!0,configurable:!0}),t}(Sn);var Em=function(){function s(){this.createMarker=!0}return s}();var pd=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="Legend",e.layout="grid",e.setPropertyValue("useDefaultMarker",!1),e.setPropertyValue("scrollable",!1),e.setPropertyValue("contentAlign","center");var i=new Oe;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=fi.pointer,i.background.fillOpacity=0,e.itemContainers=new Kt(i),e._disposers.push(new Lt(e.itemContainers)),e._disposers.push(e.itemContainers.template),e._disposers.push(ct().body.events.on("keyup",function(h){if(Ia.isKey(h.event,"enter")&&e.focusedItem){var c=e.focusedItem,A=c.itemContainer;A.togglable?e.toggleDataItem(c):A.clickable&&A.events.isEnabled("hit")&&(A.dispatchImmediately("hit",{event:h}),e.focusedItem=c)}},e));var r=new et,a=new Oe;a.width=23,a.height=23,a.interactionsEnabled=!1,a.applyOnClones=!0,a.setStateOnChildren=!0,a.background.fillOpacity=0,a.background.strokeOpacity=0,a.propertyFields.fill="fill",a.valign="middle";var n=r.getFor("disabledBackground");a.events.on("childadded",function(h){var c=h.newValue,A=c.states.create("active");A.properties.stroke=n,A.properties.fill=n}),e.markers=new Kt(a),e._disposers.push(new Lt(e.markers)),e._disposers.push(e.markers.template);var o=a.createChild(us);o.width=he(100),o.height=he(100),o.applyOnClones=!0,o.propertyFields.fill="fill",o.strokeOpacity=0;var l=new Ni;l.text="{name}",l.margin(0,5,0,5),l.valign="middle",l.applyOnClones=!0,l.states.create("active").properties.fill=r.getFor("disabledBackground"),e.labels=new Kt(l),e._disposers.push(new Lt(e.labels)),e._disposers.push(e.labels.template),l.interactionsEnabled=!1,l.truncate=!0,l.fullWords=!1;var u=new Ni;return u.margin(0,5,0,0),u.valign="middle",u.width=50,u.align="right",u.textAlign="end",u.applyOnClones=!0,u.states.create("active").properties.fill=r.getFor("disabledBackground"),u.interactionsEnabled=!1,e.valueLabels=new Kt(u),e._disposers.push(new Lt(e.valueLabels)),e._disposers.push(e.valueLabels.template),e.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,e.role="group",e.events.on("layoutvalidated",e.handleScrollbar,e,!1),e.events.on("parentset",function(){var h=e.parent;h&&e._disposers.push(h.events.on("maxsizechanged",function(){e.scrollable&&e.setTimeout(function(){e.updateMasks(),e.handleScrollbar(),e._handleWheelReal(1)},100)}))}),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},t.prototype.createDataItem=function(){return new Ko},t.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),s.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(e){s.prototype.validateDataElement.call(this,e);var i=e.itemContainer,r=e.marker;e.label;var a=e.valueLabel;i.readerChecked=e.dataContext.visible,e.dataContext.legendDataItem=e;var n=e.label.maxWidth;e.label.width instanceof nt||(e.label.width=void 0),n>0&&(e.label.maxWidth=n),a.align=="right"&&(a.width=void 0);var o=e.dataContext.legendSettings,l=e.dataContext;l.createLegendMarker&&(!this.useDefaultMarker||!(l instanceof Ee))?e.childrenCreated||(l.createLegendMarker(r),e.childrenCreated=!0):this.markers.template.propertyFields.fill=void 0,l.updateLegendValue&&l.updateLegendValue(),l.component&&l.component.updateLegendValue&&l.component.updateLegendValue(l),a.invalid&&a.validate(),a.text==""||a.text==null?a.__disabled=!0:a.__disabled=!1,o&&(o.itemValueText!=null||o.valueText!=null)&&(a.__disabled=!1);var u=e.dataContext.visible;u===void 0&&(u=!0),u=Hi(u),e.dataContext.visible=u,i.events.disableType("toggled"),i.isActive=!u,i.isActive?i.setState("active",0):i.setState("default",0),i.events.enableType("toggled")},t.prototype.afterDraw=function(){var e=this,i=this.getPropertyValue("maxWidth"),r=0;this.labels.each(function(c){c.invalid&&(c.maxWidth=void 0,c.validate()),c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight>r&&(r=c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight)});var a=0;this.valueLabels.each(function(c){c.invalid&&c.validate(),c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight>a&&(a=c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight)});var n=0;this.markers.each(function(c){c.invalid&&c.validate(),c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight>n&&(n=c.measuredWidth+c.pixelMarginLeft+c.pixelMarginRight)});var o=this.itemContainers.template,l=o.pixelMarginRight+o.pixelMarginLeft,u,h=r+a+n;k(i)?(i=i-l,i>h&&(i=h),u=i-n-a):u=r,this.labels.each(function(c){(e.valueLabels.template.align=="right"||c.measuredWidth>u)&&(c.width instanceof nt||(c.width=Math.min(c.maxWidth,u-c.pixelMarginLeft-c.pixelMarginRight),c.maxWidth=c.width))}),this.valueLabels.template.align=="right"&&this.valueLabels.each(function(c){c.width=a-c.pixelMarginRight-c.pixelMarginLeft}),s.prototype.afterDraw.call(this)},t.prototype.handleScrollbar=function(){var e=this.scrollbar;if(this.scrollable&&e){var i=this.maxHeight;e.height=i,e.x=this.measuredWidth-e.pixelWidth-e.pixelMarginLeft,this.contentHeight>i?(e.visible=!0,e.thumb.height=e.height*i/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+e.pixelMarginRight):(e.thumb.height=e.height*i/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+e.pixelMarginRight,e.visible=!1,e.start=0,e.end=1),e.handleThumbPosition(),this.updateMasks()}},Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){this.setPropertyValue("position",e)&&(e=="left"||e=="right"?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",k(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=he(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(e){this.setPropertyValue("useDefaultMarker",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(e){if(this.setPropertyValue("scrollable",e,!0))if(e){var i=this.createChild(Yo);this.scrollbar=i,i.isMeasured=!1,i.orientation="vertical",i.endGrip.__disabled=!0,i.startGrip.__disabled=!0,i.visible=!1,i.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(i.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){this._handleWheelReal(e.shift.y)},t.prototype._handleWheelReal=function(e){var i=this.scrollbar;if(i){var r=e/1e3*this.measuredHeight/this.contentHeight,a=i.end-i.start;e>0?(i.start=ht(0,i.start-r),i.end=i.start+a):(i.end=bt(1,i.end-r),i.start=i.end-a)}},t.prototype.updateMasks=function(){var e=this;this.scrollbar&&this.itemContainers.each(function(i){i.dy=-e.scrollbar.thumb.pixelY*e.contentHeight/e.maxHeight,i.maskRectangle={x:0,y:-i.dy,width:e.measuredWidth,height:e.maxHeight}}),this.invalidatePosition()},t.prototype.toggleDataItem=function(e){var i=e.dataContext;!i.visible||i.isHiding||i instanceof Ee&&i.isHidden?(e.color=e.colorOrig,i.appeared=!0,e.itemContainer.isActive=!1,i.hidden===!0&&(i.hidden=!1),i.show?i.show():i.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,e.label.readerTitle))):(e.itemContainer.isActive=!0,i.appeared=!0,i.hide?i.hide():i.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,e.label.readerTitle)),e.color=new et().getFor("disabledBackground"))},Object.defineProperty(t.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.handleDataItemPropertyChange=function(e,i){e.valueLabel.invalidate(),e.label.invalidate()},t}(Bn);E.registeredClasses.Legend=pd;sr.push({relevant:fr.widthXS,state:function(s,t){if(s instanceof pd&&(s.position=="left"||s.position=="right")){var e=s.states.create(t);return e.properties.position="bottom",e}return null}});sr.push({relevant:fr.heightXS,state:function(s,t){if(s instanceof pd&&(s.position=="top"||s.position=="bottom")){var e=s.states.create(t);return e.properties.position="right",e}return null}});sr.push({relevant:fr.isXS,state:function(s,t){if(s instanceof pd){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var md=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="SeriesDataItem",e.values.value={},e.values.value={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Nt,this._disposers.push(new Cn(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.bullets.clear(),s.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),t}(Sn);var Ul=function(s){U(t,s);function t(){var e=s.call(this)||this;if(e._ignoreMinMax=!1,e._showBullets=!0,e.legendSettings=new Em,e._tmin=new Nt,e._tmax=new Nt,e._smin=new Nt,e._smax=new Nt,e.dataItemsByAxis=new Nt,e.skipFocusThreshold=20,e._itemReaderTextChanged=!1,e.calculatePercent=!1,e.usePercentHack=!0,e.autoDispose=!0,e.simplifiedProcessing=!1,e.constructor===t)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");e.className="Series",e.isMeasured=!1,e.layout="none",e.shouldClone=!1,e.setPropertyValue("hidden",!1),e.axisRanges=new xt,e.axisRanges.events.on("inserted",e.processAxisRange,e,!1),e.minBulletDistance=0,e.mainContainer=e.createChild(Oe),e.mainContainer.shouldClone=!1,e.mainContainer.mask=e.createChild(Ee),e._disposers.push(e.mainContainer);var i=e.mainContainer.createChild(Oe);return e._shouldBeReady.push(i),i.shouldClone=!1,i.layout="none",i.virtualParent=e,e._disposers.push(i),e.bulletsContainer=i,e.tooltip=new Go,e.tooltip.virtualParent=e,e._disposers.push(e.tooltip),e.hiddenState.transitionEasing=w_,e.dataItem=e.createDataItem(),e._disposers.push(e.dataItem),e.dataItem.component=e,e.role="group",e.applyTheme(),e}return t.prototype.applyTheme=function(){s.prototype.applyTheme.call(this),lt.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},t.prototype.createDataItem=function(){return new md},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){},t.prototype.processBullet=function(e){var i=this,r=e.newValue;r.isTemplate=!0,this.events.once("datavalidated",function(a){i.itemsFocusable()&&(r.focusable=!0)}),this.invalidate()},t.prototype.removeBullet=function(e){var i=e.oldValue;this.dataItems.each(function(r){var a=r.bullets.getKey(i.uid);a&&a.dispose()}),this.invalidate()},t.prototype.validateDataItems=function(){s.prototype.validateDataItems.call(this),this.processValues(!1)},t.prototype.getFirstValue=function(e,i){for(var r=i;r>=0;r--){var a=this.dataItems.getIndex(r),n=a.getActualWorkingValue(e);if(k(n))return n}return null},t.prototype.getAbsoluteFirstValue=function(e){for(var i=0;i<this.dataItems.length;i++){var r=this.dataItems.getIndex(i),a=r.values[e].value;if(k(a))return a}return null},t.prototype.rangeChangeUpdate=function(){s.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},t.prototype.processValues=function(e){var i=this;if(!this.simplifiedProcessing){var r=this.dataItems,a={},n={},o={},l={},u={},h={},c={},A={},d={},f={},p=ht(0,this.startIndex);p=bt(p,this.dataItems.length);var m=bt(this.endIndex,this.dataItems.length);if(k(p)||(p=0),k(m)||(m=this.dataItems.length),p>0){var g=r.getIndex(p-1);Qe(g.values,function(P,D){var $=g.getActualWorkingValue(P);k($)&&(A[P]=$)})}for(var y=function(P){var D=r.getIndex(P);Qe(D.values,function($,I){var R=D.getActualWorkingValue($);if(k(R)){k(a[$])||(a[$]=0),a[$]++,k(n[$])||(n[$]=0),n[$]+=R,k(o[$])||(o[$]=0),o[$]+=Math.abs(R),k(h[$])||(h[$]=R),c[$]=R,k(l[$])?l[$]>R&&(l[$]=R):l[$]=R,k(u[$])?u[$]<R&&(u[$]=R):u[$]=R,k(d[$])||(d[$]=i.getFirstValue($,p)),k(f[$])||(f[$]=i.getAbsoluteFirstValue($)),D.setCalculatedValue($,R-d[$],"change"),D.setCalculatedValue($,(R-d[$])/d[$]*100,"changePercent"),D.setCalculatedValue($,R-f[$],"startChange"),D.setCalculatedValue($,(R-f[$])/f[$]*100,"startChangePercent");var T=A[$];k(T)||(T=R),D.setCalculatedValue($,R-T,"previousChange"),D.setCalculatedValue($,(R-T)/T*100,"previousChangePercent"),A[$]=R}})},v=p;v<m;v++)y(v);if(this.calculatePercent)for(var _=function(P){var D=r.getIndex(P);Qe(D.values,function($){var I=o[$],R=D.getActualWorkingValue($);if(k(R))if(I>0){i.usePercentHack&&R==I&&(I=D.values[$].value);var T=R/I*100;D.setCalculatedValue($,T,"percent")}else D.setCalculatedValue($,0,"percent")})},v=p;v<m;v++)_(v);if(p>0){var S=r.getIndex(p-1);Qe(S.values,function(P){var D=S.values[P].value;S.setCalculatedValue(P,D-h[P],"change"),S.setCalculatedValue(P,(D-h[P])/h[P]*100,"changePercent")})}var F=this.dataItem;Qe(F.values,function(P){F.setCalculatedValue(P,n[P],"sum"),F.setCalculatedValue(P,o[P],"absoluteSum"),F.setCalculatedValue(P,n[P]/a[P],"average"),F.setCalculatedValue(P,h[P],"open"),F.setCalculatedValue(P,c[P],"close"),F.setCalculatedValue(P,l[P],"low"),F.setCalculatedValue(P,u[P],"high"),F.setCalculatedValue(P,a[P],"count")})}},t.prototype.validate=function(){El()&&this.filters.clear(),de(this.axisRanges.iterator(),function(a){a.validate()}),s.prototype.validate.call(this);var e=this.bulletsContainer;if(e.fill=this.fill,e.stroke=this.stroke,e.x=this.pixelX,e.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++){var r=this.dataItems.getIndex(i);r&&r.bullets.each(function(a,n){n.__disabled=!0})}for(var i=this.dataItems.length-1;i>this.endIndex;i--){var r=this.dataItems.getIndex(i);r&&r.bullets.each(function(o,l){l.__disabled=!0})}}else this.bulletsContainer.children.each(function(a){a.__disabled=!0});this.updateTooltipBounds()},t.prototype.updateTooltipBounds=function(){if(this.topParent){var e=0,i=0,r=this.topParent.maxWidth,a=this.topParent.maxHeight,n={x:e,y:i,width:r,height:a};this.tooltip.setBounds(n)}},t.prototype.shouldCreateBullet=function(e,i){return!0},t.prototype.validateDataElement=function(e){var i=this;s.prototype.validateDataElement.call(this,e),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(r){var a=e.bullets.getKey(r.uid);if(i.shouldCreateBullet(e,r)){if(!a){var n=r.propertyFields.disabled,o=e.dataContext;n&&o&&o[n]===!1?(r.applyOnClones=!1,r.disabled=!1,a=r.clone(),r.disabled=!0,r.applyOnClones=!0):a=r.clone(),a.shouldClone=!1,e.addSprite(a),(!i.visible||i.isHiding)&&a.hide(0)}var l=a.dataItem;if(l!=e){l&&l.bullets.setKey(r.uid,void 0);var u=i.itemReaderText;a instanceof ta&&(u||(u="{"+a.xField+"}: {"+a.yField+"}"),a.isDynamic&&(e.events.on("workingvaluechanged",a.deepInvalidate,a,!1),i.dataItem.events.on("workingvaluechanged",a.deepInvalidate,a,!1)),a.deepInvalidate()),a.focusable&&(a.events.on("focus",function(h){a.readerTitle=i.populateString(u,a.dataItem)},void 0,!1),a.events.on("blur",function(h){a.readerTitle=""},void 0,!1)),a.hoverable&&(a.events.on("over",function(h){a.readerTitle=i.populateString(u,a.dataItem)},void 0,!1),a.events.on("out",function(h){a.readerTitle=""},void 0,!1))}a.parent=i.bulletsContainer,e.bullets.setKey(r.uid,a),a.maxWidth=e.itemWidth,a.maxHeight=e.itemHeight,a.__disabled=!1,i.positionBullet(a)}else a&&(a.__disabled=!0)})):this.bulletsContainer.visible=!1},t.prototype.handleDataItemWorkingValueChange=function(e,i){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this.invalidateDataItems()},enumerable:!0,configurable:!0}),t.prototype.createMask=function(){},t.prototype.processAxisRange=function(e){this.rangesContainer||(this.rangesContainer=this.createChild(Oe),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var i=e.newValue;i&&(i.contents.parent=this.rangesContainer,i.isRange=!0,i.events.on("valuechanged",this.invalidateDataItems,this,!1))},t.prototype.getAxisField=function(e){},t.prototype.showTooltipAtPosition=function(e,i){},Object.defineProperty(t.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(e){this.setPropertyValue("minBulletDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Kt(new ta),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new Lt(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){},Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(e){this.setPropertyValue("hiddenInLegend",e)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e);var i=this.legendDataItem;i&&(i.component.invalidate(),i.component.invalidateRawData()),this.readerTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemReaderText",{get:function(){var e=this._itemReaderText;return e||(this.tooltipText?e=jA(this.tooltipText):this.tooltipHTML&&(e=jA(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",e):e},set:function(e){this._itemReaderText=e,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),t.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,i){if(this.legendDataItem){var r=this.legendSettings,a=this.legendDataItem,n=a.label,o=a.valueLabel;e&&!e.isDisposed()||i?(o&&(r.itemValueText&&(o.text=r.itemValueText),o.dataItem=e),n&&(r.itemLabelText&&(n.text=r.itemLabelText),n.dataItem=e)):(n&&((r.labelText||r.itemLabelText!=null)&&(n.text=r.labelText),n.dataItem=this.dataItem),o&&((r.valueText||r.itemValueText!=null)&&(o.text=r.valueText),o.dataItem=this.dataItem))}},t.prototype.copyFrom=function(e){this.bullets.copyFrom(e.bullets),this.bulletsContainer.copyFrom(e.bulletsContainer),this.calculatePercent=e.calculatePercent,this.usePercentHack=e.usePercentHack,this.simplifiedProcessing=e.simplifiedProcessing,s.prototype.copyFrom.call(this,e)},t.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,lt.suppressErrors||this._chart.modal.open(),this._chart.disabled=!0),lt.verbose&&console.log(e)},t.prototype.applyFilters=function(){var e=this;s.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),de(this.filters.iterator(),function(i){e.bulletsContainer.filters.push(i.clone())})},Object.defineProperty(t.prototype,"heatRules",{get:function(){var e=this;return this._heatRules||(this._heatRules=new xt,this._heatRules.events.on("inserted",function(i){var r=i.newValue,a=r.target;if(a){var n=r.dataField;N(n)||(n="value");var o=e.dataItem,l=r.property,u=Jt(r.minValue),h=Jt(r.maxValue);!k(u)&&!k(h)&&e.dataItem.events.on("calculatedvaluechanged",function(c){c.property==n&&de(e.dataItems.iterator(),function(A){var d=!1;Ce(A.sprites,function(f){if(f.clonedFrom==a){var p=f;p[l]=p[l],d=!0}}),d||Ce(A.sprites,function(f){f instanceof Oe&&de(f.children.iterator(),function(p){if(p.className==a.className){var m=p;m[l]=m[l]}else p instanceof Oe&&p.deepInvalidate()})})})}),e.dataItems.template.events.on("workingvaluechanged",function(c){if(c.property==n){var A=c.target,d=!1;Ce(A.sprites,function(f){if(f.clonedFrom==a){var p=f;p[l]=p[l],d=!0}}),d||Ce(A.sprites,function(f){f instanceof Oe&&de(f.children.iterator(),function(p){if(p.className==a.className){var m=p;m[l]=m[l]}else p instanceof Oe&&p.deepInvalidate()})})}}),a.adapter.add(l,function(c,A,d){var f=Jt(r.minValue),p=Jt(r.maxValue),m=r.min,g=r.max;if(A instanceof Ee){var y=A,v=y.propertyFields[d];if(v&&A.dataItem){var _=A.dataItem.dataContext;if(_&&N(_[v]))return c}}var S=A.dataItem;if(k(f)||(f=o.values[n].low),k(p)||(p=o.values[n].high),S){var F=S.values[n];if(F){var P=S.getActualWorkingValue(n);if(N(m)&&N(g)&&k(f)&&k(p)&&k(P)){var D=void 0;if(r.logarithmic?D=(Math.log(P)*Math.LOG10E-Math.log(f)*Math.LOG10E)/(Math.log(p)*Math.LOG10E-Math.log(f)*Math.LOG10E):D=(P-f)/(p-f),k(P)&&(!k(D)||Math.abs(D)==1/0)&&(D=.5),k(m))return m+(g-m)*D;if(m instanceof Ft)return new Ft(rd(m.rgb,g.rgb,D))}}}return c})}})),this._heatRules},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i;if(e){if(N(e.bullets)&&Ci(e.bullets))for(var r=0,a=e.bullets.length;r<a;r++){var n=e.bullets[r];N(n.type)||(n.type="Bullet")}N(e.heatRules)&&Ci(e.heatRules)&&(i=e.heatRules,delete e.heatRules)}if(s.prototype.processConfig.call(this,e),i){for(var r=0,a=i.length;r<a;r++){var o=i[r],l=this;if(N(o.target)&&ft(o.target))if(this.map.hasKey(o.target))l=this.map.getKey(o.target);else for(var u=o.target.split("."),h=0;h<u.length;h++)if(l instanceof xt){var c=l.getIndex(Jt(u[h]));c?l=c:l=l[u[h]]}else{var A=u[h].match(/^(.*)\[([0-9]+)\]/);A?l[A[1]]instanceof xt?l=l[A[1]].getIndex(Jt(A[2])):l=l[A[1]][Jt(A[2])]:l=l[u[h]]}o.target=l,N(o.min)&&(o.min=this.maybeColorOrPercent(o.min)),N(o.max)&&(o.max=this.maybeColorOrPercent(o.max))}s.prototype.processConfig.call(this,{heatRules:i})}},t.prototype.configOrder=function(e,i){return e==i?0:e=="heatRules"?1:i=="heatRules"?-1:s.prototype.configOrder.call(this,e,i)},t.prototype.setVisibility=function(e){s.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},t}(Bn);E.registeredClasses.Series=Ul;E.registeredClasses.SeriesDataItem=md;var Ql=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new Ft({r:103,g:183,b:220}),e.stepOptions={},e.passOptions={brighten:-.2},e.step=1,e.minColors=20,e.minLightness=.2,e.maxLightness=.9,e.shuffle=!1,e.wrap=!0,e.reuse=!1,e.saturation=1,e.className="ColorSet",e.applyTheme(),e}return Object.defineProperty(t.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.getReusableColor=function(e){if(this._list.length==0)return this.generate(1),this.list[0];var i=e-Math.floor(e/this._list.length)*this.list.length;return this.list[i]},t.prototype.next=function(){var e;return this.list.length<=this._currentStep?this.reuse?e=this.getReusableColor(this._currentStep):(this.generate(ht(this.minColors,this._currentStep+1)),e=this.list[this._currentStep]):e=this.list[this._currentStep],this._currentStep+=this.step,e.saturate(this.saturation)},t.prototype.getIndex=function(e){var i;return this.list.length<=e?this.reuse?i=this.getReusableColor(e):(this.generate(this.minColors),i=this.getIndex(e)):i=this.list[e],i.saturate(this.saturation)},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.generate=function(e){var i=this.currentColor,r=pm(gi(i.rgb)),a=N(this.stepOptions.hue)?this.stepOptions.hue:1/e,n={brighten:0,lighten:0,hue:r.h,lightness:r.l,saturation:r.s},o=[],l=this.list.length==0?0:1;if(this.reuse)for(var u=l;u<=e;u++)o.push(pm(gi(this._list[u].rgb)).h);else for(var u=l;u<=e;u++){var h=r.h+a*u;this.wrap&&h>1&&(h-=1),o.push(h)}this.shuffle&&o.sort(function(f,p){return Math.random()-.5});for(var u=0;u<e;u++){this.reuse?r=pm(gi(this._list[u].rgb)):r.h=o.shift(),this.applyStepOptions(r,n,u,this._currentPass);var c=He(r_(r)),A=(this.stepOptions.brighten||0)*u+(this.passOptions.brighten||0)*this._currentPass;A!=0&&(this.wrap?A=vm(A,this.minLightness,this.maxLightness):A=bm(A,this.minLightness,this.maxLightness),c=c.brighten(A));var d=(this.stepOptions.lighten||0)*u+(this.passOptions.lighten||0)*this._currentPass;d!=0&&(this.wrap?d=vm(d,this.minLightness,this.maxLightness):d=bm(d,this.minLightness,this.maxLightness),c=c.lighten(d)),this._list.push(c)}this._currentPass++},Object.defineProperty(t.prototype,"currentColor",{get:function(){return this._list.length==0?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),t.prototype.applyStepOptions=function(e,i,r,a){e.l=i.lightness+(this.stepOptions.lightness||0)*r+(this.passOptions.lightness||0)*a,this.wrap?(e.l>1?e.l=e.l-Math.floor(e.l):e.l<0&&(e.l=-(e.l-Math.floor(e.l))),e.l=vm(e.l,this.minLightness,this.maxLightness)):(e.l>1?e.l=1:e.l<0&&(e.l=0),e.l=bm(e.l,this.minLightness,this.maxLightness))},t.prototype.processConfig=function(e){if(e){if(N(e.list)&&Ci(e.list))for(var i=0,r=e.list.length;i<r;i++)e.list[i]instanceof Ft||(e.list[i]=He(e.list[i]));N(e.baseColor)&&!(e.baseColor instanceof Ft)&&(e.baseColor=He(e.baseColor))}s.prototype.processConfig.call(this,e)},t}(Gi);E.registeredClasses.ColorSet=Ql;var Rm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="SerialChartDataItem",e.applyTheme(),e}return t}(km);var Lu=function(s){U(t,s);function t(){var e=s.call(this)||this;e._exitDP={},e.className="SerialChart",e.colors=new Ql,e._usesData=!1;var i=e.chartContainer.createChild(Oe);i.shouldClone=!1,i.width=he(100),i.height=he(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,e.seriesContainer=i;var r=e.chartContainer.createChild(Oe);return r.shouldClone=!1,r.width=he(100),r.height=he(100),r.isMeasured=!1,r.zIndex=3,r.layout="none",e.bulletsContainer=r,e.applyTheme(),e}return t.prototype.dispose=function(){s.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new Kt(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new Lt(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;this.dataUsers.removeValue(i),this.dataUsers.each(function(u){u.invalidateDataItems()}),this._exitDP[i.uid]&&(this._exitDP[i.uid].dispose(),delete this._exitDP[i.uid]),i.autoDispose?i.dispose():(i.parent=void 0,i.bulletsContainer.parent=void 0);var r=this.legend;if(r){for(var a=this.legend.dataItems,n=a.length-1;n>=0;n--){var o=a.getIndex(n);o&&o.dataContext==i&&r.dataItems.remove(o)}for(var n=r.data.length-1;n>=0;n--){var l=r.data[n];l&&l==i&&tt(r.data,l)}}},t.prototype.handleSeriesAdded=function(e){var i=this,r=e.newValue;r.isDisposed()||(r.chart=this,r.parent=this.seriesContainer,r.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(r),r.addDisposer(new Ot(function(){i.dataUsers.removeValue(r)})),this.handleSeriesAdded2(r),this.handleLegendSeriesAdded(r))},t.prototype.handleLegendSeriesAdded=function(e){e.hiddenInLegend||this.legend&&this.legend.addData(e)},t.prototype.handleSeriesAdded2=function(e){var i=this;this.dataInvalid||(this._exitDP[e.uid]=E.events.once("exitframe",function(){(!e.data||e.data.length==0)&&(e.data=i.data,e.showOnInit&&(e.reinit(),e.setPropertyValue("showOnInit",!1),e.showOnInit=!0),e.isDisposed()||e.events.once("datavalidated",function(){e.data==i.data&&(e._data=[])}))}),this._disposers.push(this._exitDP[e.uid]))},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];de(this.series.iterator(),function(r){r.hiddenInLegend||i.push(r)}),e.dataFields.name="name",e.data=i}},t.prototype.createSeries=function(){return new Ul},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.series.copyFrom(e.series)},t.prototype.appear=function(){s.prototype.appear.call(this),this.series.each(function(e){e.showOnInit&&e.inited&&e.appear()})},t}(Vl);E.registeredClasses.SerialChart=Lu;var ia=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Line",e.element=e.paper.add("line"),e.fill=He(),e.x1=0,e.y1=0,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(t.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(e){k(e)||(e=0);var i=0;this.pixelPerfect&&this.stroke instanceof ws&&(i=1e-5),this.setPropertyValue("x1",e,!0),this.element.attr({x1:e+i})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){var e=this.getPropertyValue("x2");return k(e)||(e=this.pixelWidth),e},set:function(e){k(e)||(e=0),this.setPropertyValue("x2",e,!0),this.element.attr({x2:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(e){k(e)||(e=0);var i=0;this.pixelPerfect&&this.stroke instanceof ws&&(i=1e-5),this.setPropertyValue("y1",e,!0),this.element.attr({y1:e+i})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){var e=this.getPropertyValue("y2");return k(e)||(e=this.pixelHeight),e},set:function(e){k(e)||(e=0),this.setPropertyValue("y2",e,!0),this.element.attr({y2:e})},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i={x:this.x1,y:this.y1},r={x:this.x2,y:this.y2},a=Jc(i,r,e),n=dr(i,r);return{x:a.x,y:a.y,angle:n}},t}(Ee);E.registeredClasses.Line=ia;var Wn=function(){function s(t,e){this._tensionX=t,this._tensionY=e}return s.prototype.smooth=function(t){for(var e=t.length-1;e>0;e--){var i=t[e],r=t[e-1];Math.abs(i.x-r.x)<.1&&Math.abs(i.y-r.y)<.1&&t.splice(e-1,1)}var a=this._tensionX,n=this._tensionY;if(t.length<3||a>=1&&n>=1)return fd(t);var o=t[0],l=t[t.length-1],u=!1;be(o.x,3)==be(l.x)&&be(o.y)==be(l.y)&&(u=!0);for(var h="",e=0,c=t.length-1;e<c;e++){var i=t[e-1],r=t[e],A=t[e+1],d=t[e+2];e===0?u?i=t[t.length-2]:i=t[e]:e==t.length-2&&(u?d=t[1]:d=t[e+1]);var f=wb(i,r,A,d,a,n),p=Cb(i,r,A,d,a,n);h+=Ou(A,f,p)}return h},s}();function gd(s,t,e,i,r,a){var n=s.x,o=s.y,l=t.x,u=t.y,h=Et(s,t);a&&(e=h/Math.round(h/e));var c=E.getCache(Eb(["wavedLine",s.x,t.x,s.y,t.y,e,i]));if(!c){if(h>0){var A=Math.atan2(u-o,l-n),d=Math.cos(A),f=Math.sin(A),p=e*d,m=e*f;if(e<=1||i<=1)c=ce(t);else{var g=Math.round(2*h/e),y=[],v=1;l<n&&(v*=-1),u<o&&(v*=-1);for(var _=0;_<=g;_++){v*=-1;var S=n+_*p/2+v*i/2*f,F=o+_*m/2-v*i/2*d;y.push({x:S,y:F})}c=new Wn(r,r).smooth(y)}}else c="";E.setCache(Eb(["wavedLine",s.x,t.x,s.y,t.y,e,i]),c)}return c}var BO=function(){function s(t,e){this._reversed=t,this._closed=e.closed}return s.prototype._curve=function(t,e,i,r,a,n){var o=(e-t)/3;return this._reversed?Ou({x:r,y:e},{x:i+o*a,y:t+o},{x:r-o*n,y:e-o}):Ou({x:e,y:r},{x:t+o,y:i+o*a},{x:e-o,y:r-o*n})},s.prototype.smooth=function(t){var e=this,i=NaN,r=NaN,a=NaN,n=NaN,o=NaN,l=0,u="";switch(Ce(t,function(h){var c=h.x,A=h.y;if(e._reversed){var d=c;c=A,A=d}var f=NaN;if(!(c===r&&A===n)){switch(l){case 0:l=1,e._reversed?u+=ce({x:A,y:c}):u+=ce({x:c,y:A});break;case 1:l=2;break;case 2:l=3,u+=e._curve(i,r,a,n,_O(i,r,a,n,f=SO(i,r,a,n,c,A)),f);break;default:u+=e._curve(i,r,a,n,o,f=SO(i,r,a,n,c,A));break}i=r,r=c,a=n,n=A,o=f}}),l){case 2:this._reversed?u+=ce({x:n,y:r}):u+=ce({x:r,y:n});break;case 3:u+=this._curve(i,r,a,n,o,_O(i,r,a,n,o));break}return this._closed&&(u+=Fi()),u},s}();function CO(s){return s<0?-1:1}function _O(s,t,e,i,r){var a=t-s;return a?(3*(i-e)/a-r)/2:r}function SO(s,t,e,i,r,a){var n=t-s,o=r-t,l=(i-e)/(n||o<0&&-0),u=(a-i)/(o||n<0&&-0),h=(l*o+u*n)/(n+o);return(CO(l)+CO(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(h))||0}var K_=function(s){U(t,s);function t(e){return s.call(this,!1,e)||this}return t}(BO);var q_=function(s){U(t,s);function t(e){return s.call(this,!0,e)||this}return t}(BO);var pj=function(){function s(t){this._closed=t.closed}return s.prototype.smooth=function(t){var e=this,i=NaN,r=NaN,a=NaN,n=NaN,o=NaN,l=NaN,u=NaN,h=NaN,c=NaN,A=NaN,d=0,f="",p=function(g,y){f+=Ou({x:(i+4*r+g)/6,y:(l+4*u+y)/6},{x:(2*i+r)/3,y:(2*l+u)/3},{x:(i+2*r)/3,y:(l+2*u)/3})},m=function(g){var y=g.x,v=g.y;switch(d){case 0:d=1,e._closed?(a=y,h=v):f+=ce({x:y,y:v});break;case 1:d=2,e._closed&&(n=y,c=v);break;case 2:if(d=3,e._closed){o=y,A=v,f+=we({x:(i+4*r+y)/6,y:(l+4*u+v)/6});break}else f+=ce({x:(5*i+r)/6,y:(5*l+u)/6});default:p(y,v);break}i=r,r=y,l=u,u=v};if(Ce(t,m),this._closed)switch(d){case 1:f+=we({x:a,y:h}),f+=Fi();break;case 2:f+=we({x:(a+2*n)/3,y:(h+2*c)/3}),f+=ce({x:(n+2*a)/3,y:(c+2*h)/3}),f+=Fi();break;case 3:m({x:a,y:h}),m({x:n,y:c}),m({x:o,y:A});break}else{switch(d){case 3:p(r,u);case 2:f+=ce({x:r,y:u});break}f+=Fi()}return f},s}();var qo=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="WavedLine",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.pixelPerfect=!1,e.fill=He(),e.applyTheme(),e}return t.prototype.draw=function(){var e={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2};this.path=we(e)+gd(e,i,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(ia);var Xh=function(s){U(t,s);function t(){var e=s.call(this)||this;e._axis=new Ti,e.dataItems=new xt,e.className="AxisBreak",e.breakSize=.01,e.marginLeft=-5,e.marginRight=-5,e.marginTop=-5,e.marginBottom=-5;var i=new et,r=new qo;r.fill=i.getFor("background"),r.stroke=He(),r.fillOpacity=.9,r.zIndex=0,e._fillShape=r;var a=new qo;a.fill=He(),a.stroke=i.getFor("grid"),a.strokeOpacity=.3,a.zIndex=1,e._startLine=a;var n=new qo;return n.fill=He(),n.stroke=He("#000000"),n.strokeOpacity=.3,n.zIndex=2,e._endLine=n,e._disposers.push(e._axis),e.applyTheme(),e}return t.prototype.dispose=function(){s.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(t.prototype,"startLine",{get:function(){return this._startLine},set:function(e){this._startLine&&this._startLine.dispose(),this._startLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLine",{get:function(){return this._endLine},set:function(e){this._endLine&&this._endLine.dispose(),this._endLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShape",{get:function(){return this._fillShape},set:function(e){this._fillShape&&this._fillShape.dispose(),this._fillShape=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),t.prototype.addBreakSprite=function(e){e.parent=this,e.isMeasured=!1,this._disposers.push(e)},Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this._axis.get()!==e){this._axis.set(e,e.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),e.renderer.createBreakSprites(this);var i=e.axisBreaks.template;this.startLine.copyFrom(i.startLine),this.endLine.copyFrom(i.endLine),this.fillShape.copyFrom(i.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(e){this.setPropertyValue("breakSize",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.draw=function(){if(s.prototype.draw.call(this),this.axis){var e=this.axis.renderer;e.updateBreakElement(this)}},Object.defineProperty(t.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(Oe);E.registeredClasses.AxisBreak=Xh;var Iu=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="AxisDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.grid,i.disabled)return;r=i.clone()}else{if(i=e.renderer.grid.template,i.disabled)return;r=e.renderer.grid.create(),this._disposers.push(new Ot(function(){e.renderer.grid.removeValue(r)}))}this.grid=r,r.shouldClone=!1,this._disposers.push(r),r.axis=this.component}}return this._grid},set:function(e){this._grid&&this._grid!=e&&(tt(this.sprites,this._grid),this._grid.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(tt(e.dataItem.sprites,e),e.dataItem.grid=void 0),this.addSprite(e)),this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){if(!this._tick){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.tick,i.disabled)return;r=i.clone()}else{if(i=e.renderer.ticks.template,i.disabled)return;r=e.renderer.ticks.create(),this._disposers.push(new Ot(function(){e.renderer.ticks.removeValue(r)}))}this.tick=r,r.axis=this.component,r.shouldClone=!1,this._disposers.push(r)}}return this._tick},set:function(e){this._tick&&this._tick!=e&&(tt(this.sprites,this._tick),this._tick.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(tt(e.dataItem.sprites,e),e.dataItem.tick=void 0),this.addSprite(e)),this._tick=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){if(!this._label){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.label,i.disabled)return;r=i.clone()}else{if(i=e.renderer.labels.template,i.disabled)return;r=e.renderer.labels.create(),this._disposers.push(new Ot(function(){e.renderer.labels.removeValue(r)}))}this._disposers.push(r),this.label=r,r.shouldClone=!1,r.axis=this.component,r.virtualParent=e}}return this._label},set:function(e){this._label&&this._label!=e&&(tt(this.sprites,this._label),this._label.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(tt(e.dataItem.sprites,e),e.dataItem.label=void 0),this.addSprite(e)),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisFill",{get:function(){if(!this._axisFill){var e=this.component;if(e){var i=void 0,r;if(this.isRange){if(i=e.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;r=i.clone()}else{if(i=e.renderer.axisFills.template,i.disabled)return;r=e.renderer.axisFills.create(),this._disposers.push(new Ot(function(){e.renderer.axisFills.removeValue(r)}))}this.axisFill=r,r.shouldClone=!1,this._disposers.push(r)}}return this._axisFill},set:function(e){this._axisFill&&this._axisFill!=e&&(tt(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(tt(e.dataItem.sprites,e),e.dataItem.axisFill=void 0),e.axis=this.component,this.addSprite(e)),this._axisFill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){if(!this._contents){var e=new Oe;this.addSprite(e),e.isMeasured=!1,this._contents=e;var i=this.component;if(i){var r=i.renderer.createFill(this.component);r.disabled=!1,r.axis=i,this.addSprite(r),this._mask=r,e.mask=r}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(e){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),e&&e.dataItems.push(this),this._axisBreak=e},enumerable:!0,configurable:!0}),t.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},t.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},t.prototype.hasProperty=function(e){return e=="component"?!0:s.prototype.hasProperty.call(this,e)},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.text=e.text,e.bullet&&(this.bullet=e.bullet.clone()),this.minPosition=e.minPosition,this.maxPosition=e.maxPosition},t.prototype.setVisibility=function(e,i){s.prototype.setVisibility.call(this,e,i),this._contents&&(this._contents.visible=e)},Object.defineProperty(t.prototype,"bullet",{get:function(){return this._bullet},set:function(e){this._bullet&&this._bullet!=e&&(tt(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=e,e&&this.addSprite(e)},enumerable:!0,configurable:!0}),t}(Sn);var FO;(function(s){s[s.Start=0]="Start",s[s.Middle=.5]="Middle",s[s.End=1]="End"})(FO||(FO={}));var yd=function(s){U(t,s);function t(){var e=s.call(this)||this;if(e._gridCount=10,e._series=new xt,e.autoDispose=!0,e._axisItemCount=0,e.constructor===t)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");e.hideTooltipWhileZooming=!0,e.minWidth=1e-4,e.minHeight=1e-4,e.className="Axis",e.shouldClone=!1,e.setPropertyValue("cursorTooltipEnabled",!0),e.toggleZoomOutButton=!0,e.zoomable=!0;var i=new et;e.title=new Ni,e.title.shouldClone=!1,e._disposers.push(e.title),e.setPropertyValue("startLocation",0),e.setPropertyValue("endLocation",1),e._dataItemsIterator=new id(e.dataItems,function(){return e.dataItems.create()}),e._dataItemsIterator.createNewItems=!0;var r=new Go;e._disposers.push(r),r.label.padding(5,10,5,10),r.background.pointerLength=5,r.fitPointerToBounds=!0,r.background.filters.clear(),r.virtualParent=e;var a=r.background;return a.cornerRadius=0,a.fill=i.getFor("alternativeBackground"),a.stroke=a.fill,a.strokeWidth=1,a.fillOpacity=1,r.label.fill=i.getFor("alternativeText"),e.tooltip=r,e.readerHidden=!0,e.events.on("rangechangestarted",function(){e.series.each(function(n){n.hideTooltipWhileZooming&&(n.tooltip.hide(),n.tooltip.preventShow=!0)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!0)},void 0,!1),e.events.on("rangechangeended",function(){e.series.each(function(n){n.hideTooltipWhileZooming&&(n.tooltip.hide(),n.tooltip.preventShow=!1)}),e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!1)},void 0,!1),e.applyTheme(),e}return t.prototype.fillRule=function(e,i){k(i)||(i=e.index),i/2==Math.round(i/2)?(e.axisFill.__disabled=!0,e.axisFill.opacity=0):(e.axisFill.opacity=1,e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new Iu},t.prototype.invalidateLayout=function(){s.prototype.invalidateLayout.call(this),de(this.series.iterator(),function(e){e.invalidateLayout()})},t.prototype.invalidateSeries=function(){de(this.series.iterator(),function(e){e.invalidate()})},t.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},t.prototype.updateGridCount=function(){if(this.renderer){var e=this.axisLength/this.renderer.minGridDistance;e!=this._gridCount&&(this._gridCount=e,this.clearCache())}},t.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),s.prototype.validateLayout.call(this),this.updateGridCount();var e=this.renderer;e&&(e.updateAxisLine(),e.updateTooltip(),e.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},t.prototype.initRenderer=function(){},t.prototype.appendDataItem=function(e){var i=this.renderer,r=e.tick;r&&(r.above?r.parent=i.bulletsContainer:r.parent=i.gridContainer),e.label&&(e.label.parent=i);var a=e.axisFill;a&&(a.above?a.parent=i.bulletsContainer:a.parent=i.gridContainer);var n=e.grid;n&&(n.above?n.parent=i.bulletsContainer:n.parent=i.gridContainer),e.bullet&&(e.bullet.parent=i.bulletsContainer)},t.prototype.validate=function(){s.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},t.prototype.validateAxisRanges=function(){var e=this;de(this.axisRanges.iterator(),function(i){e.appendDataItem(i),e.validateDataElement(i),i.grid&&i.grid.validate(),i.tick&&i.tick.validate(),i.axisFill&&i.axisFill.validate(),i.label&&i.label.validate()})},t.prototype.validateBreaks=function(){this._axisBreaks&&de(this._axisBreaks.iterator(),function(e){e.invalidate()})},t.prototype.processBreak=function(e){var i=e.newValue;i.parent=this.renderer.breakContainer,i.axis=this},t.prototype.registerSeries=function(e){var i=this;return this.series.moveValue(e),new Qt([new Ot(function(){i.series.removeValue(e)}),this.events.on("lengthchanged",e.invalidate,e,!1),this.events.on("lengthchanged",e.createMask,e,!1),this.events.on("startchanged",e.invalidate,e,!1),this.events.on("endchanged",e.invalidate,e,!1)])},Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(e){if(e!=this._renderer){this._renderer=e,e.chart=this.chart,e.axis=this,e.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(e.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var i=this.renderer.labels.create();this._disposers.push(i),i.dataItem=this.dataItems.template.clone(),i.text="L",i.parent=this.renderer,i.shouldClone=!1,i.fillOpacity=0,i.opacity=0,i.strokeOpacity=0,i.interactionsEnabled=!1,i.validate(),this.ghostLabel=i,this.events.on("beforedatavalidated",function(){i.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),t.prototype.positionToAngle=function(e){return this.renderer.positionToAngle(e)},t.prototype.pointToPosition=function(e){return this.renderer.pointToPosition(e)},t.prototype.positionToCoordinate=function(e){return this.renderer.positionToCoordinate(e)},t.prototype.getAnyRangePath=function(e,i){return this.renderer.getPositionRangePath(e,i)},t.prototype.anyToPosition=function(e){return 0},t.prototype.anyToPoint=function(e){return{x:0,y:0,angle:0}},t.prototype.getPositionRangePath=function(e,i){return this.renderer?this.renderer.getPositionRangePath(e,i):""},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)&&(e&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(e){this.setPropertyValue("toggleZoomOutButton",e)},enumerable:!0,configurable:!0}),t.prototype.hideTooltip=function(e){s.prototype.hideTooltip.call(this,e),this._tooltipPosition=void 0},t.prototype.showTooltipAtPosition=function(e,i){var r=this._tooltip;if(!r||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(i||(e=this.toAxisPosition(e)),!k(e)||e<this.start||e>this.end){r.hide(0),this._tooltipPosition=void 0;return}var a=this.renderer;r.parent||(r.parent=this.tooltipContainer);var n=a.tooltipLocation,o=this.getCellStartPosition(e),l=this.getCellEndPosition(e);if(this.tooltipPosition=="fixed"&&(e=o+(l-o)*n),e=Le(e,this.start,this.end),this._tooltipPosition!=e){this._tooltipPosition=e;var u=a.tooltipLocation2,h=a.positionToPoint(o,u),c=a.positionToPoint(l,u);this.currentItemStartPoint=h,this.currentItemEndPoint=c,a.fullWidthTooltip&&(r.width=c.x-h.x,r.height=c.y-h.y);var A=a.positionToPoint(e,u),d=va(A,this.renderer.line);r.text=this.getTooltipText(e),r.text&&(r.delayedPointTo(d),r.show())}(!this.cursorTooltipEnabled||this.tooltip.disabled)&&r.hide(0)}},t.prototype.toAxisPosition=function(e){if(e=this.renderer.toAxisPosition(e),e!=null)return e=e*(this.end-this.start),this.renderer.inversed?e=this.end-e:e=this.start+e,e},t.prototype.toGlobalPosition=function(e){return this.renderer.inversed?e=this.end-e:e=e-this.start,e/(this.end-this.start)},t.prototype.getTooltipText=function(e){},t.prototype.updateTooltip=function(e,i){var r=this._tooltip;r&&(r.fixDoc=!1,r.pointerOrientation=e,r.setBounds(ud(i,this.renderer.line)))},t.prototype.roundPosition=function(e,i,r){return e},t.prototype.getCellStartPosition=function(e){return e},t.prototype.getCellEndPosition=function(e){return e},Object.defineProperty(t.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var e=this.createDataItem();e.isRange=!0,e.axisFill=this.renderer.axisFills.template.clone(),e.grid=this.renderer.grid.template.clone(),e.tick=this.renderer.ticks.template.clone(),e.label=this.renderer.labels.template.clone(),e.isTemplate=!0,e.component=this,e.axisFill.disabled=!1,e.tick.disabled=!1,e.grid.disabled=!1,e.label.disabled=!1,this._axisRanges=new Kt(e),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new Lt(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),t.prototype.processAxisRange=function(e){var i=e.newValue;i.component=this,i.isRange=!0},Object.defineProperty(t.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new Am(this.createAxisBreak(),function(e,i){return Za(e.adjustedStartValue,i.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new Lt(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),t.prototype.createAxisBreak=function(){return new Xh},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new xt),this._series},enumerable:!0,configurable:!0}),t.prototype.processSeriesDataItems=function(){},t.prototype.processSeriesDataItem=function(e,i){},t.prototype.postProcessSeriesDataItems=function(e){},t.prototype.postProcessSeriesDataItem=function(e){},t.prototype.updateAxisBySeries=function(){},t.prototype.hideUnusedDataItems=function(){var e=this,i=this._dataItemsIterator;i.createNewItems=!1,de(i.iterator(),function(r){e.validateDataElement(r),r.__disabled=!0}),i.clear(),i.createNewItems=!0},t.prototype.getSeriesDataItem=function(e,i,r){},t.prototype.getAngle=function(e,i,r,a,n){},t.prototype.getX=function(e,i,r,a,n){},t.prototype.getPositionX=function(e,i,r,a,n){},t.prototype.getY=function(e,i,r,a,n){},t.prototype.getPositionY=function(e,i,r,a,n){},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.dataChangeUpdate=function(){},t.prototype.seriesDataChangeUpdate=function(e){},t.prototype.adjustDifference=function(e,i){var r=i-e;if(k(r))return this._axisBreaks&&Zr(this._axisBreaks.iterator(),function(a){var n=a.adjustedStartValue,o=a.adjustedEndValue;if(k(n)&&k(o)){if(n>i)return!1;if(o>=e&&k(n)&&k(o)){var l=a.breakSize,u=x1({start:n,end:o},{start:e,end:i});u&&(r-=(u.end-u.start)*(1-l))}return!0}}),r},t.prototype.isInBreak=function(e){if(this._axisBreaks)return V1(this._axisBreaks.iterator(),function(i){return e>=i.adjustedStartValue&&e<=i.adjustedEndValue})},t.prototype.fixAxisBreaks=function(){var e=this;if(this._axisBreaks){var i=this._axisBreaks;if(i.length>0){Ce(td(i.iterator()),function(n){var o=bt(n.startValue,n.endValue),l=ht(n.startValue,n.endValue);n.adjustedStartValue=o,n.adjustedEndValue=l,e._axisBreaks.update(n)});var r=i.first,a=Math.min(r.startValue,r.endValue);de(i.iterator(),function(n){var o=n.adjustedStartValue,l=n.adjustedEndValue;o<a&&(o=a,l<a&&(l=a)),n.adjustedStartValue=o,n.adjustedEndValue=l})}}},Object.defineProperty(t.prototype,"startIndex",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.getPositionLabel=function(e){return Math.round(e*100)+"%x"},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.createSeriesRange=function(e){var i=this.axisRanges.create();return i.component=this,i.axisFill=this.renderer.axisFills.template.clone(),i.axisFill.disabled=!1,i.axisFill.fillOpacity=0,i.grid=this.renderer.grid.template.clone(),i.grid.disabled=!0,i.tick=this.renderer.ticks.template.clone(),i.tick.disabled=!0,i.label=this.renderer.labels.template.clone(),i.label.disabled=!0,i.addDisposer(new Ot(function(){e.axisRanges.removeValue(i)})),e.axisRanges.push(i),i},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.renderer?this.renderer.copyFrom(e.renderer):e.renderer&&(this.renderer=e.renderer.clone(),this._disposers.push(this.renderer)),e.title&&(this.title?this.title.copyFrom(e.title):(this.title=e.title.clone(),this.title.parent=this),this._disposers.push(this.title))},t.prototype.resetIterators=function(){this._dataItemsIterator.reset()},t.prototype.processConfig=function(e){if(e&&N(e.axisRanges)&&Ci(e.axisRanges))for(var i=0,r=e.axisRanges.length;i<r;i++){var a=e.axisRanges[i];N(a.series)&&ft(a.series)&&this.map.hasKey(a.series)&&(e.axisRanges[i]=this.createSeriesRange(this.map.getKey(a.series)),delete a.series,e.axisRanges[i].config=a)}s.prototype.processConfig.call(this,e)},t.prototype.configOrder=function(e,i){return e==i?0:e=="title"?1:i=="title"||e=="component"?-1:i=="component"?1:s.prototype.configOrder.call(this,e,i)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.renderer&&(this.renderer.gridContainer.disabled=e),i},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this._title!=e&&this._title.dispose(),e&&(this._title=e,e.parent=this,e.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(e){this.setPropertyValue("zoomable",e)},enumerable:!0,configurable:!0}),t}(Bn);E.registeredClasses.Axis=yd;E.registeredClasses.AxisDataItem=Iu;sr.push({relevant:fr.maybeXS,state:function(s,t){if(s instanceof yd&&s.tooltip){var e=s.states.create(t);return e.properties.cursorTooltipEnabled=!1,e}return null}});var tv=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="AxisLine",e.element=e.paper.add("path");var i=new et;return e.stroke=i.getFor("grid"),e.strokeOpacity=.15,e.pixelPerfect=!0,e.fill=He(),e.applyTheme(),e.interactionsEnabled=!1,e}return t}(Ee);E.registeredClasses.AxisLine=tv;var zh=function(s){U(t,s);function t(e){var i=s.call(this)||this;i.axis=e,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var r=new et;return i.fill=r.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t.prototype.draw=function(){s.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis&&k(this.startPosition)&&k(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(t.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(e){this.setPropertyValue("startPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(e){this.setPropertyValue("endPosition",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return this.setPropertyValue("path",e)?(this.element.attr({d:e}),!0):!1},Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t}(Ee);E.registeredClasses.AxisFill=zh;var Gh=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="Grid",e.element=e.paper.add("path"),e.location=.5,e.isMeasured=!1,e.above=!1;var i=new et;return e.stroke=i.getFor("grid"),e.pixelPerfect=!0,e.strokeOpacity=.15,e.fill=He(),e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Ee);E.registeredClasses.Grid=Gh;sr.push({relevant:fr.maybeXS,state:function(s,t){if(s instanceof Gh){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var Hl=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="AxisLabel",e.isMeasured=!1,e.padding(10,10,10,10),e.location=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Ni);E.registeredClasses.AxisLabel=Hl;var jl=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="Tick";var i=new et;return e.fillOpacity=0,e.length=6,e.strokeOpacity=.2,e.stroke=i.getFor("grid"),e.isMeasured=!1,e.nonScalingStroke=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(e){this.setPropertyValue("length",e,!0)},enumerable:!0,configurable:!0}),t}(Ee);E.registeredClasses.Tick=jl;var iv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="AxisTick",e.element=e.paper.add("path"),e.location=.5,e.above=!1,e.isMeasured=!1,e.pixelPerfect=!0,e.strokeOpacity=0,e.length=5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(jl);E.registeredClasses.AxisTick=iv;var Yh=function(s){U(t,s);function t(){var e=s.call(this)||this;e._chart=new Ti,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var i=e.createChild(Oe);i.shouldClone=!1,i.layout="none",i.virtualParent=e,i.width=he(100),i.height=he(100),e.gridContainer=i,i.events.on("maxsizechanged",function(){e.inited&&e.invalidateAxisItems()},e,!1);var r=e.createChild(Oe);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=he(100),r.height=he(100),e.breakContainer=r;var a=e.createChild(Oe);a.shouldClone=!1,a.isMeasured=!1,a.layout="none",a.width=he(100),a.height=he(100),e.bulletsContainer=a,e.line=e.createChild(tv),e.line.shouldClone=!1,e.line.strokeOpacity=0;var n=e.createChild(Gh);n.shouldClone=!1,e.baseGrid=n;var o=e._disposers;return o.push(n),o.push(e.line),o.push(i),o.push(r),o.push(a),o.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis},set:function(e){this.setAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setAxis=function(e){this._axis=e,this.baseGrid.parent=e,this.line.parent=e,this.gridContainer.bind("opacity",e)},t.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},t.prototype.updateTooltip=function(){},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.positionItem=function(e,i){e&&e.moveTo(i)},t.prototype.positionToPoint=function(e,i){return{x:0,y:0}},t.prototype.positionToAngle=function(e){return 0},t.prototype.positionToCoordinate=function(e){var i,r=this.axis,a=r.axisFullLength;return r.renderer.inversed?i=(r.end-e)*a:i=(e-r.start)*a,i},t.prototype.updateGridContainer=function(){},t.prototype.getHeight=function(){var e=this.gridContainer;return e.parent?e.parent.pixelHeight:this.gridContainer.pixelHeight||0},t.prototype.getWidth=function(){var e=this.gridContainer;return e.parent?e.parent.pixelWidth:this.gridContainer.pixelWidth||0},t.prototype.coordinateToPosition=function(e,i){var r,a=this.axis,n=a.axisFullLength;return a.renderer.inversed?r=a.end-e/n:r=e/n+a.start,be(r,5)},t.prototype.pointToPosition=function(e){return 0},t.prototype.getPositionRangePath=function(e,i){return""},t.prototype.invalidateAxisItems=function(){var e=this.axis;e&&e.invalidateDataItems()},t.prototype.updateGridElement=function(e,i,r){},t.prototype.updateTickElement=function(e,i,r){},t.prototype.updateBullet=function(e,i,r){},t.prototype.updateLabelElement=function(e,i,r,a){},t.prototype.updateFillElement=function(e,i,r){e.startPosition=i,e.endPosition=r},t.prototype.updateAxisLine=function(){},t.prototype.updateBaseGridElement=function(){},t.prototype.updateBreakElement=function(e){this.positionItem(e.startLine,e.startPoint),this.toggleVisibility(e.startLine,e.startPosition,0,1),this.positionItem(e.endLine,e.endPoint),this.toggleVisibility(e.endLine,e.endPosition,0,1)},Object.defineProperty(t.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(e){this.setPropertyValue("minGridDistance",e)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t.prototype.toggleVisibility=function(e,i,r,a){var n=this.axis,o=e.dataItem;o&&o instanceof Iu&&(k(o.minPosition)&&(r=o.minPosition),k(o.maxPosition)&&(a=o.maxPosition));var l=n.start+(n.end-n.start)*(r-1e-4),u=n.start+(n.end-n.start)*(a+1e-4);e.disabled||(i<l||i>u?e.__disabled=!0:e.__disabled=!1)},t.prototype.createBreakSprites=function(e){},Object.defineProperty(t.prototype,"axisFills",{get:function(){if(!this._axisFills){var e=this.createFill(this.axis);this._axisFills=new Kt(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Lt(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),t.prototype.createFill=function(e){return new zh(e)},Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.createGrid();this._grid=new Kt(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Lt(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),t.prototype.createGrid=function(){return new Gh},Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,e.isMeasured=!1,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new Kt(e),this._disposers.push(new Lt(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),t.prototype.createTick=function(){return new iv},Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();this._labels=new Kt(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Lt(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createLabel=function(){return new Hl},Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e)&&this.axis&&this.axis.invalidate(),e?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(e){this.setPropertyValue("opposite",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(e){this.setPropertyValue("fullWidthTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(e){this.setPropertyValue("tooltipLocation2",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(e){this.setPropertyValue("cellStartLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(e){this.setPropertyValue("cellEndLocation",e)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(e){this.setPropertyValue("inversed",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(e){this.setPropertyValue("minLabelPosition",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(e){this.setPropertyValue("maxLabelPosition",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},t.prototype.toAxisPosition=function(e){return e},t.prototype.setVisibility=function(e){s.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},t}(Oe);E.registeredClasses.AxisRenderer=Yh;var Nm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="WavedRectangle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.tension=.8,e.setPropertyValue("wavedLeft",!0),e.setPropertyValue("wavedRight",!0),e.setPropertyValue("wavedTop",!0),e.setPropertyValue("wavedBottom",!0),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight;if(e>0&&i>0){var r={x:0,y:0},a={x:e,y:0},n={x:e,y:i},o={x:0,y:i},l=Math.min(e,this.waveLength),u=Math.min(i,this.waveHeight),h=Math.min(i,this.waveLength),c=Math.min(e,this.waveHeight),A="",d="",f="",p="";this.wavedTop&&(A=gd(r,a,l,u,this.tension,!0)),this.wavedRight&&(d=gd(a,n,h,c,this.tension,!0)),this.wavedBottom&&(f=gd(n,o,l,u,this.tension,!0)),this.wavedLeft&&(p=gd(o,r,h,c,this.tension,!0)),this.path=we(r)+A+ce(a)+d+ce(n)+f+ce(o)+p+"z"}},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.setWavedSides=function(e,i,r,a){this.wavedTop=e,this.wavedRight=i,this.wavedBottom=r,this.wavedLeft=a},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(e){this.setPropertyValue("wavedRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(e){this.setPropertyValue("wavedLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(e){this.setPropertyValue("wavedTop",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(e){this.setPropertyValue("wavedBottom",e,!0)},enumerable:!0,configurable:!0}),t}(jh);var Wl=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="AxisBullet",e.location=.5,e.isMeasured=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){var i=s.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},t}(Oe);E.registeredClasses.AxisBullet=Wl;var Nr=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="AxisRendererY",e.minGridDistance=40,e.opposite=!1,e.height=he(100),e.labels.template.verticalCenter="middle",e.applyTheme(),e}return t.prototype.setAxis=function(e){s.prototype.setAxis.call(this,e),e.layout="horizontal"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var i=this.gridContainer;i.y=e.pixelY,i.height=e.axisLength}},t.prototype.toAxisPosition=function(e){var i=this.axis;if(i){var r=1-e,a=i.relativePositionSprite,n=i.pixelY;if(a?n=ls({x:0,y:this.pixelY},this.parent,a).y:a=i.parent,a){var o=n/a.innerHeight,l=i.axisLength/a.innerHeight;return 1-(r-o)/l}}return e},t.prototype.processRenderer=function(){s.prototype.processRenderer.call(this);var e=this.axis;if(e){var i=e.title;i.valign="middle",e.height instanceof nt||(e.height=he(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront())}},t.prototype.updateTooltip=function(){var e=this.axis;if(e){var i=2e3,r=0,a=0,n=i,o=this.axisLength;this.opposite?this.inside&&(r=-i,n=i):this.inside||(r=-i,n=i),this.axis.updateTooltip("horizontal",{x:r,y:a,width:n,height:o})}},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredHeight-e.pixelPaddingTop-e.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){return{x:0,y:this.positionToCoordinate(e)}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.y,e.x)},t.prototype.coordinateToPosition=function(e,i){var r,a=this.axis,n=a.axisFullLength;return a.renderer.inversed?r=1-a.start-e/n:r=e/n+(1-a.end),be(r,5)},t.prototype.getPositionRangePath=function(e,i){var r=Le(this.positionToCoordinate(e),0,this.axisLength),a=Le(this.positionToCoordinate(i),0,this.axisLength),n=Math.abs(a-r),o=this.getWidth(),l=Math.min(r,a),u=0;return Hn({x:u,y:l,width:o,height:n},!0)},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);e.path=we({x:0,y:0})+ce({x:this.getWidth(),y:0}),this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i),n=e.length;try{this.axis.title.measuredWidth}catch{}a.x=ls({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?n*=e.inside?-1:1:n*=e.inside?1:-1,e.path=we({x:0,y:0})+ce({x:n,y:0}),this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateAxisLine=function(){this.line.path=we({x:0,y:0})+ce({x:0,y:this.axisLength})},t.prototype.updateBaseGridElement=function(){s.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getWidth(),r=this.axisLength,a=e.basePoint.y,n=this.baseGrid;if(a<-.2||a>r+.2)n.hide(0);else{var o=ls({x:0,y:0},this.gridContainer,n.parent).x;n.path=we({x:0,y:0})+ce({x:i,y:0}),n.moveTo({x:o,y:a}),n.show(0)}},t.prototype.updateLabelElement=function(e,i,r,a){N(a)||(a=e.location),i=i+(r-i)*a,e.isMeasured=!e.inside;var n=this.positionToPoint(i),o,l=0,u=this.gridContainer.maxWidth;this.opposite?(e.inside?(o="right",e.align=="left"&&(l=-u,o="left"),e.align=="center"&&(l=-u/2,o="middle")):o="left",n.x=0+l):(e.inside?(o="left",e.align=="right"&&(l=u,o="right"),e.align=="center"&&(l=u/2,o="middle")):o="right",n.x=this.measuredWidth+l),e.rotation==0&&(e.horizontalCenter=o),this.positionItem(e,n),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBreakElement=function(e){s.prototype.updateBreakElement.call(this,e);var i=e.startLine,r=e.endLine,a=e.fillShape,n=e.startPoint,o=e.endPoint,l=e.pixelMarginLeft,u=this.getWidth()-e.pixelMarginLeft-e.pixelMarginRight;n.y=Le(n.y,-1,this.axisLength+1),o.y=Le(o.y,-1,this.axisLength+1),n.y==o.y&&(n.y<0||n.y>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1;var h=Math.abs(u-l);i.x=l,i.height=0,i.width=h,r.x=l,r.height=0,r.width=h,a.width=h,a.height=Math.abs(o.y-n.y),a.x=l,a.y=o.y},t.prototype.createBreakSprites=function(e){e.startLine=new qo,e.endLine=new qo;var i=new Nm;i.setWavedSides(!0,!1,!0,!1),e.fillShape=i},t.prototype.positionToCoordinate=function(e){var i,r=this.axis,a=r.axisFullLength;return r.renderer.inversed?i=(e-r.start)*a:i=(r.end-e)*a,i},t.prototype.updateBullet=function(e,i,r){var a=.5;e instanceof Wl&&(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);n.x=ls({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(e,n),this.toggleVisibility(e,i,0,1)},t}(Yh);E.registeredClasses.AxisRendererY=Nr;sr.push({relevant:fr.widthS,state:function(s,t){if(s instanceof Nr){var e=s.states.create(t);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}});sr.push({relevant:fr.widthXS,state:function(s,t){if(s instanceof Nr){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var af=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ValueAxisBreak",e.applyTheme(),e}return Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),t}(Xh);E.registeredClasses.ValueAxisBreak=af;var Zo=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(e){this.setValue("endValue",e)},enumerable:!0,configurable:!0}),t}(Iu);var je=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e._dsc=!1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return t.prototype.fillRule=function(e){var i=e.value,r=e.component;e.axisFill.disabled||(be(i/r.step/2,5)==Math.round(i/r.step/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new Zo},t.prototype.createAxisBreak=function(){return new af},t.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(this._start!=0&&this.dispatchImmediately("startchanged"),this._end!=1&&this.dispatchImmediately("endchanged"),(this._start!=0||this._end!=1)&&this.dispatchImmediately("startendchanged")):(this._start!=0||this._end!=1)&&(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},t.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var e=this.series.getIndex(0),i=e.startIndex;if(e.dataItems.length>0){i>0&&i--;var r=e.endIndex;r<e.dataItems.length&&r++;for(var a=function(l){var u={},h={};n.series.each(function(c){if(!c.excludeFromTotal){var A=c.dataItems.getIndex(l);A&&Qe(A.values,function(d){var f=A.values[d].workingValue;k(f)&&(k(u[d])?u[d]+=Math.abs(f):u[d]=Math.abs(f),k(h[d])?h[d]+=f:h[d]=f)})}}),n.series.each(function(c){if(!c.excludeFromTotal){var A=c.dataItems.getIndex(l);A&&Qe(A.values,function(d){var f=A.values[d].workingValue;k(f)&&(A.setCalculatedValue(d,u[d],"total"),A.setCalculatedValue(d,100*f/u[d],"totalPercent"),A.setCalculatedValue(d,h[d],"sum"))})}})},n=this,o=i;o<r;++o)a(o)}}},t.prototype.validate=function(){this.axisLength<=0||(s.prototype.validate.call(this),this.getMinMax(),k(this._minAdjusted)||this.dataItems.each(function(e){e.value=null}),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},t.prototype.calculateZoom=function(){if(k(this.min)&&k(this.max)){var e=this.positionToValue(this.start),i=this.positionToValue(this.end),r=this.adjustDifference(e,i),a=this.adjustMinMax(e,i,r,this._gridCount,!0),n=y_(a.step);this._stepDecimalPlaces=n,e=be(e,n),i=be(i,n),a=this.adjustMinMax(e,i,r,this._gridCount,!0);var o=a.step;if(this.syncWithAxis){var l=this.getCache(e+"-"+i);k(l)&&(o=l)}else e=a.min,i=a.max;(this._minZoomed!=e||this._maxZoomed!=i||this._step!=o||this._dsc)&&(this._dsc=!1,this._minZoomed=e,this._maxZoomed=i,this._step=o,this.dispatchImmediately("selectionextremeschanged"))}},t.prototype.fixSmallStep=function(e){return 1+e==1?(e*=2,this.fixSmallStep(e)):e},t.prototype.validateAxisElements=function(){var e=this;if(k(this.max)&&k(this.min)){var i=this.minZoomed-this._step*2;if(!this.logarithmic)i=Math.floor(i/this._step)*this._step;else{var r=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;r>1?i=Math.pow(10,Math.log(this.min)*Math.LOG10E):(i=Math.floor(this.minZoomed/this._step)*this._step,i==0&&(i=this.minZoomed))}var a=this._maxZoomed+this._step;this.resetIterators();var n=this._dataItemsIterator;if(this._step==0)return;this._step=this.fixSmallStep(this._step);var o=0,l=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;i<=a;){var u=this.isInBreak(i);if(!u){var h=n.find(function(m){return m.value===i});h.__disabled&&(h.__disabled=!1),this.appendDataItem(h),h.axisBreak=void 0,(h.value!=i||l)&&(h.value=i,h.text=this.formatLabel(i),h.label&&h.label.invalid&&h.label.validate(),h.value>=this.min&&h.value<=this.max&&h.label&&(this.axisLetter=="Y"&&h.label.measuredWidth>this.ghostLabel.measuredWidth||this.axisLetter=="X"&&h.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=h.label.currentText,this.ghostLabel.validate())),this.validateDataElement(h)}o++;var c=i;if(!this.logarithmic)i+=this._step;else{var r=Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E;r>1?i=Math.pow(10,Math.log(this.min)*Math.LOG10E+o):i+=this._step}var A=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(A<1){var d=Math.round(Math.abs(Math.log(Math.abs(A))*Math.LOG10E))+2;if(d=Math.min(13,d),i=be(i,d),c==i){i=a;break}}}var f=this._axisBreaks;if(f){var p=this.renderer;de(f.iterator(),function(m){if(m.breakSize>0&&Et(m.startPoint,m.endPoint)>p.minGridDistance)for(var g=m.adjustedMin;g<=m.adjustedMax;){if(g>=m.adjustedStartValue&&g<=m.adjustedEndValue){var y=n.find(function(v){return v.value===g});y.__disabled&&(y.__disabled=!1),e.appendDataItem(y),y.axisBreak=m,y.value!=g&&(y.value=g,y.text=e.formatLabel(g),y.label&&y.label.invalid&&y.label.validate()),e.validateDataElement(y)}g+=m.adjustedStep}})}}},t.prototype.validateDataElement=function(e){s.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,r=e.value,a=e.endValue,n=this.valueToPosition(r);e.position=n;var o=n,l=this.valueToPosition(r+this._step);k(a)&&(o=this.valueToPosition(a),l=o),e.point=i.positionToPoint(n);var u=e.tick;u&&!u.disabled&&i.updateTickElement(u,n,o);var h=e.grid;h&&!h.disabled&&i.updateGridElement(h,n,o);var c=e.label;c&&!c.disabled&&i.updateLabelElement(c,n,o);var A=e.axisFill;A&&!A.disabled&&(i.updateFillElement(A,n,l),e.isRange||this.fillRule(e)),e.bullet&&i.updateBullet(e.bullet,n,o);var d=e.mask;d&&i.updateFillElement(d,n,l)},t.prototype.formatLabel=function(e){return this.adjustLabelPrecision&&e!=0?this.numberFormatter.format(e,void 0,this._stepDecimalPlaces):this.numberFormatter.format(e)},Object.defineProperty(t.prototype,"basePoint",{get:function(){var e=this.baseValue,i=this.valueToPosition(e),r=this.renderer.positionToPoint(i);return r},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseValue",{get:function(){var e=this._baseValue;return this.logarithmic&&(e=this.min),this._adapterO?this._adapterO.apply("baseValue",e):e},set:function(e){this._baseValue=e,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),t.prototype.anyToPosition=function(e){return this.valueToPosition(e)},t.prototype.valueToPoint=function(e){var i=this.valueToPosition(e),r=this.renderer.positionToPoint(i),a=this.renderer.positionToAngle(i);return{x:r.x,y:r.y,angle:a}},t.prototype.anyToPoint=function(e){return this.valueToPoint(e)},t.prototype.valueToPosition=function(e){if(k(e)){var i=this.min,r=this.max;if(k(i)&&k(r)){var a=this._difference,n=this._axisBreaks;n&&n.length>0&&Zr(n.iterator(),function(u){var h=u.adjustedStartValue,c=u.adjustedEndValue;if(k(h)&&k(c)){if(e<h)return!1;if(DA({start:h,end:c},{start:i,end:r})){h=Math.max(h,i),c=Math.min(c,r);var A=u.breakSize;e>c?i+=(c-h)*(1-A):e<h||(e=h+(e-h)*A)}}return!0});var o=void 0;if(!this.logarithmic)o=(e-i)/a;else{var l=this.treatZeroAs;k(l)&&e<=l&&(e=l),o=(Math.log(e)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)}return o}}return 0},t.prototype.invalidateLabels=function(){s.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(e){e.value=void 0}),this.invalidate())},t.prototype.positionToValue=function(e){var i=this.min,r=this.max;if(k(i)&&k(r)){var a=r-i,n=null,o=this._axisBreaks;return o&&o.length>0&&Zr(o.iterator(),function(l){var u=l.startPosition,h=l.endPosition,c=l.adjustedStartValue,A=l.adjustedEndValue;if(k(c)&&k(A)){if(c>r)return!1;if(DA({start:c,end:A},{start:i,end:r})){c=ht(c,i),A=bt(A,r);var d=l.breakSize;if(a-=(A-c)*(1-d),e>h)i+=(A-c)*(1-d);else if(!(e<u)){var f=(e-u)/(h-u);return n=c+f*(A-c),!1}}return!0}}),k(n)||(this.logarithmic?n=Math.pow(Math.E,(e*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):n=e*a+i),n}},t.prototype.xToValue=function(e){return this.positionToValue(this.pointToPosition({x:e,y:0}))},t.prototype.yToValue=function(e){return this.positionToValue(this.pointToPosition({x:0,y:e}))},t.prototype.pointToPosition=function(e){return this.renderer instanceof Nr?1-this.renderer.pointToPosition(e):this.renderer.pointToPosition(e)},t.prototype.animateMinMax=function(e,i){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:i}],this.rangeChangeDuration,this.rangeChangeEasing)},t.prototype.getMinMax=function(){var e=this;this.updateGridCount();var i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;if((!k(this._minDefined)||!k(this._maxDefined))&&(this.series.each(function(A){if(!A.ignoreMinMax){var d=A.min(e);k(d)&&d<i&&(i=d);var f=A.max(e);k(f)&&f>r&&(r=f)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(A){if(!A.ignoreMinMax){var d=bt(A.value,A.endValue),f=ht(A.value,A.endValue);(d<i||!k(i))&&(i=d),(f>r||!k(r))&&(r=f)}})),this.logarithmic){var a=this.treatZeroAs;k(a)&&i<=0&&(i=a),i<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0)}if(i==0&&r==0&&(r=.9,i=-.9),k(this._minDefined)&&(i=this._minDefined),k(this._maxDefined)&&(r=this._maxDefined),this._adapterO&&(i=this._adapterO.apply("min",i)),this._adapterO&&(r=this._adapterO.apply("max",r)),!(!k(i)||!k(r))){this._minReal=i,this._maxReal=r,i==Number.POSITIVE_INFINITY&&(i=void 0),r==Number.NEGATIVE_INFINITY&&(r=void 0);var n=this.adjustDifference(i,r);if(i=this.fixMin(i),r=this.fixMax(r),r-i<=1/Math.pow(10,15)){if(r-i!=0)this._deltaMinMax=(r-i)/2;else{var o=Math.log(Math.abs(r))*Math.LOG10E,l=Math.pow(10,Math.floor(o));l=l/10,this._deltaMinMax=l}i-=this._deltaMinMax,r+=this._deltaMinMax}i-=(r-i)*this.extraMin,r+=(r-i)*this.extraMax;var u=this.strictMinMax;k(this._maxDefined)&&(u=!0);var h=this.adjustMinMax(i,r,n,this._gridCount,u);if(i=h.min,r=h.max,n=r-i,h=this.adjustMinMax(i,r,r-i,this._gridCount,!0),i=h.min,r=h.max,this.strictMinMax&&(k(this._minDefined)?i=this._minDefined:i=this._minReal,k(this._maxDefined)?r=this._maxDefined:r=this._maxReal,r-i<=1e-8&&(i-=this._deltaMinMax,r+=this._deltaMinMax),i-=(r-i)*this.extraMin,r+=(r-i)*this.extraMax),this._adapterO&&(i=this._adapterO.apply("min",i)),this._adapterO&&(r=this._adapterO.apply("max",r)),this._step=h.step,!k(i)&&!k(r)&&(this.start=0,this.end=1,this.renderer.labels.each(function(A){A.dataItem.text=""})),(this._minAdjusted!=i||this._maxAdjusted!=r)&&k(i)&&k(r)){var c=this._minMaxAnimation;if(this._extremesChanged&&k(this._minAdjusted)&&k(this._maxAdjusted)&&this.inited){if(c&&!c.isFinished()&&this._finalMax==r&&this._finalMin==i)return;this._finalMin=i,this._finalMax=r,c=this.animateMinMax(i,r),c&&!c.isFinished()?(c.events.on("animationprogress",this.validateDataItems,this),c.events.on("animationended",function(){e.series.each(function(A){A.validate()}),e.validateDataItems(),e.handleSelectionExtremesChange()}),this._minMaxAnimation=c):this.series.each(function(A){A.invalidate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(c&&!c.isFinished()&&this._finalMax==r&&this._finalMin==i)return;this._minAdjusted=i,this._maxAdjusted=r,this._finalMin=i,this._finalMax=r,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged"),this._saveMinMax(i,r)}}this._extremesChanged=!1,this._difference=this.adjustDifference(i,r)}},t.prototype.fixMin=function(e){return e},t.prototype.fixMax=function(e){return e},t.prototype.adjustMinMax=function(e,i,r,a,n){a<=1&&(a=1),a=Math.round(a);var o=e,l=i;r===0&&(r=Math.abs(i));var u=Math.log(Math.abs(r))*Math.LOG10E,h=Math.pow(10,Math.floor(u));h=h/10;var c=h;n&&(c=0),this.logarithmic?(e<=0&&(e=this.baseValue),e==1/0&&(e=1),i==-1/0&&(i=10),this.strictMinMax?(this._minDefined>0?e=this._minDefined:e=e,this._maxDefined>0&&(i=i)):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),i=Math.pow(10,Math.ceil(Math.log(Math.abs(i))*Math.LOG10E)))):(n?(e=Math.floor(e/h)*h,i=Math.ceil(i/h)*h):(e=Math.ceil(e/h)*h-c,i=Math.floor(i/h)*h+c),e<0&&o>=0&&(e=0),i>0&&l<=0&&(i=0)),u=Math.log(Math.abs(r))*Math.LOG10E,h=Math.pow(10,Math.floor(u)),h=h/10;var A=Math.ceil(r/a/h)*h,d=Math.pow(10,Math.floor(Math.log(Math.abs(A))*Math.LOG10E)),f=Math.ceil(A/d);f>5?f=10:f<=5&&f>2&&(f=5),A=Math.ceil(A/(d*f))*d*f,this.maxPrecision<Number.MAX_VALUE&&A!=QC(A,this.maxPrecision)&&(A=QC(A,this.maxPrecision));var p=0;if(d<1&&(p=Math.round(Math.abs(Math.log(Math.abs(d))*Math.LOG10E))+1,A=be(A,p)),!this.logarithmic){var m=Math.floor(e/A);e=be(A*m,p);var g=void 0;n?g=Math.floor(i/A):g=Math.ceil(i/A),g==m&&g++,i=be(A*g,p),i<l&&(i=i+A),e>o&&(e=e-A)}return{min:e,max:i,step:A}},Object.defineProperty(t.prototype,"min",{get:function(){var e=this._minAdjusted;return k(e)||(e=this._minDefined),e},set:function(e){this._minDefined!=e&&(this._minDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(e){this.setPropertyValue("extraMin",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(e){this.setPropertyValue("extraMax",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){var e=this._maxAdjusted;return k(e)||(e=this._maxDefined),e},set:function(e){this._maxDefined!=e&&(this._maxDefined=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(e){this.setPropertyValue("adjustLabelPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.registerSeries=function(e){return new Qt([s.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},t.prototype.handleSelectionExtremesChange=function(){var e=this,i,r,a=!0;if(de(this.series.iterator(),function(d){if(!d.ignoreMinMax&&!d.isHidden&&!d.outOfRange){d.visible&&!d.isHiding&&(a=!1);var f=d.selectionMin(e),p=d.selectionMax(e);k(f)&&(!k(i)||f<i)&&(i=f),k(p)&&(!k(r)||p>r)&&(r=p)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(d){if(!d.ignoreMinMax){var f=bt(d.value,d.endValue),p=ht(d.value,d.endValue);f<i&&(i=f),p>r&&(r=p)}}),k(this._minDefined)?this.strictMinMax?i=this._minDefined:i=this.min:this.strictMinMax&&(i=this._minReal),k(this._maxDefined)?this.strictMinMax?r=this._maxDefined:r=this.max:this.strictMinMax&&(r=this._maxReal),i==r){i-=this._deltaMinMax,r+=this._deltaMinMax;var n=this.adjustMinMax(i,r,0,this._gridCount,this.strictMinMax);i=n.min,r=n.max}var o=this.adjustDifference(i,r),l=this.adjustMinMax(i,r,o,this._gridCount);i=l.min,r=l.max,i-=(r-i)*this.extraMin,r+=(r-i)*this.extraMax,i=Le(i,this.min,this.max),r=Le(r,this.min,this.max),o=this.adjustDifference(i,r),l=this.adjustMinMax(i,r,o,this._gridCount,!0),i=l.min,r=l.max,this.strictMinMax&&(i=ht(i,this._minDefined),r=bt(r,this._maxDefined));var u=l.step;this.syncWithAxis&&(l=this.syncAxes(i,r,u),i=l.min,r=l.max,this.invalidate()),u=l.step,this._difference=this.adjustDifference(this.min,this.max);var h=this.valueToPosition(i),c=this.valueToPosition(r);a&&!this.syncWithAxis&&(h=0,c=1);var A=0;this.syncWithAxis?(A=5,this.setCache(i+"-"+r,u)):((this._step!=u||this._minZoomed!=i||this._maxZoomed!=r)&&(this._dsc=!0),this._step=u,this._minZoomed=i,this._maxZoomed=r),this.keepSelection||this.zoom({start:h,end:c},!1,!1,A)},Object.defineProperty(t.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(e){this.setPropertyValue("strictMinMax",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(e){this.setPropertyValue("logarithmic",e)&&(this.invalidate(),this.series.each(function(i){i.invalidateDataItems()}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(e){this.setPropertyValue("keepSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(e){this.setPropertyValue("includeRangesInMinMax",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(e){this.setPropertyValue("maxPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(e){this.setPropertyValue("extraTooltipPrecision",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.handleExtremesChange=function(){var e=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){var i=0;this.dataItems.each(function(r){r.label&&r.label.pixelWidth>i&&(e.ghostLabel.text=r.label.currentText)})}},t.prototype.getX=function(e,i,r,a,n){return this.renderer.positionToPoint(this.getPositionX(e,i,r,a,n)).x},t.prototype.getPositionX=function(e,i,r,a,n){var o=e.getWorkingValue(i);N(a)||(a="valueX");var l=e.getValue(a,"stack");k(o)||(o=this.baseValue,this.logarithmic&&l>0&&(o=0));var u=this.valueToPosition(o+l);return n&&(u=Le(u,n.start,n.end)),u},t.prototype.getY=function(e,i,r,a,n){return this.renderer.positionToPoint(this.getPositionY(e,i,r,a,n)).y},t.prototype.getPositionY=function(e,i,r,a,n){var o=e.getWorkingValue(i);N(a)||(a="valueY");var l=e.getValue(a,"stack");k(o)||(o=this.baseValue,this.logarithmic&&l>0&&(o=0));var u=this.valueToPosition(o+l);return n&&(u=Le(u,n.start,n.end)),u},t.prototype.getAngle=function(e,i,r,a,n){var o=e.getWorkingValue(i),l=e.getValue(a,"stack");k(o)||(o=this.baseValue);var u=this.valueToPosition(o+l);return n&&(u=Le(u,n.start,n.end)),this.positionToAngle(u)},t.prototype.getAnyRangePath=function(e,i,r){var a=this.valueToPosition(e),n=this.valueToPosition(i);return this.getPositionRangePath(a,n)},t.prototype.getTooltipText=function(e){var i=be(this.positionToValue(e),this._stepDecimalPlaces+this.extraTooltipPrecision),r=this.tooltip.numberFormatter.format(i);return this._adapterO?this._adapterO.apply("getTooltipText",r):r},t.prototype.zoomToValues=function(e,i,r,a){var n=(e-this.min)/(this.max-this.min),o=(i-this.min)/(this.max-this.min);this.zoom({start:n,end:o},r,a)},Object.defineProperty(t.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:ht(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:bt(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),t.prototype.fixAxisBreaks=function(){var e=this;s.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(r){var a=r.adjustedStartValue,n=r.adjustedEndValue,o=n-a,l=Math.ceil(o*r.breakSize)*e._gridCount/(e.max-e.min),u=e.adjustMinMax(a,n,o,l,!0);r.adjustedStep=u.step,r.adjustedMin=u.min,r.adjustedMax=u.max}),this._difference=this.adjustDifference(this.min,this.max)},t.prototype.getPositionLabel=function(e){var i=this.positionToValue(e);return this.numberFormatter.format(i)},t.prototype.showTooltipAt=function(e){this.showTooltipAtPosition(this.valueToPosition(e))},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(t.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(e){var i=this;this.setPropertyValue("syncWithAxis",e,!0)&&e&&(this._disposers.push(e.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){i.clearCache(),i._disposers.push(E.events.once("exitframe",function(){i.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(e){this.setPropertyValue("treatZeroAs",e,!0)},enumerable:!0,configurable:!0}),t.prototype.syncAxes=function(e,i,r){var a=this.syncWithAxis;if(a){k(e)||(e=this.min),k(i)||(i=this.max),k(r)||(r=this._step);var n=Math.round((a.maxZoomed-a.minZoomed)/a.step),o=Math.round((i-e)/r);if(k(n)&&k(o))for(var l=!1,u=0,h=(i-e)*.01,c=e,A=i,d=r;l!=!0;)if(l=this.checkSync(c,A,d,n),u++,u>1e3&&(l=!0),l)e=c,i=A,r=d;else{u/3==Math.round(u/3)?(c=e-h*u,e>=0&&c<0&&(c=0)):(A=i+h*u,A<=0&&A>0&&(A=0));var f=this.adjustMinMax(c,A,A-c,this._gridCount,!0);c=f.min,A=f.max,d=f.step}}return{min:e,max:i,step:r}},t.prototype.checkSync=function(e,i,r,a){for(var n=(i-e)/r,o=1;o<a;o++)if(be(n/o,1)==a||n*o==a)return!0;return!1},t.prototype.processConfig=function(e){e&&N(e.syncWithAxis)&&ft(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+e.syncWithAxis+'" found for `syncWithAxis`'),delete e.xAxis)),s.prototype.processConfig.call(this,e)},t.prototype._saveMinMax=function(e,i){},t}(yd);E.registeredClasses.ValueAxis=je;E.registeredClasses.ValueAxisDataItem=Zo;var rv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="DateAxisBreak",e.applyTheme(),e}return Object.defineProperty(t.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(e){this.setPropertyValue("startDate",e)&&(this.startValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(e){this.setPropertyValue("endDate",e)&&(this.endValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(af);E.registeredClasses.DateAxisBreak=rv;var Kh=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="DateAxisDataItem",e.applyTheme(),e.values.date={},e.values.endDate={},e}return Object.defineProperty(t.prototype,"date",{get:function(){return this.dates.date},set:function(e){this.setDate("date",e),this.value=e.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(e){this.setDate("endDate",e),this.endValue=e.getTime()},enumerable:!0,configurable:!0}),t}(Zo);var Pt=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._gapBreaks=!1,e.gridIntervals=new xt,e.groupIntervals=new xt,e.dateFormats=new Nt,e.periodChangeDateFormats=new Nt,e._baseIntervalReal={timeUnit:"day",count:1},e._prevSeriesTime={},e._minDifference={},e._firstWeekDay=1,e.groupMin={},e.groupMax={},e._intervalMax={},e._intervalMin={},e.className="DateAxis",e.setPropertyValue("markUnitChange",!0),e.snapTooltip=!0,e.tooltipPosition="pointer",e.setPropertyValue("groupData",!1),e.groupCount=200,e.events.on("parentset",e.getDFFormatter,e,!1),e.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),e.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),e.axisFieldName="date",e.applyTheme(),e}return t.prototype.fillRule=function(e){var i=e.value,r=e.component,a=r._gridInterval,n=Sr(a.timeUnit,a.count);Math.round((i-r.min)/n)/2==Math.round(Math.round((i-r.min)/n)/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},t.prototype.createDataItem=function(){return new Kh},t.prototype.createAxisBreak=function(){return new rv},t.prototype.validateDataItems=function(){var e=this.start,i=this.end,r=this.baseDuration,a=(this.max-this.min)/r;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),s.prototype.validateDataItems.call(this);var n=Sr(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/n),this._deltaMinMax=this.baseDuration/2;var o=(this.max-this.min)/r;e=e+(i-e)*(1-a/o),this.zoom({start:e,end:i},!1,!0)},t.prototype.handleSelectionExtremesChange=function(){},t.prototype.getIntervalMax=function(e){return this._intervalMax[e.timeUnit+e.count]},t.prototype.getIntervalMin=function(e){return this._intervalMin[e.timeUnit+e.count]},t.prototype.calculateZoom=function(){var e=this;s.prototype.calculateZoom.call(this);var i=this.adjustDifference(this._minZoomed,this._maxZoomed),r=!1;if(this.groupData&&N(i)){var a=this.mainBaseInterval,n=this.getIntervalMin(a),o=this.getIntervalMax(a),l=n+(o-n)*this.start,u=n+(o-n)*this.end,h=this.adjustDifference(l,u),c=h+(this.startLocation+(1-this.endLocation))*this.baseDuration,A=void 0;this.groupInterval?A=En({},this.groupInterval):(A=this.chooseInterval(0,c,this.groupCount,this.groupIntervals),Sr(A.timeUnit,A.count)<Sr(a.timeUnit,a.count)&&(A=En({},a))),this._groupInterval=A;var d=A.timeUnit+A.count;this._currentDataSetId!=d&&(this._currentDataSetId=d,this.dispatch("groupperiodchanged")),this.series.each(function(p){p.baseAxis==e&&p.setDataSet(e._currentDataSetId)&&(r=!0)})}var f=this.chooseInterval(0,i,this._gridCount);Sr(f.timeUnit,f.count)<this.baseDuration&&(f=En({},this.baseInterval)),this._gridInterval=f,this._nextGridUnit=k_(f.timeUnit),this._intervalDuration=Sr(f.timeUnit,f.count),this._gridDate=Jr(new Date(this.minZoomed-Sr(f.timeUnit,f.count)),f.timeUnit,f.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),de(this.series.iterator(),function(p){if(p.baseAxis==e){var m=p.getAxisField(e),g=Jr(new Date(e._minZoomed+e.baseDuration*.05),e.baseInterval.timeUnit,e.baseInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone).getTime(),y=g.toString(),v=p.dataItemsByAxis.getKey(e.uid).getKey(y+p.currentDataSetId),_=0;e.start!=0&&(v?(v=e.findFirst(v,g,m),_=v.index):_=p.dataItems.findClosestIndex(e._minZoomed,function(I){return I[m]},"left"));var S=e.baseInterval,F=Xs(Jr(new Date(e._maxZoomed),S.timeUnit,S.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone),S.timeUnit,S.count,e._df.utc).getTime(),P=F.toString(),D=p.dataItemsByAxis.getKey(e.uid).getKey(P+p.currentDataSetId),$=p.dataItems.length;e.end!=1&&(D?$=D.index:(F-=1,$=p.dataItems.findClosestIndex(F,function(I){return I[m]},"right"),$++)),p.max(e)<g?(p.startIndex=p.dataItems.length,p.endIndex=p.dataItems.length,p.outOfRange=!0):p.min(e)>F?(p.startIndex=0,p.endIndex=0,p.outOfRange=!0):(p.outOfRange=!1,p.startIndex=_,p.endIndex=$),!r&&p.dataRangeInvalid&&p.validateDataRange()}})},t.prototype.findFirst=function(e,i,r){var a=e.index;if(a>0){var n=e.component,o=n.dataItems.getIndex(a-1),l=o[r];return!l||l.getTime()<i?e:this.findFirst(o,i,r)}else return e},t.prototype.validateData=function(){s.prototype.validateData.call(this),k(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(t.prototype,"minDifference",{get:function(){var e=this,i=Number.MAX_VALUE;return this.series.each(function(r){i>e._minDifference[r.uid]&&(i=e._minDifference[r.uid])}),(i==Number.MAX_VALUE||i==0)&&(i=Sr("day")),i},enumerable:!0,configurable:!0}),t.prototype.seriesDataChangeUpdate=function(e){this._minDifference[e.uid]=Number.MAX_VALUE},t.prototype.postProcessSeriesDataItems=function(e){var i=this;this._firstWeekDay=this.getFirstWeekDay(),e?this.seriesGroupUpdate(e):this.series.each(function(r){i.seriesGroupUpdate(r)}),this.addEmptyUnitsBreaks()},t.prototype.seriesGroupUpdate=function(e){var i=this;JSON.stringify(e._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(e._baseInterval[this.uid]=this.mainBaseInterval,e.mainDataSet.each(function(r){i.postProcessSeriesDataItem(r)}),this.groupData&&this.groupSeriesData(e))},t.prototype.groupSeriesData=function(e){var i=this;if(e.baseAxis==this&&e.dataItems.length>0&&!e.dataGrouped){e.bulletsContainer.removeChildren();var r=[],a=this.mainBaseInterval,n=Sr(a.timeUnit,a.count);this.groupIntervals.each(function(o){var l=Sr(o.timeUnit,o.count);(l>n&&l<i.max-i.min||i.groupInterval)&&r.push(o)}),e._dataSets&&(e._dataSets.each(function(o,l){l.each(function(u){u.dispose()}),l.clear()}),e._dataSets.clear()),e.dataGrouped=!0,Ce(r,function(o){var l="date"+i.axisLetter,u=o.timeUnit+o.count,h=new Nh(e.mainDataSet.template.clone());e.dataSets.setKey(u,h);var c=e.mainDataSet,A=Number.NEGATIVE_INFINITY,d=0,f,p=[];Qe(e.dataFields,function(g,y){var v=g;v!=l&&v.indexOf("Show")==-1&&p.push(v)});var m;c.each(function(g){var y=g.getDate(l);if(y){var v=y.getTime();m=Jr(new Date(v),o.timeUnit,o.count,i._df.firstDayOfWeek,i._df.utc,void 0,i._df.timezoneMinutes,i._df.timezone);var _=m.getTime();A<_?(f&&e._adapterO&&Ce(p,function(S){f.values[S].value=e._adapterO.apply("groupDataItem",{dataItem:f,interval:o,dataField:S,date:m,value:f.values[S].value}).value,f.values[S].workingValue=f.values[S].value}),f=h.create(),f.dataContext={},f.setWorkingLocation("dateX",e.dataItems.template.locations.dateX,0),f.setWorkingLocation("openDateX",e.dataItems.template.locations.openDateX,0),f.setWorkingLocation("dateY",e.dataItems.template.locations.dateY,0),f.setWorkingLocation("openDateY",e.dataItems.template.locations.openDateY,0),f.component=e,f.setDate(l,m),f._index=d,d++,Ce(p,function(S){var F=g.values[S];if(F){var P=F.value;e._adapterO&&(P=e._adapterO.apply("groupValue",{dataItem:g,interval:o,dataField:S,date:m,value:P}).value);var D=f.values[S];k(P)?(D.value=P,D.workingValue=P,D.open=P,D.close=P,D.low=P,D.high=P,D.sum=P,D.average=P,D.count=1):D.count=0}}),i.postProcessSeriesDataItem(f,o),Qe(e.propertyFields,function(S,F){var P=S,D=g.properties[S];N(D)&&(f.hasProperties=!0,f.setProperty(P,D))}),f.groupDataItems=[g],A=_):f&&(Ce(p,function(S){var F=e.groupFields[S],P=g.values[S];if(P){var D=P.value;if(e._adapterO&&(D=e._adapterO.apply("groupValue",{dataItem:g,interval:o,dataField:S,date:m,value:D}).value),k(D)){var $=f.values[S];k($.open)||($.open=D),$.close=D,($.low>D||!k($.low))&&($.low=D),($.high<D||!k($.high))&&($.high=D),k($.sum)?$.sum+=D:$.sum=D,$.count++,$.average=$.sum/$.count,k($[F])&&($.value=$[F],$.workingValue=$.value)}}}),La(g.properties,f.properties),Qe(e.propertyFields,function(S,F){var P=S,D=g.properties[S];N(D)&&(f.hasProperties=!0,f.setProperty(P,D))}),f.groupDataItems.push(g))}f&&La(g.dataContext,f.dataContext)}),f&&e._adapterO&&Ce(p,function(g){f.values[g].value=e._adapterO.apply("groupDataItem",{dataItem:f,interval:o,dataField:g,date:m,value:f.values[g].value}).value,f.values[g].workingValue=f.values[g].value})}),this.calculateZoom()}},t.prototype.getDFFormatter=function(){this._df=this.dateFormatter},t.prototype.postProcessSeriesDataItem=function(e,i){var r=this,a="";i?a=i.timeUnit+i.count:i=this.mainBaseInterval;var n=e.component,o=n.dataItemsByAxis.getKey(this.uid);Qe(e.dates,function(l){var u=e.getDate(l),h=u.getTime(),c=Jr(new Date(h),i.timeUnit,i.count,r._firstWeekDay,r._df.utc,void 0,r._df.timezoneMinutes,r._df.timezone),A=c.getTime(),d=Xs(new Date(A),i.timeUnit,i.count,r._df.utc);e.setCalculatedValue(l,A,"open"),e.setCalculatedValue(l,d.getTime(),"close"),o.setKey(A+a,e)})},t.prototype.addEmptyUnitsBreaks=function(){var e=this;if(this.skipEmptyPeriods&&k(this.min)&&k(this.max)){var i=this.baseInterval.timeUnit,r=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var a=Jr(new Date(this.min),i,r,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),n=void 0,o=function(){Xs(a,i,r,l._df.utc);var u=a.getTime(),h=u.toString(),c=MA(l.series.iterator(),function(A){return!!A.dataItemsByAxis.getKey(e.uid).getKey(h+A.currentDataSetId)});c?n&&(n.endDate=new Date(u-1),n=void 0):n||(n=l.axisBreaks.create(),n.startDate=new Date(u),l._gapBreaks=!0)},l=this;a.getTime()<this.max-this.baseDuration;)o()}},t.prototype.fixAxisBreaks=function(){var e=this;s.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(r){var a=Math.ceil(e._gridCount*(Math.min(e.end,r.endPosition)-Math.max(e.start,r.startPosition))/(e.end-e.start));r.gridInterval=e.chooseInterval(0,r.adjustedEndValue-r.adjustedStartValue,a);var n=Jr(new Date(r.adjustedStartValue),r.gridInterval.timeUnit,r.gridInterval.count,e._firstWeekDay,e._df.utc,void 0,e._df.timezoneMinutes,e._df.timezone);n.getTime()>r.startDate.getTime()&&Xs(n,r.gridInterval.timeUnit,r.gridInterval.count,e._df.utc),r.gridDate=n})},t.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},t.prototype.getGridDate=function(e,i){var r=this._gridInterval.timeUnit,a=this._gridInterval.count;Jr(e,r,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var n=e.getTime(),o=dd(e),l=Xs(o,r,i,this._df.utc).getTime(),u=this.isInBreak(l);u&&u.endDate&&(o=new Date(u.endDate.getTime()),Jr(o,r,a,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),o.getTime()<u.endDate.getTime()&&Xs(o,r,a,this._df.utc),l=o.getTime());var h=this.adjustDifference(n,l),c=Math.round(h/Sr(r));return c<a?this.getGridDate(e,i+a):o},t.prototype.getBreaklessDate=function(e,i,r){var a=new Date(e.endValue);Jr(a,i,r,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),Xs(a,i,r,this._df.utc);var n=a.getTime();return e=this.isInBreak(n),e?this.getBreaklessDate(e,i,r):a},t.prototype.validateAxisElements=function(){var e=this;if(k(this.max)&&k(this.min)){this.calculateZoom();var i=this._gridDate.getTime(),r=this._gridInterval.timeUnit,a=this._gridInterval.count,n=dd(this._gridDate),o=this._dataItemsIterator;this.resetIterators();for(var l=function(){var c=u.getGridDate(dd(n),a);i=c.getTime();var A=dd(c);A=Xs(A,r,a,u._df.utc);var d=u.dateFormats.getKey(r);u.markUnitChange&&n&&Yb(c,n,u._nextGridUnit,u._df.utc)&&r!=="year"&&(d=u.periodChangeDateFormats.getKey(r));var f=u._df.format(c,d),p=o.find(function(m){return m.text===f});p.__disabled&&(p.__disabled=!1),u.appendDataItem(p),p.axisBreak=void 0,p.date=c,p.endDate=A,p.text=f,u.validateDataElement(p),n=c},u=this;i<=this._maxZoomed;)l();var h=this.renderer;this._axisBreaks&&de(this._axisBreaks.iterator(),function(c){if(c.breakSize>0){var A=c.gridInterval.timeUnit,d=c.gridInterval.count;if(Et(c.startPoint,c.endPoint)>h.minGridDistance*4)for(var f=c.gridDate.getTime(),p,m=0,g=function(){var y=dd(c.gridDate);if(f=Xs(y,A,d*m,e._df.utc).getTime(),m++,f>c.adjustedStartValue&&f<c.adjustedEndValue){var v=dd(y);v=Xs(v,A,d,e._df.utc);var _=e.dateFormats.getKey(A);e.markUnitChange&&p&&Yb(y,p,e._nextGridUnit,e._df.utc)&&A!=="year"&&(_=e.periodChangeDateFormats.getKey(A));var S=e._df.format(y,_),F=o.find(function(P){return P.text===S});F.__disabled&&(F.__disabled=!1),e.appendDataItem(F),F.axisBreak=c,c.dataItems.moveValue(F),F.date=y,F.endDate=v,F.text=S,p=y,e.validateDataElement(F)}};f<=c.adjustedMax;)g()}})}},t.prototype.validateDataElement=function(e){if(e.itemIndex=this._axisItemCount,this._axisItemCount++,k(this.max)&&k(this.min)){var i=this.renderer,r=e.value,a=e.endValue;k(a)||(a=r);var n=this.valueToPosition(r),o=this.valueToPosition(a),l=o;!e.isRange&&this._gridInterval.count>this.baseInterval.count&&(o=n+(o-n)/(this._gridInterval.count/this.baseInterval.count)),e.position=n;var u=e.tick;u&&!u.disabled&&i.updateTickElement(u,n,o);var h=e.grid;h&&!h.disabled&&i.updateGridElement(h,n,o);var c=e.axisFill;c&&!c.disabled&&(i.updateFillElement(c,n,l),e.isRange||this.fillRule(e));var A=e.mask;A&&i.updateFillElement(A,n,o),e.bullet&&i.updateBullet(e.bullet,n,o);var d=e.label;if(d&&!d.disabled){var f=d.location;f==0&&(this._gridInterval.count==1&&this._gridInterval.timeUnit!="week"&&!e.isRange?f=.5:f=0),i.updateLabelElement(d,n,o,f)}}},Object.defineProperty(t.prototype,"baseDuration",{get:function(){return Sr(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),t.prototype.adjustMinMax=function(e,i){return{min:e,max:i,step:this.baseDuration}},t.prototype.fixMin=function(e){var i=this.baseInterval,r=Jr(new Date(e),i.timeUnit,i.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),a=Xs(new Date(r),i.timeUnit,i.count,this._df.utc).getTime();return r+(a-r)*this.startLocation},t.prototype.fixMax=function(e){var i=this.baseInterval,r=Jr(new Date(e),i.timeUnit,i.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime(),a=Xs(new Date(r),i.timeUnit,i.count,this._df.utc).getTime();return r+(a-r)*this.endLocation},t.prototype.chooseInterval=function(e,i,r,a){a||(a=this.gridIntervals);var n=a.getIndex(e),o=Sr(n.timeUnit,n.count),l=a.length-1;if(e>=l)return En({},a.getIndex(l));var u=Math.ceil(i/o);return i<o&&e>0?En({},a.getIndex(e-1)):u<=r?En({},a.getIndex(e)):e+1<a.length?this.chooseInterval(e+1,i,r,a):En({},a.getIndex(e))},t.prototype.formatLabel=function(e){return this._df.format(e)},t.prototype.dateToPosition=function(e){return this.valueToPosition(e.getTime())},t.prototype.anyToPosition=function(e){return e instanceof Date?this.dateToPosition(e):this.valueToPosition(e)},t.prototype.dateToPoint=function(e){var i=this.dateToPosition(e),r=this.renderer.positionToPoint(i),a=this.renderer.positionToAngle(i);return{x:r.x,y:r.y,angle:a}},t.prototype.anyToPoint=function(e){return e instanceof Date?this.dateToPoint(e):this.valueToPoint(e)},t.prototype.positionToDate=function(e){return new Date(this.positionToValue(e))},t.prototype.getPositionX=function(e,i,r,a,n){var o=this.getTimeByLocation(e,i,r);k(o)||(o=this.baseValue);var l=this.valueToPosition(o);return n&&(l=Le(l,n.start,n.end)),l},t.prototype.getPositionY=function(e,i,r,a,n){var o=this.getTimeByLocation(e,i,r),l=e.getValue("valueX","stack");k(o)||(o=this.baseValue);var u=this.valueToPosition(o+l);return n&&(u=Le(u,n.start,n.end)),u},t.prototype.getAngle=function(e,i,r,a,n){var o=this.getTimeByLocation(e,i,r),l=e.getValue(a,"stack");k(o)||(o=this.baseValue);var u=this.valueToPosition(o+l);return n&&(u=Le(u,n.start,n.end)),this.positionToAngle(u)},t.prototype.getTimeByLocation=function(e,i,r){if(N(i)){k(r)||(r=e.workingLocations[i],k(r)||(r=0));var a=e.values[i].open,n=e.values[i].close,o=e.values[i].workingValue,l=e.values[i].value,u=l-o;if(a-=u,n-=u,k(a)&&k(n))return a+(n-a)*r}},t.prototype.processSeriesDataItem=function(e,i){var r=e.component,a,n=e["date"+i];if(k(this.timezoneOffset)?(n.setTime(n.getTime()+(n.getTimezoneOffset()-this.timezoneOffset)*6e4),e.setValue("date"+i,n.getTime(),0)):N(this.timezone)&&(n=ef(n,this.timezone),e.setValue("date"+i,n.getTime(),0),e["date"+i]=n),n)a=n.getTime();else return;var o=e["openDate"+i],l=this._prevSeriesTime[r.uid],u;if(o&&(u=o.getTime()),k(u)){var h=Math.abs(a-u);this._minDifference[r.uid]>h&&(this._minDifference[r.uid]=h)}var c=a-l;c>0&&this._minDifference[r.uid]>c&&(this._minDifference[r.uid]=c),this._prevSeriesTime[r.uid]=a,r._baseInterval[this.uid]&&this.postProcessSeriesDataItem(e)},t.prototype.updateAxisBySeries=function(){s.prototype.updateAxisBySeries.call(this);var e=this.chooseInterval(0,this.minDifference,1);this.minDifference>=Sr("day",27)&&e.timeUnit=="week"&&(e.timeUnit="month",e.count=1),e.timeUnit=="month"&&(this.minDifference>=Sr("day",29*2)&&e.count==1&&(e.count=2),this.minDifference>=Sr("day",29*3)&&e.count==2&&(e.count=3),this.minDifference>=Sr("day",29*6)&&e.count==5&&(e.count=6)),this.minDifference>=Sr("hour",23)&&e.timeUnit=="hour"&&(e.timeUnit="day",e.count=1),this.minDifference>=Sr("week",1)-Sr("hour",1)&&e.timeUnit=="day"&&(e.timeUnit="week",e.count=1),this.minDifference>=Sr("year",1)-Sr("day",1.01)&&e.timeUnit=="month"&&(e.timeUnit="year",e.count=1),this._baseIntervalReal=e,this._mainBaseInterval=e},Object.defineProperty(t.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(e){JSON.stringify(this._baseInterval)!=JSON.stringify(e)&&(this._baseInterval=e,this._mainBaseInterval=e,k(e.count)||(e.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(e){if(e){var i=this.axisBreaks.template;i.startLine.disabled=!0,i.endLine.disabled=!0,i.fillShape.disabled=!0,i.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",e)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(e){this.setPropertyValue("tooltipDateFormat",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(e){this.setPropertyValue("markUnitChange",e)&&this.invalidateData()},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var i,r=this.positionToDate(e);if(r=Jr(r,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=r,N(this.tooltipDateFormat))i=this._df.format(r,this.tooltipDateFormat,["day","month","week","year"].indexOf(this.baseInterval.timeUnit)==-1);else{var a=this.dateFormats.getKey(this.baseInterval.timeUnit);a?i=this._df.format(r,a):i=this.getPositionLabel(e)}return this._adapterO?this._adapterO.apply("getTooltipText",i):i},t.prototype.roundPosition=function(e,i,r){var a=this.baseInterval,n=a.timeUnit,o=a.count,l=this.positionToDate(e);if(Jr(l,n,o,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),i>0&&Xs(l,n,i*o,this._df.utc),r>0&&r<1&&l.setTime(l.getTime()+this.baseDuration*r),this.isInBreak(l.getTime()))for(;l.getTime()<this.max&&(Xs(l,n,o,this._df.utc),!!this.isInBreak(l.getTime())););return this.dateToPosition(l)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getSeriesDataItem=function(e,i,r){var a=this.positionToValue(i),n=.5;this.axisLetter=="Y"?n=e.dataItems.template.locations.dateY:n=e.dataItems.template.locations.dateX;var o=a-n*this.baseDuration,l=Jr(new Date(a),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),u=Jr(new Date(a+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);u.getTime()>l.getTime()&&Math.abs(u.getTime()-o)<Math.abs(o-l.getTime())&&(l=u);var h=e.dataItemsByAxis.getKey(this.uid),c=h.getKey(l.getTime()+e.currentDataSetId);if(!c&&r){var A;this.axisLetter=="Y"?A="dateY":A="dateX",c=e.dataItems.getIndex(e.dataItems.findClosestIndex(l.getTime(),function(d){return d[A]?d[A].getTime():-1/0},"any"))}return c},t.prototype.getPositionLabel=function(e){var i=this.positionToDate(e);return this._df.format(i,this.getCurrentLabelFormat())},t.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},t.prototype.initRenderer=function(){s.prototype.initRenderer.call(this);var e=this.renderer;e&&(e.ticks.template.location=0,e.grid.template.location=0,e.labels.template.location=0,e.baseGrid.disabled=!0)},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.animateMinMax=function(e,i){var r=this,a=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:i}],this.rangeChangeDuration,this.rangeChangeEasing);return a.events.on("animationprogress",function(){r.dispatch("extremeschanged")}),a},t.prototype.handleExtremesChange=function(){if(s.prototype.handleExtremesChange.call(this),this.groupData){var e=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[e]=this._finalMin,this.groupMax[e]=this._finalMax}},t.prototype.zoomToDates=function(e,i,r,a,n){e=this._df.parse(e),i=this._df.parse(i),this.zoomToValues(e.getTime(),i.getTime(),r,a,n)},t.prototype.zoomToValues=function(e,i,r,a,n){var o=this;if(this.groupData){var h=this.adjustDifference(e,i),c=!1;i==this.max&&(c=!0);var A=!1;if(e==this.min&&(A=!0),N(h)){var d=this.mainBaseInterval,f=this.chooseInterval(0,h,this.groupCount,this.groupIntervals);(f.timeUnit==d.timeUnit&&f.count<d.count||Sr(f.timeUnit,1)<Sr(d.timeUnit,1))&&(f=En({},d));var p=f.timeUnit+f.count,m=this.groupMin[p],g=this.groupMax[p];(!k(m)||!k(g))&&(m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,this.series.each(function(_){var S=_.min(o),F=_.max(o);if(_._dataSets){var P=_._dataSets.getKey(f.timeUnit+f.count);if(P){var D=P.getIndex(0),$=P.getIndex(P.length-1);D&&(_.xAxis==o?S=D.dateX.getTime():_.yAxis==o&&(S=D.dateY.getTime())),$&&(_.xAxis==o?F=$.dateX.getTime():_.yAxis==o&&(F=$.dateY.getTime()))}}F=Jr(Xs(new Date(F),f.timeUnit,1,o._df.utc),f.timeUnit,1,o._df.firstDayOfWeek,o._df.utc,void 0,o._df.timezoneMinutes,o._df.timezone).getTime(),S<m&&(m=S),F>g&&(g=F)}),this.groupMin[p]=m,this.groupMax[p]=g),e=Le(e,m,g),i=Le(i,m,g),n&&(c&&(e=i-h,e=Le(e,m,g)),A&&(i=e+h,i=Le(i,m,g)));var l=(e-m)/(g-m),u=(i-m)/(g-m);this.zoom({start:l,end:u},r,a)}}else{var l=this.valueToPosition(e),u=this.valueToPosition(i);this.zoom({start:l,end:u},r,a)}},t.prototype.asIs=function(e){return e=="baseInterval"||s.prototype.asIs.call(this,e)},t.prototype.copyFrom=function(e){var i=this;s.prototype.copyFrom.call(this,e),this.dateFormats=e.dateFormats,this.periodChangeDateFormats=e.periodChangeDateFormats,this.groupIntervals.clear(),e.groupIntervals.each(function(r){i.groupIntervals.push(En({},r))}),this.gridIntervals.clear(),e.gridIntervals.each(function(r){i.gridIntervals.push(En({},r))}),e._baseInterval&&(this.baseInterval=e._baseInterval)},t.prototype.showTooltipAtPosition=function(e,i){var r=this;if(i||(e=this.toAxisPosition(e)),this.snapTooltip){var a=this.positionToDate(e),n=a.getTime(),o;if(this.series.each(function(h){if(h.baseAxis==r){var c=r.getSeriesDataItem(h,e,!0);if(c){var A=void 0;h.xAxis==r&&(A=c.dateX),h.yAxis==r&&(A=c.dateY),o?Math.abs(o.getTime()-n)>Math.abs(A.getTime()-n)&&(o=A):o=A}}}),o){var l=o.getTime();o=Jr(new Date(l),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),l=o.getTime();var u=this.renderer.tooltipLocation;u==0&&(u=1e-4),o=new Date(o.getTime()+this.baseDuration*u),e=this.dateToPosition(o),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(h){var c=h.dataItemsByAxis.getKey(r.uid).getKey(l+h.currentDataSetId),A=h.showTooltipAtDataItem(c);A?r.chart._seriesPoints.push({series:h,point:A}):(h.tooltipText||h.tooltipHTML)&&h.hideTooltip()})}}s.prototype.showTooltipAtPosition.call(this,e,!0)},Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(e){var i=this;this.setPropertyValue("groupData",e)&&(this.series.each(function(r){r.setDataSet(""),e&&!r.dataGrouped&&r.inited&&(r._baseInterval[i.uid]=i.mainBaseInterval,i.groupSeriesData(r))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(e){this.setPropertyValue("groupInterval",e)&&(this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(e){this.setPropertyValue("groupCount",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(e){this.setPropertyValue("timezoneOffset",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(e){this.setPropertyValue("timezone",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),t.prototype.makeGap=function(e,i){var r=e.component;if(e&&i&&!r.connect&&k(r.autoGapCount)&&r.baseAxis==this){var a=e.dates["date"+this.axisLetter],n=i.dates["date"+this.axisLetter];if(a&&n){var o=a.getTime(),l=n.getTime();if(o-l>r.autoGapCount*this.baseDuration)return!0}}return!1},Object.defineProperty(t.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),t.prototype._saveMinMax=function(e,i){var r=this.groupInterval;r||(r=this.mainBaseInterval);var a=r.timeUnit+r.count;this._intervalMin[a]=e,this._intervalMax[a]=i},t}(je);E.registeredClasses.DateAxis=Pt;E.registeredClasses.DateAxisDataItem=Kh;var Fr=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="AxisRendererX",e.minGridDistance=120,e.opposite=!1,e.rotation=0,e.width=he(100),e.labels.template.horizontalCenter="middle",e.applyTheme(),e}return t.prototype.setAxis=function(e){s.prototype.setAxis.call(this,e),e.layout="vertical"},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var i=this.gridContainer;i.x=e.pixelX,i.width=e.axisLength}},t.prototype.processRenderer=function(){s.prototype.processRenderer.call(this);var e=this.axis;if(e){e.width instanceof nt||(e.width=he(100)),this.line;var i=e.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack())}},t.prototype.updateTooltip=function(){var e=this.axis;if(e){var i=1e3,r=this.line.pixelX,a=this.line.pixelY,n=this.axisLength,o=i;this.opposite?this.inside||(a=-i,o=i):this.inside&&(a=-i,o=i),this.axis.updateTooltip("vertical",{x:r,y:a,width:n,height:o})}},t.prototype.updateLabelElement=function(e,i,r,a){N(a)||(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);e.isMeasured=!e.inside;var o=0,l,u=this.gridContainer.maxHeight;this.opposite?(e.inside?(l="top",e.valign=="bottom"&&(o=u,l="bottom"),e.valign=="middle"&&(o=u/2,l="middle")):l="bottom",n.y=o):(e.inside?(l="bottom",e.valign=="top"&&(o=-u,l="top"),e.valign=="middle"&&(o=-u/2,l="middle")):l="top",n.y+=o),e.rotation==0&&(e.verticalCenter=l),this.positionItem(e,n),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredWidth-e.pixelPaddingRight-e.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){return{x:this.positionToCoordinate(e),y:0}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.x,e.y)},t.prototype.getPositionRangePath=function(e,i){var r=Le(this.positionToCoordinate(e),0,this.axisLength),a=Le(this.positionToCoordinate(i),0,this.axisLength),n=Math.abs(a-r),o=this.getHeight(),l=Math.min(r,a),u=0;return Hn({x:l,y:u,width:n,height:o},!0)},t.prototype.updateBreakElement=function(e){s.prototype.updateBreakElement.call(this,e);var i=e.startLine,r=e.endLine,a=e.fillShape,n=e.startPoint,o=e.endPoint,l=e.pixelMarginLeft,u=this.getHeight()-e.pixelMarginTop-e.pixelMarginBottom;n.x=Le(n.x,-1,this.axisLength+1),o.x=Le(o.x,-1,this.axisLength+1),n.x==o.x&&(n.x<0||n.x>this.axisLength)?e.fillShape.__disabled=!0:e.fillShape.__disabled=!1,i.y=l,i.width=0,i.height=u,r.y=l,r.width=0,r.height=u,a.height=u,a.width=Math.abs(o.x-n.x),a.y=l,a.x=n.x},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);e.path=we({x:0,y:0})+ce({x:0,y:this.getHeight()}),this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i),n=e.length;a.y=ls({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?n*=e.inside?1:-1:n*=e.inside?-1:1,e.path=we({x:0,y:0})+ce({x:0,y:n}),this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateAxisLine=function(){this.line.path=we({x:0,y:0})+ce({x:this.axisLength,y:0})},t.prototype.updateBaseGridElement=function(){s.prototype.updateBaseGridElement.call(this);var e=this.axis,i=this.getHeight(),r=this.axisLength,a=this.baseGrid,n=e.basePoint.x;if(n<-.2||n>r+.2)a.hide(0);else{var o=ls({x:0,y:0},this.gridContainer,a.parent).y;a.path=we({x:0,y:0})+ce({x:0,y:i}),a.moveTo({x:n,y:o}),a.show(0)}},t.prototype.createBreakSprites=function(e){e.startLine=new qo,e.endLine=new qo;var i=new Nm;i.setWavedSides(!1,!0,!1,!0),e.fillShape=i},t.prototype.toAxisPosition=function(e){var i=e,r=this.axis;if(r){var a=r.relativePositionSprite,n=r.pixelX;if(a?n=ls({x:this.pixelX,y:0},this.parent,a).x:a=r.parent,a){var o=n/a.innerWidth,l=r.axisLength/a.innerWidth;return(i-o)/l}}return e},t.prototype.updateBullet=function(e,i,r){var a=.5;e instanceof Wl&&(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);n.y=ls({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(e,n),this.toggleVisibility(e,i,0,1)},t}(Yh);E.registeredClasses.AxisRendererX=Fr;sr.push({relevant:fr.heightXS,state:function(s,t){if(s instanceof Fr){var e=s.states.create(t);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}});sr.push({relevant:fr.heightXXS,state:function(s,t){if(s instanceof Fr){var e=s.states.create(t);return e.properties.disabled=!0,e}return null}});var sv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="CategoryAxisBreak",e.properties.startLocation=.5,e.properties.endLocation=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(e){this.setPropertyValue("startCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(e){this.setPropertyValue("endCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startValue",{get:function(){var e=this.getPropertyValue("startCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){var e=this.getPropertyValue("endCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(Xh);E.registeredClasses.CategoryAxisBreak=sv;var Xl=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.seriesDataItems={},e.className="CategoryAxisDataItem",e.text="{category}",e.locations.category=0,e.locations.endCategory=1,e.deltaPosition=0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(e){var i=this.properties.category;this.setProperty("category",e),N(i)&&i!=e&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(e){this.setProperty("endCategory",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(e){e!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",e),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(Iu);var Vt=function(s){U(t,s);function t(){var e=s.call(this)||this;e.dataItemsByCategory=new Nt,e.className="CategoryAxis",e.axisFieldName="category",e._lastDataItem=e.createDataItem(),e._lastDataItem.component=e,e._disposers.push(e._lastDataItem),e.applyTheme();var i=e.dataItemsByCategory;return e.addDisposer(e.mainDataSet.events.on("removed",function(r){i.removeKey(r.oldValue.category)})),e}return t.prototype.createDataItem=function(){return new Xl},t.prototype.createAxisBreak=function(){return new sv},t.prototype.processSeriesDataItem=function(e,i){s.prototype.processSeriesDataItem.call(this,e,i);var r=e["category"+this.axisLetter];if(N(r)){var a=this.dataItemsByCategory.getKey(r);if(a){var n=e.component.uid,o=a.seriesDataItems[n];o||(o=[],a.seriesDataItems[n]=o),o.push(e)}}else e.component.dataItems.remove(e)},t.prototype.validateDataRange=function(){var e=this;s.prototype.validateDataRange.call(this),de(this._series.iterator(),function(i){if(i.xAxis instanceof t&&i.yAxis instanceof t)i.invalidateDataRange();else{var r=e.positionToIndex(e.start),a=e.positionToIndex(e.end);a>=e.dataItems.length&&a--;for(var n=i.uid,o=void 0,l=void 0,u=r;u<=a;u++){var h=e.dataItems.getIndex(u);if(h){var c=h.seriesDataItems[n];if(c)for(var A=0;A<c.length;A++){var d=c[A];if(d){var f=d.index;(!k(o)||f<o)&&(o=f),(!k(l)||f>l)&&(l=f)}}}}k(o)?i.startIndex=o:i.start=e.start,k(l)?i.endIndex=l+1:i.end=e.end,e._axisBreaks&&e._axisBreaks.length>0&&i.invalidateDataRange()}})},t.prototype.validate=function(){var e=this;s.prototype.validate.call(this);var i=this.dataItems.length,r=Le(Math.floor(this.start*i-1),0,i),a=Le(Math.ceil(this.end*i),0,i);this.renderer.invalid&&this.renderer.validate();var n=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),o=Math.min(this.dataItems.length,Math.ceil((a-r)/n));if(this._startIndex=Math.floor(r/o)*o,this._endIndex=Math.ceil(this.end*i),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=o,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),r=ht(0,this._startIndex-this._frequency),a=bt(this.dataItems.length,this._endIndex+this._frequency);for(var l=0,u=0;u<r;u++){var h=this.dataItems.getIndex(u);h.__disabled=!0}for(var u=a,c=this.dataItems.length;u<c;u++){var h=this.dataItems.getIndex(u);h.__disabled=!0}for(var u=r;u<a;u++)if(u<this.dataItems.length){var h=this.dataItems.getIndex(u);if(u/this._frequency==Math.round(u/this._frequency)){var A=this.isInBreak(u);A||(this.appendDataItem(h),this.validateDataElement(h,l)),l++}else h.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,l+1,this.dataItems.length),this._axisBreaks){var d=this._axisBreaks;d.each(function(f){var p=f.adjustedStartValue,m=f.adjustedEndValue;if(DA({start:p,end:m},{start:e._startIndex,end:e._endIndex})){for(var g=p;g<=m;g++){var y=e.dataItems.getIndex(g);y.__disabled=!0}var v=Le(Math.ceil(e._frequency/f.breakSize),1,m-p),_=0;if(f.breakSize>0)for(var g=p;g<=m;g=g+v){var y=e.dataItems.getIndex(g);y.__disabled=!1,e.appendDataItem(y),e.validateDataElement(y,_),_++}}})}this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},t.prototype.validateDataElement=function(e,i,r){s.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var a=this.renderer;k(r)||(r=this.categoryToIndex(e.category));var n=this.categoryToIndex(e.endCategory);k(n)||(n=r);var o=this.indexToPosition(r,e.locations.category),l=this.indexToPosition(n,e.locations.endCategory);e.position=o;var u,h,c;e.isRange&&(u=n,h=this.indexToPosition(r,e.locations.category),c=this.indexToPosition(u,e.locations.endCategory)),e.point=a.positionToPoint(o);var A=e.tick;A&&!A.disabled&&a.updateTickElement(A,o,l);var d=e.grid;d&&!d.disabled&&a.updateGridElement(d,o,l);var f=e.label;f&&!f.disabled&&((!e.isRange||f.text==null)&&(e.text=e.text),a.updateLabelElement(f,o,l),(a instanceof Nr&&e.label.measuredWidth>this.ghostLabel.measuredWidth||a instanceof Fr&&e.label.measuredHeight>this.ghostLabel.measuredHeight)&&(e.label.html?this.ghostLabel.html=e.label.currentText:this.ghostLabel.text=e.label.currentText));var p=e.axisFill;p&&!p.disabled&&(e.isRange||(u=r+this._frequency,h=this.indexToPosition(r,p.location),c=this.indexToPosition(u,p.location)),a.updateFillElement(p,h,c),e.isRange||this.fillRule(e,i)),e.bullet&&a.updateBullet(e.bullet,o,l);var m=e.mask;m&&a.updateFillElement(m,h,c)},t.prototype.disposeData=function(){this.dataItemsByCategory.clear(),s.prototype.disposeData.call(this)},t.prototype.processDataItem=function(e,i){e&&(s.prototype.processDataItem.call(this,e,i),N(e.category)&&this.dataItemsByCategory.setKey(e.category,e))},t.prototype.getDataItem=function(e){var i=e[this.dataFields.category];if(N(i)){var r=this.dataItemsByCategory.getKey(i);return r||this.dataItems.create()}},t.prototype.indexToPosition=function(e,i){k(i)||(i=.5);var r=this.startIndex,a=this.endIndex,n=this.adjustDifference(r,a),o=this.startLocation,l=this.endLocation;if(n-=o,n-=1-l,this._axisBreaks){var u=this._axisBreaks;Zr(u.iterator(),function(A){var d=A.adjustedStartValue,f=A.adjustedEndValue;if(e<r||!k(d)||!k(f))return!1;if(DA({start:d,end:f},{start:r,end:a})){d=Math.max(r,d),f=Math.min(a,f);var p=A.breakSize;e>f?r+=(f-d)*(1-p):e<d||(e=d+(e-d)*p)}return!0})}var h=0,c=this.dataItems.getIndex(e);return c&&(h=c.deltaPosition),be(h+(e+i-o-r)/n,5)},t.prototype.categoryToPosition=function(e,i){var r=this.categoryToIndex(e);return this.indexToPosition(r,i)},t.prototype.categoryToPoint=function(e,i){var r=this.categoryToPosition(e,i),a=this.renderer.positionToPoint(r),n=this.renderer.positionToAngle(r);return{x:a.x,y:a.y,angle:n}},t.prototype.anyToPoint=function(e,i){return this.categoryToPoint(e,i)},t.prototype.anyToPosition=function(e,i){return this.categoryToPosition(e,i)},t.prototype.categoryToIndex=function(e){if(N(e)){var i=this.dataItemsByCategory.getKey(e);if(i)return i.index}},t.prototype.zoomToCategories=function(e,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(i)+1)},t.prototype.getAnyRangePath=function(e,i,r,a){var n=this.categoryToPosition(e,r),o=this.categoryToPosition(i,a);return this.getPositionRangePath(n,o)},t.prototype.roundPosition=function(e,i){var r=this.positionToIndex(e);return this.indexToPosition(r,i)},t.prototype.getFirstSeriesDataItem=function(e,i){for(var r=0;r<e.dataItems.length;r++){var a=e.dataItems.getIndex(r);if(e.xAxis==this&&a.categoryX==i||e.yAxis==this&&a.categoryY==i)return a}},t.prototype.getLastSeriesDataItem=function(e,i){for(var r=e.dataItems.length-1;r>=0;r--){var a=e.dataItems.getIndex(r);if(e.xAxis==this&&a.categoryX==i||e.yAxis==this&&a.categoryY==i)return a}},t.prototype.getSeriesDataItemByCategory=function(e,i){var r=this,a;return i.dataItems.each(function(n){i.xAxis==r?n.categoryX==e&&(a=n):i.yAxis==r&&n.categoryY==e&&(a=n)}),a},t.prototype.getSeriesDataItem=function(e,i,r){var a=this;if(k(i)){var n=this.positionToIndex(i);n>=this.dataItems.length&&n--;var o=this.dataItems.getIndex(n);if(o){var l=o.category,u,h=e.dataItems.getIndex(n);return h&&(e.xAxis==this&&h.categoryX==l||e.yAxis==this&&h.categoryY==l)?h:(e.dataItems.each(function(c){e.xAxis==a&&c.categoryX==l&&(u||(u=c),Math.abs(n-u.index)>Math.abs(n-c.index)&&(u=c)),e.yAxis==a&&c.categoryY==l&&(u||(u=c),Math.abs(n-u.index)>Math.abs(n-c.index)&&(u=c))}),u)}}},t.prototype.getX=function(e,i,r,a,n){var o=this.getPositionX(e,i,r,a,n);return zr(o)?this.basePoint.x:this.renderer.positionToPoint(o).x},t.prototype.getPositionX=function(e,i,r,a,n){var o;return N(i)&&(o=this.categoryToPosition(e.categories[i],r)),n&&(o=Le(o,n.start,n.end)),o},t.prototype.getY=function(e,i,r,a,n){var o=this.getPositionY(e,i,r,a,n);return zr(o)?this.basePoint.y:this.renderer.positionToPoint(o).y},t.prototype.getPositionY=function(e,i,r,a,n){var o;return N(i)&&(o=this.categoryToPosition(e.categories[i],r)),n&&(o=Le(o,n.start,n.end)),o},t.prototype.getAngle=function(e,i,r,a,n){var o=this.categoryToPosition(e.categories[i],r);return n&&(o=Le(o,n.start,n.end)),this.positionToAngle(o)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getTooltipText=function(e){var i=this.dataItems.getIndex(this.positionToIndex(e));if(i)return this.tooltipDataItem=i,this.tooltip.dataItem=i,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",i.category):i.category},t.prototype.positionToIndex=function(e){e=be(e,10),e<0&&(e=0),e>1&&(e=1);var i=this.startIndex,r=this.endIndex,a=r-i-this.startLocation-(1-this.endLocation);e+=1/a*this.startLocation;var n=null;if(this._axisBreaks){var o=this._axisBreaks;Zr(o.iterator(),function(l){var u=l.startPosition,h=l.endPosition,c=l.adjustedStartValue,A=l.adjustedEndValue;c=ht(c,i),A=bt(A,r);var d=l.breakSize;if(a-=(A-c)*(1-d),e>h)i+=(A-c)*(1-d);else if(!(e<u)){var f=(e-u)/(h-u);return n=c+Math.round(f*(A-c)),!1}return!0})}return k(n)||(n=Math.floor(e*a+i)),n>=this.dataItems.length&&(n=this.dataItems.length-1),n},t.prototype.positionToCategory=function(e){return this.getPositionLabel(e)},t.prototype.getPositionLabel=function(e){var i=this.dataItems.getIndex(this.positionToIndex(e));if(i)return i.category},Object.defineProperty(t.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),t.prototype.initRenderer=function(){s.prototype.initRenderer.call(this);var e=this.renderer;e.baseGrid.disabled=!0},Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(e){this.setPropertyValue("sortBySeries",e,!0)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){e&&N(e.sortBySeries)&&ft(e.sortBySeries)&&(this.map.hasKey(e.sortBySeries)?e.sortBySeries=this.map.getKey(e.sortBySeries):(this.addDelayedMap("sortBySeries",e.sortBySeries),delete e.sortBySeries)),s.prototype.processConfig.call(this,e)},t}(yd);E.registeredClasses.CategoryAxis=Vt;E.registeredClasses.CategoryAxisDataItem=Xl;var bd=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="XYSeriesDataItem",e.values.customValue={},e.values.valueX={stack:0},e.values.valueY={stack:0},e.values.openValueX={},e.values.openValueY={},e.values.dateX={},e.values.dateY={},e.values.openDateX={},e.values.openDateY={},e.setLocation("dateX",.5,0),e.setLocation("dateY",.5,0),e.setLocation("categoryX",.5,0),e.setLocation("categoryY",.5,0),e.applyTheme(),e}return Object.defineProperty(t.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(e){this.setValue("customValue",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(e){this.setDate("dateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(e){this.setDate("dateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(e){this.setCategory("categoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(e){this.setCategory("categoryY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(e){this.setValue("openValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(e){this.setValue("openValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(e){this.setDate("openDateX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(e){this.setDate("openDateY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(e){this.setCategory("openCategoryX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(e){this.setCategory("openCategoryY",e)},enumerable:!0,configurable:!0}),t.prototype.getMin=function(e,i,r){var a=this,n;return k(r)||(r=0),Ce(e,function(o){var l;i?l=a.getWorkingValue(o):l=a.getValue(o),l+=r,(l<n||!k(n))&&(n=l)}),n},t.prototype.getMax=function(e,i,r){var a=this,n;return k(r)||(r=0),Ce(e,function(o){var l;i?l=a.getWorkingValue(o):l=a.getValue(o),l+=r,(l>n||!k(n))&&(n=l)}),n},t}(md);var hs=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.groupFields={},e._xAxis=new Ti,e._yAxis=new Ti,e._xValueFields=[],e._yValueFields=[],e._baseInterval={},e.dataGrouped=!1,e.usesShowFields=!1,e._dataSetChanged=!1,e._maxxX=1e5,e._maxxY=1e5,e._propertiesChanged=!1,e.outOfRange=!1,e.className="XYSeries",e.isMeasured=!1,e.groupFields.valueX="close",e.groupFields.valueY="close",e.groupFields.customValue="close",e.groupFields.openValueX="open",e.groupFields.openValueY="open",e.cursorTooltipEnabled=!0,e.cursorHoverEnabled=!0,e.excludeFromTotal=!1,e.mainContainer.mask=new Ee,e.mainContainer.mask.setElement(e.paper.add("path")),e.stacked=!1,e.snapTooltip=!1,e._showBullets=!1,e.tooltip.pointerOrientation="horizontal",e.properties.stackToNegative=!0,e.hideTooltipWhileZooming=!0,e.setPropertyValue("maskBullets",!0),e.tooltip.events.on("hidden",function(){e.returnBulletDefaultState()},void 0,!1),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.observe(Di,function(){e.inited&&(e._propertiesChanged=!0,e.legendDataItem&&(e.legendDataItem.childrenCreated=!1),e.chart&&e.chart.legend&&e.chart.legend.invalidateDataItems(),e.invalidate())},void 0,!1),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},t.prototype.createDataItem=function(){return new bd},t.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},t.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},t.prototype.validateData=function(){this._baseInterval={};var e=this.dataFields;if(e.valueYShow||e.openValueXShow||e.openValueXShow||e.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),s.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!N(this.dataFields[this._xField])||!N(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},t.prototype.processDataItem=function(e,i){try{s.prototype.processDataItem.call(this,e,i),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y"),this.setInitialWorkingValues(e)}catch(r){this._chart&&this._chart.raiseCriticalError(r)}},t.prototype.updateDataItem=function(e){s.prototype.updateDataItem.call(this,e),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y")},t.prototype.setInitialWorkingValues=function(e){},t.prototype.disposeData=function(){s.prototype.disposeData.call(this);var e=this.xAxis,i=this.yAxis;if(e){var r=this.dataItemsByAxis.getKey(e.uid);r&&r.clear(),e instanceof Vt&&this.clearCatAxis(e)}if(i){var a=this.dataItemsByAxis.getKey(i.uid);a&&a.clear(),i instanceof Vt&&this.clearCatAxis(i)}},t.prototype.clearCatAxis=function(e){var i=this.uid;e.dataItems.each(function(r){r.seriesDataItems[i]&&(r.seriesDataItems[i]=[])})},t.prototype.defineFields=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){var r=e.axisFieldName,a=r+"X",n="open"+ld(r)+"X",o=i.axisFieldName,l=o+"Y",u="open"+ld(o)+"Y";this._xField=a,this._yField=l,this.dataFields[n]&&(this._xOpenField=n),this.dataFields[u]&&(this._yOpenField=u),!this.dataFields[u]&&this.baseAxis==i&&(this._yOpenField=l),!this.dataFields[n]&&this.baseAxis==e&&(this._xOpenField=a),this.stacked&&this.baseAxis==e&&(this._xOpenField=a),this.stacked&&this.baseAxis==i&&(this._yOpenField=l),e instanceof Vt&&i instanceof Vt&&(this._yOpenField||(this._yOpenField=l)),this._xValueFields=[],this._yValueFields=[],this.addValueField(e,this._xValueFields,this._xField),this.addValueField(e,this._xValueFields,this._xOpenField),this.addValueField(i,this._yValueFields,this._yField),this.addValueField(i,this._yValueFields,this._yOpenField)}},t.prototype.addValueField=function(e,i,r){e instanceof je&&N(this.dataFields[r])&&i.indexOf(r)==-1&&i.push(r)},t.prototype.setCategoryAxisField=function(e,i){N(this.dataFields[e])||(this.dataFields[e]=i.dataFields.category)},t.prototype.setDateAxisField=function(e,i){N(this.dataFields[e])||(this.dataFields[e]=i.dataFields.date)},t.prototype.afterDraw=function(){s.prototype.afterDraw.call(this),this.createMask()},t.prototype.createMask=function(){if(this.mainContainer.mask){var e=this.getMaskPath();de(this.axisRanges.iterator(),function(i){i.axisFill.fillPath&&(i.axisFill.validate(),e+=i.axisFill.fillPath)}),this.mainContainer.mask.path=e}},t.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?Hn({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},t.prototype.getAxisField=function(e){if(e==this.xAxis)return this.xField;if(e==this.yAxis)return this.yField},t.prototype.validateDataItems=function(){var e=this.chart;e&&(this._maxxX=ht(1e5,e.plotContainer.maxWidth*2),this._maxxY=ht(1e5,e.plotContainer.maxHeight*2));var i=this.xAxis,r=this.yAxis;i&&r&&(i.updateAxisBySeries(),r.updateAxisBySeries()),s.prototype.validateDataItems.call(this),i&&r&&(i.postProcessSeriesDataItems(this),r.postProcessSeriesDataItems(this))},t.prototype.validateDataRange=function(){var e=this.xAxis,i=this.yAxis;e&&i&&(e.dataRangeInvalid&&e.validateDataRange(),i.dataRangeInvalid&&i.validateDataRange()),s.prototype.validateDataRange.call(this)},t.prototype.validate=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){e.invalid&&e.validate(),i.invalid&&i.validate(),this.y=i.pixelY,this.x=e.pixelX,this._showBullets=!0;var r=this.minBulletDistance;k(r)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<r&&(this._showBullets=!1)}if(this.updateTooltip(),!(e instanceof Pt&&e.groupData&&!this.dataGrouped||i instanceof Pt&&i.groupData&&!this.dataGrouped)){s.prototype.validate.call(this);var a=this.chart,n=this.maskBullets;a&&n&&a.className=="XYChart"&&((a.leftAxesContainer.layout=="vertical"||a.rightAxesContainer.layout=="vertical")&&(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),(a.topAxesContainer.layout=="horizontal"||a.bottomAxesContainer.layout=="horizontal")&&(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))}},Object.defineProperty(t.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var e=this.chart.xAxes.getIndex(0);if(!e)throw Error("There are no X axes on chart.");this.xAxis=e}return this._xAxis.get()}},set:function(e){this.setXAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setXAxis=function(e){var i=this._xAxis.get();i!=e&&(i&&(this.dataItemsByAxis.removeKey(i.uid),this._xAxis.dispose(),i.series.removeValue(this)),this._xAxis.set(e,e.registerSeries(this)),this.dataItemsByAxis.setKey(e.uid,new Nt),this.invalidateData())},Object.defineProperty(t.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var e=this.chart.yAxes.getIndex(0);if(!e)throw Error("There are no Y axes on chart.");this.yAxis=e}return this._yAxis.get()}},set:function(e){this.setYAxis(e)},enumerable:!0,configurable:!0}),t.prototype.setYAxis=function(e){var i=this._yAxis.get();i!=e&&(i&&(this.dataItemsByAxis.removeKey(i.uid),this._yAxis.dispose(),i.series.removeValue(this)),this._yAxis.set(e,e.registerSeries(this)),e.chart instanceof $t&&e.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(e.uid,new Nt),this.invalidateData())},Object.defineProperty(t.prototype,"baseAxis",{get:function(){var e=this.xAxis,i=this.yAxis;return!this._baseAxis&&e&&i&&(i instanceof Pt&&(this._baseAxis=i),e instanceof Pt&&(this._baseAxis=e),i instanceof Vt&&(this._baseAxis=i),e instanceof Vt&&(this._baseAxis=e),this._baseAxis||(this._baseAxis=e)),this._baseAxis},set:function(e){this._baseAxis!=e&&(this._baseAxis=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.addData=function(e,i,r){s.prototype.addData.call(this,e,i,r);var a=this.scrollbarSeries;a&&(this.scrollbarSeries.addData(e,i,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom)},t.prototype.setData=function(e){s.prototype.setData.call(this,e),this.scrollbarSeries&&this.scrollbarSeries.setData(e)},t.prototype.setDataSet=function(e){var i=s.prototype.setDataSet.call(this,e);if(i){this._dataSetChanged=!0;var r=this.dataItems;if(this.resetExtremes(),r&&r.length>0){var a=this.xAxis,n=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),a instanceof Pt&&a==this.baseAxis&&(this._tmin.setKey(a.uid,r.getIndex(0).dateX.getTime()),this._tmax.setKey(a.uid,r.getIndex(r.length-1).dateX.getTime()),this.dispatch("extremeschanged")),n instanceof Pt&&n==this.baseAxis&&(this._tmin.setKey(n.uid,r.getIndex(0).dateY.getTime()),this._tmax.setKey(n.uid,r.getIndex(r.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}}return i},t.prototype.processValues=function(e){s.prototype.processValues.call(this,e);var i=this.xAxis,r=this.yAxis;if(!(!i||!r)){var a=this.dataItems,n=1/0,o=-1/0,l=1/0,u=-1/0,h=this.startIndex,c=this.endIndex,A=h,d=c;e||(h=0,c=this.dataItems.length);for(var f=h;f<c;f++){var p=a.getIndex(f);this.getStackValue(p,e);var m=p.getValue("valueX","stack"),g=p.getValue("valueY","stack");e||(m=p.getValue("valueX","stackTrue"),g=p.getValue("valueY","stackTrue")),n=bt(p.getMin(this._xValueFields,e,m),n),l=bt(p.getMin(this._yValueFields,e,g),l),o=ht(p.getMax(this._xValueFields,e,m),o),u=ht(p.getMax(this._yValueFields,e,g),u),this.stacked&&(this.baseAxis==i&&(g<l&&(l=g),g>u&&(u=g)),this.baseAxis==r&&(m<n&&(n=m),m>o&&(o=m)))}i.processSeriesDataItems(),r.processSeriesDataItems();var y=i.uid,v=r.uid;if(this.xAxis instanceof je&&(n==1/0||o==-1/0)){this._smin.setKey(y,void 0),this._smax.setKey(y,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof je&&(l==1/0||u==-1/0)){this._smin.setKey(v,void 0),this._smax.setKey(v,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(!e&&(this._tmin.getKey(y)!=n||this._tmax.getKey(y)!=o||this._tmin.getKey(v)!=l||this._tmax.getKey(v)!=u)){this._tmin.setKey(y,n),this._tmax.setKey(y,o),this._tmin.setKey(v,l),this._tmax.setKey(v,u);var _=this.stackedSeries;_&&(_.isDisposed()?this.stackedSeries=void 0:_.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(h!=A||c!=d){n=1/0,o=-1/0,l=1/0,u=-1/0;for(var f=A;f<d;f++){var p=a.getIndex(f);this.getStackValue(p,e);var m=p.getValue("valueX","stack"),g=p.getValue("valueY","stack");e||(m=p.getValue("valueX","stackTrue"),g=p.getValue("valueY","stackTrue")),n=bt(p.getMin(this._xValueFields,e,m),n),l=bt(p.getMin(this._yValueFields,e,g),l),o=ht(p.getMax(this._xValueFields,e,m),o),u=ht(p.getMax(this._yValueFields,e,g),u),this.stacked&&(this.baseAxis==i&&(g<l&&(l=g),g>u&&(u=g)),this.baseAxis==r&&(m<n&&(n=m),m>o&&(o=m)))}}if(this.xAxis instanceof je&&(n==1/0||o==-1/0)){this._smin.setKey(y,void 0),this._smax.setKey(y,void 0),this.dispatchImmediately("selectionextremeschanged");return}if(this.yAxis instanceof je&&(l==1/0||u==-1/0)){this._smin.setKey(v,void 0),this._smax.setKey(v,void 0),this.dispatchImmediately("selectionextremeschanged");return}if((this._smin.getKey(y)!=n||this._smax.getKey(y)!=o||this._smin.getKey(v)!=l||this._smax.getKey(v)!=u)&&(this._smin.setKey(y,n),this._smax.setKey(y,o),this._smin.setKey(v,l),this._smax.setKey(v,u),this.appeared||this.start!=0||this.end!=1||this.dataItems!=this.mainDataSet)){var S=!1;if(r instanceof je&&!(r instanceof Pt)){var F=this._tmin.getKey(v);(!k(F)||(this.usesShowFields||this._dataSetChanged||i instanceof Pt&&i.groupData&&this.isShowing)&&l<F||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(v,l),S=!0);var P=this._tmax.getKey(v);(!k(P)||(this.usesShowFields||this._dataSetChanged||i instanceof Pt&&i.groupData&&this.isShowing)&&u>P||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(v,u),S=!0)}if(i instanceof je&&!(i instanceof Pt)){var F=this._tmin.getKey(y);(!k(F)||(this.usesShowFields||this._dataSetChanged||r instanceof Pt&&r.groupData&&this.isShowing)&&n<F||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmin.setKey(y,n),S=!0);var P=this._tmax.getKey(y);(!k(P)||(this.usesShowFields||this._dataSetChanged||r instanceof Pt&&r.groupData&&this.isShowing)&&o>P||this.stackedSeries&&!this.isHidden&&!e)&&(this._tmax.setKey(y,o),S=!0)}S&&this.dispatchImmediately("extremeschanged"),this.start==0&&this.end==1&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!e&&this.stacked&&this.processValues(!0)}},t.prototype.hideTooltip=function(e){s.prototype.hideTooltip.call(this,e),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},t.prototype.showTooltipAtPosition=function(e,i){var r;if(this.visible&&!this.isHiding&&!this.isShowing){var a=this._xAxis.get(),n=this._yAxis.get();a==this.baseAxis&&(r=a.getSeriesDataItem(this,a.toAxisPosition(e),this.snapTooltip)),n==this.baseAxis&&(r=n.getSeriesDataItem(this,n.toAxisPosition(i),this.snapTooltip));var o=this.showTooltipAtDataItem(r);if(o)return o;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip()},t.prototype.getAdjustedXLocation=function(e,i,r){return e.locations[i]},t.prototype.getAdjustedYLocation=function(e,i,r){return e.locations[i]},t.prototype.showTooltipAtDataItem=function(e){var i,r,a=this.chart.cursor;if(a&&a.hideSeriesTooltipsOnSelection&&a.selection.visible&&a.downPoint){this.hideTooltip();return}if(this.returnBulletDefaultState(e),e&&e.visible){if(this.updateLegendValue(e),this.cursorTooltipEnabled){this.tooltipDataItem=e;var n=this.tooltipXField,o=this.tooltipYField;if(N(e[n])&&N(e[o])){var l=this.getPoint(e,n,o,this.getAdjustedXLocation(e,n),this.getAdjustedYLocation(e,o));if(l&&!(this.chart.className=="XYChart"&&(l.y<-1||l.y>this.yAxis.pixelHeight+1||l.x<-1||l.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=l.x,this.tooltipY=l.y,this._prevTooltipDataItem!=e&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:e}),this._prevTooltipDataItem=e),this.cursorHoverEnabled)try{for(var u=Rc(e.sprites),h=u.next();!h.done;h=u.next()){var c=h.value;!c.parent.visible||c.isHidden||c.__disabled||c.disabled||c.isHiding||(c.interactions.isRealHover||(c.dispatchImmediately("over"),c.interactions.isRealHover=!0),c.isHover=!0)}}catch(A){i={error:A}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return this.showTooltip()?va({x:l.x,y:l.y},this):void 0}}}}else this.updateLegendValue(e,!0)},t.prototype.returnBulletDefaultState=function(e){var i,r;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=e)try{for(var a=Rc(this._prevTooltipDataItem.sprites),n=a.next();!n.done;n=a.next()){var o=n.value;if(o.isDisposed())this._prevTooltipDataItem=void 0;else{var l=o.interactions.isRealHover;o.isHover=!1,l&&o.dispatchImmediately("out")}}}catch(u){i={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}},t.prototype.shouldCreateBullet=function(e,i){var r=i.xField;N(r)||(r=this.xField);var a=i.yField;if(N(a)||(a=this.yField),this.xAxis instanceof je&&!e.hasValue([r])||this.yAxis instanceof je&&!e.hasValue([a]))return!1;if(i.disabled){var n=i.propertyFields.disabled,o=e.dataContext;return!!(o&&o[n]===!1)}return!0},t.prototype.updateTooltip=function(){!this.hideTooltipWhileZooming&&this.tooltip&&!this.tooltip.isHidden&&!this.isHiding&&!this.isHidden&&this.tooltipDataItem&&this.showTooltipAtDataItem(this.tooltipDataItem)},t.prototype.positionBullet=function(e){s.prototype.positionBullet.call(this,e);var i=e.dataItem,r=e.xField;N(r)||(r=this.xField);var a=e.yField;N(a)||(a=this.yField);var n=this.xAxis,o=this.yAxis;if(n instanceof je&&!i.hasValue([r])||o instanceof je&&!i.hasValue([a]))e.visible=!1;else{var l=this.getBulletLocationX(e,r),u=this.getBulletLocationY(e,a),h=this.getPoint(i,r,a,l,u);if(h){var c=this.xOpenField,A=this.yOpenField,d=void 0,f=void 0;if(n instanceof Pt){k(l)||(l=0);var p=void 0,m=i.getWorkingValue(r);c?p=i.getWorkingValue(c):n==this.baseAxis&&(p=n.baseValue),k(p)||(p=m);var g=i.getValue("valueX","stack");if(p+=g,m+=g,p==m){var y=n.baseInterval,v=n.dateFormatter;p=Jr(new Date(p),y.timeUnit,y.count,v.firstDayOfWeek,v.utc,void 0,v.timezoneMinutes,v.timezone).getTime(),m=Xs(new Date(p),y.timeUnit,y.count,v.utc).getTime()}var _=void 0;n==this.baseAxis?_=p+(m-p)*l:_=p+(m-p)*(1-l),d=n.valueToPosition(_)}else if(n instanceof je){k(l)||(l=0);var p=void 0,m=i.getWorkingValue(r);c?p=i.getWorkingValue(c):p=n.baseValue;var g=i.getValue("valueX","stack");p+=g,m+=g;var _=p+(m-p)*(1-l);d=n.valueToPosition(_)}else if(n instanceof Vt){var S=this.getAdjustedXLocation(i,r,e.locationX),F=this.getAdjustedXLocation(i,c,e.locationX);d=n.categoryToPosition(i[r],S);var P=void 0;c&&(P=n.categoryToPosition(i[c],F)),k(P)||(P=1),d=P+(d-P)*l}if(o instanceof Pt){k(u)||(u=0);var p=void 0,m=i.getWorkingValue(a);A?p=i.getWorkingValue(A):o==this.baseAxis&&(p=o.baseValue),k(p)||(p=m);var g=i.getValue("valueY","stack");if(p+=g,m+=g,p==m){var y=o.baseInterval,v=o.dateFormatter;p=Jr(new Date(p),y.timeUnit,y.count,v.firstDayOfWeek,v.utc,void 0,v.timezoneMinutes,v.timezone).getTime(),m=Xs(new Date(p),y.timeUnit,y.count,v.utc).getTime()}var _=void 0;o==this.baseAxis?_=p+(m-p)*u:_=p+(m-p)*(1-u),f=o.valueToPosition(_)}else if(o instanceof je){k(u)||(u=0);var p=void 0,m=i.getWorkingValue(a);A?p=i.getWorkingValue(A):p=o.baseValue;var g=i.getValue("valueY","stack");p+=g,m+=g;var _=p+(m-p)*(1-u);f=o.valueToPosition(_)}else if(o instanceof Vt){f=o.categoryToPosition(i[a],u);var D=this.getAdjustedYLocation(i,a,e.locationY),$=this.getAdjustedYLocation(i,A,e.locationY);f=o.categoryToPosition(i[a],D);var I=void 0;A&&(I=o.categoryToPosition(i[A],$)),k(I)||(I=1),f=I+(f-I)*u}e.visible=!0,this.positionBulletReal(e,d,f)}else e.visible=!1}},t.prototype.positionBulletReal=function(e,i,r){e.x=this.xAxis.renderer.positionToPoint(i,r).x,e.y=this.yAxis.renderer.positionToPoint(r,i).y},t.prototype.getBulletLocationX=function(e,i){var r=e.locationX,a=e.dataItem;return k(r)||(r=a.workingLocations[i]),r},t.prototype.getBulletLocationY=function(e,i){var r=e.locationY,a=e.dataItem;return k(r)||(r=a.workingLocations[i]),r},t.prototype.updateStacking=function(){var e=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(i){i.baseAxis==e.baseAxis&&(i.stackedSeries=void 0,i.invalidateDataItems(),i.invalidateProcessedData())})},Object.defineProperty(t.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(e){if(this.setPropertyValue("stacked",e,!0)){this.updateStacking();var i=this.xAxis,r=this.yAxis;if(!e){var a;i!=this.baseAxis&&i instanceof je&&(a=this.xField),r!=this.baseAxis&&r instanceof je&&(a=this.yField),a&&this.dataItems.each(function(n){n.setCalculatedValue(a,0,"stack"),n.setCalculatedValue(a,0,"stackTrue")})}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e)},enumerable:!0,configurable:!0}),t.prototype.show=function(e){var i=this;this.isHidden&&(this.appeared&&this.xAxis instanceof Pt&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof Pt&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0)));var r;this.xAxis instanceof je&&this.xAxis!=this.baseAxis&&(r=this._xValueFields),this.yAxis instanceof je&&this.yAxis!=this.baseAxis&&(r=this._yValueFields);var a=this.startIndex,n=this.endIndex,o=0,l=this.defaultState.transitionDuration;k(e)&&(l=e),lt.animationsEnabled||(l=0);var u;de(yo(this.dataItems.iterator()),function(c){var A=c[0],d=c[1],f=l;(A<i.startIndex-10||A>i.endIndex+10)&&(f=0,o=0),i.sequencedInterpolation&&f>0&&(o=i.sequencedInterpolationDelay*A+l*(A-a)/(n-a)),u=d.show(f,o,r)}),this.dataSets.each(function(c,A){A!=i.dataItems&&A.each(function(d){d.events.disable(),d.show(0,0,r),d.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(c){c.events.disable(),c.show(0,0,r),c.events.enable()});var h=s.prototype.show.call(this,e);return u&&!u.isFinished()&&(h=u),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),h},t.prototype.hide=function(e){var i=this,r,a,n=this.xAxis;n instanceof je&&n!=this.baseAxis&&(r=this._xValueFields,this.stacked||n.minZoomed<n.baseValue&&n.maxZoomed>n.baseValue||this.stackedSeries?a=n.baseValue:a=n.min);var o=this.yAxis;o instanceof je&&o!=this.baseAxis&&(r=this._yValueFields,this.stacked||o.minZoomed<o.baseValue&&o.maxZoomed>o.baseValue||this.stackedSeries?a=o.baseValue:a=o.min);var l=this.startIndex,u=this.endIndex,h=this.hiddenState.transitionDuration;k(e)&&(h=e),lt.animationsEnabled||(h=0);var c=0,A;de(yo(this.dataItems.iterator()),function(f){var p=f[0],m=f[1],g=h;(p<i.startIndex-10||p>i.endIndex+10)&&(g=0),g==0?m.hide(0,0,a,r):(i.sequencedInterpolation&&g>0&&(c=i.sequencedInterpolationDelay*p+h*(p-l)/(u-l)),A=m.hide(g,c,a,r))}),this.dataSets.each(function(f,p){p!=i.dataItems&&p.each(function(m){m.events.disable(),m.hide(0,0,a,r),m.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(f){f.events.disable(),f.hide(0,0,a,r),f.events.enable()});var d=s.prototype.hide.call(this,h);return d&&!d.isFinished()&&d.delay(c),A&&!A.isFinished()&&(d=A),this.appeared&&this.dispatch("selectionextremeschanged"),this.validateDataElements(),d},t.prototype.handleDataItemWorkingValueChange=function(e,i){s.prototype.handleDataItemWorkingValueChange.call(this,e,i);var r=this.baseAxis.series;de(r.iterator(),function(a){(a.stacked||a.stackedSeries)&&a.invalidateProcessedData()})},t.prototype.getStackValue=function(e,i){var r=this,a=this.xAxis,n=this.yAxis;if(!(!this.stacked||!a||!n)){var o=this.chart,l=o.series.indexOf(this),u;if(a!=this.baseAxis&&a instanceof je&&(u=this.xField),n!=this.baseAxis&&n instanceof je&&(u=this.yField),!u)return;e.setCalculatedValue(u,0,"stack"),e.setCalculatedValue(u,0,"stackTrue"),Zr(o.series.range(0,l).backwards().iterator(),function(h){if(h.xAxis==a&&h.yAxis==n&&h.className==r.className){h.stackedSeries=r;var c=h.dataItems.getIndex(e.index);if(c&&c.hasValue(r._xValueFields)&&c.hasValue(r._yValueFields)){var A=e.getValue(u),d=void 0,f=c.getValue(u,"stackTrue");f==null&&(f=0);var p=c.getValue(u)+f;if(d=c.getWorkingValue(u)+c.getValue(u,"stack"),r.stackToNegative){if(A>=0&&p>=0||A<0&&p<0)return e.setCalculatedValue(u,d,"stack"),e.setCalculatedValue(u,p,"stackTrue"),!1;if(!h.stacked)return!1}else return e.setCalculatedValue(u,d,"stack"),e.setCalculatedValue(u,p,"stackTrue"),!1}else if(!h.stacked)return!1}return!0})}},Object.defineProperty(t.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(e){this.setPropertyValue("stackToNegative",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(e){this._tooltipXField=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(e){this._tooltipYField=e},enumerable:!0,configurable:!0}),t.prototype.min=function(e){return this._tmin.getKey(e.uid)},t.prototype.max=function(e){return this._tmax.getKey(e.uid)},t.prototype.selectionMin=function(e){var i=this._smin.getKey(e.uid);return i},t.prototype.selectionMax=function(e){var i=this._smax.getKey(e.uid);return i},t.prototype.processConfig=function(e){if(e){if(N(e.baseAxis)&&ft(e.baseAxis)&&(this.map.hasKey(e.baseAxis)?e.baseAxis=this.map.getKey(e.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.baseAxis+'" found for `baseAxis`.'),delete e.baseAxis)),N(e.xAxis)&&ft(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.xAxis+'" found for `xAxis`.'),delete e.xAxis)),N(e.yAxis)&&ft(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+e.yAxis+'" found for `yAxis`.'),delete e.yAxis)),N(e.axisRanges)&&Ci(e.axisRanges))for(var i=0,r=e.axisRanges.length;i<r;i++){var a=e.axisRanges[i];N(a.type)||(a.type="AxisDataItem"),N(a.axis)&&ft(a.axis)&&this.map.hasKey(a.axis)?a.component=this.map.getKey(a.axis):N(a.component)&&ft(a.component)&&this.map.hasKey(a.component)&&(a.component=this.map.getKey(a.component))}(!N(e.dataFields)||!ni(e.dataFields))&&this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}s.prototype.processConfig.call(this,e)},t.prototype.getPoint=function(e,i,r,a,n,o,l){if(this.xAxis&&this.yAxis){var u=this.xAxis.getX(e,i,a),h=this.yAxis.getY(e,r,n);return u=Le(u,-this._maxxX,this._maxxX),h=Le(h,-this._maxxY,this._maxxY),{x:u,y:h}}},t.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var e="";Qe(this.dataFields,function(i,r){e+="{"+i+"} "}),this.itemReaderText=e,this._itemReaderTextChanged=!1}},Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(e){this.setPropertyValue("cursorHoverEnabled",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(e){this.setPropertyValue("excludeFromTotal",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e);var i=this.chart;i&&(e?this.bulletsContainer.parent=i.bulletsContainer:this.bulletsContainer.parent=i.axisBulletsContainer)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){this.groupFields=La(e.groupFields,{}),s.prototype.copyFrom.call(this,e)},t.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),s.prototype.dispose.call(this)},t}(Ul);E.registeredClasses.XYSeries=hs;E.registeredClasses.XYSeriesDataItem=bd;var av=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="ZoomOutButton",e.padding(9,9,9,9),e.showSystemTooltip=!0;var i=new et,r=e.background;r.cornerRadius(20,20,20,20),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var a=new Ee;a.element=e.paper.add("path");var n=we({x:0,y:0});return n+=ce({x:11,y:0}),a.path=n,a.pixelPerfect=!0,a.padding(8,3,8,3),a.stroke=i.getFor("primaryButtonText"),e.icon=a,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},t}(ka);E.registeredClasses.ZoomOutButton=av;var vd=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="DesaturateFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"saturate"}),e.filterPrimitives.push(e.feColorMatrix),e.width=120,e.height=120,e.saturation=0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(e){this.properties.saturation=e,this.feColorMatrix.attr({values:e.toString()})},enumerable:!0,configurable:!0}),t}(jn);E.registeredClasses.DesaturateFilter=vd;var $u=function(s){U(t,s);function t(){var e=s.call(this)||this;e._chart=new Ti,e.className="XYChartScrollbar";var i=new et;e.padding(0,0,0,0);var r=e.createChild($t);if(r.shouldClone=!1,r.margin(0,0,0,0),r.padding(0,0,0,0),r.interactionsEnabled=!1,e._scrollbarChart=r,!El()){var a=new vd;a.filterUnits="userSpaceOnUse",r.plotContainer.filters.push(a)}e._disposers.push(e._scrollbarChart),e.minHeight=60,e.minWidth=60;var n=e.createChild(Ee);n.shouldClone=!1,n.setElement(e.paper.add("path")),n.fill=i.getFor("background"),n.fillOpacity=.8,n.interactionsEnabled=!1,n.isMeasured=!1,n.toBack(),e._unselectedOverlay=n,e._disposers.push(e._unselectedOverlay),r.toBack(),e.background.cornerRadius(0,0,0,0);var o=e.thumb.background;o.cornerRadius(0,0,0,0),o.fillOpacity=0,o.fill=i.getFor("background");var l=o.states.getKey("hover");l&&(l.properties.fillOpacity=.2);var u=o.states.getKey("down");return u&&(u.properties.fillOpacity=.4),e._disposers.push(e._chart),e.applyTheme(),e}return Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new xt,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){var i=this,r=e.newValue;if(!(!r.xAxis||!r.yAxis)){var a=this.scrollbarChart;a.zoomOutButton.disabled=!0,this.chart=r.chart,a.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,a.language.locale=this.chart.language.locale;var n=!0,o=!0;de(this.series.iterator(),function(v){v!=r&&(v.xAxis==r.xAxis&&i.scrollbarChart.xAxes.length>0&&(n=!1),v.yAxis==r.yAxis&&i.scrollbarChart.yAxes.length>0&&(o=!1))}),r.events.on("beforedisposed",function(){i.series.removeValue(r)});var l=new et,u=r.clone();if((lt.onlyShowOnViewport||lt.queue)&&this.addDisposer(this.chart.events.on("removedfromqueue",function(){a.invalidateData()})),El()&&(u.stroke=He("#aaaaaa"),u.fill=u.stroke,u.propertyFields.fill=void 0,u.propertyFields.stroke=void 0),r.scrollbarSeries=u,n){var h=r.xAxis.clone();a.xAxes.moveValue(h),h.title.disabled=!0,h.rangeChangeDuration=0;var c=h.renderer;c.ticks.template.disabled=!0,c.inside=!0,c.labels.template.inside=!0,c.line.strokeOpacity=0,c.minLabelPosition=.02,c.maxLabelPosition=.98,c.line.disabled=!0,c.axisFills.template.disabled=!0,c.baseGrid.disabled=!0,c.grid.template.strokeOpacity=.05,c.minWidth=void 0,c.minHeight=void 0,c.padding(0,0,0,0),c.chart=a,c.margin(0,0,0,0),h.width=he(100);var A=c.labels.template;if(A.fillOpacity=.5,h.maxZoomCount=void 0,h.minZoomCount=void 0,h instanceof Pt){var d=h,f=r.xAxis;d.groupCount=f.groupCount*5,d.min=void 0,d.max=void 0,this._disposers.push(d.clonedFrom.events.on("extremeschanged",function(){k(d.clonedFrom.minDefined)&&(d.min=d.clonedFrom.minDefined),k(d.clonedFrom.maxDefined)&&(d.max=d.clonedFrom.maxDefined)},void 0,!1))}else if(h instanceof je){var p=h;p.min=void 0,p.max=void 0,k(p.clonedFrom.minDefined)||(p.min=void 0),k(p.clonedFrom.maxDefined)||(p.max=void 0),this._disposers.push(p.clonedFrom.events.on("extremeschanged",function(){k(p.clonedFrom.minDefined)&&(p.min=p.clonedFrom.min),k(p.clonedFrom.maxDefined)&&(p.max=p.clonedFrom.max)},void 0,!1))}u.xAxis=h}else this.scrollbarChart.xAxes.each(function(v){v.clonedFrom==r.xAxis&&(u.xAxis=v)});if(o){var m=r.yAxis.clone();a.yAxes.moveValue(m),m.title.disabled=!0,m.rangeChangeDuration=0;var c=m.renderer;c.ticks.template.disabled=!0,c.inside=!0,c.labels.template.inside=!0,c.line.strokeOpacity=0,c.minLabelPosition=.02,c.maxLabelPosition=.98,c.line.disabled=!0,c.axisFills.template.disabled=!0,c.grid.template.stroke=l.getFor("background"),c.baseGrid.disabled=!0,c.grid.template.strokeOpacity=.05,c.minWidth=void 0,c.minHeight=void 0,c.chart=a,c.padding(0,0,0,0),c.margin(0,0,0,0),m.height=he(100);var A=c.labels.template;if(A.fillOpacity=.5,u.yAxis=m,m.maxZoomCount=void 0,m.minZoomCount=void 0,m instanceof Pt){var g=m;g.min=void 0,g.max=void 0;var f=r.yAxis;m.groupCount=f.groupCount*5,this._disposers.push(g.clonedFrom.events.on("extremeschanged",function(){k(g.clonedFrom.minDefined)&&(g.min=g.clonedFrom.minDefined),k(g.clonedFrom.maxDefined)&&(g.max=g.clonedFrom.maxDefined)}))}else if(m instanceof je){var y=m;y.min=void 0,y.max=void 0,k(y.clonedFrom.minDefined)||(y.min=void 0),k(y.clonedFrom.maxDefined)||(y.max=void 0),this._disposers.push(y.clonedFrom.events.on("extremeschanged",function(){k(y.clonedFrom.minDefined)&&(y.min=y.clonedFrom.minDefined),k(y.clonedFrom.maxDefined)&&(y.max=y.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(v){v.clonedFrom==r.yAxis&&(u.yAxis=v)});u.rangeChangeDuration=0,u.interpolationDuration=0,u.defaultState.transitionDuration=0,u.showOnInit=!1,this._disposers.push(u.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(r.events.on("datavalidated",function(){u.data!=r.data&&(u.data=r.data)},void 0,!1)),u.defaultState.properties.visible=!0,a.series.push(u),this.updateByOrientation()}},t.prototype.updateByOrientation=function(){var e=this;this._scrollbarChart&&(de(this._scrollbarChart.xAxes.iterator(),function(i){var r=i.renderer;e.orientation=="vertical"?(r.grid.template.disabled=!0,r.labels.template.disabled=!0,r.minGridDistance=10):(r.grid.template.disabled=!1,r.labels.template.disabled=!1,r.minGridDistance=i.clonedFrom.renderer.minGridDistance)}),de(this._scrollbarChart.yAxes.iterator(),function(i){var r=i.renderer;e.orientation=="horizontal"?(r.grid.template.disabled=!0,r.labels.template.disabled=!0,r.minGridDistance=10):(r.grid.template.disabled=!1,r.labels.template.disabled=!1,r.minGridDistance=i.clonedFrom.renderer.minGridDistance)}))},t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue,r=this.scrollbarChart;r.series.each(function(a){a&&a.clonedFrom==i&&r.series.removeValue(a)}),r.series.length==0&&(r.xAxes.clear(),r.yAxes.clear());try{i.events.off("validated",this.zoomOutAxes,this)}catch{}},Object.defineProperty(t.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.get()!==e&&(this._chart.set(e,e.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),t.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},t.prototype.zoomOutAxes=function(){var e=this.scrollbarChart;de(e.xAxes.iterator(),function(i){i.zoom({start:0,end:1},!0,!0)}),de(e.yAxes.iterator(),function(i){i.zoom({start:0,end:1},!0,!0)})},t.prototype.updateThumb=function(e){if(e===void 0&&(e=!0),s.prototype.updateThumb.call(this,e),this._unselectedOverlay){var i=this.thumb,r=i.pixelX||0,a=i.pixelY||0,n=i.pixelWidth||0,o=i.pixelHeight||0,l="";this.orientation=="horizontal"?(l=Hn({x:-1,y:0,width:r,height:o}),l+=Hn({x:r+n,y:0,width:(this.pixelWidth||0)-r-n,height:o})):(l=Hn({x:0,y:0,width:n,height:a}),l+=Hn({x:0,y:a+o,width:n,height:(this.pixelHeight||0)-a-o})),this._unselectedOverlay.path=l}},t.prototype.processConfig=function(e){if(e&&N(e.series)&&Ci(e.series))for(var i=0,r=e.series.length;i<r;i++){var a=e.series[i];if(N(a)&&ft(a))if(this.map.hasKey(a))e.series[i]=this.map.getKey(a);else throw Error("XYChartScrollbar error: Series with id `"+a+"` does not exist.")}s.prototype.processConfig.call(this,e)},t}(Yo);E.registeredClasses.XYChartScrollbar=$u;var xd=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="XYChartDataItem",e.applyTheme(),e}return t}(Rm);var $t=function(s){U(t,s);function t(){var e=s.call(this)||this;e._axisRendererX=Fr,e._axisRendererY=Nr,e._seriesPoints=[],e.className="XYChart",e.maskBullets=!0,e.arrangeTooltips=!0;var i=e.chartContainer;i.layout="vertical",e.padding(15,15,15,15);var r=i.createChild(Oe);r.shouldClone=!1,r.layout="vertical",r.width=he(100),r.zIndex=1,e.topAxesContainer=r;var a=i.createChild(Oe);a.shouldClone=!1,a.layout="horizontal",a.width=he(100),a.height=he(100),a.zIndex=0,e.yAxesAndPlotContainer=a;var n=i.createChild(Oe);n.shouldClone=!1,n.width=he(100),n.layout="vertical",n.zIndex=1,e.bottomAxesContainer=n;var o=a.createChild(Oe);o.shouldClone=!1,o.layout="horizontal",o.height=he(100),o.contentAlign="right",o.events.on("transformed",e.updateXAxesMargins,e,!1),o.zIndex=1,e.leftAxesContainer=o;var l=a.createChild(Oe);l.shouldClone=!1,l.height=he(100),l.width=he(100),l.background.fillOpacity=0,e.plotContainer=l,e.mouseWheelBehavior="none",e._cursorContainer=l;var u=a.createChild(Oe);u.shouldClone=!1,u.layout="horizontal",u.height=he(100),u.zIndex=1,u.events.on("transformed",e.updateXAxesMargins,e,!1),e.rightAxesContainer=u,e.seriesContainer.parent=l,e.bulletsContainer.parent=l;var h=l.createChild(av);h.shouldClone=!1,h.align="right",h.valign="top",h.zIndex=Number.MAX_SAFE_INTEGER,h.marginTop=5,h.marginRight=5,h.hide(0),e.zoomOutButton=h;var c=e.plotContainer.createChild(Oe);return c.shouldClone=!1,c.width=he(100),c.height=he(100),c.isMeasured=!1,c.zIndex=4,c.layout="none",e.axisBulletsContainer=c,e._bulletMask=e.plotContainer,e.events.on("beforedatavalidated",function(){e.series.each(function(A){A.dataGrouped=!1,A._baseInterval={}})},e,!1),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,N(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},t.prototype.draw=function(){s.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},t.prototype.updatePlotElements=function(){de(this.series.iterator(),function(e){e.invalidate()})},t.prototype.validateData=function(){this._parseDataFrom==0&&(de(this.xAxes.iterator(),function(e){e.dataChangeUpdate()}),de(this.yAxes.iterator(),function(e){e.dataChangeUpdate()}),de(this.series.iterator(),function(e){e.dataChangeUpdate()})),s.prototype.validateData.call(this)},t.prototype.updateXAxesMargins=function(){var e=this.leftAxesContainer.measuredWidth,i=this.rightAxesContainer.measuredWidth,r=this.bottomAxesContainer;(r.paddingLeft!=e||r.paddingRight!=i)&&(r.paddingLeft=e,r.paddingRight=i);var a=this.topAxesContainer;(a.paddingLeft!=e||a.paddingRight!=i)&&(a.paddingLeft=e,a.paddingRight=i)},t.prototype.reinit=function(){s.prototype.reinit.call(this),this.series.each(function(e){e.appeared=!1})},t.prototype.handleXAxisChange=function(e){this.updateXAxis(e.target)},t.prototype.handleYAxisChange=function(e){this.updateYAxis(e.target)},t.prototype.processXAxis=function(e){var i=e.newValue;i.chart=this,i.renderer||(i.renderer=new this._axisRendererX,i.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),i.axisLetter="X",i.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),i.dataProvider=this,this.updateXAxis(i.renderer),this.processAxis(i)},t.prototype.processYAxis=function(e){var i=e.newValue;i.chart=this,i.renderer||(i.renderer=new this._axisRendererY,i.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),i.axisLetter="Y",i.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),i.dataProvider=this,this.updateYAxis(i.renderer),this.processAxis(i)},t.prototype.handleXAxisRangeChange=function(){var e=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,e)},t.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var e=!1;Zr(this.xAxes.iterator(),function(i){if(i.toggleZoomOutButton){if(i.maxZoomCount>0){var r=i.maxZoomFactor/i.maxZoomCount;if(be(i.end-i.start,3)<1/r)return e=!0,!1}else if(be(i.start,3)>0||be(i.end,3)<1)return e=!0,!1}return!0}),Zr(this.yAxes.iterator(),function(i){if(i.toggleZoomOutButton){if(i.maxZoomCount>0){var r=i.maxZoomFactor/i.maxZoomCount;if(be(i.end-i.start,3)<1/r)return e=!0,!1}else if(be(i.start,3)>0||be(i.end,3)<1)return e=!0,!1;return!0}}),this.seriesAppeared||(e=!1),e?this.zoomOutButton.show():this.zoomOutButton.hide()}},t.prototype.seriesAppeared=function(){var e=!1;return de(this.series.iterator(),function(i){if(!i.appeared)return e=!1,!1}),e},t.prototype.handleYAxisRangeChange=function(){var e=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,e)},t.prototype.updateScrollbar=function(e,i){e&&(e.skipRangeEvents(),e.start=i.start,e.end=i.end)},t.prototype.getCommonAxisRange=function(e){var i,r;return e.each(function(a){if(!(!a.zoomable||a instanceof je&&a.syncWithAxis)){var n=a.start,o=a.end;a.renderer.inversed&&(n=1-a.end,o=1-a.start),(!k(i)||n<i)&&(i=n),(!k(r)||o>r)&&(r=o)}}),{start:i,end:r}},t.prototype.updateXAxis=function(e){var i=e.axis;e.opposite?(i.parent=this.topAxesContainer,i.toFront()):(i.parent=this.bottomAxesContainer,i.toBack()),i.renderer&&i.renderer.processRenderer()},t.prototype.updateYAxis=function(e){var i=e.axis;e.opposite?(i.parent=this.rightAxesContainer,i.toBack()):(i.parent=this.leftAxesContainer,i.toFront()),i.renderer&&i.renderer.processRenderer()},t.prototype.processAxis=function(e){var i=this;e instanceof Vt&&this._dataUsers.moveValue(e);var r=e.renderer;r.gridContainer.parent=this.plotContainer,r.gridContainer.toBack(),r.breakContainer.parent=this.plotContainer,r.breakContainer.toFront(),r.breakContainer.zIndex=10,e.addDisposer(new Ot(function(){i.dataUsers.removeValue(e)})),r.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(e.events.on("positionchanged",function(){var a=ls({x:0,y:0},e,i.axisBulletsContainer);e.renderer instanceof Nr&&(r.bulletsContainer.y=a.y),e.renderer instanceof Fr&&(r.bulletsContainer.x=a.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){i.inited&&(e.invalidateDataItems(),i.updateSeriesMasks())},e,!1)},t.prototype.updateSeriesMasks=function(){El()&&this.series.each(function(e){var i=e.mainContainer.mask;e.mainContainer.mask=void 0,e.mainContainer.mask=i})},t.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;i&&(i.xAxis&&(i.xAxis.series.removeValue(i),i.xAxis.invalidateProcessedData()),i.yAxis&&(i.yAxis.series.removeValue(i),i.yAxis.invalidateProcessedData()),this.series.each(function(r){r.resetExtremes()})),s.prototype.handleSeriesRemoved.call(this,e)},Object.defineProperty(t.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new xt,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Lt(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),t.prototype.handleAxisRemoval=function(e){var i=e.oldValue;this.dataUsers.removeValue(i),i.autoDispose&&i.dispose()},Object.defineProperty(t.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new xt,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Lt(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){try{s.prototype.handleSeriesAdded.call(this,e);var i=e.newValue;(this.xAxes.length==0||this.yAxes.length==0)&&(E.removeFromInvalidComponents(i),i.dataInvalid=!1),i.xAxis,i.yAxis,i.maskBullets=i.maskBullets,i.fill==null&&(this.patterns?(N(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),N(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof Ft&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next()),N(i.stroke)||(i.stroke=i.fill)}catch(r){this.raiseCriticalError(r)}},Object.defineProperty(t.prototype,"cursor",{get:function(){return this._cursor},set:function(e){this._cursor!=e&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=e,e&&(this._disposers.push(e),e.chart=this,e.shouldClone=!1,e.parent=this._cursorContainer,e.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),e.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),e.events.on("zoomended",this.handleCursorZoomEnd,this,!1),e.events.on("panstarted",this.handleCursorPanStart,this,!1),e.events.on("panning",this.handleCursorPanning,this,!1),e.events.on("panended",this.handleCursorPanEnd,this,!1),e.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),e.events.on("hidden",this.handleHideCursor,this,!1),e.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),t.prototype.handleCursorPositionChange=function(){var e=this.cursor;if(e.visible&&!e.isHiding){var i=this.cursor.xPosition,r=this.cursor.yPosition;this.showSeriesTooltip({x:i,y:r});var a=[],n=e.snapToSeries;if(n&&!e.downPoint){n instanceof hs&&(n=[n]);var o=[];Ce(n,function(u){if(!u.isHidden&&!u.isHiding){var h=u.xAxis,c=u.yAxis;h instanceof je&&!(h instanceof Pt)&&c instanceof je&&!(c instanceof Pt)?(u.dataItems.each(function(A){o.push(A)}),Oa(a,u.yAxis),Oa(a,u.xAxis)):(u.baseAxis==u.xAxis&&(Oa(a,u.yAxis),o.push(h.getSeriesDataItem(u,h.toAxisPosition(i),!0))),u.baseAxis==u.yAxis&&(Oa(a,u.xAxis),o.push(c.getSeriesDataItem(u,c.toAxisPosition(r),!0))))}});var l=this.getClosest(o,i,r);l&&(this.series.each(function(u){var h=l.component;u!=h&&(u.hideTooltip(),u.xAxis!=h.xAxis&&(u.xAxis.hideTooltip(),a.push(u.xAxis)),u.yAxis!=h.yAxis&&(u.yAxis.hideTooltip(),a.push(u.yAxis)))}),l.component.showTooltipAtDataItem(l),e.handleSnap(l.component))}this._seriesPoints=[],this._cursorXPosition!=i&&this.showAxisTooltip(this.xAxes,i,a),this._cursorYPosition!=r&&this.showAxisTooltip(this.yAxes,r,a),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},t.prototype.getClosest=function(e,i,r){var a=1/0,n;return IA(e,function(o){if(o){var l=o.component.xAxis,u=o.component.yAxis,h=l.positionToCoordinate(l.toGlobalPosition(l.toAxisPosition(i))),c=u.positionToCoordinate(u.toGlobalPosition(u.toAxisPosition(r))),A=o.component.xField,d=o.component.yField;if(l instanceof je&&!k(o.getValue(A))||u instanceof je&&!k(o.getValue(d)))return!0;var f=l.positionToCoordinate(l.toGlobalPosition(l.getPositionX(o,A,o.locations[A],"valueX"))),p=u.positionToCoordinate(u.toGlobalPosition(u.getPositionY(o,d,o.locations[d],"valueY"))),m=Math.sqrt(Math.pow(h-f,2)+Math.pow(c-p,2));return m<a&&(a=m,n=o),!0}}),n},t.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},t.prototype.updateSeriesLegend=function(){de(this.series.iterator(),function(e){e.updateLegendValue()})},t.prototype.hideObjectTooltip=function(e){de(e.iterator(),function(i){i.cursorTooltipEnabled&&i.hideTooltip(0)})},t.prototype.showSeriesTooltip=function(e){var i=this;if(!e){this.series.each(function(a){a.hideTooltip()});return}var r=[];this.series.each(function(a){if(!(a.xAxis instanceof Pt&&a.xAxis.snapTooltip||a.yAxis instanceof Pt&&a.yAxis.snapTooltip)){var n=a.showTooltipAtPosition(e.x,e.y);n&&(a.tooltip.setBounds(ud({x:0,y:0,width:i.pixelWidth,height:i.pixelHeight},i)),r.push({series:a,point:n}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(r)},t.prototype.sortSeriesTooltips=function(e){if(e.length>0){var i=this.cursor;if(i&&k(i.maxTooltipDistance)){var r=va({x:i.point.x,y:i.point.y},i),a,n,o=1/0;Ce(e,function(R){var T=R.series,Q=R.point;if(Q){var K={x:Q.x,y:Q.y},z=Math.abs(Et(K,r));z<o&&(n=K,o=z,a=T)}});var l=[];a&&(Ce(e,function(R){if(Math.abs(Et(R.point,n))<=Math.abs(i.maxTooltipDistance))l.push({series:R.series,point:R.point});else{var T=R.series.tooltipDataItem;T&&Ce(T.sprites,function(Q){Q.isHover=!1,Q.handleOutReal()}),R.series.hideTooltip(0)}}),i.maxTooltipDistance<0&&(l.length>0&&Ce(l,function(R){a!=R.series&&R.series.hideTooltip(0)}),l=[{series:a,point:n}])),e=l}var u=va({x:-.5,y:-.5},this.plotContainer),h=va({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),c=0,A=[];Ce(e,function(R){var T=R.point;T&&_b(T,{x:u.x,y:u.y,width:h.x-u.x,height:h.y-u.y})&&(A.push({point:T,series:R.series}),c+=T.y)}),e=A;var d=this.series.getIndex(0),f=!1;d&&d.yAxis&&d.yAxis.renderer.inversed&&(f=!0),f?e.sort(function(R,T){return Za(R.point.y,T.point.y)}):(e.sort(function(R,T){return Za(T.point.y,R.point.y)}),e.reverse());var p=c/e.length,m=Vb({x:0,y:0},this.svgContainer.SVGContainer).y;if(e.length>0){var g=u.y,y=h.y;GA({x:0,y:g},this);var v=!1;if(p>g+(y-g)/2)for(var _=y,S=e.length-1;S>=0;S--){var F=e[S].series,P=F.tooltip,D=e[S].point.y;if(P.setBounds({x:0,y:-m,width:this.pixelWidth,height:_+m}),P.invalid&&P.validate(),P.toBack(),_=va({x:0,y:P.label.pixelY-P.pixelY+D-P.pixelMarginTop},P).y,_<-m){v=!0;break}}if(p<=g+(y-g)/2||v)for(var $=g,S=0,I=e.length;S<I;S++){var F=e[S].series,D=e[S].point.y,P=F.tooltip;P.setBounds({x:0,y:$,width:this.pixelWidth,height:y}),P.invalid&&P.validate(),P.toBack(),$=va({x:0,y:P.label.pixelY+P.label.measuredHeight-P.pixelY+D+P.pixelMarginBottom},P).y}}}},t.prototype.showAxisTooltip=function(e,i,r){var a=this;de(e.iterator(),function(n){(!r||r.indexOf(n)==-1)&&(a.dataItems.length>0||n.dataItems.length>0)&&n.showTooltipAtPosition(i)})},t.prototype.getUpdatedRange=function(e,i){if(e){var r,a,n=e.renderer.inversed;n?(OA(i),r=1-e.end,a=1-e.start):(r=e.start,a=e.end);var o=a-r;return{start:r+i.start*o,end:r+i.end*o}}},t.prototype.handleCursorZoomEnd=function(e){var i=this.cursor,r=i.behavior;if(r=="zoomX"||r=="zoomXY"){var a=i.xRange;a&&this.xAxes.length>0&&(a=this.getUpdatedRange(this.xAxes.getIndex(0),a),a.priority="start",this.zoomAxes(this.xAxes,a))}if(r=="zoomY"||r=="zoomXY"){var n=i.yRange;n&&this.yAxes.length>0&&(n=this.getUpdatedRange(this.yAxes.getIndex(0),n),n.priority="start",this.zoomAxes(this.yAxes,n))}this.handleHideCursor()},t.prototype.handleCursorPanStart=function(e){var i=this.xAxes.getIndex(0);i&&(this._panStartXRange={start:i.start,end:i.end},i.renderer.inversed&&(this._panStartXRange=OA(this._panStartXRange)));var r=this.yAxes.getIndex(0);r&&(this._panStartYRange={start:r.start,end:r.end},r.renderer.inversed&&(this._panStartYRange=OA(this._panStartYRange)))},t.prototype.handleCursorPanEnd=function(e){var i=this.cursor,r=i.behavior;if(this._panEndXRange&&(r=="panX"||r=="panXY")){var a=this._panEndXRange,n=this._panStartXRange,o=0;a.start<0&&(o=a.start),n.end>1?a.end>n.end&&(o=a.end-n.end):a.end>1&&(o=a.end-1),this.zoomAxes(this.xAxes,{start:a.start-o,end:a.end-o},!1,i.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&(r=="panY"||r=="panXY")){var a=this._panEndYRange,o=0;a.start<0&&(o=a.start),a.end>1&&(o=a.end-1),this.zoomAxes(this.yAxes,{start:a.start-o,end:a.end-o},!1,i.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0}},t.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},t.prototype.handleCursorPanning=function(e){var i=this.cursor,r=i.behavior,a=i.maxPanOut;if(this._panStartXRange&&(r=="panX"||r=="panXY")){var n=this._panStartXRange,o=i.xRange,l=this.getCommonAxisRange(this.xAxes),u=n.end-n.start,h=o.start*(l.end-l.start),c=Math.max(-a,h+n.start),A=Math.min(h+n.end,1+a);c<=0&&(A=c+u),A>=1&&(c=A-u);var d={start:c,end:A};this._panEndXRange=d,this.zoomAxes(this.xAxes,d,!1,!1,i.maxPanOut)}if(this._panStartYRange&&(r=="panY"||r=="panXY")){var n=this._panStartYRange,o=i.yRange,l=this.getCommonAxisRange(this.yAxes),u=n.end-n.start,h=o.start*(l.end-l.start),c=Math.max(-a,h+n.start),A=Math.min(h+n.end,1+a);c<=0&&(A=c+u),A>=1&&(c=A-u);var d={start:c,end:A};this._panEndYRange=d,this.zoomAxes(this.yAxes,d,!1,!1,i.maxPanOut)}this.handleHideCursor()},t.prototype.handleYAxisSet=function(e){},t.prototype.handleCursorZoomStart=function(e){},Object.defineProperty(t.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(e){var i=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=e,e&&(this._disposers.push(e),e.parent=this.topAxesContainer,e.shouldClone=!1,e.startGrip.exportable=!1,e.endGrip.exportable=!1,e.toBack(),e.orientation="horizontal",e.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(r){var a=i.xAxes.getIndex(0);return a&&(r.value=a.getPositionLabel(a.renderer.inversed?1-r.position:r.position)),r}),e.adapter.add("positionValueDirection",function(r){var a=i.xAxes.getIndex(0);return a&&(r.flipped=a.renderer.inversed),r}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(e){var i=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=e,e&&(this._disposers.push(e),e.parent=this.rightAxesContainer,e.startGrip.exportable=!1,e.shouldClone=!1,e.endGrip.exportable=!1,e.toFront(),e.orientation="vertical",e.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",function(){return e.updateThumb(!1)},this,!1),e.adapter.add("positionValue",function(r){var a=i.yAxes.getIndex(0);return a&&(r.value=a.getPositionLabel(a.renderer.inversed?r.position:1-r.position)),r}),e.adapter.add("positionValueDirection",function(r){var a=i.yAxes.getIndex(0);return a&&(r.flipped=!a.renderer.inversed),r}))},enumerable:!0,configurable:!0}),t.prototype.handleXScrollbarChange=function(e){if(this.inited){var i=e.target,r=i.range;r.start==0&&(r.priority="start"),r.end==1&&(r.priority="end"),r=this.zoomAxes(this.xAxes,r),i.fixRange(r)}},t.prototype.handleYScrollbarChange=function(e){if(this.inited){var i=e.target,r=i.range;r.end==1&&(r.priority="end"),r.start==0&&(r.priority="start"),r=this.zoomAxes(this.yAxes,r),i.fixRange(r)}},t.prototype.zoomAxes=function(e,i,r,a,n,o){var l={start:0,end:1};this.showSeriesTooltip();var u=i;return this.dataInvalid||de(e.iterator(),function(h){var c=h.maxZoomFactor;if(k(h.minZoomCount)&&(c=c/h.minZoomCount),!(o&&1/(i.end-i.start)>=c)){if(h.zoomable){if(h.renderer.inversed?i=OA(u):i=u,h.hideTooltip(0),a)if(h instanceof Vt){var A=h.getCellEndPosition(0)-h.getCellStartPosition(0);i.start=h.roundPosition(i.start+A/2-h.startLocation*A,h.startLocation),i.end=h.roundPosition(i.end-A/2+(1-h.endLocation)*A,h.endLocation)}else{var d=1e-4;i.start=h.roundPosition(i.start+d,0,h.startLocation),i.end=h.roundPosition(i.end+d,0,h.endLocation)}var f=h.zoom(i,r,r,n);h.renderer.inversed&&(f=OA(f)),l=f}}}),l},Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)&&this.bulletsContainer&&(e?this.bulletsContainer.mask=this._bulletMask:this.bulletsContainer.mask=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(e){this.setPropertyValue("arrangeTooltips",e,!0)},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var i=this.plotContainer,r=Ho(e.point,this.htmlContainer,this.svgContainer.cssScale),a=Ws(r,i),n=e.shift.y;this.handleWheelReal(n,this.mouseWheelBehavior,a)},t.prototype.handleHorizontalWheel=function(e){var i=this.plotContainer,r=Ho(e.point,this.htmlContainer,this.svgContainer.cssScale),a=Ws(r,i);this.handleWheelReal(e.shift.x,this.horizontalMouseWheelBehavior,a)},t.prototype.handleWheelReal=function(e,i,r){if(e!=0){var a=this.plotContainer,n=this.getCommonAxisRange(this.xAxes),o=this.getCommonAxisRange(this.yAxes),l=.1,u=0;if(i=="panX"||i=="panXY"){var h=this.xAxes.getIndex(0),c=!1,A=l;h instanceof Vt&&(A=.5/((n.end-n.start)*h.dataItems.length),c=!0),l=Math.max(.2,A);var d=n.end-n.start,f=Math.max(-u,n.start+l*e/100*(n.end-n.start)),p=Math.min(n.end+l*e/100*(n.end-n.start),1+u);f<=0&&(p=f+d),p>=1&&(f=p-d),this.zoomAxes(this.xAxes,{start:f,end:p},void 0,c)}if(i=="panY"||i=="panXY"){var m=this.yAxes.getIndex(0),A=l,c=!1;m instanceof Vt&&(A=.5/((n.end-n.start)*m.dataItems.length),c=!0),l=Math.max(.2,A),e*=-1;var g=o.end-o.start,y=Math.max(-u,o.start+l*e/100*(o.end-o.start)),v=Math.min(o.end+l*e/100*(o.end-o.start),1+u);y<=0&&(v=y+g),v>=1&&(y=v-g),this.zoomAxes(this.yAxes,{start:y,end:v},void 0,c)}if(i=="zoomX"||i=="zoomXY"){var _=r.x/a.maxWidth,S=this.xAxes.getIndex(0).toAxisPosition(_),f=Math.max(-u,n.start-l*(n.end-n.start)*e/100*_);f=Math.min(f,S);var p=Math.min(n.end+l*(n.end-n.start)*e/100*(1-_),1+u);p=Math.max(p,S),this.zoomAxes(this.xAxes,{start:f,end:p},void 0)}if(i=="zoomY"||i=="zoomXY"){var F=r.y/a.maxHeight,P=this.yAxes.getIndex(0).toAxisPosition(F),y=Math.max(-u,o.start-l*(o.end-o.start)*e/100*(1-F));y=Math.min(y,P);var v=Math.min(o.end+l*e/100*F*(o.end-o.start),1+u);v=Math.max(v,P),this.zoomAxes(this.yAxes,{start:y,end:v},void 0)}}},Object.defineProperty(t.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(e){this.setPropertyValue("mouseWheelBehavior",e)&&(e!="none"?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(e){this.setPropertyValue("horizontalMouseWheelBehavior",e)&&(e!="none"?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),t.prototype.dataSourceDateFields=function(e){var i=this;return e=s.prototype.dataSourceDateFields.call(this,e),de(this.series.iterator(),function(r){e=i.populateDataSourceFields(e,r.dataFields,["dateX","dateY","openDateX","openDateY"])}),e},t.prototype.dataSourceNumberFields=function(e){var i=this;return e=s.prototype.dataSourceDateFields.call(this,e),de(this.series.iterator(),function(r){e=i.populateDataSourceFields(e,r.dataFields,["valueX","valueY","openValueX","openValueY"])}),e},t.prototype.processConfig=function(e){if(e){var i=[],r=[];if(N(e.xAxes)&&Ci(e.xAxes))for(var a=0,n=e.xAxes.length;a<n;a++)if(e.xAxes[a].type){if(N(e.xAxes[a].axisRanges)){for(var o=0,l=e.xAxes[a].axisRanges.length;o<l;o++){var u=e.xAxes[a].axisRanges[o];N(u.date)&&ft(u.date)&&(u.date=this.dateFormatter.parse(u.date)),N(u.endDate)&&ft(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate))}i.push({axisRanges:e.xAxes[a].axisRanges,index:a}),delete e.xAxes[a].axisRanges}}else throw Error("[XYChart error] No type set for xAxes["+a+"].");if(N(e.yAxes)&&Ci(e.yAxes))for(var a=0,n=e.yAxes.length;a<n;a++)if(e.yAxes[a].type){if(N(e.yAxes[a].axisRanges)){for(var o=0,h=e.yAxes[a].axisRanges.length;o<h;o++){var u=e.yAxes[a].axisRanges[o];N(u.date)&&ft(u.date)&&(u.date=this.dateFormatter.parse(u.date)),N(u.endDate)&&ft(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate))}r.push({axisRanges:e.yAxes[a].axisRanges,index:a}),delete e.yAxes[a].axisRanges}}else throw Error("[XYChart error] No type set for yAxes["+a+"].");if(N(e.series)&&Ci(e.series))for(var a=0,n=e.series.length;a<n;a++)e.series[a].type=e.series[a].type||"LineSeries";if(N(e.cursor)&&!N(e.cursor.type)&&(e.cursor.type="XYCursor"),N(e.scrollbarX)&&!N(e.scrollbarX.type)&&(e.scrollbarX.type="Scrollbar"),N(e.scrollbarY)&&!N(e.scrollbarY.type)&&(e.scrollbarY.type="Scrollbar"),s.prototype.processConfig.call(this,e),r.length)for(var a=0,n=r.length;a<n;a++)this.yAxes.getIndex(r[a].index).config={axisRanges:r[a].axisRanges};if(i.length)for(var a=0,n=i.length;a<n;a++)this.xAxes.getIndex(i[a].index).config={axisRanges:i[a].axisRanges}}},t.prototype.configOrder=function(e,i){return e==i?0:e=="scrollbarX"?1:i=="scrollbarX"?-1:e=="scrollbarY"?1:i=="scrollbarY"?-1:e=="cursor"?1:i=="cursor"?-1:e=="series"?1:i=="series"?-1:s.prototype.configOrder.call(this,e,i)},t.prototype.createSeries=function(){return new hs},Object.defineProperty(t.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(e){var i=this;this._zoomOutButton=e,e&&e.events.on("hit",function(){i.zoomAxes(i.xAxes,{start:0,end:1}),i.zoomAxes(i.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var i=this;e.xAxes.each(function(r){var a=i.xAxes.push(r.clone());a.chart=i,a.renderer.chart=i}),e.yAxes.each(function(r){var a=i.yAxes.push(r.clone());a.renderer.chart=i,a.chart=i}),s.prototype.copyFrom.call(this,e),e.cursor&&(this.cursor=e.cursor.clone()),e.scrollbarX&&(this.scrollbarX=e.scrollbarX.clone()),e.scrollbarY&&(this.scrollbarY=e.scrollbarY.clone())},t.prototype.disposeData=function(){s.prototype.disposeData.call(this);var e=this.scrollbarX;e&&e instanceof $u&&e.scrollbarChart.disposeData();var i=this.scrollbarY;i&&i instanceof $u&&i.scrollbarChart.disposeData(),this.xAxes.each(function(r){r instanceof Vt&&r.disposeData()}),this.yAxes.each(function(r){r instanceof Vt&&r.disposeData()})},t.prototype.addData=function(e,i){this.scrollbarX instanceof $u&&this.addScrollbarData(this.scrollbarX,i),this.scrollbarY instanceof $u&&this.addScrollbarData(this.scrollbarY,i),s.prototype.addData.call(this,e,i)},t.prototype.addScrollbarData=function(e,i){var r=e.scrollbarChart;r._parseDataFrom=r.data.length,r.invalidateData()},t.prototype.removeScrollbarData=function(e,i){var r=e.scrollbarChart;if(k(i)){for(;i>0;){var a=this.dataItems.getIndex(0);a&&r.dataItems.remove(a),r.dataUsers.each(function(n){var o=n.dataItems.getIndex(0);o&&n.dataItems.remove(o)}),r._parseDataFrom--,i--}r.invalidateData()}},t.prototype.removeData=function(e){this.scrollbarX instanceof $u&&this.removeScrollbarData(this.scrollbarX,e),this.scrollbarY instanceof $u&&this.removeScrollbarData(this.scrollbarY,e),s.prototype.removeData.call(this,e)},t.prototype.setTapToActivate=function(e){s.prototype.setTapToActivate.call(this,e),this.cursor&&(this.cursor.interactions.isTouchProtected=e,this.plotContainer.interactions.isTouchProtected=e)},t.prototype.handleTapToActivate=function(){s.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},t.prototype.handleTapToActivateDeactivation=function(){s.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},t}(Lu);E.registeredClasses.XYChart=$t;sr.push({relevant:fr.maybeXS,state:function(s,t){if(s instanceof $t&&s.scrollbarX){var e=s.states.create(t),i=s.scrollbarX.states.create(t);return i.properties.disabled=!0,e}return null}});sr.push({relevant:fr.maybeXS,state:function(s,t){if(s instanceof $t&&s.scrollbarY){var e=s.states.create(t),i=s.scrollbarY.states.create(t);return i.properties.disabled=!0,e}return null}});var nf=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="LineSeriesSegment",e.isMeasured=!1,e.interactionsEnabled=!1,e.layout="none";var i=e.createChild(Ee);e.fillSprite=i,i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e._disposers.push(i);var r=e.createChild(Ee);return e.strokeSprite=r,r.shouldClone=!1,r.fill=He(),r.setElement(e.paper.add("path")),r.isMeasured=!1,e._disposers.push(r),e}return t.prototype.drawSegment=function(e,i,r,a){if(!this.disabled)if(e.length>0&&i.length>0&&k(e[0].x)&&k(e[0].y)){var n=we({x:e[0].x-.2,y:e[0].y-.2})+we(e[0]),o=this.series;o.smoothing=="bezier"?n+=new Wn(r,a).smooth(e):o.smoothing=="monotoneX"?n+=new K_({closed:!1}).smooth(e):o.smoothing=="monotoneY"&&(n+=new q_({closed:!1}).smooth(e)),this.strokeOpacity==0||this.strokeSprite.strokeOpacity==0||(this.strokeSprite.path=n),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&k(i[0].x)&&k(i[0].y)&&(n+=ce(i[0]),o.smoothing=="bezier"?n+=new Wn(r,a).smooth(i):o.smoothing=="monotoneX"?n+=new K_({closed:!1}).smooth(i):o.smoothing=="monotoneY"&&(n+=new q_({closed:!1}).smooth(i)),n+=ce(e[0]),n+=Fi(),this.fillSprite.path=n)}else this.fillSprite.path="",this.strokeSprite.path=""},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e);var i=this.strokeSprite;ji(e,i.properties,Di),i.events.copyFrom(e.strokeSprite.events),i.fillOpacity=0;var r=this.fillSprite;ji(e,r.properties,Di),r.events.copyFrom(e.fillSprite.events),r.strokeOpacity=0},t}(Oe);E.registeredClasses.LineSeriesSegment=nf;var PO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="DurationAxisDataItem",e.applyTheme(),e}return t}(Zo);var Vm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._baseUnit="second",e.className="DurationAxis",e.setPropertyValue("maxZoomFactor",1e6),e.applyTheme(),e}return t.prototype.formatLabel=function(e,i){return this.durationFormatter.format(e,i||this.axisDurationFormat)},t.prototype.adjustMinMax=function(e,i,r,a,n){var o,l,u,h=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),h=="millisecond"||h=="second"||h=="minute"||h=="hour"){a<=1&&(a=1),a=Math.round(a);var c=e,A=i;r===0&&(r=Math.abs(i));var d=r/a,f=[60,30,20,15,10,2,1],p=1;h=="hour"&&(f=[24,12,6,4,2,1]);try{for(var m=Rc(f),g=m.next();!g.done;g=m.next()){var y=g.value;if(r/y>a){p=y;break}}}catch(D){o={error:D}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(o)throw o.error}}var v=Math.ceil((i-e)/p/a),_=Math.log(Math.abs(v))*Math.LOG10E,S=Math.pow(10,Math.floor(_))/10,F=v/S,P=v1(f,F);v=P*S,d=p*v,this.durationFormatter.getValueUnit(d,this.baseUnit),e=Math.floor(e/d)*d,i=Math.ceil(i/d)*d,n&&(e-=d,e<0&&c>=0&&(e=0),i+=d,i>0&&A<=0&&(i=0)),u={min:e,max:i,step:d}}else u=s.prototype.adjustMinMax.call(this,e,i,r,a,n);return this.axisDurationFormat=this.durationFormatter.getFormat(u.step,u.max,this.baseUnit),u},Object.defineProperty(t.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(e){this._tooltipDurationFormat=e},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var i=be(this.positionToValue(e),this._stepDecimalPlaces),r=this.formatLabel(i,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",r):r},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit!=e&&(this._baseUnit=e,this.durationFormatter.baseUnit=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.baseUnit=e.baseUnit},t}(je);E.registeredClasses.DurationAxis=Vm;E.registeredClasses.DurationAxisDataItem=PO;var Ma=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="LineSeriesDataItem",e}return t}(bd);var li=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.minDistance=.5,e.segments=new Kt(e.createSegment()),e.segments.template.applyOnClones=!0,e._disposers.push(new Lt(e.segments)),e._disposers.push(e.segments.template),e._segmentsIterator=new id(e.segments,function(){return e.segments.create()}),e._segmentsIterator.createNewItems=!0,e.className="LineSeries",e.strokeOpacity=1,e.fillOpacity=0,e.connect=!0,e.tensionX=1,e.tensionY=1,e.autoGapCount=1.1,e.smoothing="bezier",e.segmentsContainer=e.mainContainer.createChild(Oe),e.segmentsContainer.isMeasured=!1,e.bulletsContainer.toFront(),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},t.prototype.createSegment=function(){return new nf},t.prototype.createDataItem=function(){return new Ma},t.prototype.setInitialWorkingValues=function(e){var i=this._yAxis.get(),r=this._xAxis.get();if(this.appeared&&this.visible){var a=this.dataItems.getIndex(e.index-1);if(e.component=this,this.baseAxis==r&&i instanceof je){var n=i.minZoomed;if(a&&(n=a.values.valueY.workingValue),e.setWorkingValue("valueY",n,0),e.setWorkingValue("valueY",e.values.valueY.value),r instanceof Pt)e.setWorkingLocation("dateX",e.locations.dateX-1,0),e.setWorkingLocation("dateX",e.locations.dateX);else if(r instanceof Vm&&a){var o=e.valueX;e.setWorkingValue("valueX",a.valueX,0),e.setWorkingValue("valueX",o)}}if(this.baseAxis==i&&r instanceof je){var l=r.minZoomed;if(a&&(l=a.values.valueX.workingValue),e.setWorkingValue("valueX",l,0),e.setWorkingValue("valueX",e.values.valueX.value),i instanceof Pt)e.setWorkingLocation("dateY",e.locations.dateX-1,0),e.setWorkingLocation("dateY",e.locations.dateY);else if(i instanceof Vm&&a){var o=e.valueY;e.setWorkingValue("valueY",a.valueY,0),e.setWorkingValue("valueY",o)}}}else this.baseAxis==r&&i instanceof je&&(r instanceof Pt&&e.setWorkingLocation("dateX",e.locations.dateX),r instanceof Vt&&e.setWorkingLocation("categoryX",e.locations.categoryX)),this.baseAxis==i&&r instanceof je&&(i instanceof Pt&&e.setWorkingLocation("dateY",e.locations.dateY),i instanceof Vt&&e.setWorkingLocation("categoryY",e.locations.categoryY))},t.prototype.updateLegendValue=function(e,i){s.prototype.updateLegendValue.call(this,e,i),e&&e.segment&&(this.tooltipColorSource=e.segment)},t.prototype.validate=function(){var e=this;s.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),de(this.axisRanges.iterator(),function(i){e.openSegmentWrapper(e._adjustedStartIndex,i)}),de(this._segmentsIterator.iterator(),function(i){i.__disabled=!0}))},t.prototype.sliceData=function(){for(var e=this.startIndex,i=this.endIndex,r=this.startIndex-1;r>=0;r--){var a=this.dataItems.getIndex(r);if(a&&a.hasValue(this._xValueFields)&&a.hasValue(this._yValueFields)){e=r;break}}this._adjustedStartIndex=this.findAdjustedIndex(e,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);for(var r=this.endIndex,n=this.dataItems.length;r<n;r++){var a=this.dataItems.getIndex(r);if(a&&a.hasValue(this._xValueFields)&&a.hasValue(this._yValueFields)){i=r+1;break}}this._workingStartIndex=e,this._workingEndIndex=i},t.prototype.findAdjustedIndex=function(e,i){var r=this,a=this.propertyFields,n=e;return Ce(i,function(o){if(N(a[o]))for(var l=n;l>=0;l--){var u=r.dataItems.getIndex(l);if(u&&N(u.properties[o])){e>l&&(e=l);break}}}),e},t.prototype.openSegmentWrapper=function(e,i){var r={index:e,axisRange:i};do r=this.openSegment(r.index,r.axisRange);while(r)},t.prototype.getSegment=function(){var e=this._segmentsIterator.getFirst();return e.series=this,e.isDisposed()?(this.segments.removeValue(e),this.getSegment()):e},t.prototype.openSegment=function(e,i){var r=!1,a=[];e=Math.min(e,this.dataItems.length);var n=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var o,l=!1,u=this.getSegment();u.strokeDasharray=void 0,u.__disabled=!1,i?(u.parent=i.contents,ji(i.contents,u,Di)):(ji(this,u,Di),u.filters.clear(),u.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var h=this.connect,c=!1,A=e;A<n;A++){var d=this.dataItems.getIndex(A);if(d.segment=u,d.hasProperties&&(A==e?this.updateSegmentProperties(d.properties,u):l=this.updateSegmentProperties(d.properties,u,!0)),d.hasValue(this._xValueFields)&&d.hasValue(this._yValueFields))this.addPoints(a,d,this.xField,this.yField),c=!0;else{if(A==e)continue;if(!h&&c){o=A;break}}if(o=A,this.baseAxis instanceof Pt){var f=this.dataItems.getIndex(A+1);if(f&&this.baseAxis.makeGap(f,d)){r=!0;break}}if(l)break}return this.closeSegment(u,a,e,o,i,r)},t.prototype.addPoints=function(e,i,r,a,n){var o=this.getPoint(i,r,a,i.workingLocations[r],i.workingLocations[a]);n||(i.point=o),e.push(o)},t.prototype.closeSegment=function(e,i,r,a,n,o){var l=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var u=a;u>=r;u--){var h=this.dataItems.getIndex(u);h.hasValue(this._xValueFields)&&h.hasValue(this._yValueFields)&&this.addPoints(l,h,this.xOpenField,this.yOpenField,!0)}else{var c=this.baseAxis,A=i.length,d=this.xAxis,f=this.yAxis;A>0&&(c==d?(l.push({x:i[A-1].x,y:f.basePoint.y}),l.push({x:i[0].x,y:f.basePoint.y})):(l.push({x:d.basePoint.x,y:i[A-1].y}),l.push({x:d.basePoint.x,y:i[0].y})))}return this.drawSegment(e,i,l),o&&a++,a<this._workingEndIndex-1?{index:a,axisRange:n}:null},t.prototype.drawSegment=function(e,i,r){e.drawSegment(i,r,this.tensionX,this.tensionY)},t.prototype.updateSegmentProperties=function(e,i,r){var a=!1;return Qe(e,function(n,o){if(N(o)){var l=i[n],u=void 0;l&&(l.toString?u=l.toString():u=l);var h=void 0;o&&(o.toString?h=o.toString():h=o),l==o||u!=null&&h!=null&&u==h||(r||(i[n]=o),a=!0)}}),a},Object.defineProperty(t.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(e){this.setPropertyValue("connect",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var i=this,r=e.pixelWidth,a=e.pixelHeight;e.disposeChildren();var n=e.createChild(ia);if(n.shouldClone=!1,ji(this,n,Di),n.x2=r,n.y=a/2,n.y2=1e-5,n.visible=!0,this.fillOpacity>0){var o=e.createChild(jh);ji(this,o,Di),o.width=r,o.height=a,o.y=0,o.strokeOpacity=0,o.visible=!0,n.y=0}var l=e.dataItem;l.color=this.stroke,l.colorOrig=this.fill,Zr(this.bullets.iterator(),function(u){if(u instanceof ta&&!u.copyToLegendMarker)return!1;var h=!1;if(u instanceof Oe&&de(u.children.iterator(),function(A){if(A instanceof Ni)return h=!0,!0}),!h){var c=u.clone();return c.parent=e,c.isMeasured=!0,c.tooltipText=void 0,c.x=r/2,i.fillOpacity>0?c.y=0:c.y=a/2,c.visible=!0,N(c.fill)||(c.fill=i.fill),N(c.stroke)||(c.stroke=i.stroke),!1}})},t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(t.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(e){this.setPropertyValue("autoGapCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(e){this.setPropertyValue("smoothing",e,!0)},enumerable:!0,configurable:!0}),t}(hs);E.registeredClasses.LineSeries=li;E.registeredClasses.LineSeriesDataItem=Ma;var Z_=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="RadarSeriesDataItem",e.setLocation("dateX",0,0),e.setLocation("dateY",0,0),e.setLocation("categoryX",0,0),e.setLocation("categoryY",0,0),e.applyTheme(),e}return t}(Ma);var nv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="RadarSeries",e.connectEnds=!0,e.applyTheme(),e}return t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),s.prototype.validate.call(this)},t.prototype.createDataItem=function(){return new Z_},t.prototype.getPoint=function(e,i,r,a,n,o,l){o||(o="valueX"),l||(l="valueY");var u=this.yAxis.getX(e,r,n,l),h=this.yAxis.getY(e,r,n,l),c=Et({x:u,y:h});c==0&&(c=1e-5);var A=this.xAxis.getAngle(e,i,a,o),d=this.chart.startAngle,f=this.chart.endAngle;if(!(A<d||A>f))return{x:c*Pe(A),y:c*Fe(A)}},t.prototype.addPoints=function(e,i,r,a,n){var o=this.getPoint(i,r,a,i.locations[r],i.locations[a]);o&&e.push(o)},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return wo(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.drawSegment=function(e,i,r){var a=this.yAxis,n=a.renderer;this.connectEnds&&Math.abs(n.endAngle-n.startAngle)==360&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(i.push(i[0]),r.length>0&&r.unshift(r[r.length-1])),s.prototype.drawSegment.call(this,e,i,r)},Object.defineProperty(t.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(e){this.setPropertyValue("connectEnds",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBulletReal=function(e,i,r){var a=this.xAxis,n=this.yAxis;(i<a.start||i>a.end||r<n.start||r>n.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(i,r))},t.prototype.setXAxis=function(e){s.prototype.setXAxis.call(this,e),this.updateRendererRefs()},t.prototype.setYAxis=function(e){s.prototype.setYAxis.call(this,e),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,i=this.yAxis.renderer;e.axisRendererY=i},t}(li);E.registeredClasses.RadarSeries=nv;E.registeredClasses.RadarSeriesDataItem=Z_;var Pn=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Circle",e.element=e.paper.add("circle"),e.setPercentProperty("radius",he(100)),e.setPropertyValue("horizontalCenter","middle"),e.setPropertyValue("verticalCenter","middle"),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Ai(this.radius,bt(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){var e=this.pixelRadius;this._bbox={x:-e,y:-e,width:e*2,height:e*2}},t}(Ee);E.registeredClasses.Circle=Pn;var of=function(s){U(t,s);function t(e){var i=s.call(this,e)||this;return i.className="AxisFillCircular",i.element=i.paper.add("path"),i.radius=he(100),i.applyTheme(),i}return t.prototype.draw=function(){if(s.prototype.draw.call(this),!(this.__disabled||this.disabled)&&this.axis){var e=this.axis.renderer;this.fillPath=e.getPositionRangePath(this.startPosition,this.endPosition,this.radius,N(this.innerRadius)?this.innerRadius:e.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(zh);E.registeredClasses.AxisFillCircular=of;var ov=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="GridCircular",e.pixelPerfect=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t}(Gh);E.registeredClasses.GridCircular=ov;var Co=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.fdx=0,e.fdy=0,e.className="AxisLabelCircular",e.padding(0,0,0,0),e.location=.5,e.locationOnPath=.5,e.radius=0,e.isMeasured=!1,e.applyTheme(),e}return Object.defineProperty(t.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(e){if(this.setPropertyValue("relativeRotation",e,!0),!N(e)){this.rotation=void 0;var i=this.dataItem;i&&i.component&&i.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(e){this.setPropertyValue("bent",e,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),e?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),t.prototype.pixelRadius=function(e){var i=1;return this.inside&&(i=-1),Ai(this.radius,e)*i},t.prototype.pixelRadiusY=function(e,i){var r=1;this.inside&&(r=-1);var a=this.radius;return k(a)?(a*=i/e,Ai(a,e)*r):Ai(a,i)*r},t.prototype.fixPosition=function(e,i,r,a,n){k(r)||(r=i),k(a)||(a=0),k(n)||(n=0);var o={x:i*Pe(e),y:r*Fe(e)};this.invalid&&this.validate();var l=!1,u=this.radius;(u instanceof nt&&u.value<0||u<0)&&(l=!0);var h=this.relativeRotation,c=this.pixelRadius(i);if(this.bent){var A={x:(i+c)*Pe(e+180),y:(r+c*r/i)*Fe(e+180)};this.path=we(A)+Br(e+180,360,i+c,r+c*r/i),this.textPathElement&&this.textPathElement.attr({startOffset:this.locationOnPath*100+"%"});return}if(k(h)){this.horizontalCenter="none",this.verticalCenter="none",e=Un(e,-180,180);var d=this.bbox.width,f=this.bbox.height,p=this.pixelPaddingBottom,m=this.pixelPaddingTop,g=this.pixelPaddingLeft,y=this.pixelPaddingRight;e>90||e<-90?h==-90&&(h=90,d=0):(h==-90&&(f=-f),h==90&&(h=-90,d=-g-y,f=-f-m-p)),this.rotation=h+e+90;var v=Fe(h)/2,_=Pe(h)/2,S=this.rotation;this.dx=f*v*Fe(S)-d*_*Pe(S),this.dy=-f*v*Pe(S)-d*_*Fe(S),this.inside?e>90||e<-90?c-=(p+m)*Pe(h)+(g+y)*Fe(h):c+=(p+this.bbox.height+m)*Pe(h)+(g+y+this.bbox.width)*Fe(h):c+=(f+p+m)*Pe(h)+(d+g+y)*Fe(h),o.x+=Pe(e)*c,o.y+=Fe(e)*c*r/i}else this.horizontalCenter="middle",this.verticalCenter="middle",l?(this.dx=0,this.dy=0,o.x=(i+c)*Pe(e),o.y=(r+c*r/i)*Fe(e)):(this.dy=this._measuredHeight/2*Fe(e),this.dx=this._measuredWidth/2*Pe(e),o.x+=Pe(e)*c,o.y+=Fe(e)*c*r/i);o.x+=a,o.y+=n,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(o)},t}(Hl);E.registeredClasses.AxisLabelCircular=Co;var ku=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.pixelRadiusReal=0,e.layout="none",e.className="AxisRendererCircular",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.useChartAngles=!0,e.radius=he(100),e.isMeasured=!1,e.grid.template.location=0,e.labels.template.location=0,e.labels.template.radius=15,e.ticks.template.location=0,e.ticks.template.pixelPerfect=!1,e.tooltipLocation=0,e.line.strokeOpacity=0,e.applyTheme(),e}return t.prototype.setAxis=function(e){var i=this;s.prototype.setAxis.call(this,e),e.isMeasured=!1;var r=e.tooltip;r.adapter.add("dx",function(a,n){var o=Ws({x:n.pixelX,y:n.pixelY},i);return i.pixelRadius*Math.cos(Math.atan2(o.y,o.x))-o.x}),r.adapter.add("dy",function(a,n){var o=Ws({x:n.pixelX,y:n.pixelY},i);return i.pixelRadius*Math.sin(Math.atan2(o.y,o.x))-o.y})},t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),s.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Ar(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,i=this.getPropertyValue("innerRadius");if(e){if(!N(i))i=e.innerRadius,i instanceof nt&&e&&(i=he(i.value*e.innerRadiusModifyer*100));else if(i instanceof nt&&e){var r=e.mr,a=i.value;a=Math.max(r*a,r-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/r,i=he(a*100)}return i}},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(e){this.setPropertyValue("useChartAngles",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Ar(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){k(i)||(i=1);var r=this.positionToCoordinate(e),a=this.startAngle+(this.endAngle-this.startAngle)*r/this.axisLength,n=this.pixelRadius,o=this.pixelInnerRadius;if(this.axisRendererY){var l=Le(this.axisRendererY.positionToCoordinate(i),0,1/0);l==0&&(l=1e-6);var u={x:l*Pe(a),y:l*Fe(a)};return u}return{x:Pe(a)*o+(n-o)*Pe(a)*i,y:Fe(a)*o+(n-o)*Fe(a)*i}},t.prototype.positionToAngle=function(e){var i=this.axis,r=(this.endAngle-this.startAngle)/(i.end-i.start),a;return i.renderer.inversed?a=this.startAngle+(i.end-e)*r:a=this.startAngle+(e-i.start)*r,be(a,3)},t.prototype.angleToPosition=function(e){var i=this.axis,r=(this.endAngle-this.startAngle)/(i.end-i.start),a;return i.renderer.inversed?a=i.end-(e-this.startAngle)/r:a=(e-this.startAngle)/r+i.start,be(a,5)},t.prototype.updateAxisLine=function(){var e=this.pixelRadius,i=this.startAngle,r=this.endAngle,a=bt(360,r-i);this.line.path=we({x:e*Pe(i),y:e*Fe(i)})+Br(i,a,e,e)},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(k(a.x)&&k(a.y)&&e.element){var n=Ll*Math.atan2(a.y,a.x),o=Ar(N(e.radius)?e.radius:he(100),this.pixelRadius),l=Ar(e.innerRadius,this.pixelRadius);e.zIndex=0;var u=Ar(k(l)?l:this.innerRadius,this.pixelRadiusReal,!0);k(u)||(u=0),e.path=we({x:u*Pe(n),y:u*Fe(n)})+ce({x:o*Pe(n),y:o*Fe(n)})}this.toggleVisibility(e,i,0,1)},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(e.element){var n=this.pixelRadius,o=Ll*Math.atan2(a.y,a.x),l=e.length;e.inside&&(l=-l),e.zIndex=1,e.path=we({x:n*Pe(o),y:n*Fe(o)})+ce({x:(n+l)*Pe(o),y:(n+l)*Fe(o)})}this.toggleVisibility(e,i,0,1)},t.prototype.updateBullet=function(e,i,r){var a=.5;e instanceof Wl&&(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i),o=this.pixelRadius,l=Ll*Math.atan2(n.y,n.x);n={x:o*Pe(l),y:o*Fe(l)},this.positionItem(e,n),this.toggleVisibility(e,i,0,1)},t.prototype.updateLabelElement=function(e,i,r,a){N(a)||(a=e.location),i=i+(r-i)*a,e.fixPosition(this.positionToAngle(i),this.pixelRadius),e.zIndex=2,this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,i,r,a,n){var o="";if(k(e)&&k(i)){N(r)||(r=this.radius),e=ht(e,this.axis.start),i=bt(i,this.axis.end),i<e&&(i=e);var l=Ar(r,this.pixelRadius),u=Ar(a,this.pixelRadius,!0),h=this.positionToAngle(e),c=this.positionToAngle(i),A=c-h;o=wo(h,A,l,u,l,n)}return o},t.prototype.createGrid=function(){return new ov},t.prototype.createFill=function(e){return new of(e)},t.prototype.createLabel=function(){return new Co},t.prototype.pointToPosition=function(e){var i=Un(dr(e),this.startAngle,this.endAngle);return this.coordinateToPosition((i-this.startAngle)/360*this.axisLength)},t}(Yh);E.registeredClasses.AxisRendererCircular=ku;var lf=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="WavedCircle",e.element=e.paper.add("path"),e.waveLength=16,e.waveHeight=4,e.fill=void 0,e.fillOpacity=0,e.tension=.8,e.applyTheme(),e}return t.prototype.draw=function(){var e="",i=this.pixelRadius;if(i>0){var r=this.getPoints(i);e=we(r[0])+new Wn(this.tension,this.tension).smooth(r)}var a=this.pixelInnerRadius;if(a>0){var r=this.getPoints(a);r.reverse(),e+=we(r[0])+new Wn(this.tension,this.tension).smooth(r)}this.path=e},t.prototype.getPoints=function(e){for(var i=e*Math.PI*2,r=this.waveHeight/2,a=i/Math.round(i/this.waveLength),n=a/2,o=[],l=i/a,u=0;u<=l;u++){var h=u*a/i*360,c=(u*a+n)/i*360;o.push({x:(e-r)*Pe(h),y:(e-r)*Fe(h)}),o.push({x:(e+r)*Pe(c),y:(e+r)*Fe(c)})}return o.pop(),o},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Ai(this.innerRadius,bt(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(Pn);E.registeredClasses.WavedCircle=lf;var lv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._chart=new Ti,e.pixelRadiusReal=0,e.className="AxisRendererRadial",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.minGridDistance=30,e.gridType="circles",e.axisAngle=-90,e.isMeasured=!1,e.layout="none",e.radius=he(100),e.line.strokeOpacity=0,e.labels.template.horizontalCenter="middle",e._disposers.push(e._chart),e.applyTheme(),e}return t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),s.prototype.validate.call(this)},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Ar(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,i=this.getPropertyValue("innerRadius");if(e){if(!N(i))i=e.innerRadius,i instanceof nt&&e&&(i=he(i.value*e.innerRadiusModifyer*100));else if(i instanceof nt&&e){var r=e.mr,a=i.value;a=Math.max(r*a,r-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/r,i=he(a*100)}}return i},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Ar(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){var r=Le(this.positionToCoordinate(e),0,1/0);return{x:r*Pe(this.axisAngle),y:r*Fe(this.axisAngle)}},t.prototype.updateAxisLine=function(){this.line.path=we({x:this.pixelInnerRadius*Pe(this.axisAngle),y:this.pixelInnerRadius*Fe(this.axisAngle)})+ce({x:this.pixelRadius*Pe(this.axisAngle),y:this.pixelRadius*Fe(this.axisAngle)});var e=this.axis.title;e.valign="none",e.horizontalCenter="middle",e.verticalCenter="bottom",e.y=-this.axisLength/2;var i=90;this.opposite?this.inside||(i=-90):this.inside&&(i=-90),e.rotation=i},t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i),n,o=Et(a),l=this.startAngle,u=this.endAngle,h=this.chart;if(k(o)&&e.element&&h){var c=h.xAxes.getIndex(0),A=0,d=h.series.getIndex(0);if(d&&(A=d.dataItems.length),this.gridType=="polygons"&&A>0&&d&&c&&c instanceof Vt){var f=c.renderer.grid.template.location,p=c.getAngle(d.dataItems.getIndex(0),"categoryX",f);n=we({x:o*Pe(p),y:o*Fe(p)});for(var m=1;m<A;m++)p=c.getAngle(d.dataItems.getIndex(m),"categoryX",f),n+=ce({x:o*Pe(p),y:o*Fe(p)});p=c.getAngle(d.dataItems.getIndex(A-1),"categoryX",c.renderer.cellEndLocation),n+=ce({x:o*Pe(p),y:o*Fe(p)})}else n=we({x:o*Pe(l),y:o*Fe(l)})+Br(l,u-l,o,o);e.path=n}this.toggleVisibility(e,i,0,1)},t.prototype.updateLabelElement=function(e,i,r,a){N(a)||(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);this.positionItem(e,n),this.toggleVisibility(e,i,this.minLabelPosition,this.maxLabelPosition)},t.prototype.updateBaseGridElement=function(){},t.prototype.fitsToBounds=function(e){return!0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(e){this.setPropertyValue("axisAngle",Ol(e)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridType",{get:function(){var e=this.chart.xAxes.getIndex(0);return e instanceof Vt?this.getPropertyValue("gridType"):"circles"},set:function(e){this.setPropertyValue("gridType",e,!0)},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,i){var r=this.pixelInnerRadius,a=this.axisLength+r,n=Le(this.positionToCoordinate(e),r,a),o=Le(this.positionToCoordinate(i),r,a),l=this.startAngle,u=this.endAngle,h=u-l,c,A=this.chart,d=A.xAxes.getIndex(0),f=A.series.getIndex(0),p=0;if(f&&(p=f.dataItems.length),this.gridType=="polygons"&&p>0&&f&&d&&d instanceof Vt){var m=d.renderer.grid.template.location,g=d.getAngle(f.dataItems.getIndex(0),"categoryX",m);c=we({x:o*Pe(g),y:o*Fe(g)});for(var y=1;y<p;y++)g=d.getAngle(f.dataItems.getIndex(y),"categoryX",m),c+=ce({x:o*Pe(g),y:o*Fe(g)});g=d.getAngle(f.dataItems.getIndex(p-1),"categoryX",d.renderer.cellEndLocation),c+=ce({x:o*Pe(g),y:o*Fe(g)}),c+=we({x:n*Pe(g),y:n*Fe(g)});for(var y=p-1;y>=0;y--)g=d.getAngle(f.dataItems.getIndex(y),"categoryX",m),c+=ce({x:n*Pe(g),y:n*Fe(g)})}else c=wo(l,h,o,n);return c},t.prototype.updateBreakElement=function(e){var i=e.startLine,r=e.endLine,a=e.fillShape,n=e.startPoint,o=e.endPoint;i.radius=Math.abs(n.y),r.radius=Math.abs(o.y),a.radius=Math.abs(o.y),a.innerRadius=Math.abs(n.y)},t.prototype.createBreakSprites=function(e){e.startLine=new lf,e.endLine=new lf,e.fillShape=new lf},t.prototype.updateTooltip=function(){var e=this.axis;if(e){var i=4e3,r=-4e3,a=-4e3,n=i*2,o=i*2,l=this.axisAngle;l<0&&(l+=360);var u="vertical";(l>45&&l<135||l>225&&l<315)&&(u="horizontal"),this.axis.updateTooltip(u,{x:r,y:a,width:n,height:o})}},t.prototype.updateTickElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(e.element){var n=Ol(this.axisAngle+90);n/90!=Math.round(n/90)?e.pixelPerfect=!1:e.pixelPerfect=!0;var o=-e.length;e.inside&&(o*=-1),e.path=we({x:0,y:0})+ce({x:o*Pe(n),y:o*Fe(n)})}this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateBullet=function(e,i,r){var a=.5;e instanceof Wl&&(a=e.location),i=i+(r-i)*a;var n=this.positionToPoint(i);this.positionItem(e,n),this.toggleVisibility(e,i,0,1)},t.prototype.positionToCoordinate=function(e){var i,r=this.axis,a=r.axisFullLength,n=this.pixelInnerRadius;return r.renderer.inversed?i=(r.end-e)*a+n:i=(e-r.start)*a+n,be(i,1)},t.prototype.pointToPosition=function(e){var i=Et(e)-this.pixelInnerRadius;return this.coordinateToPosition(i)},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null)},enumerable:!0,configurable:!0}),t}(Nr);E.registeredClasses.AxisRendererRadial=lv;var J_=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="RadarChartDataItem",e.applyTheme(),e}return t}(xd);var uv=function(s){U(t,s);function t(){var e=s.call(this)||this;e._axisRendererX=ku,e._axisRendererY=lv,e.innerRadiusModifyer=1,e.mr=1,e.className="RadarChart",e.startAngle=-90,e.endAngle=270,e.radius=he(80),e.innerRadius=0;var i=e.plotContainer.createChild(Oe);return i.shouldClone=!1,i.layout="absolute",i.align="center",i.valign="middle",e.seriesContainer.parent=i,e.radarContainer=i,e.bulletsContainer.parent=i,e.axisBulletsContainer=i,e._cursorContainer=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e._bulletMask=i.createChild(Pn),e._bulletMask.shouldClone=!1,e._bulletMask.element=e.paper.add("path"),e._bulletMask.opacity=0,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},t.prototype.processAxis=function(e){s.prototype.processAxis.call(this,e);var i=e.renderer;i.gridContainer.parent=i,i.breakContainer.parent=i,e.parent=this.radarContainer,i.toBack()},t.prototype.handleXAxisRangeChange=function(){s.prototype.handleXAxisRangeChange.call(this),de(this.yAxes.iterator(),function(e){e.invalidate()})},t.prototype.handleYAxisRangeChange=function(){s.prototype.handleYAxisRangeChange.call(this),de(this.xAxes.iterator(),function(e){e.invalidate()})},t.prototype.processConfig=function(e){if(e&&(N(e.cursor)&&!N(e.cursor.type)&&(e.cursor.type="RadarCursor"),N(e.series)&&Ci(e.series)))for(var i=0,r=e.series.length;i<r;i++)e.series[i].type=e.series[i].type||"RadarSeries";s.prototype.processConfig.call(this,e)},t.prototype.beforeDraw=function(){s.prototype.beforeDraw.call(this);var e=this.plotContainer,i=qa(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},a=e.innerWidth/i.width,n=e.innerHeight/i.height,o=this.innerRadius;if(o instanceof nt){var l=o.value,u=Math.min(a,n);this.mr=u,l=Math.max(u*l,u-Math.min(e.innerHeight,e.innerWidth))/u,r=qa(this.startAngle,this.endAngle,l),this.innerRadiusModifyer=l/o.value,o=he(l*100)}i=Il([i,r]);var h=Math.min(e.innerWidth/i.width,e.innerHeight/i.height),c=Ar(this.radius,h)*2||0,A=c/2,d=this.startAngle,f=this.endAngle;this._pixelInnerRadius=Ar(o,A),this._bulletMask.path=wo(d,f-d,A,this._pixelInnerRadius),de(this.xAxes.iterator(),function(m){m.renderer.useChartAngles&&(m.renderer.startAngle=d,m.renderer.endAngle=f),m.width=c,m.height=c,m.renderer.pixelRadiusReal=A}),de(this.yAxes.iterator(),function(m){m.renderer.startAngle=d,m.renderer.endAngle=f,m.width=c,m.height=c,m.renderer.pixelRadiusReal=A});var p=this.cursor;p&&(p.width=c,p.height=c,p.startAngle=d,p.endAngle=f),this.radarContainer.definedBBox={x:A*i.x,y:A*i.y,width:A*i.width,height:A*i.height},this.radarContainer.validatePosition()},t.prototype.createSeries=function(){return new nv},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.updateXAxis=function(e){e&&e.processRenderer()},t.prototype.updateYAxis=function(e){e&&e.processRenderer()},t}($t);E.registeredClasses.RadarChart=uv;var hv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Trapezoid",e.element=e.paper.add("path"),e.topSide=he(100),e.bottomSide=he(100),e.leftSide=he(100),e.rightSide=he(100),e.isMeasured=!1,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight,r=Ai(this.topSide,e),a=Ai(this.bottomSide,e),n=Ai(this.leftSide,i),o=Ai(this.rightSide,i),l=(e-r)/2,u=(i-n)/2,h=e-(e-r)/2,c=(i-o)/2,A=e-(e-a)/2,d=i-(i-o)/2,f=(e-a)/2,p=i-(i-n)/2,m="",g="",y="",v="";if(N(this.horizontalNeck)){var _=this.horizontalNeck.value;m=ce({x:e*_,y:Math.max(u,c)}),y=ce({x:e*_,y:Math.min(d,p)})}if(N(this.verticalNeck)){var S=this.verticalNeck.value;g=ce({x:Math.min(h,A),y:i*S}),v=ce({x:Math.max(l,f),y:i*S})}var F=we({x:l,y:u})+m+ce({x:h,y:c})+g+ce({x:A,y:d})+y+ce({x:f,y:p})+v;this.path=F},Object.defineProperty(t.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(e){this.setPercentProperty("topSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(e){this.setPercentProperty("bottomSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(e){this.setPercentProperty("leftSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(e){this.setPercentProperty("rightSide",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(e){this.setPropertyValue("horizontalNeck",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(e){this.setPropertyValue("verticalNeck",e,!0)},enumerable:!0,configurable:!0}),t}(Ee);E.registeredClasses.Trapezoid=hv;var uf=function(s){U(t,s);function t(){var e=s.call(this)||this;e._axis=new Ti,e.className="ClockHand";var i=new et;e.fill=i.getFor("alternativeBackground"),e.stroke=e.fill;var r=new Pn;r.radius=5,e.pin=r,e.isMeasured=!1,e.startWidth=5,e.endWidth=1,e.width=he(100),e.height=he(100),e.radius=he(100),e.innerRadius=he(0);var a=new hv;return e.hand=a,e._disposers.push(e._axis),e.applyTheme(),e}return t.prototype.validate=function(){s.prototype.validate.call(this);var e=this.hand;e.width=this.pixelWidth;var i=Math.max(this.startWidth,this.endWidth);if(e.height=i,e.leftSide=he(this.startWidth/i*100),e.rightSide=he(this.endWidth/i*100),this.axis){var r=this.axis.renderer,a=Ar(this.innerRadius,r.pixelRadius),n=Ar(this.radius,r.pixelRadius);e.x=a,e.y=-i/2,e.width=n-a}},Object.defineProperty(t.prototype,"pin",{get:function(){return this._pin},set:function(e){this._pin&&this.removeDispose(this._pin),e&&(this._pin=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hand",{get:function(){return this._hand},set:function(e){this._hand&&this.removeDispose(this._hand),e&&(this._hand=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(e){this.setPropertyValue("startWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(e){this.setPropertyValue("endWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(e){this.setPropertyValue("rotationDirection",e)},enumerable:!0,configurable:!0}),t.prototype.showValue=function(e,i,r){if(this._value=e,e!=null&&(k(i)||(i=0),this.axis)){var a=this.axis.renderer,n=a.positionToAngle(this.axis.anyToPosition(e)),o=this.rotation;this.rotationDirection=="clockWise"&&n<o&&(this.rotation=o-360),this.rotationDirection=="counterClockWise"&&n>o&&(this.rotation=o+360),this.animate({property:"rotation",to:n},i,r)}},Object.defineProperty(t.prototype,"currentPosition",{get:function(){if(this.axis){var e=this.axis.renderer;return e.angleToPosition(this.rotation)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.showValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this.axis!=e&&this._axis.set(e,new Qt([e.events.on("datavalidated",this.updateValue,this,!1),e.events.on("datarangechanged",this.updateValue,this,!1),e.events.on("dataitemsvalidated",this.updateValue,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),e){var i=e.chart;i&&(this.rotation=i.startAngle)}this.parent=e.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),t.prototype.updateValue=function(){this.value=this.value},t.prototype.processConfig=function(e){e&&N(e.axis)&&ft(e.axis)&&this.map.hasKey(e.axis)&&(e.axis=this.map.getKey(e.axis)),s.prototype.processConfig.call(this,e)},t}(Oe);E.registeredClasses.ClockHand=uf;var mj=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="GaugeChartDataItem",e.applyTheme(),e}return t}(J_);var ra=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="GaugeChart",e.startAngle=180,e.endAngle=360,e.hands=new Kt(new uf),e.hands.events.on("inserted",e.processHand,e,!1),e._disposers.push(new Lt(e.hands)),e._disposers.push(e.hands.template),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},t.prototype.processHand=function(e){var i=e.newValue;i.axis||(i.axis=this.xAxes.getIndex(0))},t.prototype.configOrder=function(e,i){return e==i?0:e=="hands"?1:i=="hands"?-1:s.prototype.configOrder.call(this,e,i)},t}(uv);E.registeredClasses.GaugeChart=ra;var hf=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PercentSeriesDataItem",e.applyTheme(),e}return t.prototype.uidAttr=function(){return this.slice.uidAttr()},t.prototype.hide=function(e,i,r,a){return a||(a=["value"]),s.prototype.hide.call(this,e,i,0,a)},t.prototype.setVisibility=function(e,i){i||(e?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),s.prototype.setVisibility.call(this,e,i)},t.prototype.show=function(e,i,r){return r||(r=["value"]),s.prototype.show.call(this,e,i,r)},Object.defineProperty(t.prototype,"category",{get:function(){return this.properties.category},set:function(e){this.setProperty("category",e)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){this.component.createLegendMarker(e,this)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){var e=this;if(!this._tick){var i=this.component.ticks.create();this._tick=i,this.addSprite(i),this._disposers.push(i),i.parent=this.component.ticksContainer,this._disposers.push(new Ot(function(){e.component&&e.component.ticks.removeValue(i)})),i.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var i=this.component.labels.create();this.addSprite(i),this._label=i,this._disposers.push(i),i.parent=this.component.labelsContainer,this._disposers.push(new Ot(function(){e.component&&e.component.labels.removeValue(i)})),i.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slice",{get:function(){var e=this;if(!this._slice){var i=this.component,r=i.slices.create();this.addSprite(r),this._slice=r,this._disposers.push(r),r.parent=i.slicesContainer,this._disposers.push(new Ot(function(){i.slices.removeValue(r)})),r.visible=this.visible,i.itemsFocusable()?(N(this.component.role)||(this.component.role="menu"),N(r.role)||(r.role="menuitem"),r.focusable=!0):(N(this.component.role)||(this.component.role="list"),N(r.role)||(r.role="listitem"),r.focusable=!1),r.focusable&&(r.events.on("focus",function(a){r.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),r.events.on("blur",function(a){r.readerTitle=""},void 0,!1)),r.hoverable&&(r.events.on("over",function(a){r.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),r.events.on("out",function(a){r.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(e){this.setProperty("hiddenInLegend",e)},enumerable:!0,configurable:!0}),t}(md);var qh=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="PercentSeries",e._addAllDataItems=!1,e.colors=new Ql,e.colors.step=1,e.isMeasured=!0,e.calculatePercent=!0;var i=e.createChild(Oe);i.shouldClone=!1,i.isMeasured=!1,e.slicesContainer=i;var r=e.createChild(Oe);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",e.ticksContainer=r;var a=e.createChild(Oe);a.shouldClone=!1,a.isMeasured=!1,a.layout="none",e.labelsContainer=a,e.alignLabels=!1,e.bulletsContainer.toFront(),e.skipFocusThreshold=50;var n=e.defaultState;return n.transitionEasing=x_,e.itemReaderText="{category}: {value.percent.formatNumber('#.#p')}",e.applyTheme(),e}return t.prototype.createSlice=function(){return new Ee},t.prototype.createTick=function(){return new jl},t.prototype.createLabel=function(){return new Ni},Object.defineProperty(t.prototype,"slices",{get:function(){if(!this._slices){var e=this.createSlice();e.applyOnClones=!0,this._disposers.push(e),this.initSlice(e),this._slices=new Kt(e),this._disposers.push(new Lt(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,this._disposers.push(e),this.initTick(e),this._ticks=new Kt(e),this._disposers.push(new Lt(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),this.initLabel(e),this._labels=new Kt(e),this._disposers.push(new Lt(this._labels))}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createDataItem=function(){return new hf},t.prototype.initSlice=function(e){},t.prototype.initLabel=function(e){e.text="{category}: {value.percent.formatNumber('#.0p')}",e.isMeasured=!1,e.padding(5,5,5,5)},t.prototype.initTick=function(e){},t.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),s.prototype.validateDataItems.call(this)},t.prototype.validateDataElement=function(e){var i=e.slice;i&&(i.fill==null?this.patterns?(N(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),N(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof Ft&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next():this.colors.currentStep+=this.colors.step,i.stroke==null&&(i.stroke=i.fill)),s.prototype.validateDataElement.call(this,e),i&&e.bullets.each(function(r,a){a.fill==null&&(a.fill=i.fill),a.stroke==null&&(a.stroke=i.stroke)}),this.updateLegendValue(e)},t.prototype.validateData=function(){s.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},t.prototype.arrangeLabels=function(e){for(var i=0,r=e.length;i<r;i++){var a=e[i],n=a.label;if(n){n.invalid&&n.validate();var o=n.measuredHeight;n.visible||(o=0),n.pixelY-o/2<-this.maxHeight/2&&(n.y=-this.maxHeight/2+o/2);var l=this.getNextLabel(i+1,e),u=n.pixelY+o/2;if(l){l.invalid&&l.validate();var h=l.measuredHeight;l.visible||(h=0);var c=l.pixelY;c==null&&(c=0),c-h/2<u&&(l.y=u+h/2)}}}},t.prototype.arrangeLabels2=function(e){for(var i=this.maxHeight/2,r=e.length-1;r>=0;r--){var a=e[r],n=a.label;if(n){n.invalid&&n.validate();var o=n.measuredHeight;n.visible||(o=0),n.pixelY+o/2>i&&(n.y=i-o/2,i=n.y-o/2)}}},t.prototype.getNextLabel=function(e,i){if(i.length>=e){var r=i[e];if(r)return r.label?r.visible?r.label:this.getNextLabel(e+1,i):this.getNextLabel(e+1,i)}},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e,i){de(e.children.iterator(),function(r){var a=i.slice;r.defaultState.properties.fill=a.fill,r.defaultState.properties.stroke=a.stroke,r.defaultState.properties.fillOpacity=a.fillOpacity,r.defaultState.properties.strokeOpacity=a.strokeOpacity,r.fill=a.fill,r.stroke=a.stroke,r.fillOpacity=a.fillOpacity,r.strokeOpacity=a.strokeOpacity,r.fill==null&&(r.__disabled=!0);var n=e.dataItem;n.color=a.fill,n.colorOrig=a.fill,r.addDisposer(a.events.on("propertychanged",function(o){o.property=="fill"&&(r.__disabled=!1,r.isActive||(r.fill=a.fill),r.defaultState.properties.fill=a.fill,n.color=a.fill,n.colorOrig=a.fill),o.property=="stroke"&&(r.isActive||(r.stroke=a.stroke),r.defaultState.properties.stroke=a.stroke),o.property=="strokeOpacity"&&(r.isActive||(r.strokeOpacity=a.strokeOpacity),r.defaultState.properties.strokeOpacity=a.strokeOpacity)},void 0,!1))})},t.prototype.handleSliceScale=function(e){var i=this,r=e.target,a=r.dataItem;a&&a.bullets&&de(a.bullets.iterator(),function(n){var o=n[1];i.positionBullet(o)})},t.prototype.handleSliceMove=function(e){},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.slices.template.copyFrom(e.slices.template),this.labels.template.copyFrom(e.labels.template),this.ticks.template.copyFrom(e.ticks.template),this.colors=e.colors.clone()},Object.defineProperty(t.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(e){this.setAlignLabels(e)},enumerable:!0,configurable:!0}),t.prototype.setAlignLabels=function(e){this.setPropertyValue("alignLabels",e,!0)},Object.defineProperty(t.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(e){this.setPropertyValue("ignoreZeroValues",e,!0)},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e){if(e){var i=e.legendDataItem,r=e.legendSettings;i&&r&&r&&(r.labelText&&(i.label.text=r.labelText),r.itemLabelText&&(i.label.text=r.itemLabelText),r.valueText&&(i.valueLabel.text=r.valueText),r.itemValueText&&(i.valueLabel.text=r.itemValueText))}},t}(Ul);E.registeredClasses.PercentSeries=qh;E.registeredClasses.PercentSeriesDataItem=hf;sr.push({relevant:fr.maybeXS,state:function(s,t){if(s instanceof qh){var e=s.states.create(t),i=s.labels.template.states.create(t);i.properties.disabled=!0;var r=s.ticks.template.states.create(t);return r.properties.disabled=!0,e}return null}});var Um=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PercentChartDataItem",e.applyTheme(),e}return t}(Rm);var Qm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PercentChart",e.align="none",e.valign="none",e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.applyTheme(),e}return t.prototype.validateData=function(){s.prototype.validateData.call(this),this.feedLegend()},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];de(this.series.iterator(),function(r){r.hiddenInLegend||de(r.dataItems.iterator(),function(a){a.hiddenInLegend||(i.push(a),a.legendSettings||(a.legendSettings=r.legendSettings))})}),e.data=i,e.dataFields.name="category"}},t.prototype.createSeries=function(){return new qh},t.prototype.setLegend=function(e){s.prototype.setLegend.call(this,e),e&&(e.labels.template.text="{category}",e.valueLabels.template.text="{value.percent.formatNumber('#.0p')}",e.itemContainers.template.events.on("over",function(i){var r=i.target.dataItem.dataContext;if(r.visible&&!r.isHiding){var a=r.slice;a.dispatchImmediately("over"),a.isHover=!0,a.interactions.isRealHover=!0}}),e.itemContainers.template.events.on("out",function(i){var r=i.target.dataItem.dataContext,a=r.slice;a.dispatchImmediately("out"),a.isHover=!1}))},t}(Lu);E.registeredClasses.PercentChart=Qm;E.registeredClasses.PercentChartDataItem=Um;var Ea=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Slice",e.setPropertyValue("cornerRadius",0),e.setPropertyValue("startAngle",0),e.setPercentProperty("innerRadius",0),e.setPercentProperty("radius",0),e.setPropertyValue("arc",0),e.setPropertyValue("shiftRadius",0),e.strokeOpacity=1,e.setPropertyValue("layout","none"),e.slice=e.createChild(Ee),e.slice.isMeasured=!1,e._disposers.push(e.slice),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.radiusY;this.radius>0&&e==0&&(e=.01),this.slice.path=wo(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,e,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof _n&&this.updateGradient(this.realFill),this.realStroke instanceof _n&&this.updateGradient(this.realStroke)},t.prototype.updateGradient=function(e){e.element.attr({gradientUnits:"userSpaceOnUse"}),e.element.attr({r:this.radius}),e.cx=0,e.cy=0,e.element.attr({radius:this.radius})},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;if(this.isMeasured){var e=qa(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),i=qa(this.startAngle,this.startAngle+this.arc,this.radius);return Il([e,i])}else return{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",Ol(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){k(e)||(e=0),this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){var e=this.getPropertyValue("radius");return k(e)||(e=0),e},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return k(e)||(e=this.radius),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Ai(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(e){this.setPropertyValue("innerCornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(e){this.setPropertyValue("shiftRadius",e),e=this.getPropertyValue("shiftRadius"),this.dx=e*this.radius*this.ix,this.dy=e*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ix",{get:function(){return Pe(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iy",{get:function(){return Fe(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");if(k(e))return e;var i=.5;e instanceof nt&&(i=e.value);var r=Ai(this.innerRadius,this.radius);return this.ix*(r+(this.radius-r)*i)},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");if(k(e))return e;var i=.5;e instanceof nt&&(i=e.value);var r=Ai(this.innerRadius,this.radius);return this.iy*(r+(this.radius-r)*i)+this.slice.dy},t}(Oe);E.registeredClasses.Slice=Ea;var cv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._label=new Ti,e._slice=new Ti,e.className="PieTick",e.element=e.paper.add("polyline"),e._disposers.push(e._label),e._disposers.push(e._slice),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.slice,i=this.label,r=e.dataItem.component;if(e&&e.radius>0&&i&&i.text){var a=e.dx+e.slice.dx+e.pixelX+e.ix*e.radius*e.scale,n=e.dy+e.slice.dy+e.pixelY+e.iy*e.radiusY*e.scale,o=void 0,l=void 0,u=void 0,h=void 0;if(r.alignLabels)o=i.pixelX-this.length,l=i.pixelY,u=i.pixelX,h=l,i.horizontalCenter=="right"&&(o+=2*this.length,u=o-this.length);else{var c=i.pixelRadius(e.radius);o=a+c*e.ix,l=n+c*e.iy,u=o,h=l}this.element.attr({points:[a,n,o,l,u,h]})}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Qt([e.events.on("transformed",this.invalidate,this),e.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),t}(jl);E.registeredClasses.PieTick=cv;var Ra=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PieSeriesDataItem",e.values.radiusValue={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(e){this.setValue("radiusValue",e)},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,r,a){return s.prototype.hide.call(this,e,i,0,["value","radiusValue"])},t.prototype.show=function(e,i,r){return s.prototype.show.call(this,e,i,["value","radiusValue"])},t}(hf);var zs=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PieSeries",e.alignLabels=!0,e.layout="none",e.labels.template.radius=he(5),e.addDisposer(e.labels.template.events.on("enabled",e.invalidate,e,!1)),e.applyTheme(),e}return t.prototype.createSlice=function(){return new Ea},t.prototype.createTick=function(){return new cv},t.prototype.createLabel=function(){return new Co},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},t.prototype.createDataItem=function(){return new Ra},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var i=e.states.create("hover");i.properties.scale=1.05;var r=e.defaultState;r.properties.shiftRadius=0,e.togglable=!0,e.events.on("toggled",function(n){n.target.hideTooltip(),n.target.interactions.lastHitPointer&&n.target.interactions.lastHitPointer.touch&&!n.target.isActive&&(n.target.isHover=!1)});var a=e.states.create("active");a.properties.shiftRadius=.1},t.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=qa(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var e=this.startIndex;e<this.endIndex;e++){var i=this.dataItems.getIndex(e),r=i.values.radiusValue.percent;r>this._maxRadiusPercent&&(this._maxRadiusPercent=r)}s.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(a,n){var o=(a.slice.middleAngle+360)%360,l=(n.slice.middleAngle+360)%360;return o>270&&(o-=360),l>270&&(l-=360),o<l?-1:o>l?1:0}),this._leftItems.sort(function(a,n){var o=(a.slice.middleAngle+360)%360,l=(n.slice.middleAngle+360)%360;return o<l?1:o>l?-1:0}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},t.prototype.validateDataElement=function(e){if(this.pixelRadius>0){this.ignoreZeroValues&&(e.value==0||e.value==null)?e.__disabled=!0:e.__disabled=!1;var i=e.slice;if(i.radius=this.pixelRadius,k(e.radiusValue)&&(i.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*e.values.radiusValue.percent/this._maxRadiusPercent),i.innerRadius instanceof nt||(i.innerRadius=this.pixelInnerRadius),i.startAngle=this._currentStartAngle,i.arc=Math.abs(e.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var r=e.label,a=e.tick;a.slice=i,a.label=r;var n=(i.middleAngle+360)%360,o=void 0;if(this.alignLabels){var l=r.pixelRadius(i.radius),u=a.length+l;r.dx=0,r.dy=0,r.verticalCenter="middle";var h=this._arcRect;n>270||n<=90?(u+=(h.width+h.x)*this.pixelRadius,r.horizontalCenter="left",this._rightItems.push(e)):(u-=h.x*this.pixelRadius,r.horizontalCenter="right",this._leftItems.push(e),u*=-1);var c=i.radius+a.length+l;o={x:u,y:i.iy*c},r.moveTo(o)}else{var A=i.depth;k(A)||(A=0),r.fixPosition(i.middleAngle,i.radius,i.radiusY,0,-A)}}this._currentStartAngle+=i.arc,s.prototype.validateDataElement.call(this,e)}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(e){this._pixelRadius!=e&&(this._pixelRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(e){this._pixelInnerRadius!=e&&(this._pixelInnerRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){var e=this.getPropertyValue("startAngle");return k(e)?e:this._startAngleInternal},set:function(e){this.setPropertyValue("startAngle",Ol(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){var e=this.getPropertyValue("endAngle");return k(e)?e:this._endAngleInternal},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){s.prototype.positionBullet.call(this,e);var i=e.dataItem,r=i.slice,a=e.locationX;k(a)||(a=.5);var n=e.locationY;k(n)||(n=1);var o=r.startAngle+r.arc*a;e.x=n*r.radius*Pe(o),e.y=n*r.radiusY*Fe(o)},t.prototype.handleSliceMove=function(e){if(!this.alignLabels){var i=e.target,r=i.dataItem;if(r){var a=r.label;a&&(a.dx=a.fdx+i.dx+i.pixelX,a.dy=a.fdy+i.dy+i.pixelY)}}},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var e=this.chart;return e?qa(e.startAngle,e.endAngle,this.pixelRadius):qa(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),t}(qh);E.registeredClasses.PieSeries=zs;E.registeredClasses.PieSeriesDataItem=Ra;var dv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PieChartDataItem",e.applyTheme(),e}return t}(Um);var Ki=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="PieChart",e.innerRadius=0,e.radius=he(80),e.align="none",e.valign="none",e.startAngle=-90,e.endAngle=270;var i=e.seriesContainer;return i.isMeasured=!0,i.valign="middle",i.align="center",i.layout="absolute",i.width=void 0,i.height=void 0,e.chartContainer.minHeight=50,e.chartContainer.minWidth=50,e.chartContainer.events.on("maxsizechanged",e.updateRadius,e,!1),e._disposers.push(e.seriesContainer.events.on("positionchanged",function(){e.bulletsContainer.x=e.seriesContainer.x,e.bulletsContainer.y=e.seriesContainer.y})),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},t.prototype.validateLayout=function(){s.prototype.validateLayout.call(this),this.updateRadius()},t.prototype.handleSeriesAdded=function(e){s.prototype.handleSeriesAdded.call(this,e),this._chartPixelRadius=void 0,this.updateSeriesAngles()},t.prototype.updateSeriesAngles=function(){var e=this;this.series.each(function(i){i._startAngleInternal=e.startAngle,i._endAngleInternal=e.endAngle})},t.prototype.updateRadius=function(){var e=this.chartContainer,i=qa(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},a=this.innerRadius;a instanceof nt&&(r=qa(this.startAngle,this.endAngle,a.value)),i=Il([i,r]);var n=Math.min(e.innerWidth/i.width,e.innerHeight/i.height);k(n)||(n=0);var o=Ar(this.radius,n),l=Ar(this.innerRadius,n),u=(o-l)/this.series.length;(o!=this._chartPixelRadius||l!=this._chartPixelInnerRadius)&&(this._chartPixelRadius=o,this._chartPixelInnerRadius=l,de(yo(this.series.iterator()),function(h){var c=h[0],A=h[1],d=l+Ar(A.radius,o-l),f=l+Ar(A.innerRadius,o-l);k(d)||(d=l+u*(c+1)),k(f)||(f=l+u*c),A.pixelRadius=d,A.pixelInnerRadius=f}),this.seriesContainer.definedBBox={x:o*i.x,y:o*i.y,width:o*i.width,height:o*i.height},this.seriesContainer.invalidateLayout())},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new zs},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),t}(Qm);E.registeredClasses.PieChart=Ki;E.registeredClasses.PieChartDataItem=dv;var cf=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="LightenFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.lightness=0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(e){this.properties.lightness=e;var i=e+1;this.feColorMatrix.attr({values:i+" 0 0 0 0 0 "+i+" 0 0 0 0 0 "+i+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),t}(jn);E.registeredClasses.LightenFilter=cf;var eS=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="Slice3D",e.layout="none";var i=e.createChild(Ee);e.edge=i,i.shouldClone=!1,i.isMeasured=!1,i.toBack(),e.angle=30,e.depth=20;var r=e.createChild(Ee);e.sideA=r,r.shouldClone=!1,r.isMeasured=!1;var a=e.createChild(Ee);return e.sideB=a,a.shouldClone=!1,a.isMeasured=!1,e.applyTheme(),e}return t.prototype.setFill=function(e){s.prototype.setFill.call(this,e);var i;if(e instanceof Ft)i=e.hex;else if(e instanceof ws||e instanceof _n)i=e.stops.getIndex(0).color.hex;else{var r=new cf;r.lightness=-.25,this.edge.filters.push(r),this.sideA.filters.push(r.clone()),this.sideB.filters.push(r.clone())}if(i){var a=He(i).lighten(-.25);this.edge.fill=a,this.sideA.fill=a,this.sideB.fill=a,this.edge.stroke=a,this.sideA.stroke=a,this.sideB.stroke=a}},t.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,s.prototype.draw.call(this),this.arc!==0&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var e=this.startAngle,i=this.arc,r=this.pixelInnerRadius||0,a=this.radiusY||0,n=this.radius,o=e+i,l=a/n*r,u={x:Pe(e)*r,y:Fe(e)*l},h={x:Pe(e)*n,y:Fe(e)*a},c={x:Pe(o)*n,y:Fe(o)*a},A={x:Pe(o)*r,y:Fe(o)*l},d=this.depth,f={x:u.x,y:u.y-d},p={x:h.x,y:h.y-d},m={x:c.x,y:c.y-d},g={x:A.x,y:A.y-d},y="",v=Math.ceil(i/5),_=i/v,S=e,F=p,P=0;P<v;P++)if(S+=_,S>0&&S<180){y+=we(F);var D={x:Pe(S)*n,y:Fe(S)*a-d};y+=ce({x:F.x,y:F.y+d}),y+=Fn({x:D.x,y:D.y+d},n,a,!0),y+=ce(D),y+=Fn(F,n,a),y+="z",F=D}else{y+=we(F);var D={x:Pe(S)*n,y:Fe(S)*a-d};y+=Fn(D,n,a,!0),y+=ce({x:D.x,y:D.y+d}),y+=Fn({x:F.x,y:F.y+d},n,a),y+=ce(F),y+="z",F=D}F=f,S=e;for(var P=0;P<v;P++)if(S+=_,S>0&&S<180){y+=we(F);var D={x:Pe(S)*r,y:Fe(S)*l-d};y+=ce({x:F.x,y:F.y+d}),y+=Fn({x:D.x,y:D.y+d},r,l,!0),y+=ce(D),y+=Fn(F,r,l),y+="z",F=D}else{y+=we(F);var D={x:Pe(S)*r,y:Fe(S)*l-d};y+=Fn(D,r,l,!0),y+=ce({x:D.x,y:D.y+d}),y+=Fn({x:F.x,y:F.y+d},r,l),y+=ce(F),y+="z",F=D}this.edge.path=y,this.sideA.path=we(u)+ce(h)+ce(p)+ce(f)+Fi(),this.sideB.path=we(c)+ce(A)+ce(g)+ce(m)+Fi(),this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-d}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){var e=this.getPropertyValue("angle");return k(e)||(e=0),e},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return k(e)||(e=this.radius-this.radius*this.angle/90),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.edge.copyFrom(e.edge),this.sideA.copyFrom(e.sideA),this.sideB.copyFrom(e.sideB)},t}(Ea);var tS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PieSeries3DDataItem",e.values.depthValue={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(e){this.setValue("depthValue",e)},enumerable:!0,configurable:!0}),t}(Ra);var Av=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PieSeries3D",e.applyTheme(),e}return t.prototype.createDataItem=function(){return new tS},t.prototype.createSlice=function(){return new eS},t.prototype.validateDataElement=function(e){var i=e.slice,r=this.depth;k(r)||(r=this.chart.depth);var a=e.values.depthValue.percent;k(a)||(a=100),i.depth=a*r/100;var n=this.angle;k(n)||(n=this.chart.angle),i.angle=n,s.prototype.validateDataElement.call(this,e)},t.prototype.validate=function(){s.prototype.validate.call(this);for(var e=this._workingStartIndex;e<this._workingEndIndex;e++){var i=this.dataItems.getIndex(e),r=i.slice,a=r.startAngle;a>=-90&&a<90?r.toFront():a>=90&&r.toBack()}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){s.prototype.positionBullet.call(this,e);var i=e.dataItem,r=i.slice;e.y=e.pixelY-r.depth},t}(zs);E.registeredClasses.PieSeries3D=Av;E.registeredClasses.PieSeries3DDataItem=tS;var gj=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PieChart3DDataItem",e.applyTheme(),e}return t}(dv);var TO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PieChart3D",e.depth=20,e.angle=10,e.applyTheme(),e}return Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){e=Le(e,0,90),this.setPropertyValue("angle",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new Av},t}(Ki);E.registeredClasses.PieChart3D=TO;var DO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="SlicedChartDataItem",e.applyTheme(),e}return t}(Um);var OO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="SlicedChart",e.seriesContainer.layout="horizontal",e.padding(15,15,15,15),e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},t.prototype.validate=function(){s.prototype.validate.call(this)},t}(Qm);E.registeredClasses.SlicedChart=OO;E.registeredClasses.SlicedChartDataItem=DO;var Zh=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.legendSettings=new Em,e.className="FlowDiagramNode",e.isMeasured=!1,new et,e.draggable=!0,e.inert=!0,e.setStateOnChildren=!0,e.events.on("positionchanged",e.invalidateLinks,e,!1),e.events.on("sizechanged",e.invalidateLinks,e,!1),e}return t.prototype.handleHit=function(e){this.isHidden||this.isHiding?this.show():this.hide()},t.prototype.show=function(e){var i=s.prototype.show.call(this,e);return this.outgoingDataItems.each(function(r){(!r.toNode||r.toNode&&!r.toNode.isHidden)&&(r.setWorkingValue("value",r.getValue("value"),e),r.link.show())}),this.incomingDataItems.each(function(r){(!r.fromNode||r.fromNode&&!r.fromNode.isHidden)&&(r.setWorkingValue("value",r.getValue("value"),e),r.link.show())}),i},t.prototype.hide=function(e){var i=s.prototype.hide.call(this,e);return this.outgoingDataItems.each(function(r){r.setWorkingValue("value",0,e),r.link.hide()}),this.incomingDataItems.each(function(r){r.setWorkingValue("value",0,e),r.link.hide()}),i},t.prototype.validate=function(){this.isDisposed()||(s.prototype.validate.call(this),this.invalidateLinks())},t.prototype.invalidateLinks=function(){var e=this;this.outgoingDataItems.each(function(i){var r=i.link;if(r.colorMode=="fromNode"&&(r.fill=r.dataItem.fromNode.color),r.colorMode=="gradient"){r.fill=r.gradient,r.stroke=r.gradient;var a=r.gradient.stops.getIndex(0);a&&(a.color=e.color,r.gradient.validate())}}),this.incomingDataItems.each(function(i){var r=i.link;if(r.colorMode=="toNode"&&(r.fill=r.dataItem.toNode.color),r.colorMode=="gradient"){r.fill=r.gradient,r.stroke=r.gradient;var a=r.gradient.stops.getIndex(1);a&&(a.color=e.color,r.gradient.validate())}})},Object.defineProperty(t.prototype,"incomingDataItems",{get:function(){var e=this;if(!this._incomingDataItems){var i=new xt;i.events.on("inserted",function(){e.chart.sortBy=="name"?e._incomingSorted=Pu(e._incomingDataItems.iterator(),function(r,a){return um(r.fromName,a.fromName)}):e.chart.sortBy=="value"?e._incomingSorted=Pu(e._incomingDataItems.iterator(),function(r,a){return RA(Za(r.value,a.value))}):e._incomingSorted=e._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=i}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outgoingDataItems",{get:function(){var e=this;if(!this._outgoingDataItems){var i=new xt;i.events.on("inserted",function(){e.chart.sortBy=="name"?e._outgoingSorted=Pu(e._outgoingDataItems.iterator(),function(r,a){return um(r.fromName,a.fromName)}):e.chart.sortBy=="value"?e._outgoingSorted=Pu(e._outgoingDataItems.iterator(),function(r,a){return RA(Za(r.value,a.value))}):e._outgoingSorted=e._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=i}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(e){this.setPropertyValue("total",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(e){this.setPropertyValue("totalIncoming",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(e){this.setPropertyValue("totalOutgoing",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(e){this.setColorProperty("color",e),this._background&&(this._background.fill=e),this.fill=e},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(us);a.shouldClone=!1,ji(this,a,Di),a.stroke=this.fill,a.copyFrom(this),a.padding(0,0,0,0),a.width=i,a.height=r;var n=e.dataItem;n.color=a.fill,n.colorOrig=a.fill},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t}(Oe);E.registeredClasses.FlowDiagramNode=Zh;var Mu=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._distance=0,e.className="Polyline",e.element=e.paper.add("path"),e.shapeRendering="auto",e.fill=He(),e.strokeOpacity=1,e.applyTheme(),e}return t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){for(var i="",r=0,a=e.length;r<a;r++){var n=e[r];if(n.length>0){i+=we(n[0]);for(var o=1;o<n.length;o++){var l=n[o];i+=ce(l),this._distance+=Et(n[o-1],l)}}}this.path=i}this._realSegments=e},Object.defineProperty(t.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(e){this.setPropertyValue("segments",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i=0;e<0&&(e=Math.abs(e),i=180);var r=this._realSegments;if(r){for(var a=this.distance,n=0,o=void 0,l=0,u=0,h=void 0,c=void 0,A=0;A<r.length;A++){var d=r[A];if(d.length>1){for(var f=1;f<d.length;f++)if(h=d[f-1],c=d[f],l=n/a,o=Et(h,c),n+=o,u=n/a,l<=e&&u>e){A=r.length;break}}else d.length==1&&(h=d[0],c=d[0],l=0,u=1)}if(h&&c){var p=(e-l)/(u-l),m=Jc(h,c,p);return{x:m.x,y:m.y,angle:i+dr(h,c)}}}return{x:0,y:0,angle:0}},Object.defineProperty(t.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),t}(Ee);E.registeredClasses.Polyline=Mu;var Jh=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="FlowDiagramLink";var i=new et;return e.maskBullets=!1,e.colorMode="fromNode",e.layout="none",e.isMeasured=!1,e.startAngle=0,e.endAngle=0,e.strokeOpacity=0,e.verticalCenter="none",e.horizontalCenter="none",e.tooltipText="{fromName}\u2192{toName}:{value.value}",e.tooltipLocation=.5,e.link=e.createChild(Ee),e.link.shouldClone=!1,e.link.setElement(e.paper.add("path")),e.link.isMeasured=!1,e.fillOpacity=.2,e.fill=i.getFor("alternativeBackground"),e.applyTheme(),e}return t.prototype.positionBullets=function(){var e=this;de(this.bullets.iterator(),function(i){i.parent=e.bulletsContainer,i.maxWidth=e.maxWidth,i.maxHeight=e.maxHeight,e.positionBullet(i)})},Object.defineProperty(t.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var e=this.createChild(Oe);e.shouldClone=!1,e.layout="none",this._bulletsContainer=e}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var e=this.createChild(Ee);e.shouldClone=!1,e.setElement(this.paper.add("path")),e.isMeasured=!1,this._bulletsMask=e}return this._bulletsMask},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){var i=e.locationX;k(i)||(i=e.locationY),k(i)||(i=.5);var r=this.middleLine.positionToPoint(i);e.moveTo(r);var a=e.propertyFields.rotation,n;if(e.dataItem){var o=e.dataItem.dataContext;n=o[a]}k(n)||(n=r.angle),e.rotation=n},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(e){if(e=="gradient"){var i=this.fill;this.gradient.stops.clear(),i instanceof Ft&&(this.gradient.addColor(i),this.gradient.addColor(i)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){s.prototype.setFill.call(this,e);var i=this._gradient;i&&e instanceof Ft&&(i.stops.clear(),i.addColor(e),i.addColor(e))},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bullets",{get:function(){var e=this;return this._bullets||(this._bullets=new Kt(new ta),this._disposers.push(new Lt(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(i){i.newValue.events.on("propertychanged",function(r){(r.property=="locationX"||r.property=="locationY")&&e.positionBullet(r.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.bullets.copyFrom(e.bullets);var i=this.middleLine;i&&(i instanceof ia&&e.middleLine instanceof ia&&i.copyFrom(e.middleLine),i instanceof Mu&&e.middleLine instanceof Mu&&i.copyFrom(e.middleLine)),this.link.copyFrom(e.link)},t.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},t.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new ws),this._gradient},enumerable:!0,configurable:!0}),t}(Oe);E.registeredClasses.FlowDiagramLink=Jh;var fv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ColorModifier",e.applyTheme(),e}return t.prototype.modify=function(e){return e},t}(Gi);E.registeredClasses.ColorModifier=fv;var Hm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.lightnesses=[],e.brightnesses=[],e.opacities=[],e.offsets=[],e.className="GradientModifier",e.applyTheme(),e}return Object.defineProperty(t.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(e){this._lightnesses=e,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(e){this._brightnesses=e,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacities",{get:function(){return this._opacities},set:function(e){this._opacities=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return this._offsets},set:function(e){this._offsets=e},enumerable:!0,configurable:!0}),t.prototype.modify=function(e){this.gradient.clear();var i=0;this.opacities&&(i=ht(i,this.opacities.length)),this.lightnesses&&(i=ht(i,this.lightnesses.length)),this.brightnesses&&(i=ht(i,this.brightnesses.length));for(var r=1,a,n,o=0;o<i;o++){var l=e;this.opacities&&k(this.opacities[o])&&(r=this.opacities[o]),this.lightnesses&&k(this.lightnesses[o])&&(a=this.lightnesses[o],n=void 0),this.brightnesses&&k(this.brightnesses[o])&&(n=this.brightnesses[o],a=void 0),k(n)?l=e.brighten(this.brightnesses[o]):k(a)&&(l=e.lighten(this.lightnesses[o]));var u=this.offsets[o];this.gradient.addColor(l,r,u)}return this.gradient},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this._offsets=e.offsets,this._brightnesses=e.brightnesses,this._lightnesses=e.lightnesses,this._opacities=e.opacities},t}(fv);E.registeredClasses.GradientModifier=Hm;var wd=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="LinearGradientModifier",e.gradient=new ws,e.applyTheme(),e}return t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},t}(Hm);E.registeredClasses.LinearGradientModifier=wd;var df=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="FlowDiagramDataItem",e.values.value={},e.applyTheme(),e}return Object.defineProperty(t.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(e){this.setProperty("fromName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toName",{get:function(){return this.properties.toName},set:function(e){this.setProperty("toName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",ba(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"link",{get:function(){var e=this;if(!this._link){var i=this.component.links.create();this._link=i,this.addSprite(i),this._disposers.push(new Ot(function(){e.component&&e.component.links.removeValue(i)}))}return this._link},enumerable:!0,configurable:!0}),t}(km);var Af=function(s){U(t,s);function t(){var e=s.call(this)||this;e.colors=new Ql,e.className="FlowDiagram",e.nodePadding=20,e.sortBy="none",e.sequencedInterpolation=!0,e.colors.step=2,e.minNodeSize=.02;var i=e.chartContainer.createChild(Oe);i.shouldClone=!1,i.layout="none",i.isMeasured=!1,e.linksContainer=i;var r=e.chartContainer.createChild(Oe);return r.shouldClone=!1,r.layout="none",r.isMeasured=!1,e.nodesContainer=r,e.dataItem=e.createDataItem(),e.dataItem.component=e,e.applyTheme(),e}return t.prototype.dispose=function(){s.prototype.dispose.call(this),this.dataItem.dispose()},t.prototype.validateData=function(){var e=this;this._parseDataFrom==0&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),s.prototype.validateData.call(this);var i=0,r=0,a,n;de(this.dataItems.iterator(),function(l){var u=l.fromName;if(u){var h=e.nodes.getKey(u);h||(h=e.nodes.create(u),h.name=u,h.chart=e,h.dataItem=l),l.fromNode=h,l.fromNode.outgoingDataItems.push(l)}var c=l.toName;if(c){var h=e.nodes.getKey(c);h||(h=e.nodes.create(c),h.name=c,h.chart=e,h.dataItem=l),l.toNode=h,l.toNode.incomingDataItems.push(l)}if(!l.fromNode){var A=new wd;A.opacities=[0,1],l.link.strokeModifier=A}if(!l.toNode){var d=new wd;d.opacities=[1,0],l.link.strokeModifier=d}var f=l.value;k(f)&&(i+=f,r++,(a>f||!k(a))&&(a=f),(n<f||!k(n))&&(n=f))});var o="value";this.dataItem.setCalculatedValue(o,n,"high"),this.dataItem.setCalculatedValue(o,a,"low"),this.dataItem.setCalculatedValue(o,i,"sum"),this.dataItem.setCalculatedValue(o,i/r,"average"),this.dataItem.setCalculatedValue(o,r,"count"),de(this.nodes.iterator(),function(l){var u=l[1];u.fill instanceof Ft&&(u.color=u.fill),u.color==null&&(u.color=e.colors.next()),u.dataItem.color!=null&&(u.color=u.dataItem.color),u.dataItem.visible||u.hide(0),e.getNodeValue(u)}),this.sortNodes(),this.feedLegend()},t.prototype.handleDataItemWorkingValueChange=function(e,i){this.invalidate()},t.prototype.sortNodes=function(){this.sortBy=="name"?this._sorted=this.nodes.sortedIterator():this.sortBy=="value"?this._sorted=Pu(this.nodes.iterator(),function(e,i){return RA(Za(e[1].total,i[1].total))}):this._sorted=this.nodes.iterator()},t.prototype.getNodeValue=function(e){var i=0,r=0;de(e.incomingDataItems.iterator(),function(a){var n=a.getWorkingValue("value");k(n)&&(i+=n)}),de(e.outgoingDataItems.iterator(),function(a){var n=a.getWorkingValue("value");k(n)&&(r+=n)}),e.total=i+r,e.totalIncoming=i,e.totalOutgoing=r},t.prototype.changeSorting=function(){this.sortNodes()},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},t.prototype.createDataItem=function(){return new df},Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(e){this.setPropertyValue("nodePadding",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(e){this.setPropertyValue("sortBy",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(e){this.setPropertyValue("minNodeSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){if(!this._nodes){var e=this.createNode();e.events.on("hit",function(i){i.target.handleHit(i)}),this._nodes=new kl(e),this._disposers.push(new Cn(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new Zh;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"links",{get:function(){return this._links||(this._links=new Kt(this.createLink()),this._disposers.push(new Lt(this._links))),this._links},enumerable:!0,configurable:!0}),t.prototype.createLink=function(){var e=new Jh;return this._disposers.push(e),e},t.prototype.feedLegend=function(){var e=this.legend;if(e){var i=[];this.nodes.each(function(r,a){i.push(a)}),e.data=i,e.dataFields.name="name"}},t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this.nodes.clear()},t}(Vl);E.registeredClasses.FlowDiagram=Af;var jm=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="LabelBullet";var i=e.createChild(Ni);return i.shouldClone=!1,i.verticalCenter="middle",i.horizontalCenter="middle",i.truncate=!0,i.hideOversized=!1,i.maxWidth=500,i.maxHeight=500,i.stroke=He(),i.strokeOpacity=0,i.fill=new et().getFor("text"),e.events.on("maxsizechanged",e.handleMaxSize,e,!1),e.label=i,e.applyTheme(),e}return t.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label)},t}(ta);E.registeredClasses.LabelBullet=jm;var pv=function(s){U(t,s);function t(){var e=s.call(this)||this;e.nextInCoord=0,e.nextOutCoord=0,e.className="SankeyNode",e.width=10,e.height=10;var i=e.createChild(jm);i.shouldClone=!1,i.locationX=1,i.locationY=.5,i.label.text="{name}",i.width=150,i.height=150,i.label.horizontalCenter="left",i.label.padding(0,5,0,5),e.nameLabel=i;var r=e.createChild(jm);r.shouldClone=!1,r.label.hideOversized=!1,r.locationX=.5,r.locationY=.5,r.width=150,r.height=150,r.label.horizontalCenter="middle",e.valueLabel=r;var a=e.hiddenState;return a.properties.fill=new et().getFor("disabledBackground"),a.properties.opacity=.5,a.properties.visible=!0,e.background.hiddenState.copyFrom(a),e}return t.prototype.invalidateLinks=function(){var e=this;s.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var i=this.chart;if(i){var r=i.orientation;this._incomingSorted&&de(this._incomingSorted,function(a){var n=a.link,o=a.getWorkingValue("value");if(k(o)){n.parent=e.chart.linksContainer;var l=void 0,u=void 0,h=void 0;if(r=="horizontal"?(l=e.pixelX+e.dx,u=e.nextInCoord+e.pixelY+e.dy,h=0):(u=e.pixelY+e.dy,l=e.nextInCoord+e.pixelX+e.dx,h=90),n.endX=l,n.endY=u,n.startAngle=h,n.endAngle=h,n.gradient.rotation=h,n.linkWidth=o*i.valueHeight,!a.fromNode){r=="horizontal"?(n.maxWidth=200,n.startX=e.pixelX+e.dx-n.maxWidth,n.startY=n.endY):(n.maxHeight=200,n.startX=n.endX,n.startY=e.pixelY+e.dy-n.maxHeight),n.gradient,n.fill=a.toNode.color;var c=n.gradient.stops.getIndex(0);c&&(n.colorMode=="gradient"&&(c.color=e.color),c.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}e.nextInCoord+=n.linkWidth}}),this._outgoingSorted&&de(this._outgoingSorted,function(a){var n=a.link;n.parent=e.chart.linksContainer;var o=a.getWorkingValue("value");if(k(o)){var l=void 0,u=void 0,h=void 0;if(r=="horizontal"?(h=0,l=e.pixelX+e.pixelWidth+e.dx-1,u=e.nextOutCoord+e.pixelY+e.dy):(h=90,l=e.nextOutCoord+e.pixelX+e.dx,u=e.pixelY+e.pixelHeight+e.dy-1),n.startX=l,n.startY=u,n.startAngle=h,n.endAngle=h,n.gradient.rotation=h,n.linkWidth=o*e.chart.valueHeight,!a.toNode){r=="horizontal"?(n.maxWidth=200,n.endX=e.pixelX+n.maxWidth+e.dx,n.endY=n.startY):(n.maxHeight=200,n.endX=n.startX,n.endY=e.pixelY+n.maxHeight+e.dy),n.opacity=e.opacity;var c=n.gradient.stops.getIndex(1);c&&(n.colorMode=="gradient"&&(c.color=e.color),c.opacity=0,n.fill=n.gradient,n.stroke=n.gradient,n.gradient.validate())}e.nextOutCoord+=n.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},t.prototype.positionBullet=function(e){e&&(e.x=this.measuredWidth*e.locationX,e.y=this.measuredHeight*e.locationY)},Object.defineProperty(t.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(e){this.setPropertyValue("level",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.nameLabel.copyFrom(e.nameLabel),this.valueLabel.copyFrom(e.valueLabel)},t}(Zh);E.registeredClasses.SankeyNode=pv;var Cd=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Polyspline",e.tensionX=.5,e.tensionY=.5,e.applyTheme(),e}return t.prototype.makePath=function(){this._distance=0;var e=this.segments,i=this.tensionX,r=this.tensionY;if(this.allPoints=[],e&&e.length>0){var a="";this._realSegments=[];for(var n=0,o=e.length;n<o;n++){var l=e[n],u=[];if(this._realSegments.push(u),l.length>0){var h=l[0],c=l[l.length-1],A=!1;be(h.x,3)==be(c.x)&&be(h.y)==be(c.y)&&(A=!0),a+=we(l[0]);for(var d=0;d<l.length-1;d++){var f=l[d-1],p=l[d],m=l[d+1],g=l[d+2];d===0?f=l[d]:d==l.length-2&&(g=l[d+1]),g||(g=m),d===0?A?f=l[l.length-2]:f=l[n]:d==l.length-2&&(A?g=l[1]:g=l[d+1]);var y=wb(f,p,m,g,i,r),v=Cb(f,p,m,g,i,r);a+=Ou(m,y,v);var _=Math.ceil(_1(p,m,y,v,20))*1.2,S=p;if(_>0)for(var F=0;F<=_;F++){var P=sm(p,m,y,v,F/_);if(!(P.x==S.x&&P.y==S.y)){u.push(P);var D=be(dr(S,P),5);this._distance+=Et(S,P),this.allPoints[Math.floor(this._distance)]={x:P.x,y:P.y,angle:D},S=P}}else u.push(f)}}var $=this.allPoints;if($.length>1){for(var I=0;I<$.length;I++)if(!$[I]){if(I>1)$[I]=$[I-1];else for(var R=1;R<$.length;R++)if($[R]){$[I]=$[R];break}}}}this.path=a}},t.prototype.getClosestPointIndex=function(e){var i=this.allPoints,r,a=1/0;if(i.length>1)for(var n=1;n<i.length;n++){var o=Et(e,i[n]);o<a&&(r=n,a=o)}return r},Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0),this.makePath()},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,i){var r=0,a=this.allPoints,n=a.length;if(k(e)||(e=0),n>1){if(i&&n>3){if(e<0){e<-.01&&(e=-.01);var o=a[0],l=a[1],u=o.x-(o.x-l.x)*n*e,h=o.y-(o.y-l.y)*n*e;return{x:u,y:h,angle:dr(o,l)}}else if(e>1){e>1.01&&(e=1.01);var o=a[a.length-2],l=a[a.length-3],u=o.x+(o.x-l.x)*n*(e-1),h=o.y+(o.y-l.y)*n*(e-1);return{x:u,y:h,angle:dr(o,{x:u,y:h})}}else if(e==1){var c=a[a.length-1];return{x:c.x,y:c.y,angle:c.angle}}}else e<0&&(e=Math.abs(e),r=180),e>=1&&(e=.9999999999999);var A=a[Math.floor(e*n)];return{x:A.x,y:A.y,angle:A.angle+r}}else if(n==1){var A=a[0];return{x:A.x,y:A.y,angle:A.angle}}else return{x:0,y:0,angle:0}},t}(Mu);E.registeredClasses.Polyspline=Cd;var mv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="SankeyLink",new et,e.tension=.8,e.controlPointDistance=.2,e.startAngle=0,e.endAngle=0,e.linkWidth=0,e.startX=0,e.endX=0,e.startY=0,e.endY=0,e.middleLine=e.createChild(Cd),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return t.prototype.makeBackwards=function(){this.states.getKey("backwards")!=null&&this.setState("backwards")},t.prototype.validate=function(){var e,i,r,a;if(s.prototype.validate.call(this),!this.isTemplate){var n=this.startX,o=this.startY,l=this.endX,u=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var h=this.dataItem.component;h&&(h.orientation=="horizontal"?l<n&&(e=ch([l,n],2),n=e[0],l=e[1],i=ch([u,o],2),o=i[0],u=i[1],this.makeBackwards()):u<o&&(r=ch([u,o],2),o=r[0],u=r[1],a=ch([l,n],2),n=a[0],l=a[1],this.makeBackwards()))}k(l)||(l=n),k(u)||(u=o);var c=this.startAngle,A=this.endAngle,d=this.linkWidth,f="",p=n,m=o,g=l,y=u,v=n+d*Fe(c),_=l+d*Fe(A),S=o+d*Pe(c),F=u+d*Pe(A),P=n+d/2*Fe(c),D=l+d/2*Fe(A),$=o+d/2*Pe(c),I=u+d/2*Pe(A);this.zIndex=this.zIndex||this.dataItem.index;var R=this.tension+(1-this.tension)*Fe(c),T=this.tension+(1-this.tension)*Pe(c);if(this.middleLine.tensionX=R,this.middleLine.tensionY=T,k(d)&&k(n)&&k(l)&&k(o)&&k(u)){be(p,3)==be(g,3)&&(g+=.01),be(m,3)==be(y,3)&&(y+=.01),be(v,3)==be(_,3)&&(_+=.01),be(S,3)==be(F,3)&&(F+=.01);var Q=Math.min(v,_,p,g),K=Math.min(S,F,m,y),z=Math.max(v,_,p,g),se=Math.max(S,F,m,y);this._bbox={x:Q,y:K,width:z-Q,height:se-K};var ee=this.controlPointDistance,ue=p+(g-p)*ee*Pe(c),G=m+(y-m)*ee*Fe(c),q=g-(g-p)*ee*Pe(A),ge=y-(y-m)*ee*Fe(A),ne=P+(D-P)*ee*Pe(c),ye=$+(I-$)*ee*Fe(c),qe=D-(D-P)*ee*Pe(A),Ge=I-(I-$)*ee*Fe(A),it=dr({x:ue,y:G},{x:q,y:ge}),dt=(d/Pe(it)-d)/HC(it)*Pe(c),Re=(d/Fe(it)-d)*HC(it)*Fe(c),We=-dt/2+v+(_-v)*ee*Pe(c),Rt=-Re/2+S+(F-S)*ee*Fe(c),pi=-dt/2+_-(_-v)*ee*Pe(A),V=-Re/2+F-(F-S)*ee*Fe(A);I==$&&(I+=.01),this.middleLine.segments=[[{x:P,y:$},{x:ne,y:ye},{x:qe,y:Ge},{x:D,y:I}]],ue+=dt/2,G+=Re/2,q+=dt/2,ge+=Re/2,f+=we({x:p,y:m}),f+=new Wn(R,T).smooth([{x:p,y:m},{x:ue,y:G},{x:q,y:ge},{x:g,y}]),f+=ce({x:_,y:F}),f+=new Wn(R,T).smooth([{x:_,y:F},{x:pi,y:V},{x:We,y:Rt},{x:v,y:S}]),f+=Fi()}this.link.path=f,this.maskBullets&&(this.bulletsMask.path=f,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(t.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(e){this.setPropertyValue("startX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(e){this.setPropertyValue("endX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(e){this.setPropertyValue("startY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(e){this.setPropertyValue("endY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(e){this.setPropertyValue("linkWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),t}(Jh);E.registeredClasses.SankeyLink=mv;var LO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="SankeyDiagramDataItem",e.applyTheme(),e}return t}(df);var IO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="SankeyDiagram",e.orientation="horizontal",e.nodeAlign="middle",e.nodesContainer.width=he(100),e.nodesContainer.height=he(100),e.linksContainer.width=he(100),e.linksContainer.height=he(100),e.applyTheme(),e}return t.prototype.validateData=function(){var e=this;this._valueHeight=void 0,s.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(i,r){r.level=void 0}),this.nodes.each(function(i,r){r.level=e.getNodeLevel(r,0),e._levelCount=ht(e._levelCount,r.level)})},t.prototype.getNodeLevel=function(e,i){var r=this,a=[i];return de(e.incomingDataItems.iterator(),function(n){n.fromNode&&(k(n.fromNode.level)?a.push(n.fromNode.level+1):(r._counter=0,r.checkLoop(n.fromNode),r._counter<r.dataItems.length&&a.push(r.getNodeLevel(n.fromNode,i+1))))}),Math.max.apply(Math,Au(a))},t.prototype.checkLoop=function(e){var i=this;this._counter++,!(this._counter>this.dataItems.length)&&de(e.incomingDataItems.iterator(),function(r){i.checkLoop(r.fromNode)})},t.prototype.calculateValueHeight=function(){var e=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var i=this.dataItem.values.value.sum;de(this._sorted,function(c){var A=c[1];e.getNodeValue(A)}),this.nodes.each(function(c,A){var d=A.level,f=Math.max(A.totalIncoming,A.totalOutgoing);f/i<e.minNodeSize&&(f=i*e.minNodeSize),k(e._levelSum[d])?e._levelSum[d]+=f:e._levelSum[d]=f,k(e._levelNodesCount[d])?e._levelNodesCount[d]++:e._levelNodesCount[d]=1});var r;this.orientation=="horizontal"?r=this.chartContainer.maxHeight-1:r=this.chartContainer.maxWidth-1;var a,n;Qe(this._levelSum,function(c,A){var d=A,f=e._levelNodesCount[c],p=(r-(f-1)*e.nodePadding)/d;p==1/0&&(p=0),(n>p||!k(n))&&(n=p,e.maxSum=d,a=Jt(c))}),this._maxSumLevel=a;var o=this._levelNodesCount[this._maxSumLevel],l=(r-(o-1)*this.nodePadding)/this.maxSum;if(l==1/0&&(l=0),!k(this.valueHeight))this.valueHeight=l;else{var u=void 0;try{u=this._heightAnimation.animationOptions[0].to}catch{}if(u!=l){var h=this.interpolationDuration;try{h=this.nodes.template.states.getKey("active").transitionDuration}catch{}this._heightAnimation=new Ls(this,{property:"valueHeight",from:this.valueHeight,to:l},h,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}},t.prototype.validate=function(){var e=this;s.prototype.validate.call(this),this.calculateValueHeight();var i=this.nodesContainer,r={},a=this._levelNodesCount[this._maxSumLevel],n=this.dataItem.values.value.sum,o;this.orientation=="horizontal"?o=this.chartContainer.maxHeight-1:o=this.chartContainer.maxWidth-1,de(this._sorted,function(l){var u=l[1],h=u.level,c=0,A=e._levelNodesCount[h];switch(e.nodeAlign){case"bottom":c=(e.maxSum-e._levelSum[h])*e.valueHeight-(A-a)*e.nodePadding;break;case"middle":c=(e.maxSum-e._levelSum[h])*e.valueHeight/2-(A-a)*e.nodePadding/2;break}if(e.maxSum==0)switch(e.nodeAlign){case"bottom":c=o-A*(e.minNodeSize*o+e.nodePadding);break;case"middle":c=o/2-A/2*(e.minNodeSize*o+e.nodePadding);break}u.parent=i;var d,f,p,m=Math.max(u.totalIncoming,u.totalOutgoing);if(m/n<e.minNodeSize&&(m=n*e.minNodeSize),e.orientation=="horizontal"){d=(e.innerWidth-u.pixelWidth)/e._levelCount,f=d*u.level,p=r[h]||c;var g=m*e.valueHeight;n==0&&g==0&&(g=e.minNodeSize*o),u.height=g,u.minX=f,u.maxX=f,r[h]=p+g+e.nodePadding}else{d=(e.innerHeight-u.pixelHeight)/e._levelCount,f=r[h]||c,p=d*u.level;var y=m*e.valueHeight;n==0&&y==0&&(y=e.minNodeSize*o),u.width=y,u.minY=p,u.maxY=p,r[h]=f+y+e.nodePadding}u.x=f,u.y=p})},t.prototype.showReal=function(e){var i=this;if(!this.preventShow){if(this.interpolationDuration>0){var r=this.nodesContainer,a=0;de(this.links.iterator(),function(n){n.hide(0)}),de(this._sorted,function(n){var o=n[1],l;i.orientation=="horizontal"?(o.dx=-(r.pixelWidth-o.pixelWidth)/Math.max(i._levelCount,1),l="dx"):(o.dy=-(r.pixelHeight-o.pixelHeight)/Math.max(i._levelCount,1),l="dy");var u=0,h=i.interpolationDuration;i.sequencedInterpolation&&(u=i.sequencedInterpolationDelay*a+h*a/E1(i.nodes.iterator())),o.opacity=0,o.invalidateLinks(),o.animate([{property:"opacity",from:0,to:1},{property:l,to:0}],i.interpolationDuration,i.interpolationEasing).delay(u),de(o.outgoingDataItems.iterator(),function(c){var A=c.link.show(i.interpolationDuration);A&&!A.isFinished()&&A.delay(u)}),de(o.incomingDataItems.iterator(),function(c){if(!c.fromNode){var A=c.link.show(i.interpolationDuration);A&&!A.isFinished()&&A.delay(u)}}),a++})}return s.prototype.showReal.call(this)}},t.prototype.changeSorting=function(){var e=this;this.sortNodes();var i={};de(this._sorted,function(r){var a=r[1],n=a.level,o=(e.maxSum-e._levelSum[n])*e.valueHeight/2,l,u;e.orientation=="horizontal"?(l="y",u=a.pixelHeight):(l="x",u=a.pixelWidth),a.animate({property:l,to:i[n]||o},e.interpolationDuration,e.interpolationEasing),i[n]=(i[n]||o)+u+e.nodePadding,a.invalidateLinks()})},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},t.prototype.createDataItem=function(){return new LO},Object.defineProperty(t.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(e){this.setPropertyValue("nodeAlign",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var i=this.nodes.template.nameLabel;e=="vertical"?(this.nodes.template.width=void 0,i.label.horizontalCenter="middle",i.locationX=.5):(this.nodes.template.height=void 0,i.label.horizontalCenter="left",i.locationX=1)},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new pv;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new mv;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(e){e!=this._valueHeight&&(this._valueHeight=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},t}(Af);E.registeredClasses.SankeyDiagram=IO;var gv=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="ChordNode";var i=e.createChild(Co);i.location=.5,i.radius=5,i.text="{name}",i.zIndex=1,i.shouldClone=!1,e.label=i,e.layout="none",e.events.on("positionchanged",e.updateRotation,e,!1),e.isMeasured=!1,e.slice=e.createChild(Ea),e.slice.isMeasured=!1;var r=e.hiddenState;return r.properties.fill=new et().getFor("disabledBackground"),r.properties.opacity=.5,r.properties.visible=!0,e.setStateOnChildren=!1,e.slice.hiddenState.properties.visible=!0,e.adapter.add("tooltipX",function(a,n){return n.slice.ix*(n.slice.radius-(n.slice.radius-n.slice.pixelInnerRadius)/2)}),e.adapter.add("tooltipY",function(a,n){return n.slice.iy*(n.slice.radius-(n.slice.radius-n.slice.pixelInnerRadius)/2)}),e}return t.prototype.invalidateLinks=function(){var e=this;s.prototype.invalidateLinks.call(this);var i=this.label,r=this.slice,a=this.chart;if(a&&r){var n=this.total,o=r.arc,l=r.startAngle;this.children.each(function(c){if(c instanceof ta){var A=c.locationX;k(A)||(A=.5);var d=c.locationY;k(d)||(d=1);var f=l+o*A,p=d*r.radius;c.x=p*Pe(f),c.y=p*Fe(f)}});var u=l+o*i.location,h=l+(1-n/this.adjustedTotal)*o*.5;zr(h)&&(h=l),i.fixPosition(u,r.radius),this.nextAngle=h,this._outgoingSorted&&de(this._outgoingSorted,function(c){var A=c.link;A.parent=e.chart.linksContainer;var d=c.getWorkingValue("value");if(k(d)){if(a.nonRibbon){var f=A.percentWidth;k(f)||(f=5),f=f/100,A.startAngle=l+o/2-o/2*f,A.arc=o*f}else A.arc=d*a.valueAngle,A.startAngle=e.nextAngle,e.nextAngle+=A.arc;c.toNode||(A.endAngle=A.startAngle),A.radius=r.pixelInnerRadius}}),this._incomingSorted&&de(this._incomingSorted,function(c){var A=c.link;if(A.radius=r.pixelInnerRadius,a.nonRibbon){var d=A.percentWidth;k(d)||(d=5),d=d/100,A.endAngle=l+o/2-o/2*d,A.arc=o*d}else{A.endAngle=e.nextAngle;var f=c.getWorkingValue("value");k(f)&&(A.arc=f*a.valueAngle,e.nextAngle+=A.arc)}c.fromNode||(A.startAngle=A.endAngle)})}},t.prototype.updateRotation=function(){var e=this.slice,i=this.trueStartAngle+e.arc/2,r=e.radius,a=r*Pe(i),n=r*Fe(i),o=dr({x:a+this.pixelX,y:n+this.pixelY});e.startAngle=this.trueStartAngle+(o-i),this.dx=-this.pixelX,this.dy=-this.pixelY},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),this.slice.copyFrom(e.slice)},t}(Zh);E.registeredClasses.ChordNode=gv;var $O=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="QuadraticCurve",e.element=e.paper.add("path"),e.pixelPerfect=!1,e.fill=He(),e.applyTheme(),e}return t.prototype.draw=function(){if(k(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var e={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2},r={x:this.cpx,y:this.cpy},a=we(e)+Nl(i,r);this.path=a}},Object.defineProperty(t.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(e){this.setPropertyValue("cpx",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(e){this.setPropertyValue("cpy",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var i={x:this.x1,y:this.y1},r={x:this.cpx,y:this.cpy},a={x:this.x2,y:this.y2},n=jC(i,a,r,e),o=jC(i,a,r,e+.001);return{x:n.x,y:n.y,angle:dr(n,o)}},t}(ia);var yv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ChordLink",e.middleLine=e.createChild($O),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return t.prototype.validate=function(){if(s.prototype.validate.call(this),!this.isTemplate){var e=this.startAngle,i=this.endAngle,r=this.arc,a=this.radius,n=this.dataItem.fromNode,o=this.dataItem.toNode,l=0,u=0;n&&(l=n.pixelX+n.dx,u=n.pixelY+n.dy);var h=0,c=0;if(o&&(h=o.pixelX+o.dx,c=o.pixelY+o.dy),a>0){var A=a*Pe(e)+l,d=a*Fe(e)+u,f=a*Pe(i)+h,p=a*Fe(i)+c,m={x:0,y:0},g=we({x:A,y:d});g+=Br(e,r,a),g+=Nl({x:f,y:p},m),g+=Br(i,r,a),g+=Nl({x:A,y:d},m),r>0?this.link.path=g:this.link.path="",this.maskBullets&&(this.bulletsMask.path=g,this.bulletsContainer.mask=this.bulletsMask);var y=e+r/2,v=i+r/2,_=this.middleLine;_.x1=a*Pe(y)+l,_.y1=a*Fe(y)+u,_.x2=a*Pe(v)+h,_.y2=a*Fe(v)+c,_.cpx=0,_.cpy=0,_.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),t}(Jh);E.registeredClasses.ChordLink=yv;var kO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ChordDiagramDataItem",e.applyTheme(),e}return t}(df);var MO=function(s){U(t,s);function t(){var e=s.call(this)||this;e.valueAngle=0,e.className="ChordDiagram",e.startAngle=-90,e.endAngle=270,e.radius=he(80),e.innerRadius=-15,e.nodePadding=5;var i=e.chartContainer.createChild(Oe);return i.align="center",i.valign="middle",i.shouldClone=!1,i.layout="absolute",e.chordContainer=i,e.nodesContainer.parent=i,e.linksContainer.parent=i,e.chartContainer.events.on("maxsizechanged",e.invalidate,e,!1),e.applyTheme(),e}return t.prototype.validate=function(){var e=this,i=this.chartContainer,r=this.endAngle,a=this.startAngle+this.nodePadding/2,n=qa(this.startAngle,this.endAngle,1),o={x:0,y:0,width:0,height:0};n=Il([n,o]);var l=Math.min(i.innerWidth/n.width,i.innerHeight/n.height);k(l)||(l=0);var u=Ar(this.radius,l),h=Ar(this.innerRadius,u,!0),c=this.dataItem.values.value.sum,A=0,d=0;de(this._sorted,function(f){var p=f[1];e.getNodeValue(p),A++;var m=p.total;p.total/c<e.minNodeSize&&(m=c*e.minNodeSize),d+=m}),this.valueAngle=(r-this.startAngle-this.nodePadding*A)/d,de(this._sorted,function(f){var p=f[1],m=p.slice;m.radius=u,m.innerRadius=h;var g=p.total;p.total/c<e.minNodeSize&&(g=c*e.minNodeSize),p.adjustedTotal=g;var y;e.nonRibbon?y=(r-e.startAngle)/A-e.nodePadding:y=e.valueAngle*g,m.arc=y,m.startAngle=a,p.trueStartAngle=a,p.parent=e.nodesContainer,p.validate(),a+=y+e.nodePadding}),this.chordContainer.definedBBox={x:u*n.x,y:u*n.y,width:u*n.width,height:u*n.height},this.chordContainer.invalidateLayout(),s.prototype.validate.call(this)},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},t.prototype.createDataItem=function(){return new kO},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(e){this.setPropertyValue("nonRibbon",e,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new gv;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new yv;return this._disposers.push(e),e},t}(Af);E.registeredClasses.ChordDiagram=MO;var Tn=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Column",e.width=he(80),e.height=he(80),e.events.disableType("transformed"),e.applyOnClones=!0,e.strokeOpacity=1,e.layout="none",e.createAssets(),e.events.on("childadded",e.handleKidAdded,e,!1),e}return t.prototype.handleKidAdded=function(){this.layout=="none"&&(this.layout="absolute")},t.prototype.createAssets=function(){this.column=this.createChild(us),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},t.prototype.validate=function(){s.prototype.validate.call(this);var e=this.column;e&&(e.width=bt(this.pixelWidth,this.maxWidth),e.height=bt(this.pixelHeight,this.maxHeight),e.invalid&&e.validate())},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.column&&this.column.copyFrom(e.column)},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:bt(this.pixelWidth,this.maxWidth),height:bt(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),t}(Oe);E.registeredClasses.Column=Tn;var Cs=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ColumnSeriesDataItem",e.locations.dateX=.5,e.locations.dateY=.5,e.locations.categoryX=.5,e.locations.categoryY=.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"column",{get:function(){return this._column},set:function(e){this.setColumn(e)},enumerable:!0,configurable:!0}),t.prototype.setColumn=function(e){var i=this;if(this._column&&e!=this._column&&tt(this.sprites,this._column),this._column=e,e){var r=e.dataItem;r&&r!=this&&(r.column=void 0),this.addSprite(e),this._disposers.push(new Ot(function(){i.component&&i.component.columns.removeValue(e)}))}},Object.defineProperty(t.prototype,"width",{get:function(){var e=this.properties.width;return this._adapterO&&(e=this._adapterO.apply("width",e)),e},set:function(e){this.properties.width!=e&&(this.properties.width=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.properties.height;return this._adapterO&&(e=this._adapterO.apply("height",e)),e},set:function(e){this.properties.height!=e&&(this.properties.height=e,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new Nt),this._rangesColumns},enumerable:!0,configurable:!0}),t}(bd);var $i=function(s){U(t,s);function t(){var e=s.call(this)||this;e._startLocation=0,e._endLocation=1,e.className="ColumnSeries",e.width=he(100),e.height=he(100),e.strokeOpacity=0,e.fillOpacity=1,e.clustered=!0;var i=e.mainContainer.createChild(Oe);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e._columnsContainer=i,e.columns.template.pixelPerfect=!1,e.tooltipColorSource=e.columns.template,e.applyTheme(),e}return Object.defineProperty(t.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},t.prototype.createDataItem=function(){return new Cs},t.prototype.validate=function(){var e=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var i=this.chart.series,r=0,a=0,n=[];de(i.iterator(),function(p){if(p instanceof t&&e.baseAxis==p.baseAxis){var m;e.baseAxis==e.xAxis?m=e.chart.yAxes.indexOf(p.yAxis):m=e.chart.xAxes.indexOf(p.xAxis),n.push({series:p,axis:m})}}),n.sort(function(p,m){return p.axis-m.axis});var o;Ce(n,function(p){var m=p.series;m instanceof t&&((!m.stacked&&m.clustered||o!=p.axis&&m.clustered)&&r++,m==e&&(a=r-1)),o=p.axis}),this.clustered||(a=0,r=1);var l=this.baseAxis.renderer,u=l.cellStartLocation,h=l.cellEndLocation;this._startLocation=u+a/r*(h-u),this._endLocation=u+(a+1)/r*(h-u);var c=this.xAxis,A=this.yAxis;c instanceof Vt&&A instanceof je&&c.sortBySeries==this&&this.sortCategoryAxis(c,"valueY"),A instanceof Vt&&c instanceof je&&A.sortBySeries==this&&this.sortCategoryAxis(A,"valueX")}s.prototype.validate.call(this);for(var d=0;d<this.startIndex;d++){var f=this.dataItems.getIndex(d);this.disableUnusedColumns(f)}for(var d=this.dataItems.length-1;d>this.endIndex;d--){var f=this.dataItems.getIndex(d);this.disableUnusedColumns(f)}this._propertiesChanged=!1},t.prototype.sortCategoryAxis=function(e,i){var r=this;this.dataItems.values.sort(function(n,o){return o.values[i].workingValue-n.values[i].workingValue});var a=0;this.dataItems.each(function(n){n._index=a,a++}),e.dataItems.each(function(n){var o=n.component,l=o.categoryToPosition(n.category)-n.deltaPosition,u=o.getSeriesDataItemByCategory(n.category,r);if(u){var h=r.dataItems.indexOf(u);n._index=h;var c=be((h+.5)/r.dataItems.length-l,3);n.deltaAnimation&&!n.deltaAnimation.isDisposed()&&n.deltaAnimation.animationOptions[0].to==c||c!=be(n.deltaPosition,3)&&(n.deltaAnimation&&n.deltaAnimation.stop(),n.deltaAnimation=n.animate({property:"deltaPosition",from:-c,to:0},o.interpolationDuration,o.interpolationEasing),r._disposers.push(n.deltaAnimation))}}),e.dataItems.values.sort(function(n,o){return n.index-o.index})},t.prototype.validateDataElement=function(e){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(e),s.prototype.validateDataElement.call(this,e))},t.prototype.getStartLocation=function(e){var i=this._startLocation;return this.baseAxis==this.xAxis?i+=e.locations[this.xOpenField]-.5:i+=e.locations[this.yOpenField]-.5,i},t.prototype.getEndLocation=function(e){var i=this._endLocation;return this.baseAxis==this.xAxis?i+=e.locations[this.xField]-.5:i+=e.locations[this.yField]-.5,i},t.prototype.validateDataElementReal=function(e){var i=this,r,a,n,o,l=this.getStartLocation(e),u=this.getEndLocation(e),h=this.xField,c=this.xOpenField,A=this.yField,d=this.yOpenField,f=this.columns.template,p=f.percentWidth,m=f.percentHeight,g=f.pixelWidth,y=f.pixelHeight,v=f.maxWidth,_=f.maxHeight,S=f.pixelPaddingLeft,F=f.pixelPaddingRight,P=f.pixelPaddingTop,D=f.pixelPaddingBottom,$=!1,I=e.width;N(I)&&(k(I)&&(g=I),I instanceof nt&&(p=I.value*100));var R=e.height;if(N(R)&&(k(R)&&(y=R),R instanceof nt&&(m=R.value*100)),this.xAxis instanceof Vt&&this.yAxis instanceof Vt){if(!e.hasValue(this._xValueFields)||!e.hasValue(this._yValueFields))return;if(l=0,u=1,!zr(p)){var T=be((u-l)*(1-p/100)/2,5);l+=T,u-=T}if(r=this.xAxis.getX(e,c,l),a=this.xAxis.getX(e,h,u),zr(p)){var T=(a-r-g)/2;r+=T,a-=T}if(!zr(v)&&v<Math.abs(a-r)){var T=(a-r-v)/2;r+=T,a-=T}if(l=0,u=1,!zr(m)){var T=be((1-m/100)/2,5);l+=T,u-=T}if(n=this.yAxis.getY(e,d,l),o=this.yAxis.getY(e,A,u),zr(m)){var T=(o-n-y)/2;o+=T,n-=T}if(!zr(_)&&_<Math.abs(o-n)){var T=(o-n-_)/2;o+=T,n-=T}a=this.fixHorizontalCoordinate(a),r=this.fixHorizontalCoordinate(r),n=this.fixVerticalCoordinate(n),o=this.fixVerticalCoordinate(o)}else if(this.baseAxis==this.xAxis){if(!e.hasValue(this._yValueFields))return;if(!zr(p)){var T=be((u-l)*(1-p/100)/2,5);l+=T,u-=T}if(r=this.xAxis.getX(e,c,l),a=this.xAxis.getX(e,h,u),zr(p)){var T=(a-r-g)/2;r+=T,a-=T}if(!zr(v)&&v<Math.abs(a-r)){var T=(a-r-v)/2;r+=T,a-=T}var Q=e.locations[d],K=e.locations[A];this.yAxis instanceof je&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(Q=0,K=0),o=this.yAxis.getY(e,d,Q),n=this.yAxis.getY(e,A,K);var z=Math.ceil(this.yAxis.axisLength);(n<0&&o<0||n>z&&o>z)&&($=!0),n=this.fixVerticalCoordinate(n),o=this.fixVerticalCoordinate(o),Math.abs(a-r)-S-F==0&&($=!0)}else{if(!e.hasValue(this._xValueFields))return;if(!zr(m)){var T=be((u-l)*(1-m/100)/2,5);l+=T,u-=T}if(n=this.yAxis.getY(e,d,l),o=this.yAxis.getY(e,A,u),zr(m)){var T=(o-n-y)/2;o-=T,n+=T}if(!zr(_)&&_<Math.abs(o-n)){var T=(o-n-_)/2;o-=T,n+=T}var se=e.locations[h],ee=e.locations[c];this.xAxis instanceof je&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(se=0,ee=0),a=this.xAxis.getX(e,h,se),r=this.xAxis.getX(e,c,ee);var z=Math.ceil(this.xAxis.axisLength);(a<0&&r<0||a>z&&r>z)&&($=!0),a=this.fixHorizontalCoordinate(a),r=this.fixHorizontalCoordinate(r),Math.abs(n-o)-P-D==0&&($=!0)}var ue=Math.abs(a-r),G=Math.abs(o-n),q=Math.min(r,a),ge=Math.min(n,o);if($)this.disableUnusedColumns(e);else{var ne;e.column?(ne=e.column,this._propertiesChanged&&(ji(this,ne,Di),ji(this.columns.template,ne,Di),Ce(Di,function(ye){ne[ye]=ne[ye]}))):(ne=this.columns.create(),ji(this,ne,Di),ji(this.columns.template,ne,Di),e.addSprite(ne),e.column=ne,ne.paper=this.paper,this.itemsFocusable()?(N(this.role)||(this.role="menu"),N(ne.role)||(ne.role="menuitem"),ne.focusable=!0):(N(this.role)||(this.role="list"),N(ne.role)||(ne.role="listitem"),ne.focusable=!1),ne.focusable&&(ne.events.on("focus",function(ye){ne.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),ne.events.on("blur",function(ye){ne.readerTitle=""},void 0,!1)),ne.hoverable&&(ne.events.on("over",function(ye){ne.readerTitle=i.populateString(i.itemReaderText,e)},void 0,!1),ne.events.on("out",function(ye){ne.readerTitle=""},void 0,!1)),ne.parent=this.columnsContainer,ne.virtualParent=this),ne.width=ue,ne.height=G,ne.x=q,ne.y=ge,ne.realX=r,ne.realY=n,ne.realWidth=a-r,ne.realHeight=o-n,this.setColumnStates(ne),ne.invalid&&ne.validate(),ne.__disabled=!1,de(this.axisRanges.iterator(),function(ye){var qe=e.rangesColumns.getKey(ye.uid);qe||(qe=i.columns.create(),ji(ye.contents,qe,Di),e.addSprite(qe),e.rangesColumns.setKey(ye.uid,qe),qe.paper=i.paper),qe.parent=ye.contents,qe.width=ue,qe.height=G,qe.x=q,qe.y=ge,i.setColumnStates(qe),qe.invalid&&qe.validate(),qe.__disabled=!1})}e.itemWidth=ue,e.itemHeight=G},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.width=0,e.column.height=0,e.column.__disabled=!0),de(this.axisRanges.iterator(),function(i){var r=e.rangesColumns.getKey(i.uid);r&&(r.width=0,r.height=0,r.__disabled=!0)}))},t.prototype.setColumnStates=function(e){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var i=e.dataItem;if(this.xAxis instanceof je||this.yAxis instanceof je){var r,a=void 0,n=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof je&&(r=i.getValue(this.xOpenField),a=i.getValue(this.xField)),n=i.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof je&&(r=i.getValue(this.yOpenField),a=i.getValue(this.yField)),n=i.getValue(this.yAxis.axisFieldName+"Y","previousChange")),a<r?(i.droppedFromOpen=!0,e.defaultState.copyFrom(this._dropFromOpenState),e.setState(this._dropFromOpenState,0)):(i.droppedFromOpen=!1,e.defaultState.copyFrom(this._riseFromOpenState),e.setState(this._riseFromOpenState,0)),n<0?(i.droppedFromPrevious=!0,e.defaultState.copyFrom(this._dropFromPreviousState),e.setState(this._dropFromPreviousState,0)):(i.droppedFromPrevious=!1,e.defaultState.copyFrom(this._riseFromPreviousState),e.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns||(this._columns=new Kt(this.createColumnTemplate()),this._disposers.push(new Lt(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),t.prototype.createColumnTemplate=function(){return new Tn},Object.defineProperty(t.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(e){this.setPropertyValue("clustered",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(e){this._dropFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(e){this._dropFromPreviousState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(e){this._riseFromOpenState=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(e){this._riseFromPreviousState=e},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,i){var r=this;if(s.prototype.updateLegendValue.call(this,e,i),this.legendDataItem){var a=this.legendDataItem.marker,n,o;e&&(e.droppedFromOpen?n=this._dropFromOpenState:n=this._riseFromOpenState,e.droppedFromPrevious?o=this._dropFromPreviousState:o=this._riseFromPreviousState),de(a.children.iterator(),function(l){e?(l.setState(o),l.setState(n)):(l.setState(r._riseFromPreviousState),l.setState(r._riseFromOpenState))})}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(us);a.shouldClone=!1,ji(this,a,Di),a.copyFrom(this.columns.template),a.padding(0,0,0,0),a.width=i,a.height=r;var n=e.dataItem;n.color=this.fill,n.colorOrig=this.fill},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.columns.template.copyFrom(e.columns.template)},t.prototype.getBulletLocationX=function(e,i){if(this.baseAxis==this.xAxis){var r=e.locationX;k(r)||(r=.5);var a=this.getEndLocation(e.dataItem),n=this.getStartLocation(e.dataItem);return a-(a-n)*r}else return s.prototype.getBulletLocationX.call(this,e,i)},t.prototype.getBulletLocationY=function(e,i){if(this.baseAxis==this.yAxis){var r=e.locationY;k(r)||(r=.5);var a=this.getEndLocation(e.dataItem),n=this.getStartLocation(e.dataItem);return a-(a-n)*r}else return s.prototype.getBulletLocationY.call(this,e,i)},t.prototype.getAdjustedXLocation=function(e,i,r){return k(r)||(e?r=e.locations[i]:r=.5),this._endLocation-(this._endLocation-this._startLocation)*(1-r)},t.prototype.getAdjustedYLocation=function(e,i,r){return k(r)||(e?r=e.locations[i]:r=.5),this._endLocation-(this._endLocation-this._startLocation)*r},t.prototype.fixVerticalCoordinate=function(e){var i=this.columns.template.pixelPaddingBottom,r=this.columns.template.pixelPaddingTop,a=-r,n=this.yAxis.axisLength+i;return Le(e,a,n)},t.prototype.fixHorizontalCoordinate=function(e){var i=this.columns.template.pixelPaddingLeft,r=this.columns.template.pixelPaddingRight,a=-i,n=this.xAxis.axisLength+r;return Le(e,a,n)},t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this.columns.clear()},t}(hs);E.registeredClasses.ColumnSeries=$i;E.registeredClasses.ColumnSeriesDataItem=Cs;var iS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="TreeMapSeriesDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"parentName",{get:function(){var e=this.treeMapDataItem;if(e&&e.parent)return e.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.treeMapDataItem;if(e)return e.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,r,a){var n=this.treeMapDataItem;return n&&n.hide(e),s.prototype.hide.call(this,e,i,r,a)},t.prototype.show=function(e,i,r){var a=this.treeMapDataItem;return a&&a.show(e,i,r),s.prototype.show.call(this,e,i,r)},t}(Cs);var Wm=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="TreeMapSeries",e.applyTheme(),e.fillOpacity=1,e.strokeOpacity=1,e.minBulletDistance=0,e.columns.template.tooltipText="{parentName} {name}: {value}",e.columns.template.configField="config";var i=new et;return e.stroke=i.getFor("background"),e.dataFields.openValueX="x0",e.dataFields.valueX="x1",e.dataFields.openValueY="y0",e.dataFields.valueY="y1",e.sequencedInterpolation=!1,e.showOnInit=!1,e.columns.template.pixelPerfect=!1,e}return t.prototype.processDataItem=function(e,i){i.seriesDataItem=e,s.prototype.processDataItem.call(this,e,i)},t.prototype.createDataItem=function(){return new iS},t.prototype.show=function(e){if(!this.preventShow){var i=this.defaultState.transitionDuration;return k(e)&&(i=e),this.dataItems.each(function(r){r.show(e)}),s.prototype.showReal.call(this,i)}},t.prototype.hide=function(e){var i=this.defaultState.transitionDuration;k(e)&&(i=e);var r=s.prototype.hideReal.call(this,i);return this.dataItems.each(function(a){a.hide(e)}),r},t.prototype.processValues=function(){},t.prototype.getStartLocation=function(e){return 0},t.prototype.getEndLocation=function(e){return 1},t.prototype.dataChangeUpdate=function(){},t.prototype.processConfig=function(e){e&&(!N(e.dataFields)||!ni(e.dataFields))&&(e.dataFields={}),s.prototype.processConfig.call(this,e)},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(us);a.shouldClone=!1,ji(this,a,Di),a.padding(0,0,0,0),a.width=i,a.height=r;var n=e.dataItem;n.color=a.fill,n.colorOrig=a.fill},t.prototype.disableUnusedColumns=function(e){s.prototype.disableUnusedColumns.call(this,e),e.column&&(e.column.__disabled=!1)},t}($i);E.registeredClasses.TreeMapSeries=Wm;E.registeredClasses.TreeMapSeriesDataItem=iS;var EO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.rows=[],e.className="TreeMapDataItem",e.values.value={workingValue:0},e.values.x0={},e.values.y0={},e.values.x1={},e.values.y1={},e.hasChildren.children=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),t.prototype.getDuration=function(){return 0},Object.defineProperty(t.prototype,"value",{get:function(){var e=0;return!this.children||this.children.length==0?e=this.values.value.workingValue:de(this.children.iterator(),function(i){var r=i.value;k(r)&&(e+=r)}),e},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x0",{get:function(){return this.values.x0.value},set:function(e){this.setValue("x0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x1",{get:function(){return this.values.x1.value},set:function(e){this.setValue("x1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y0",{get:function(){return this.values.y0.value},set:function(e){this.setValue("y0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.values.y1.value},set:function(e){this.setValue("y1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties.children},set:function(e){this.setProperty("children",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){var e=this.properties.color;return e==null&&this.parent&&(e=this.parent.color),e==null&&this.component&&(e=this.component.colors.getIndex(this.component.colors.step*this.index)),e},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){e!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=e,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.hide=function(e,i,r,a){this.setWorkingValue("value",0),this.children&&this.children.each(function(o){o.hide(e,i,r,a)});var n=this.seriesDataItem;return n&&n.bullets.each(function(o,l){l.hide(),l.preventShow=!0}),s.prototype.hide.call(this,e,i,r,a)},t.prototype.show=function(e,i,r){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(n){n.show(e,i,r)});var a=this.seriesDataItem;return a&&a.bullets.each(function(n,o){o.preventShow=!1}),s.prototype.show.call(this,e,i,r)},t}(xd);var RO=function(s){U(t,s);function t(){var e=s.call(this)||this;e.layoutAlgorithm=e.squarify,e.zoomable=!0,e.className="TreeMap",e._usesData=!0,e.maxLevels=2,e.currentLevel=0,e.hideParentColumns=!1,e.colors=new Ql,e.sorting="descending";var i=e.xAxes.push(new je);i.title.disabled=!0,i.strictMinMax=!0;var r=i.renderer;r.inside=!0,r.labels.template.disabled=!0,r.ticks.template.disabled=!0,r.grid.template.disabled=!0,r.axisFills.template.disabled=!0,r.minGridDistance=100,r.line.disabled=!0,r.baseGrid.disabled=!0;var a=e.yAxes.push(new je);a.title.disabled=!0,a.strictMinMax=!0;var n=a.renderer;n.inside=!0,n.labels.template.disabled=!0,n.ticks.template.disabled=!0,n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.minGridDistance=100,n.line.disabled=!0,n.baseGrid.disabled=!0,n.inversed=!0,e.xAxis=i,e.yAxis=a;var o=new Wm;return e.seriesTemplates=new kl(o),o.virtualParent=e,e._disposers.push(new Cn(e.seriesTemplates)),e._disposers.push(o),e.zoomOutButton.events.on("hit",function(){e.zoomToChartDataItem(e._homeDataItem)},void 0,!1),e.seriesTemplates.events.on("insertKey",function(l){l.newValue.isTemplate=!0},void 0,!1),e.applyTheme(),e}return Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(e){var i=this;this._navigationBar!=e&&(this._navigationBar=e,e.parent=this,e.toBack(),e.links.template.events.on("hit",function(r){var a=r.target.dataItem.dataContext;a.isDisposed()||(i.zoomToChartDataItem(a),i.createTreeSeries(a))},void 0,!0),this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],s.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var e=this.dataItems.template.clone();this._homeDataItem=e,de(this.dataItems.iterator(),function(a){a.parent=e}),e.children=this.dataItems,e.x0=0,e.y0=0,e.name=this._homeText;var i=1e3,r=Math.round(i*this.pixelHeight/this.pixelWidth/10)*10||1e3;e.x1=i,e.y1=r,this.xAxis.min=0,this.xAxis.max=i,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=r,this.yAxis.getMinMax(),this.layoutItems(e),this.createTreeSeries(e),this.feedLegend()},t.prototype.layoutItems=function(e,i){if(e){var r=e.children;i||(i=this.sorting),i=="ascending"&&r.values.sort(function(l,u){return l.value-u.value}),i=="descending"&&r.values.sort(function(l,u){return u.value-l.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(e);for(var a=0,n=r.length;a<n;a++){var o=r.getIndex(a);o.children&&this.layoutItems(o)}}},t.prototype.createTreeSeries=function(e){var i=this;this._tempSeries=[];for(var r=[e],a=e.parent;a!=null;)this.initSeries(a),r.push(a),a=a.parent;r.reverse(),this.navigationBar&&(this.navigationBar.data=r),this.createTreeSeriesReal(e),Ce(this._tempSeries,function(n){i.series.indexOf(n)==-1&&i.series.push(n),n.zIndex=n.level})},t.prototype.createTreeSeriesReal=function(e){if(e.children){var i=e.level;if(i<this.currentLevel+this.maxLevels){this.initSeries(e);for(var r=0;r<e.children.length;r++){var a=e.children.getIndex(r);a.children&&this.createTreeSeriesReal(a)}}}},t.prototype.setData=function(e){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,s.prototype.setData.call(this,e)},t.prototype.seriesAppeared=function(){return!0},t.prototype.initSeries=function(e){var i=this;if(!e.series){var r=void 0,a=this.seriesTemplates.getKey(e.level.toString());a?r=a.clone():r=this.series.create(),r.dataItem.dataContext=e,r.name=e.name,r.parentDataItem=e,e.series=r;var n=e.level;r.level=n;var o=e.dataContext;o&&(r.config=o.config),this.dataUsers.removeValue(r),r.data=e.children.values,r.fill=e.color,r.columnsContainer.hide(0),r.bulletsContainer.hide(0),r.columns.template.adapter.add("fill",function(l,u){var h=u.dataItem;if(h){var c=h.treeMapDataItem;if(c)return u.fill=c.color,u.adapter.remove("fill"),c.color}}),this.zoomable&&(e.level>this.currentLevel||e.children&&e.children.length>0)&&(r.columns.template.cursorOverStyle=fi.pointer,this.zoomable&&r.columns.template.events.on("hit",function(l){var u=l.target.dataItem;e.level>i.currentLevel?i.zoomToChartDataItem(u.treeMapDataItem.parent):i.zoomToSeriesDataItem(u)},this,void 0))}this._tempSeries.push(e.series)},t.prototype.toggleBullets=function(e){var i=this;de(this.series.iterator(),function(r){i._tempSeries.indexOf(r)==-1?(r.columnsContainer.hide(),r.bulletsContainer.hide(e)):(r.columnsContainer.show(),r.bulletsContainer.show(e),r.dataItems.each(function(a){a.bullets.each(function(n,o){o.show()})}),r.level<i.currentLevel?(i.hideParentColumns&&r.columnsContainer.hide(),r.bulletsContainer.hide(e)):r.level==i.currentLevel&&i.maxLevels>1&&r.dataItems.each(function(a){a.treeMapDataItem.children&&a.bullets.each(function(n,o){o.hide()})}))})},t.prototype.zoomToSeriesDataItem=function(e){this.zoomToChartDataItem(e.treeMapDataItem)},t.prototype.zoomToChartDataItem=function(e){var i=this;e||(e=this._homeDataItem);var r=this.zoomOutButton;if(r&&(e!=this._homeDataItem?r.show():r.hide()),e&&e.children){this.xAxis.zoomToValues(e.x0,e.x1),this.yAxis.zoomToValues(e.y0,e.y1),this.currentLevel=e.level,this.currentlyZoomed=e,this.createTreeSeries(e);var a=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;a&&!a.isDisposed()&&!a.isFinished()?(this._dataDisposers.push(a),a.events.once("animationended",function(){i.toggleBullets()})):this.toggleBullets()}},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},t.prototype.createDataItem=function(){return new EO},Object.defineProperty(t.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(e){this.setPropertyValue("maxLevels",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(e){this.setPropertyValue("currentLevel",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(e){this.setPropertyValue("hideParentColumns",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(e){this.setPropertyValue("sorting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new Wm},Object.defineProperty(t.prototype,"homeText",{get:function(){return this._homeText},set:function(e){this._homeText=e,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){if(e){if(N(e.layoutAlgorithm)&&ft(e.layoutAlgorithm))switch(e.layoutAlgorithm){case"squarify":e.layoutAlgorithm=this.squarify;break;case"binaryTree":e.layoutAlgorithm=this.binaryTree;break;case"slice":e.layoutAlgorithm=this.slice;break;case"dice":e.layoutAlgorithm=this.dice;break;case"sliceDice":e.layoutAlgorithm=this.sliceDice;break;default:delete e.layoutAlgorithm;break}N(e.navigationBar)&&!N(e.navigationBar.type)&&(e.navigationBar.type="NavigationBar"),s.prototype.processConfig.call(this,e)}},t.prototype.validateLayout=function(){s.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},t.prototype.validateDataItems=function(){s.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),de(this.series.iterator(),function(e){e.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},t.prototype.binaryTree=function(e){var i=e.children,r,a=i.length,n,o=new Array(a+1);for(o[0]=n=r=0;r<a;++r)o[r+1]=n+=i.getIndex(r).value;a>0&&l(0,a,e.value,e.x0,e.y0,e.x1,e.y1);function l(u,h,c,A,d,f,p){if(u>=h-1){var m=i.getIndex(u);m.x0=A,m.y0=d,m.x1=f,m.y1=p;return}for(var g=o[u],y=c/2+g,v=u+1,_=h-1;v<_;){var S=v+_>>>1;o[S]<y?v=S+1:_=S}y-o[v-1]<o[v]-y&&u+1<v&&--v;var F=o[v]-g,P=c-F;if(c==0){var m=i.getIndex(u);m.x0=A,m.y0=d,m.x1=f,m.y1=p;return}if(f-A>p-d){var D=(A*P+f*F)/c;l(u,v,F,A,d,D,p),l(v,h,P,D,d,f,p)}else{var $=(d*P+p*F)/c;l(u,v,F,A,d,f,$),l(v,h,P,A,$,f,p)}}},t.prototype.slice=function(e){for(var i=e.x0,r=e.x1,a=e.y0,n=e.y1,o=e.children,l,u=-1,h=o.length,c=e.value&&(n-a)/e.value;++u<h;)l=o.getIndex(u),l.x0=i,l.x1=r,l.y0=a,a+=l.value*c,l.y1=a},t.prototype.dice=function(e){for(var i=e.x0,r=e.x1,a=e.y0,n=e.y1,o=e.children,l,u=-1,h=o.length,c=e.value&&(r-i)/e.value;++u<h;)l=o.getIndex(u),l.y0=a,l.y1=n,l.x0=i,i+=l.value*c,l.x1=i},t.prototype.sliceDice=function(e){e.level&1?this.slice(e):this.dice(e)},t.prototype.squarify=function(e){for(var i=(1+Math.sqrt(5))/2,r=e.x0,a=e.x1,n=e.y0,o=e.y1,l=e.children,u,h=0,c=0,A=l.length,d,f,p=e.value,m,g,y,v,_,S,F;h<A;){d=a-r,f=o-n;do m=l.getIndex(c++).value;while(!m&&c<A);for(g=y=m,S=Math.max(f/d,d/f)/(p*i),F=m*m*S,_=Math.max(y/F,F/g);c<A;++c){if(m+=u=l.getIndex(c).value,u<g&&(g=u),u>y&&(y=u),F=m*m*S,v=Math.max(y/F,F/g),v>_){m-=u;break}_=v}var P=this.dataItems.template.clone();P.value=m,P.dice=d<f,P.children=l.slice(h,c),P.x0=r,P.y0=n,P.x1=a,P.y1=o,P.dice?(P.y1=p?n+=f*m/p:o,this.dice(P)):(P.x1=p?r+=d*m/p:a,this.slice(P)),p-=m,h=c}},t.prototype.handleSeriesAdded2=function(){},t.prototype.handleDataItemValueChange=function(e,i){i=="value"&&this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,i){i=="value"&&this.invalidateDataItems()},t.prototype.getLegendLevel=function(e){if(e&&e.children){if(e.children.length>1)return e;if(e.children.length==1){var i=e.children.getIndex(0);return i.children?this.getLegendLevel(i):e}else return e}},t.prototype.handleLegendSeriesAdded=function(e){},Object.defineProperty(t.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),t.prototype.feedLegend=function(){var e=this.legend;if(e){e.dataFields.name="name";var i=this.getLegendLevel(this._homeDataItem);if(i){var r=[];i.children.each(function(a){r.push(a)}),e.data=r}}},t.prototype.disposeData=function(){s.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},t.prototype.getExporting=function(){var e=this,i=s.prototype.getExporting.call(this);return i.adapter.add("formatDataFields",function(r){return(r.format=="csv"||r.format=="xlsx")&&N(e.dataFields.children)&&delete r.dataFields[e.dataFields.children],r}),i},t}($t);E.registeredClasses.TreeMap=RO;var bv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._chart=new Ti,e.className="AxisRendererX3D",e._disposers.push(e._chart),e.applyTheme(),e}return t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(e.element){var n=this.chart.dx3D||0,o=this.chart.dy3D||0,l=this.getHeight();e.path=we({x:n,y:o})+ce({x:n,y:l+o})+ce({x:0,y:l})}this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateBaseGridElement=function(){s.prototype.updateBaseGridElement.call(this);var e=this.getHeight(),i=this.chart.dx3D||0,r=this.chart.dy3D||0;this.baseGrid.path=we({x:i,y:r})+ce({x:0,y:0})+ce({x:0,y:e})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){(e.property=="depth"||e.property=="angle")&&this.invalidate()},t}(Fr);E.registeredClasses.AxisRendererX3D=bv;var rS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._chart=new Ti,e.className="AxisRendererY3D",e._disposers.push(e._chart),e.applyTheme(),e}return t.prototype.updateGridElement=function(e,i,r){i=i+(r-i)*e.location;var a=this.positionToPoint(i);if(e.element){var n=this.chart.dx3D||0,o=this.chart.dy3D||0,l=this.getWidth();e.path=we({x:0,y:0})+ce({x:n,y:o})+ce({x:l+n,y:o})}this.positionItem(e,a),this.toggleVisibility(e,i,0,1)},t.prototype.updateBaseGridElement=function(){s.prototype.updateBaseGridElement.call(this);var e=this.chart.dx3D||0,i=this.chart.dy3D||0,r=this.getWidth();this.baseGrid.path=we({x:0,y:0})+ce({x:r,y:0})+ce({x:r+e,y:i})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){(e.property=="depth"||e.property=="angle")&&this.invalidate()},t}(Nr);var sS=function(s){U(t,s);function t(){var e=s.call(this)||this;e.angle=30,e.depth=30,e.className="Rectangle3D",e.layout="none";var i=e.createChild(Ee);i.shouldClone=!1,i.setElement(e.paper.add("path")),i.isMeasured=!1,e.sideBack=i,e._disposers.push(e.sideBack);var r=e.createChild(Ee);r.shouldClone=!1,r.setElement(e.paper.add("path")),r.isMeasured=!1,e.sideBottom=r,e._disposers.push(e.sideBottom);var a=e.createChild(Ee);a.shouldClone=!1,a.setElement(e.paper.add("path")),a.isMeasured=!1,e.sideLeft=a,e._disposers.push(e.sideLeft);var n=e.createChild(Ee);n.shouldClone=!1,n.setElement(e.paper.add("path")),n.isMeasured=!1,e.sideRight=n,e._disposers.push(e.sideRight);var o=e.createChild(Ee);o.shouldClone=!1,o.setElement(e.paper.add("path")),o.isMeasured=!1,e.sideTop=o,e._disposers.push(e.sideTop);var l=e.createChild(Ee);return l.shouldClone=!1,l.setElement(e.paper.add("path")),l.isMeasured=!1,e.sideFront=l,e._disposers.push(e.sideFront),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.innerWidth,i=this.innerHeight,r=this.depth,a=this.angle,n=Fe(a),o=Pe(a),l={x:0,y:0},u={x:e,y:0},h={x:e,y:i},c={x:0,y:i},A={x:r*o,y:-r*n},d={x:r*o+e,y:-r*n},f={x:r*o+e,y:-r*n+i},p={x:r*o,y:-r*n+i};this.sideFront.path=we(l)+ce(u)+ce(h)+ce(c)+Fi(),this.sideBack.path=we(A)+ce(d)+ce(f)+ce(p)+Fi(),this.sideLeft.path=we(l)+ce(A)+ce(p)+ce(c)+Fi(),this.sideRight.path=we(u)+ce(d)+ce(f)+ce(h)+Fi(),this.sideBottom.path=we(c)+ce(p)+ce(f)+ce(h)+Fi(),this.sideTop.path=we(l)+ce(A)+ce(d)+ce(u)+Fi()},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){s.prototype.setFill.call(this,e),(!ni(e)||"r"in e)&&(e=ba(e));var i;if(e instanceof Ft)i=e.hex;else if(e instanceof ws||e instanceof _n)i=e.stops.getIndex(0).color.hex;else{var r=new cf;r.lightness=-.2,this.sideBack.filters.push(r);var a=r.clone();a.lightness=-.4,this.sideLeft.filters.push(a);var n=r.clone();n.lightness=-.2,this.sideRight.filters.push(n);var o=r.clone();o.lightness=-.1,this.sideTop.filters.push(o);var l=r.clone();l.lightness=-.5,this.sideBottom.filters.push(l)}i&&(this.sideBack.fill=He(i).lighten(-.2),this.sideLeft.fill=He(i).lighten(-.4),this.sideRight.fill=He(i).lighten(-.2),this.sideTop.fill=He(i).lighten(-.1),this.sideBottom.fill=He(i).lighten(-.5))},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.sideBack.copyFrom(e.sideBack),this.sideLeft.copyFrom(e.sideLeft),this.sideRight.copyFrom(e.sideRight),this.sideTop.copyFrom(e.sideTop),this.sideBottom.copyFrom(e.sideBottom)},t}(Oe);var vv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Column3D",e}return t.prototype.createAssets=function(){this.column3D=this.createChild(sS),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},t.prototype.validate=function(){s.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.column3D&&this.column3D.copyFrom(e.column3D)},t.prototype.setFill=function(e){s.prototype.setFill.call(this,e),this.column.fill=e},t}(Tn);E.registeredClasses.Column3D=vv;var NO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ColumnSeries3DDataItem",e.applyTheme(),e}return t}(Cs);var Xm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ColumnSeries3D",e.columns.template.column3D.applyOnClones=!0,e.columns.template.hiddenState.properties.visible=!0,e.applyTheme(),e}return Object.defineProperty(t.prototype,"columnsContainer",{get:function(){var e=this.chart;return e&&e.columnsContainer&&e.leftAxesContainer.layout!="vertical"&&e.rightAxesContainer.layout!="vertical"&&e.bottomAxesContainer.layout!="horizontal"&&e.topAxesContainer.layout!="horizontal"?e.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.validateDataElementReal=function(e){s.prototype.validateDataElementReal.call(this,e),e.column&&(e.column.dx=this.dx,e.column.dy=this.dy,e.column.visible=this.visible)},t.prototype.validateDataElements=function(){s.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},t.prototype.createColumnTemplate=function(){return new vv},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0);var i=this.columns.template;i.column3D.depth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e);var i=this.columns.template;i.column3D.angle=e},enumerable:!0,configurable:!0}),t}($i);E.registeredClasses.ColumnSeries3D=Xm;E.registeredClasses.ColumnSeries3DDataItem=NO;var yj=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="XYChart3DDataItem",e.applyTheme(),e}return t}(xd);var VO=function(s){U(t,s);function t(){var e=s.call(this)||this;e._axisRendererX=bv,e._axisRendererY=rS,e.className="XYChart3D",e.depth=30,e.angle=30;var i=e.seriesContainer.createChild(Oe);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e.columnsContainer=i,e.columnsContainer.mask=e.createChild(Ee),e.applyTheme(),e}return t.prototype.updateSeriesMasks=function(){if(s.prototype.updateSeriesMasks.call(this),El()){var e=this.columnsContainer,i=e.mask;e.mask=void 0,e.mask=i}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx3D",{get:function(){return Pe(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy3D",{get:function(){return-Fe(this.angle)*this.depth},enumerable:!0,configurable:!0}),t.prototype.validateLayout=function(){s.prototype.validateLayout.call(this),this.fixColumns()},t.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),s.prototype.fixLayout.call(this)},t.prototype.fixColumns=function(){var e=this,i=1,r=0;de(this.series.iterator(),function(n){n instanceof Xm&&(!n.clustered&&r>0&&i++,n.depthIndex=i-1,r++)});var a=0;de(this.series.iterator(),function(n){if(n instanceof Xm){n.depth=e.depth/i,n.angle=e.angle,n.columnsContainer==e.columnsContainer&&(n.dx=e.depth/i*Pe(e.angle)*n.depthIndex,n.dy=-e.depth/i*Fe(e.angle)*n.depthIndex);var o=!1;(n.baseAxis==n.xAxis&&n.xAxis.renderer.inversed||n.baseAxis==n.yAxis&&n.yAxis.renderer.inversed)&&(o=!0);var l=1;n.dataItems.each(function(u){var h=u.column;h&&(o?h.zIndex=1e3*(1e3-l)+a-n.depthIndex*100:h.zIndex=1e3*l+a-n.depthIndex*100),l++}),o?a--:a++}}),this.maskColumns()},t.prototype.processConfig=function(e){if(e&&N(e.series)&&Ci(e.series))for(var i=0,r=e.series.length;i<r;i++)e.series[i].type=e.series[i].type||"ColumnSeries3D";s.prototype.processConfig.call(this,e)},t.prototype.maskColumns=function(){var e=this.plotContainer.pixelWidth,i=this.plotContainer.pixelHeight,r=this.dx3D,a=this.dy3D,n=we({x:0,y:0})+ce({x:r,y:a})+ce({x:e+r,y:a})+ce({x:e+r,y:i+a})+ce({x:e,y:i})+ce({x:e,y:i})+ce({x:0,y:i})+Fi(),o=this.columnsContainer;o&&o.mask&&(o.mask.path=n)},t}($t);E.registeredClasses.XYChart3D=VO;var UO=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="HeatLegend",e.markerContainer=e.createChild(Oe),e.markerContainer.shouldClone=!1,e.markerCount=1;var i=new us;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),e.markerContainer.minHeight=20,e.markerContainer.minWidth=20,e.orientation="horizontal",e.markers=new Kt(i),e._disposers.push(new Lt(e.markers)),e._disposers.push(e.markers.template),e.applyTheme(),e}return t.prototype.getMinFromRules=function(e){var i=this.series;if(i){var r;return Zr(i.heatRules.iterator(),function(a){return a.property==e?(r=a.min,!1):!0}),r}},t.prototype.getMaxFromRules=function(e){var i=this.series;if(i){var r;return de(i.heatRules.iterator(),function(a){return a.property==e?(r=a.max,!1):!0}),r}},t.prototype.validate=function(){s.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var e=this.series,i=this.minColor,r=this.maxColor;if(N(i)||(i=ba(this.getMinFromRules("fill"))),N(r)||(r=ba(this.getMaxFromRules("fill"))),e){var a=e.fill;!N(i)&&a instanceof Ft&&(i=a),!N(r)&&a instanceof Ft&&(r=a)}N(r)||(r=ba(this.getMaxFromRules("fill")));var n=Jt(this.getMinFromRules("fillOpacity"));k(n)||(n=1);var o=Jt(this.getMaxFromRules("fillOpacity"));k(o)||(o=1);var l=Jt(this.getMinFromRules("strokeOpacity"));k(l)||(l=1);var u=Jt(this.getMaxFromRules("strokeOpacity"));k(u)||(u=1);for(var h=ba(this.getMinFromRules("stroke")),c=ba(this.getMaxFromRules("stroke")),A=0;A<this.markerCount;A++){var d=this.markers.getIndex(A);if(d||(d=this.markers.create(),d.parent=this.markerContainer,d.height=he(100),d.width=he(100)),this.markerCount==1){var f=new ws;if(this.reverseOrder?(f.addColor(r,o),f.addColor(i,n)):(f.addColor(i,n),f.addColor(r,o)),this.orientation=="vertical"&&(f.rotation=-90),d.fill=f,N(h)&&N(c)){var p=new ws;this.reverseOrder?(p.addColor(c,u),p.addColor(h,l)):(p.addColor(h,l),p.addColor(c,u)),this.orientation=="vertical"&&(p.rotation=-90),d.stroke=p}}else{var m=A;this.reverseOrder&&(m=this.markerCount-A-1);var g=new Ft(rd(i.rgb,r.rgb,m/this.markerCount));d.fill=g;var y=n+(o-n)*m/this.markerCount;if(d.fillOpacity=y,N(h)&&N(c)){var v=new Ft(rd(h.rgb,c.rgb,m/this.markerCount));d.stroke=v;var _=l+(u-l)*m/this.markerCount;d.strokeOpacity=_}}}var S=this.valueAxis.renderer;this.markerCount>1&&(this.orientation=="horizontal"?S.minGridDistance=this.measuredWidth/this.markerCount:S.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();for(var A=this.markerCount,F=this.markers.length;A<F;A++)this.markers.getIndex(A).parent=void 0},Object.defineProperty(t.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(e){e instanceof Ft||(e=ba(e)),this.setColorProperty("minColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(e){e instanceof Ft||(e=ba(e)),this.setColorProperty("maxColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(e){this.setPropertyValue("markerCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e),this.valueAxis.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e),this.valueAxis.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var i=this.markerContainer,r=this.valueAxis;e=="horizontal"?(N(this.width)||(this.width=200),this.height=void 0,r.width=he(100),r.height=void 0,r.tooltip.pointerOrientation="vertical",this.layout="vertical",i.width=he(100),i.height=void 0,r.renderer instanceof Fr||(r.renderer=new Fr)):(N(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",i.width=void 0,i.height=he(100),r.height=he(100),r.width=void 0,r.tooltip.pointerOrientation="horizontal",r.renderer instanceof Nr||(r.renderer=new Nr),r.renderer.inside=!0,r.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var a=r.renderer;a.grid.template.disabled=!0,a.axisFills.template.disabled=!0,a.baseGrid.disabled=!0,a.labels.template.padding(2,3,2,3),a.minHeight=void 0,a.minWidth=void 0,this.markerContainer.layout=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(je),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(e){this._valueAxis=e,e.parent=this,e.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var i=this;this._series=e;var r="value";try{var a=e.heatRules.getIndex(0).dataField;a&&(r=a)}catch{}this.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high),e.dataItem.events.on("calculatedvaluechanged",function(n){i.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high)},void 0,!1),e.heatRules.events.on("inserted",this.invalidate,this,!1),e.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),t.prototype.updateMinMax=function(e,i){var r=this.valueAxis;k(this.minValue)||(r.min=e,r.invalidate()),k(this.maxValue)||(r.max=i,r.invalidate())},t.prototype.processConfig=function(e){if(e&&N(e.series)&&ft(e.series)&&ft(e.series))if(this.map.hasKey(e.series))e.series=this.map.getKey(e.series);else{var i=e.series,r=this.map.events.on("insertKey",function(a){a.key==i&&(this.series=a.newValue,r.dispose())},this);this._disposers.push(r),delete e.series}s.prototype.processConfig.call(this,e)},t}(Oe);E.registeredClasses.HeatLegend=UO;var _d=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Candlestick",e.layout="none",e}return t.prototype.createAssets=function(){s.prototype.createAssets.call(this),this.lowLine=this.createChild(ia),this.lowLine.shouldClone=!1,this.highLine=this.createChild(ia),this.highLine.shouldClone=!1},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.lowLine&&this.lowLine.copyFrom(e.lowLine),this.highLine&&this.highLine.copyFrom(e.highLine)},t}(Tn);E.registeredClasses.Candlestick=_d;var Sd=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.values.lowValueX={},e.values.lowValueY={},e.values.highValueX={},e.values.highValueY={},e.className="CandlestickSeriesDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(e){this.setValue("lowValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(e){this.setValue("lowValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(e){this.setValue("highValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(e){this.setValue("highValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),t}(Cs);var Vr=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="CandlestickSeries",e.groupFields.lowValueX="low",e.groupFields.lowValueY="low",e.groupFields.highValueX="high",e.groupFields.highValueY="high",e.strokeOpacity=1;var i=new et,r=i.getFor("positive"),a=i.getFor("negative");return e.dropFromOpenState.properties.fill=a,e.dropFromOpenState.properties.stroke=a,e.riseFromOpenState.properties.fill=r,e.riseFromOpenState.properties.stroke=r,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},t.prototype.createDataItem=function(){return new Sd},t.prototype.validateDataElementReal=function(e){s.prototype.validateDataElementReal.call(this,e),this.validateCandlestick(e)},t.prototype.validateCandlestick=function(e){var i=e.column;if(i){var r=i.lowLine,a=i.highLine;if(this.baseAxis==this.xAxis){var n=i.pixelWidth/2;r.x=n,a.x=n;var o=e.getWorkingValue(this.yOpenField),l=e.getWorkingValue(this.yField),u=this.yAxis.getY(e,this.yOpenField),h=this.yAxis.getY(e,this.yField),c=this.yAxis.getY(e,this.yLowField),A=this.yAxis.getY(e,this.yHighField),d=i.pixelY;r.y1=c-d,a.y1=A-d,o<l?(r.y2=u-d,a.y2=h-d):(r.y2=h-d,a.y2=u-d)}if(this.baseAxis==this.yAxis){var f=i.pixelHeight/2;r.y=f,a.y=f;var p=e.getWorkingValue(this.xOpenField),m=e.getWorkingValue(this.xField),g=this.xAxis.getX(e,this.xOpenField),y=this.xAxis.getX(e,this.xField),v=this.xAxis.getX(e,this.xLowField),_=this.xAxis.getX(e,this.xHighField),S=i.pixelX;r.x1=v-S,a.x1=_-S,p<m?(r.x2=g-S,a.x2=y-S):(r.x2=y-S,a.x2=g-S)}de(this.axisRanges.iterator(),function(F){var P=e.rangesColumns.getKey(F.uid);if(P){var D=P.lowLine;D.x=r.x,D.y=r.y,D.x1=r.x1,D.x2=r.x2,D.y1=r.y1,D.y2=r.y2;var $=P.highLine;$.x=a.x,$.y=a.y,$.x1=a.x1,$.x2=a.x2,$.y1=a.y1,$.y2=a.y2}})}},Object.defineProperty(t.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),t.prototype.defineFields=function(){s.prototype.defineFields.call(this);var e=this.xAxis,i=this.yAxis;if(e&&i){if(this.baseAxis==e){var r=ld(i.axisFieldName);this._yLowField="low"+r+"Y",this._yHighField="high"+r+"Y"}if(this.baseAxis==i){var a=ld(e.axisFieldName);this._xLowField="low"+a+"X",this._xHighField="high"+a+"X"}this.addValueField(e,this._xValueFields,this._xLowField),this.addValueField(e,this._xValueFields,this._xHighField),this.addValueField(i,this._yValueFields,this._yLowField),this.addValueField(i,this._yValueFields,this._yHighField)}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(_d);a.shouldClone=!1,a.copyFrom(this.columns.template);var n,o,l=a.lowLine,u=a.highLine;this.baseAxis==this.yAxis?(n=i/3,o=r,l.y=r/2,u.y=r/2,l.x2=i/3,u.x2=i/3,u.x=i/3*2,a.column.x=i/3):(n=i,o=r/3,l.x=i/2,u.x=i/2,l.y2=r/3,u.y2=r/3,u.y=r/3*2,a.column.y=r/3),a.width=n,a.height=o,ji(this,e,Di),ji(this.columns.template,a,Di),a.stroke=this.riseFromOpenState.properties.stroke,a.fill=a.stroke;var h=e.dataItem;h.color=a.fill,h.colorOrig=a.fill},t.prototype.createColumnTemplate=function(){return new _d},t}($i);E.registeredClasses.CandlestickSeries=Vr;E.registeredClasses.CandlestickSeriesDataItem=Sd;var zm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="OHLC",e.layout="none",e}return t.prototype.createAssets=function(){this.openLine=this.createChild(ia),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(ia),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(ia),this.closeLine.shouldClone=!1},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.openLine&&this.openLine.copyFrom(e.openLine),this.highLowLine&&this.highLowLine.copyFrom(e.highLowLine),this.closeLine&&this.closeLine.copyFrom(e.closeLine)},t}(_d);E.registeredClasses.OHLC=zm;var aS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="OHLCSeriesDataItem",e.applyTheme(),e}return t}(Sd);var QO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="OHLCSeries",e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},t.prototype.createDataItem=function(){return new aS},t.prototype.validateCandlestick=function(e){var i=e.column;if(i){var r=i.openLine,a=i.highLowLine,n=i.closeLine;if(this.baseAxis==this.xAxis){var o=i.pixelWidth/2;a.x=o,e.getWorkingValue(this.yOpenField),e.getWorkingValue(this.yField);var l=this.yAxis.getY(e,this.yOpenField),u=this.yAxis.getY(e,this.yField),h=this.yAxis.getY(e,this.yLowField),c=this.yAxis.getY(e,this.yHighField),A=i.pixelY;r.y1=l-A,r.y2=l-A,r.x1=0,r.x2=o,n.y1=u-A,n.y2=u-A,n.x1=o,n.x2=2*o,a.y1=c-A,a.y2=h-A}if(this.baseAxis==this.yAxis){var d=i.pixelHeight/2;a.y=d,e.getWorkingValue(this.xOpenField),e.getWorkingValue(this.xField);var f=this.xAxis.getX(e,this.xOpenField),p=this.xAxis.getX(e,this.xField),m=this.xAxis.getX(e,this.xLowField),g=this.xAxis.getX(e,this.xHighField),y=i.pixelX;r.x1=f-y,r.x2=f-y,r.y1=d,r.y2=2*d,n.x1=p-y,n.x2=p-y,n.y1=0,n.y2=d,a.x1=g-y,a.x2=m-y}de(this.axisRanges.iterator(),function(v){var _=e.rangesColumns.getKey(v.uid);if(_){var S=_.openLine;S.x=r.x,S.y=r.y,S.x1=r.x1,S.x2=r.x2,S.y1=r.y1,S.y2=r.y2;var F=_.closeLine;F.x=n.x,F.y=n.y,F.x1=n.x1,F.x2=n.x2,F.y1=n.y1,F.y2=n.y2;var P=_.highLowLine;P.x=a.x,P.y=a.y,P.x1=a.x1,P.x2=a.x2,P.y1=a.y1,P.y2=a.y2}})}},t.prototype.createLegendMarker=function(e){var i=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(zm);a.shouldClone=!1,a.copyFrom(this.columns.template);var n,o,l=a.openLine,u=a.closeLine,h=a.highLowLine;this.baseAxis==this.yAxis?(n=i/3,o=r,h.y=r/2,h.x2=i,l.x=i/3*2,l.y2=r/2,u.x=i/3,u.y2=r,u.y1=r/2):(n=i,o=r/3,h.x=i/2,h.y2=r,l.y=r/3*2,l.x2=i/2,u.y=r/3,u.x2=i,u.x1=i/2),a.width=n,a.height=o,ji(this,e,Di),ji(this.columns.template,a,Di),a.stroke=this.riseFromOpenState.properties.stroke;var c=e.dataItem;c.color=a.stroke,c.colorOrig=a.stroke},t.prototype.createColumnTemplate=function(){return new zm},t}(Vr);E.registeredClasses.OHLCSeries=QO;E.registeredClasses.OHLCSeriesDataItem=aS;var nS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="StepLineSeriesSegment",e}return t.prototype.drawSegment=function(e,i,r,a,n,o){if(e.length>0&&i.length>0)if(n){var l=we(e[0]);if(e.length>0)for(var u=1;u<e.length;u++){var h=e[u];u/2==Math.round(u/2)?l+=we(h):l+=ce(h)}this.strokeSprite.path=l,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(l=we(e[0])+fd(e),l+=ce(i[0])+fd(i),l+=ce(e[0]),l+=Fi(),this.fillSprite.path=l)}else{var l=we(e[0])+fd(e);this.strokeSprite.path=l,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(l+=ce(i[0])+fd(i),l+=ce(e[0]),l+=Fi(),this.fillSprite.path=l)}else this.strokeSprite.path="",this.fillSprite.path=""},t}(nf);E.registeredClasses.StepLineSeriesSegment=nS;var oS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="StepLineSeriesDataItem",e.applyTheme(),e}return t}(Ma);var xa=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="StepLineSeries",e.applyTheme(),e.startLocation=0,e.endLocation=1,e}return t.prototype.createDataItem=function(){return new oS},t.prototype.addPoints=function(e,i,r,a,n){var o,l,u,h;this.baseAxis==this.xAxis&&(o=this.startLocation,l=this.endLocation,u=this.getAdjustedXLocation(i,this.yOpenField),h=this.getAdjustedXLocation(i,this.yField)),this.baseAxis==this.yAxis&&(u=this.startLocation,h=this.endLocation,o=this.getAdjustedXLocation(i,this.xOpenField),l=this.getAdjustedXLocation(i,this.xField));var c=this.xAxis.getX(i,r,o),A=this.yAxis.getY(i,a,u),d=this.xAxis.getX(i,r,l),f=this.yAxis.getY(i,a,h);if(c=Le(c,-1e5,1e5),A=Le(A,-1e5,1e5),d=Le(d,-1e5,1e5),f=Le(f,-1e5,1e5),!this.noRisers&&e.length>1){var p=e[e.length-1];this.baseAxis==this.xAxis&&(n?e.push({x:p.x,y:f}):e.push({x:c,y:p.y})),this.baseAxis==this.yAxis&&(n?e.push({x:d,y:p.y}):e.push({x:p.x,y:A}))}var m={x:c,y:A},g={x:d,y:f};n?e.push(g,m):e.push(m,g)},t.prototype.drawSegment=function(e,i,r){var a=!1;this.yAxis==this.baseAxis&&(a=!0),e.drawSegment(i,r,this.tensionX,this.tensionY,this.noRisers,a)},t.prototype.createSegment=function(){return new nS},Object.defineProperty(t.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(e){this.setPropertyValue("noRisers",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t}(li);E.registeredClasses.StepLineSeries=xa;E.registeredClasses.StepLineSeriesDataItem=oS;var xv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="RadarColumn",e}return t.prototype.createAssets=function(){this.radarColumn=this.createChild(Ea),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.radarColumn&&this.radarColumn.copyFrom(e.radarColumn)},t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");return k(e)?e:this.radarColumn.getTooltipX()},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipX");return k(e)?e:this.radarColumn.getTooltipY()},t}(Tn);E.registeredClasses.RadarColumn=xv;var HO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ColumnSeriesDataItem",e.applyTheme(),e}return t}(Cs);var jO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="RadarColumnSeries",e.applyTheme(),e}return t.prototype.createColumnTemplate=function(){return new xv},t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),s.prototype.validate.call(this)},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.__disabled=!0),de(this.axisRanges.iterator(),function(i){var r=e.rangesColumns.getKey(i.uid);r&&(r.__disabled=!0)}))},t.prototype.validateDataElementReal=function(e){var i=this,r=this.chart.startAngle,a=this.chart.endAngle,n=this.yField,o=this.yOpenField,l=this.xField,u=this.xOpenField,h,c,A,d,f=this.getStartLocation(e),p=this.getEndLocation(e),m=(a-r)/(this.dataItems.length*(this.end-this.start)),g=e.column;g||(g=this.columns.create(),e.column=g,ji(this,g,Di),ji(this.columns.template,g,Di),e.addSprite(g),g.paper=this.paper,this.setColumnStates(g));var y=g.width,v=100;y instanceof nt&&(v=y.percent);var _=be((p-f)*(1-v/100)/2,5);if(f+=_,p-=_,this.xAxis instanceof Vt&&this.yAxis instanceof Vt)A=Et({x:this.yAxis.getX(e,n,0,"valueY"),y:this.yAxis.getY(e,n,0,"valueY")}),d=Et({x:this.yAxis.getX(e,o,1,"valueY"),y:this.yAxis.getY(e,o,1,"valueY")}),h=this.xAxis.getAngle(e,u,0,"valueX"),c=this.xAxis.getAngle(e,l,1,"valueX"),r=r+f*m,a=a-(1-p)*m;else if(this.baseAxis==this.xAxis)A=Et({x:this.yAxis.getX(e,n,e.locations[n],"valueY"),y:this.yAxis.getY(e,n,e.locations[n],"valueY")}),d=Et({x:this.yAxis.getX(e,o,e.locations[o],"valueY"),y:this.yAxis.getY(e,o,e.locations[o],"valueY")}),h=this.xAxis.getAngle(e,u,f,"valueX"),c=this.xAxis.getAngle(e,l,p,"valueX"),r=r+f*m,a=a-(1-p)*m;else{if(A=Et({x:this.yAxis.getX(e,n,f,"valueY"),y:this.yAxis.getY(e,n,f,"valueY")}),d=Et({x:this.yAxis.getX(e,o,p,"valueY"),y:this.yAxis.getY(e,o,p,"valueY")}),k(y)){var S=Math.abs(A-d);if(S>y){var F=(S-y)/2;A+=F,d-=F}}h=this.xAxis.getAngle(e,l,e.locations[l],"valueX"),c=this.xAxis.getAngle(e,u,e.locations[u],"valueX")}if(c<h){var P=c;c=h,h=P}h=Le(h,r,a),c=Le(c,r,a);var D=g.radarColumn;D.startAngle=h;var $=c-h;$>0?(D.arc=$,D.radius=A,D.innerRadius=d,g.__disabled=!1,g.parent=this.columnsContainer,de(this.axisRanges.iterator(),function(I){var R=e.rangesColumns.getKey(I.uid);R||(R=i.columns.create(),M1(i.columns.template,R,Di),ji(I.contents,R,Di),R.dataItem&&tt(R.dataItem.sprites,R),e.addSprite(R),R.paper=i.paper,i.setColumnStates(R),e.rangesColumns.setKey(I.uid,R));var T=R.radarColumn;T.startAngle=h,T.arc=$,T.radius=A,T.innerRadius=d,T.invalid&&(T.paper=i.paper,T.validate()),R.__disabled=!1,R.parent=I.contents})):this.disableUnusedColumns(e)},t.prototype.getPoint=function(e,i,r,a,n,o,l){o||(o="valueX"),l||(l="valueY");var u=this.yAxis.getX(e,r,n,l),h=this.yAxis.getY(e,r,n,l),c=Et({x:u,y:h});c==0&&(c=1e-5);var A=this.xAxis.getAngle(e,i,a,o);return{x:c*Pe(A),y:c*Fe(A)}},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return wo(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.positionBulletReal=function(e,i,r){var a=this.xAxis,n=this.yAxis;(i<a.start||i>a.end||r<n.start||r>n.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(i,r))},t.prototype.setXAxis=function(e){s.prototype.setXAxis.call(this,e),this.updateRendererRefs()},t.prototype.setYAxis=function(e){s.prototype.setYAxis.call(this,e),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,i=this.yAxis.renderer;e.axisRendererY=i},t}($i);E.registeredClasses.RadarColumnSeries=jO;E.registeredClasses.RadarColumnSeriesDataItem=HO;var Gm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.slice=e.createChild(Ee),e.slice.shouldClone=!1,e.slice.setElement(e.paper.add("path")),e.slice.isMeasured=!1,e.orientation="vertical",e.bottomWidth=he(100),e.topWidth=he(100),e.isMeasured=!1,e.width=10,e.height=10,e.expandDistance=0,e.className="FunnelSlice",e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.pixelPaddingTop,i=this.pixelPaddingBottom,r=this.pixelPaddingRight,a=this.pixelPaddingLeft,n=this.pixelWidth-r-a,o=this.pixelHeight-e-i,l=this.expandDistance,u="";if(this.orientation=="vertical"){var h=Ai(this.topWidth,n),c=Ai(this.bottomWidth,n),A={x:(n-h)/2+a,y:e},d={x:(n+h)/2+a,y:e},f={x:(n+c)/2+a,y:e+o},p={x:(n-c)/2+a,y:e+o},m={x:d.x+(f.x-d.x)/2+l*o,y:d.y+.5*o},g={x:A.x+(p.x-A.x)/2-l*o,y:A.y+.5*o},y=ce(f),v=ce(A);l!=0&&(y=Nl(f,m),v=Nl(A,g)),u=we(A)+ce(d)+y+ce(p)+v,this.tickPoint={x:d.x+(f.x-d.x)/2,y:d.y+(f.y-d.y)/2}}else{var h=Ai(this.topWidth,o),c=Ai(this.bottomWidth,o),_={x:a,y:(o-h)/2+e},S={x:a,y:(o+h)/2+e},F={x:a+n,y:(o-c)/2+e},P={x:a+n,y:(o+c)/2+e},m={y:_.y+(F.y-_.y)/2-l*n,x:_.x+.5*n},g={y:S.y+(P.y-S.y)/2+l*n,x:S.x+.5*n},y=ce(F),v=ce(S);l!=0&&(y=Nl(F,m),v=Nl(S,g)),u=we(S)+ce(_)+y+ce(P)+v,this.tickPoint={y:S.y+(P.y-S.y)/2,x:S.x+(P.x-S.x)/2}}this.slice.path=u,this.invalidateLayout()},t.prototype.getPoint=function(e,i){var r=this.pixelPaddingTop,a=this.pixelPaddingBottom,n=this.pixelPaddingRight,o=this.pixelPaddingLeft,l=this.pixelWidth-n-o,u=this.pixelHeight-r-a;if(this.orientation=="vertical"){var h=Ai(this.topWidth,l),c=Ai(this.bottomWidth,l),A={x:(l-h)/2+o,y:r},d={x:(l+h)/2+o,y:r},f={x:(l+c)/2+o,y:r+u},p={x:(l-c)/2+o,y:r+u},m=A.x+(p.x-A.x)*i,g=d.x+(f.x-d.x)*i;return{x:m+(g-m)*e,y:d.y+(f.y-d.y)*i}}else{var h=Ai(this.topWidth,u),c=Ai(this.bottomWidth,u),y={x:o,y:(u-h)/2+r},v={x:o,y:(u+h)/2+r},_={x:o+l,y:(u-c)/2+r},S={x:o+l,y:(u+c)/2+r},F=y.y+(_.y-y.y)*e,P=v.y+(S.y-v.y)*e;return{y:F+(P-F)*i,x:y.x+(_.x-y.x)*e}}},Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(e){this.setPropertyValue("expandDistance",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.slice&&this.slice.copyFrom(e.slice)},t}(Oe);E.registeredClasses.FunnelSlice=Gm;var lS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._label=new Ti,e._slice=new Ti,e.className="FunnelTick",e.element=e.paper.add("path"),e._disposers.push(e._label),e._disposers.push(e._slice),e.setPropertyValue("locationX",0),e.setPropertyValue("locationY",0),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.slice,i=e.getPoint(this.locationX,this.locationY);if(i){var r=this.label,a=e.dataItem.component,n=void 0,o=void 0,l=void 0;if(a.orientation=="vertical"){var u=r.pixelX,h=r.pixelY;a.labelsOpposite||(u+=r.maxRight),n=ls(i,e,this.parent),l=ls({x:u,y:h},r.parent,this.parent),o={x:r.parent.pixelX-this.length,y:l.y},a.labelsOpposite||(o.x=r.parent.measuredWidth+this.length)}else{var u=r.pixelX,h=r.pixelY;a.labelsOpposite||(h+=r.maxBottom),n=ls(i,e,this.parent),l=ls({x:u,y:h},r.parent,this.parent),o={x:l.x,y:r.parent.pixelY-this.length},a.labelsOpposite||(o.y=r.parent.measuredHeight+this.length)}this.path=we(n)+ce(o)+ce(l)}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Qt([e.events.on("transformed",this.invalidate,this,!1),e.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){this.setPropertyValue("locationX",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){this.setPropertyValue("locationY",e,!1,!0)},enumerable:!0,configurable:!0}),t}(jl);E.registeredClasses.FunnelTick=lS;var Ym=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="FunnelSeriesDataItem",e.events.on("visibilitychanged",function(){e.component&&e.component.invalidateDataItems()},e,!1),e.applyTheme(),e}return Object.defineProperty(t.prototype,"sliceLink",{get:function(){var e=this;if(!this._sliceLink){var i=this.component.sliceLinks.create();this._sliceLink=i,this._disposers.push(i),i.parent=this.component.slicesContainer,this._disposers.push(new Ot(function(){e.component&&e.component.sliceLinks.removeValue(i)})),this.addSprite(i),i.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),t}(hf);var wv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e._nextY=0,e.className="FunnelSeries",e.orientation="vertical",e.width=he(100),e.height=he(100),e.slicesContainer.width=he(100),e.slicesContainer.height=he(100),e._disposers.push(e.slicesContainer.events.on("maxsizechanged",e.invalidateDataItems,e,!1)),e.labelsOpposite=!0,e.labelsContainer.layout="absolute",e.bottomRatio=0,e.applyTheme(),e}return t.prototype.createSlice=function(){return new Gm},t.prototype.createTick=function(){return new lS},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},t.prototype.createDataItem=function(){return new Ym},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})";var i=e.states.create("hover");i.properties.expandDistance=.2},t.prototype.initLabel=function(e){s.prototype.initLabel.call(this,e),e.verticalCenter="middle",e.horizontalCenter="middle",e.isMeasured=!0,e.padding(5,5,5,5)},t.prototype.validate=function(){s.prototype.validate.call(this),this._nextY=0},t.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer,r=this.labelsContainer,a=this.labels.template;this.alignLabels?(a.interactionsEnabled=!0,i.isMeasured=!0,r.isMeasured=!0):(a.interactionsEnabled=!1,i.isMeasured=!1,r.isMeasured=!1);var n=0,o=0;this.dataItems.each(function(l){N(l.value)&&(o++,l.value>0?n+=Math.abs(l.getWorkingValue("value")/l.value):e.ignoreZeroValues||!l.visible||l.__disabled||l.isHiding?o--:n+=1)}),this._total=1/o*n,this._count=o,s.prototype.validateDataElements.call(this),this.arrangeLabels()},t.prototype.getNextValue=function(e){var i=e.index,r=e.getWorkingValue("value");if(i<this.dataItems.length-1){var a=this.dataItems.getIndex(i+1);if(r=a.getWorkingValue("value"),!a.visible||a.isHiding||a.__disabled||a.value==0&&this.ignoreZeroValues)return this.getNextValue(a)}return r},t.prototype.formDataElement=function(){},t.prototype.validateDataElement=function(e){var i=this,r=e.slice;r.orientation=this.orientation;var a=e.sliceLink;a.orientation=this.orientation;var n=e.tick,o=e.label;n.slice=r,n.label=o,N(e.value)?(this.decorateSlice(e),Ce(e.sprites,function(l){e.value==0&&i.ignoreZeroValues?l.__disabled=!0:l.__disabled=!1})):Ce(e.sprites,function(l){l.__disabled=!0}),e.index==this.dataItems.length-1&&(a.disabled=!0),s.prototype.validateDataElement.call(this,e),a.fill=r.fill},t.prototype.decorateSlice=function(e){var i=e.slice,r=e.sliceLink,a=e.label,n=e.tick,o=this.slicesContainer.innerWidth,l=this.slicesContainer.innerHeight,u=this.getNextValue(e),h=Math.abs(e.getWorkingValue("value")),c=this.bottomRatio,A=1;if(e.value!=0?A=h/Math.abs(e.value):(e.__disabled||e.isHiding||!e.visible)&&(A=1e-6),this.ignoreZeroValues&&e.value==0){e.__disabled=!0;return}else e.__disabled=!1;if(this._nextY==1/0&&(this._nextY=0),this.orientation=="vertical"){var d=r.pixelHeight*A;l=l+d,i.topWidth=h/this.dataItem.values.value.high*o,i.bottomWidth=(h-(h-u)*c)/this.dataItem.values.value.high*o,r.topWidth=i.bottomWidth,r.bottomWidth=(h-(h-u))/this.dataItem.values.value.high*o,i.y=this._nextY,i.height=Math.min(1e5,ht(0,l/this._count*A/this._total-d)),i.x=o/2,this.alignLabels?a.x=void 0:a.x=i.x,a.y=i.pixelY+i.pixelHeight*n.locationY,this._nextY+=i.pixelHeight+d,r.y=this._nextY-d,r.x=i.x}else{var f=r.pixelWidth*A;o=o+f,i.topWidth=h/this.dataItem.values.value.high*l,i.bottomWidth=(h-(h-u)*c)/this.dataItem.values.value.high*l,r.topWidth=i.bottomWidth,r.bottomWidth=(h-(h-u))/this.dataItem.values.value.high*l,i.x=this._nextY,i.width=Math.min(1e5,o/this._count*A*1/this._total-f),i.y=l/2,this.alignLabels?a.y=this.labelsContainer.measuredHeight:a.y=i.y,a.x=i.pixelX+i.pixelWidth*n.locationX,this._nextY+=i.pixelWidth+f,r.x=this._nextY-f,r.y=i.y}},t.prototype.getLastLabel=function(e){if(e>0){var i=this.labels.getIndex(e);return i.__disabled||!i.visible?this.getLastLabel(e-1):i}},t.prototype.arrangeLabels=function(){if(this.alignLabels){var e=this.labels.length;if(e>1){var i=this.getLastLabel(e-1);if(i){var r=i.pixelY,a=i.pixelX;if(e>1){for(var n=e-2;n>=0;n--){var o=this.labels.getIndex(n);o.visible&&!o.__disabled&&(o.invalid&&o.validate(),this.orientation=="vertical"?o.pixelY+o.measuredHeight>r&&(o.y=Math.min(1e6,r-o.measuredHeight)):o.pixelX+o.measuredWidth>a&&(o.x=Math.min(1e6,a-o.measuredWidth)),r=o.pixelY,a=o.pixelX)}r=0,a=0;for(var n=0;n<e;n++){var o=this.labels.getIndex(n);o.visible&&!o.__disabled&&(o.invalid&&o.validate(),this.orientation=="vertical"?o.pixelY<r&&(o.y=Math.min(1e6,r)):o.pixelX<a&&(o.x=Math.min(1e6,a)),r+=o.measuredHeight,a+=o.measuredWidth)}}}}}},t.prototype.positionBullet=function(e){s.prototype.positionBullet.call(this,e);var i=e.dataItem,r=i.slice,a=e.locationX;k(a)||(a=.5);var n=e.locationY;k(n)||(n=1),e.x=r.pixelX+r.measuredWidth*a,e.y=r.pixelY+r.measuredHeight*n},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),e=="vertical"?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(e){this.setPropertyValue("bottomRatio",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var e=new Gm;e.applyOnClones=!0,e.fillOpacity=.5,e.expandDistance=-.3,e.hiddenState.properties.opacity=0,this._disposers.push(e),this._sliceLinks=new Kt(e),this._disposers.push(new Lt(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),t.prototype.show=function(e){var i=this,r=this.startIndex,a=this.endIndex,n=this.defaultState.transitionDuration;k(e)&&(n=e),lt.animationsEnabled||(n=0);var o=0;de(yo(this.dataItems.iterator()),function(u){var h=u[0],c=u[1];i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*h+n*(h-r)/(a-r)),c.show(n,o,["value"])});var l=s.prototype.show.call(this,e);return l},t.prototype.hide=function(e){var i=this,r=["value"],a=0,n=this.startIndex,o=this.endIndex,l=0,u=this.hiddenState.transitionDuration;k(e)&&(u=e),lt.animationsEnabled||(u=0),de(yo(this.dataItems.iterator()),function(c){var A=c[0],d=c[1];i.sequencedInterpolation&&(l=i.sequencedInterpolationDelay*A+u*(A-n)/(o-n)),d.hide(u,l,a,r)});var h=s.prototype.hide.call(this,e);return h&&!h.isFinished()&&h.delay(l),h},t.prototype.setAlignLabels=function(e){s.prototype.setAlignLabels.call(this,e),this.ticks.template.disabled=!e;var i=this.labelsContainer;i&&(e?(i.height=void 0,i.width=void 0,i.margin(10,10,10,10)):(i.width=he(100),i.height=he(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(t.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(e){this.setPropertyValue("labelsOpposite",e);var i=this.labels.template,r="none",a="none";this.alignLabels?e?(this.labelsContainer.toFront(),this.orientation=="vertical"?(this.ticks.template.locationX=1,i.horizontalCenter="left",r="right"):(this.ticks.template.locationY=1,i.horizontalCenter="right",a="bottom")):(this.labelsContainer.toBack(),this.orientation=="vertical"?(this.ticks.template.locationX=0,r="left"):(a="top",this.ticks.template.locationY=0)):this.orientation=="vertical"?r="center":a="middle",i.align=r,i.valign=a,this.validateLayout(),this.ticks.each(function(n){n.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(qh);E.registeredClasses.FunnelSeries=wv;E.registeredClasses.FunnelSeriesDataItem=Ym;var Km=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PyramidSeriesDataItem",e.applyTheme(),e}return t}(Ym);var Cv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PyramidSeries",e.topWidth=he(0),e.bottomWidth=he(100),e.pyramidHeight=he(100),e.valueIs="area",e.sliceLinks.template.width=0,e.sliceLinks.template.height=0,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new Km},t.prototype.validate=function(){s.prototype.validate.call(this),this._nextWidth=void 0},t.prototype.getNextValue=function(e){var i=e.index,r=e.getWorkingValue("value");if(i<this.dataItems.length-1){var a=this.dataItems.getIndex(i+1);r=a.getWorkingValue("value")}return r==0&&(r=1e-6),r},t.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer.innerWidth,r=this.slicesContainer.innerHeight;if(this.dataItems.each(function(o){if(o.value>0){var l=o.getWorkingValue("value")/o.value,u=o.sliceLink;e.orientation=="vertical"?r-=u.pixelHeight*l:i-=u.pixelWidth*l}}),this._pyramidHeight=Ai(this.pyramidHeight,r),this._pyramidWidth=Ai(this.pyramidHeight,i),this.orientation=="vertical"){var a=(r-this._pyramidHeight)/2;this.slicesContainer.y=a,this.labelsContainer.y=a,this.ticksContainer.y=a}else{var n=(i-this._pyramidWidth)/2;this.slicesContainer.x=n,this.labelsContainer.x=n,this.ticksContainer.x=n}s.prototype.validateDataElements.call(this)},t.prototype.decorateSlice=function(e){var i=this.dataItem.values.value.absoluteSum;if(i!=0){var r=e.slice,a=e.sliceLink,n=e.label,o=e.tick;this.getNextValue(e);var l=Math.abs(e.getWorkingValue("value")),u=this._pyramidWidth,h=this._pyramidHeight,c=this.slicesContainer.innerWidth,A=this.slicesContainer.innerHeight,d=a.pixelWidth,f=a.pixelHeight;if((e.value==0||e.value==null)&&this.ignoreZeroValues?e.__disabled=!0:e.__disabled=!1,this.orientation=="vertical"){var p=Ai(this.topWidth,c);k(this._nextWidth)||(this._nextWidth=p);var m=Ai(this.bottomWidth,c),g=this._nextWidth,y=Math.atan2(h,p-m),v=Math.tan(Math.PI/2-y);v==0&&(v=1e-8);var _=void 0,S=void 0;if(this.valueIs=="area"){var F=(p+m)/2*h,P=F*l/i,D=Math.abs(g*g-2*P*v);_=(g-Math.sqrt(D))/v,_>0?S=(2*P-_*g)/_:S=g}else _=h*l/i,S=g-_*v;r.height=_,r.width=c,r.bottomWidth=S,r.topWidth=g,a.topWidth=r.bottomWidth,a.bottomWidth=r.bottomWidth,r.y=this._nextY,this.alignLabels?n.x=0:n.x=c/2,n.y=r.pixelY+r.pixelHeight*o.locationY+r.dy,this._nextY+=r.pixelHeight+f*l/Math.max(Math.abs(e.value),1e-8),a.y=this._nextY-f,a.x=c/2}else{var p=Ai(this.topWidth,A);k(this._nextWidth)||(this._nextWidth=p);var m=Ai(this.bottomWidth,A),g=this._nextWidth,y=Math.atan2(u,p-m),v=Math.tan(Math.PI/2-y);v==0&&(v=1e-8);var $=void 0,S=void 0;if(this.valueIs=="area"){var F=(p+m)/2*u,P=F*l/i;$=(g-Math.sqrt(g*g-2*P*v))/v,S=(2*P-$*g)/$}else $=u*l/i,S=g-$*v;r.width=$,r.height=A,r.bottomWidth=S,r.topWidth=g,a.topWidth=r.bottomWidth,a.bottomWidth=r.bottomWidth,r.x=this._nextY,this.alignLabels?n.y=this.labelsContainer.measuredHeight:n.y=A/2,n.x=r.pixelX+r.pixelWidth*o.locationX+r.dx,this._nextY+=r.pixelWidth+d*l/Math.max(Math.abs(e.value),1e-8),a.x=this._nextY-d,a.y=A/2}this._nextWidth=r.bottomWidth}},Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(e){this.setPercentProperty("pyramidHeight",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(e){this.setPropertyValue("valueIs",e)&&this.invalidate()},enumerable:!0,configurable:!0}),t}(wv);E.registeredClasses.PyramidSeries=Cv;E.registeredClasses.PyramidSeriesDataItem=Km;var uS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PictorialStackedSeriesDataItem",e.applyTheme(),e}return t}(Km);var WO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="PictorialStackedSeries",e.topWidth=he(100),e.bottomWidth=he(100),e.valueIs="height",e.applyTheme(),e.startLocation=0,e.endLocation=1,e.align="center",e.valign="middle",e._maskSprite=e.slicesContainer.createChild(Ee),e._maskSprite.visible=!1,e._maskSprite.zIndex=100,e._maskSprite.shouldClone=!1,e}return t.prototype.validateDataElements=function(){var e=this.slicesContainer.maxWidth,i=this.slicesContainer.maxHeight,r=this._maskSprite,a=r.measuredWidth/r.scale,n=r.measuredHeight/r.scale,o=bt(i/n,e/a);o==1/0&&(o=1),o=ht(.001,o);var l=this.startLocation,u=this.endLocation,h=bt(e,a*o),c=bt(i,n*o);r.scale=o,this.orientation=="vertical"?(this.topWidth=h+4,this.bottomWidth=h+4,this.pyramidHeight=c*(u-l),r.x=e/2,r.y=c/2):(this.topWidth=c+4,this.bottomWidth=c+4,this.pyramidHeight=h*(u-l),r.valign="middle",r.x=h/2,r.y=i/2),r.verticalCenter="middle",r.horizontalCenter="middle",s.prototype.validateDataElements.call(this);var A,d;this.orientation=="vertical"?(this.valign=="bottom"&&(A=i-c),this.valign=="middle"&&(A=(i-c)/2),this.valign=="top"&&(A=0),this.align=="left"&&(d=-(e-h)/2),this.align=="center"&&(d=0),this.align=="right"&&(d=(e-h)/2),this.slices.template.dy=l*c,this.alignLabels&&(this.slicesContainer.dx=d)):(this.valign=="bottom"&&(A=(i-c)/2),this.valign=="middle"&&(A=0),this.valign=="top"&&(A=-(i-c)/2),this.align=="left"&&(d=0),this.align=="center"&&(d=(e-h)/2),this.align=="right"&&(d=e-h),this.slices.template.dx=l*h,this.alignLabels&&(this.slicesContainer.dy=A)),this.slicesContainer.x=d,this.labelsContainer.x=d,this.ticksContainer.x=d,this.slicesContainer.y=A,this.labelsContainer.y=A,this.ticksContainer.y=A,h>0&&c>0&&(this.slicesContainer.mask=r)},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},t.prototype.createDataItem=function(){return new uS},Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),t.prototype.initSlice=function(e){s.prototype.initSlice.call(this,e);var i=e.states.getKey("hover");i&&(i.properties.expandDistance=0)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(Cv);E.registeredClasses.PictorialStackedSeries=WO;E.registeredClasses.PictorialStackedSeriesDataItem=uS;var qm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Ellipse",e.element=e.paper.add("ellipse"),e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(t.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(e){this.height=e*2,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(e){this.width=e*2,this.invalidate()},enumerable:!0,configurable:!0}),t}(Pn);E.registeredClasses.Ellipse=qm;var hS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Cone",e.angle=30,e.radius=he(100),e.topRadius=he(100),e.top=e.createChild(qm),e.top.shouldClone=!1,e.bottom=e.createChild(qm),e.bottom.shouldClone=!1,e.body=e.createChild(Ee),e.body.shouldClone=!1,e.body.setElement(e.paper.add("path")),e.layout="none",e.bodyFillModifier=new wd,e.bodyFillModifier.lightnesses=[0,-.25,0],e.body.fillModifier=e.bodyFillModifier,e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this),ji(this,this.top,Di),ji(this,this.bottom,Di),ji(this,this.body,Di);var e=this.innerWidth,i=this.innerHeight,r=this.bottom,a=this.top,n=this.angle,o,l,u;this.orientation=="horizontal"?(o=i/2,r.y=i/2,r.x=0,a.y=i/2,a.x=e,l=(90-n)/90,u=0,this.bodyFillModifier.gradient.rotation=90):(l=0,u=(90-n)/90,o=e/2,r.y=i,r.x=e/2,a.x=e/2,this.bodyFillModifier.gradient.rotation=0);var h=this.radius.value*o,c=this.topRadius.value*o;r.radius=h-h*l,r.radiusY=h-h*u,a.radius=c-c*l,a.radiusY=c-c*u;var A;this.orientation=="horizontal"?A=we({x:0,y:i/2-r.radiusY})+Br(-90,-180,r.radius,r.radiusY)+ce({x:e,y:i/2+a.radiusY})+Br(90,180,a.radius,a.radiusY)+Fi():A=we({x:e/2-a.radius,y:0})+Br(180,-180,a.radius,a.radiusY)+ce({x:e/2+r.radius,y:i})+Br(0,180,r.radius,r.radiusY)+Fi(),this.body.path=A},Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(e){this.setPropertyValue("topRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(Oe);var _v=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ConeColumn",e}return t.prototype.createAssets=function(){this.coneColumn=this.createChild(hS),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.coneColumn&&this.coneColumn.copyFrom(e.coneColumn)},t}(Tn);E.registeredClasses.ConeColumn=_v;var XO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ConeSeriesDataItem",e.applyTheme(),e}return t}(Cs);var zO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ConeSeries",e.applyTheme(),e}return t.prototype.createColumnTemplate=function(){return new _v},t.prototype.getMaskPath=function(){var e=0,i=0,r=this.columns.getIndex(0);if(r)return this.baseAxis==this.xAxis?i=r.coneColumn.innerWidth/2+1:e=r.coneColumn.innerHeight/2+1,Hn({x:-e,y:0,width:this.xAxis.axisLength+e,height:this.yAxis.axisLength+i})},t.prototype.validateDataElementReal=function(e){s.prototype.validateDataElementReal.call(this,e);var i=e.column;if(i){var r=e.column.coneColumn;r.fill=e.column.fill,this.baseAxis==this.yAxis?r.orientation="horizontal":r.orientation="vertical"}},t}($i);E.registeredClasses.ConeSeries=zO;E.registeredClasses.ConeSeriesDataItem=XO;var Sv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="CurvedColumn",e}return t.prototype.createAssets=function(){this.curvedColumn=this.createChild(Ee),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=he(120),this.height=he(120),this.column=this.curvedColumn},t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.realWidth,i=this.realHeight,r=this.realX-this.pixelX,a=this.realY-this.pixelY,n;this.width;var o=1,l=1;this.orientation=="vertical"?(o=this.tension,n=[{x:0,y:i+a},{x:e/2,y:a},{x:e,y:i+a}]):(l=this.tension,i=Math.abs(i),n=[{x:r,y:i},{x:r+e,y:i/2},{x:r,y:0}]);var u=we(n[0])+new Wn(o,l).smooth(n);this.column.path=u},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.curvedColumn&&this.curvedColumn.copyFrom(e.curvedColumn)},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(Tn);E.registeredClasses.CurvedColumn=Sv;var GO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="CurvedColumnSeriesDataItem",e.applyTheme(),e}return t}(Cs);var YO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="CurvedColumnSeries",e.applyTheme(),e}return t.prototype.createColumnTemplate=function(){return new Sv},t.prototype.validateDataElementReal=function(e){s.prototype.validateDataElementReal.call(this,e);var i=e.column;if(i=e.column,i){var r=e.column.curvedColumn;r.fill=e.column.fill,this.baseAxis==this.yAxis?i.orientation="horizontal":i.orientation="vertical"}},t}($i);E.registeredClasses.CurvedColumnSeries=YO;E.registeredClasses.CurvedColumnSeriesDataItem=GO;var KO=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="CircleBullet";var i=e.createChild(Pn);return i.shouldClone=!1,i.radius=5,i.isMeasured=!1,e.circle=i,e.applyTheme(),e}return t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.circle.copyFrom(e.circle)},t}(ta);E.registeredClasses.CircleBullet=KO;var qO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ErrorBullet",e.errorLine=e.createChild(Ee),e.errorLine.shouldClone=!1,e.width=20,e.height=20,e.strokeOpacity=1,e.isDynamic=!0,e}return t.prototype.validatePosition=function(){s.prototype.validatePosition.call(this);var e=this.pixelWidth/2,i=this.pixelHeight/2;this.errorLine.path=we({x:-e,y:-i})+ce({x:e,y:-i})+we({x:0,y:-i})+ce({x:0,y:i})+we({x:-e,y:i})+ce({x:e,y:i})},t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.errorLine.copyFrom(e.errorLine)},t}(ta);E.registeredClasses.ErrorBullet=qO;var Zm=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="TextLink",e.selectable=!0;var i=new et;e.fill=i.getFor("primaryButton").brighten(.3);var r=e.states.create("hover");r.properties.fill=i.getFor("primaryButtonHover").brighten(.3);var a=e.states.create("down");return a.properties.fill=i.getFor("primaryButtonDown").brighten(.3),e.cursorOverStyle=fi.pointer,e.applyTheme(),e}return t}(Ni);E.registeredClasses.TextLink=Zm;var ff=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Triangle",e.element=e.paper.add("path"),e.direction="top",e.applyTheme(),e}return t.prototype.draw=function(){s.prototype.draw.call(this);var e=this.pixelWidth,i=this.pixelHeight,r;switch(this.direction){case"right":r=we({x:0,y:0})+ce({x:e,y:i/2})+ce({x:0,y:i})+Fi();break;case"left":r=we({x:e,y:0})+ce({x:0,y:i/2})+ce({x:e,y:i})+Fi();break;case"bottom":r=we({x:0,y:0})+ce({x:e,y:0})+ce({x:e/2,y:i})+Fi();break;case"top":r=we({x:e/2,y:0})+ce({x:e,y:i})+ce({x:0,y:i})+Fi();break}this.path=r},Object.defineProperty(t.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(e){this.setPropertyValue("direction",e,!0)},enumerable:!0,configurable:!0}),t}(Ee);E.registeredClasses.Triangle=ff;var ZO=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="NavigationBarDataItem",e.applyTheme(),e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),t}(Sn);var JO=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="NavigationBar";var i=new et,r=new Zm;r.valign="middle",r.paddingTop=8,r.paddingBottom=8,e.paddingBottom=2,e.links=new Kt(r),e._disposers.push(new Lt(e.links)),e._disposers.push(r),e._linksIterator=new id(e.links,function(){return e.links.create()}),e._linksIterator.createNewItems=!0;var a=new ff;a.direction="right",a.width=8,a.height=12,a.fill=i.getFor("alternativeBackground"),a.fillOpacity=.5,a.valign="middle",a.marginLeft=10,a.marginRight=10,e.separators=new Kt(a),e._disposers.push(new Lt(e.separators)),e._disposers.push(a);var n=new Zm;return e.activeLink=n,n.copyFrom(r),n.valign="middle",n.fontWeight="bold",e.width=he(100),e.layout="grid",e.dataFields.name="name",e.applyTheme(),e}return t.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),s.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(e){s.prototype.validateDataElement.call(this,e);var i;if(e.index<this.dataItems.length-1){i=this._linksIterator.getLast(),i.parent=this;var r=this.separators.create();r.parent=this,r.valign="middle"}else i=this.activeLink,i.events.copyFrom(this.links.template.events),i.hide(0),i.show(),i.parent=this;i.dataItem=e,i.text=e.name,i.validate()},t}(Bn);E.registeredClasses.NavigationBar=JO;E.registeredClasses.NavigationBarDataItem=ZO;var pf=function(s){U(t,s);function t(){var e=s.call(this)||this;e.point={x:0,y:0},e._stick="none",e.className="Cursor",e.width=he(100),e.height=he(100),e.shouldClone=!1,e.hide(0),e.trackable=!0,e.clickable=!0,e.isMeasured=!1;var i=ct();return e._disposers.push(i.body.events.on("down",e.handleCursorDown,e)),e._disposers.push(i.body.events.on("up",e.handleCursorUp,e)),e._disposers.push(i.body.events.on("track",e.handleCursorMove,e)),e.applyTheme(),e}return t.prototype.handleCursorMove=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)){if((this._generalBehavior!="zoom"&&this._generalBehavior!="pan"||!this.downPoint)&&!ct().isLocalElement(e.pointer,this.paper.svg,this.uid)){(!this.isHidden||!this.isHiding)&&this.hide();return}var i=Ml(e.pointer.point,this);return this._stick=="hard"&&this._stickPoint&&(i=this._stickPoint),this._stick=="soft"&&this._stickPoint&&(this.fitsToBounds(i)||(i=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",i),this.triggerMove(i),i}},t.prototype.hideReal=function(e){if(!((this._stick=="hard"||this._stick=="soft")&&this._stickPoint))return s.prototype.hideReal.call(this,e)},t.prototype.triggerMove=function(e,i,r){e.x=be(e.x,1),e.y=be(e.y,1),i&&(this._stick=i),(i=="hard"||i=="soft")&&(this._stickPoint=e),this.triggerMoveReal(e,r)},t.prototype.triggerMoveReal=function(e,i){(this.point.x!=e.x||this.point.y!=e.y||i)&&(this.point=e,this.invalidatePosition(),this.fitsToBounds(e)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},t.prototype.triggerDown=function(e){this.triggerDownReal(e)},t.prototype.triggerDownReal=function(e){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),ct().setGlobalStyle(fi.grabbing);break}},t.prototype.triggerUp=function(e){this.triggerUpReal(e)},t.prototype.triggerUpReal=function(e){Dt.requestFrame(),this.updatePoint(this.upPoint);var i=ct();if(Et(this._upPointOrig,this._downPointOrig)>i.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),i.setGlobalStyle(fi.default);break}this.downPoint=void 0,this.updateSelection()}},t.prototype.updateSelection=function(){},t.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},t.prototype.handleCursorDown=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch||!ct().isLocalElement(e.pointer,this.paper.svg,this.uid))){cd();var i=Ml(e.pointer.point,this);this._stick=="hard"&&this._stickPoint&&(i=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",i),this.fitsToBounds(i)&&(this._downPointOrig={x:i.x,y:i.y},e.event.cancelable&&this.shouldPreventGestures(e.touch)&&this.fitsToBounds(i)&&e.event.preventDefault(),this.triggerMove(i),this.triggerDown(i))}},t.prototype.shouldPreventGestures=function(e){return!0},t.prototype.updatePoint=function(e){},t.prototype.handleCursorUp=function(e){if(this.interactionsEnabled&&!(!this.downPoint&&!ct().isLocalElement(e.pointer,this.paper.svg,this.uid))){var i=Ml(e.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",i),!(!this.downPoint||!this.fitsToBounds(this.downPoint))&&(this._stick=="hard"&&this._stickPoint&&(i=this._stickPoint),this._upPointOrig={x:i.x,y:i.y},this.triggerMove(i),this.triggerUp(i))}},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e,N(this._chart.plotContainer)&&ct().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),t}(Oe);E.registeredClasses.Cursor=pf;var Bd=function(s){U(t,s);function t(){var e=s.call(this)||this;e._lineX=new Ti,e._lineY=new Ti,e._xAxis=new Ti,e._yAxis=new Ti,e._snapToDisposers=[],e.className="XYCursor",e.behavior="zoomX",e.maxPanOut=.1;var i=new et;e.snapOnPan=!0;var r=e.createChild(Ee);r.shouldClone=!1,r.fillOpacity=.2,r.fill=i.getFor("alternativeBackground"),r.isMeasured=!1,r.visible=!1,r.interactionsEnabled=!1,e.selection=r,e._disposers.push(e.selection);var a=e.createChild(Ee);a.shouldClone=!1,a.stroke=i.getFor("grid"),a.fill=He(),a.strokeDasharray="3,3",a.isMeasured=!1,a.strokeOpacity=.4,a.interactionsEnabled=!1,a.y=0,e.lineX=a,e._disposers.push(e.lineX);var n=e.createChild(Ee);return n.shouldClone=!1,n.stroke=i.getFor("grid"),n.fill=He(),n.strokeDasharray="3,3",n.isMeasured=!1,n.strokeOpacity=.4,n.interactionsEnabled=!1,n.x=0,e.lineY=n,e._disposers.push(e.lineY),e.events.on("sizechanged",e.updateSize,e,!1),e._disposers.push(e._lineX),e._disposers.push(e._lineY),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.mask=e,e.hideSeriesTooltipsOnSelection=!0,e.applyTheme(),e}return t.prototype.updateSize=function(){this.lineX&&(this.lineX.path=we({x:0,y:0})+ce({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=we({x:0,y:0})+ce({x:this.innerWidth,y:0}))},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint,i=this.behavior;if(e){var r=this.point;this.lineX&&(r.x=this.lineX.pixelX),this.lineY&&(r.y=this.lineY.pixelY);var a=this.selection,n=Math.min(r.x,e.x),o=Math.min(r.y,e.y),l=be(Math.abs(e.x-r.x),this._positionPrecision),u=be(Math.abs(e.y-r.y),this._positionPrecision);switch(i){case"zoomX":o=0,u=this.pixelHeight;break;case"zoomY":n=0,l=this.pixelWidth;break;case"selectX":o=0,u=this.pixelHeight;break;case"selectY":n=0,l=this.pixelWidth;break}a.x=n,a.y=o,a.path=Jb(l,u),a.validatePosition()}else this._generalBehavior!="select"&&this.selection.hide()}},t.prototype.fixPoint=function(e){return e.x=Math.max(0,e.x),e.y=Math.max(0,e.y),e.x=Math.min(this.pixelWidth,e.x),e.y=Math.min(this.pixelHeight,e.y),e},t.prototype.triggerMoveReal=function(e,i){s.prototype.triggerMoveReal.call(this,e,i);var r=this.snapToSeries;if(r&&!this.downPoint)if(r instanceof hs)r.isHidden&&this.updateLinePositions(e);else{var a=!0;Ce(r,function(n){n.isHidden||(a=!1)}),a&&this.updateLinePositions(e)}else this.updateLinePositions(e);this.downPoint&&Et(this.downPoint,e)>3&&this._generalBehavior=="pan"&&(this.getPanningRanges(),this.dispatch("panning"))},t.prototype.updateLinePositions=function(e){e=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=e.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=e.y),this.updateSelection()},t.prototype.triggerDownReal=function(e){if(this.visible&&!this.isHiding)if(this._generalBehavior=="select"&&(this.selection.parent=this.parent),this.fitsToBounds(e)){this.downPoint={x:e.x,y:e.y},this.updatePoint(e),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var i=this.selection,r=this.downPoint.x,a=this.downPoint.y;this._usesSelection&&(i.x=r,i.y=a,i.path="",i.show()),s.prototype.triggerDownReal.call(this,e)}else this.downPoint=void 0;else this.downPoint=void 0},t.prototype.updatePoint=function(e){this.lineX&&(e.x=this.lineX.pixelX),this.lineY&&(e.y=this.lineY.pixelY)},t.prototype.triggerUpReal=function(e){if(this.hasMoved())this.downPoint&&(this.upPoint=e,this.updatePoint(this.upPoint),this._generalBehavior!="pan"&&this.getRanges(),this._generalBehavior!="select"&&this.selection.hide(),s.prototype.triggerUpReal.call(this,e));else{if(this._generalBehavior!="select"?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),this._generalBehavior=="pan"){var i=ct();i.setGlobalStyle(fi.default)}this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},t.prototype.hasMoved=function(){var e;return this.behavior=="zoomX"||this.behavior=="panX"?e=w1(this._upPointOrig,this._downPointOrig):this.behavior=="zoomY"||this.behavior=="panY"?e=C1(this._upPointOrig,this._downPointOrig):e=Et(this._upPointOrig,this._downPointOrig),e>ct().getHitOption(this.interactions,"hitTolerance")},t.prototype.getPanningRanges=function(){var e=be(this.downPoint.x/this.innerWidth,5),i=1-be(this.downPoint.y/this.innerHeight,5),r=be(this.point.x/this.innerWidth,5),a=1-be(this.point.y/this.innerHeight,5),n=e-r,o=i-a;this.xRange={start:n,end:1+n},this.yRange={start:o,end:1+o},this.behavior=="panX"&&(this.yRange.start=0,this.yRange.end=1),this.behavior=="panY"&&(this.xRange.start=0,this.xRange.end=1)},t.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),this.selection;var e=be(this.downPoint.x/this.innerWidth,5),i=be(this.upPoint.x/this.innerWidth,5),r=1-be(this.downPoint.y/this.innerHeight,5),a=1-be(this.upPoint.y/this.innerHeight,5);this.xRange={start:bt(e,i),end:ht(e,i)},this.yRange={start:bt(r,a),end:ht(r,a)}},Object.defineProperty(t.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(e){this.setPropertyValue("behavior",e,!0),this._usesSelection=!1,e.indexOf("zoom")!=-1&&(this._generalBehavior="zoom",this._usesSelection=!0),e.indexOf("select")!=-1&&(this._generalBehavior="select",this._usesSelection=!0),e.indexOf("pan")!=-1&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),t.prototype.shouldPreventGestures=function(e){return(!this.interactions.isTouchProtected||!e)&&this.behavior!="none"},Object.defineProperty(t.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(e){this.setPropertyValue("fullWidthLineX",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(e){this.setPropertyValue("fullWidthLineY",e),e||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(e){this.setPropertyValue("hideSeriesTooltipsOnSelection",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(e){this.setPropertyValue("maxTooltipDistance",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(e){this.setPropertyValue("maxPanOut",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(e){var i=this;this._xAxis.get()!=e&&this._xAxis.set(e,new Qt([e.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),e.events.on("rangechangestarted",function(r){i.hide(0),i.preventShow=!0},void 0,!1),e.events.on("rangechangeended",function(r){i.preventShow=!1,i.hide(0),i.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(e){var i=this;this._yAxis.get()!=e&&this._yAxis.set(e,new Qt([e.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),e.events.on("rangechangestarted",function(r){i.hide(0),i.__disabled=!0},void 0,!1),e.events.on("rangechangeended",function(r){i.__disabled=!1,i.hide(0),i.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),t.prototype.handleXTooltipPosition=function(e){var i=this.xAxis.tooltip,r=Ws({x:i.pixelX,y:i.pixelY},this),a=r.x;if(r.y=1,this.lineX&&(this.lineX.x=a,this.fitsToBounds(r)||this.hide()),this.xAxis&&this.fullWidthLineX){var n=this.xAxis.currentItemStartPoint,o=this.xAxis.currentItemEndPoint;if(n&&o){this.lineX.x=a;var l=o.x-n.x;this.lineX.path=Jb(l,this.innerHeight,-l/2)}}},t.prototype.handleYTooltipPosition=function(e){var i=this.yAxis.tooltip,r=Ws({x:i.pixelX,y:i.pixelY},this),a=r.y;if(r.x=1,this.lineY&&(this.lineY.y=a,this.fitsToBounds(r)||this.hide()),this.yAxis&&this.fullWidthLineY){var n=this.yAxis.currentItemStartPoint,o=this.yAxis.currentItemEndPoint;if(n&&o){this.lineY.y=a;var l=o.y-n.y;this.lineY.path=Jb(this.innerWidth,l,0,-l/2)}}},Object.defineProperty(t.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineX.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.interactionsEnabled=!1,e.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineY.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.parent=this,e.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,e&&(e.element=this.paper.add("path"),e.parent=this)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var i=this;if(e&&(N(e.xAxis)&&ft(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.xAxis+'" found for `xAxis`'),delete e.xAxis)),N(e.yAxis)&&ft(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+e.yAxis+'" found for `yAxis`'),delete e.yAxis)),N(e.snapToSeries))){var r=Ci(e.snapToSeries)?e.snapToSeries:[e.snapToSeries],a=!1;Ce(r,function(n,o){ft(n)&&(i.map.hasKey(n)?r[o]=i.map.getKey(n):(i.processingErrors.push('[XYCursor] No series with id "'+n+'" found for `series`'),a=!0))}),a?delete e.snapToSeries:e.snapToSeries=r}s.prototype.processConfig.call(this,e)},Object.defineProperty(t.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(e){var i=this;this.setPropertyValue("snapToSeries",e)&&(e instanceof hs&&(e=[e]),this._snapToDisposers&&Ce(this._snapToDisposers,function(r){r.dispose()}),this._snapToDisposers=[],e&&Ce(e,function(r){i._snapToDisposers.push(r.events.on("tooltipshownat",function(){i.handleSnap(r)},void 0,!1))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(e){this.setPropertyValue("snapOnPan",e)},enumerable:!0,configurable:!0}),t.prototype.handleSnap=function(e){if(!this.downPoint){var i=e.getTooltipX()+e.xAxis.pixelX,r=e.getTooltipY()+e.yAxis.pixelY,a=e.xAxis,n=e.yAxis;a&&a.renderer.opposite&&(r-=this.pixelHeight),this.point={x:i,y:r},this.getPositions();var o=i,l=r;i-=this.pixelWidth,n&&n.renderer.opposite&&(i+=this.pixelWidth);var u=e.tooltip,h=u.animationDuration,c=u.animationEasing;a instanceof je&&!(a instanceof Pt)&&n instanceof je&&!(n instanceof Pt)?(e.yAxis.showTooltipAtPosition(this.yPosition),e.xAxis.showTooltipAtPosition(this.xPosition)):(e.baseAxis==e.xAxis&&e.yAxis.showTooltipAtPosition(this.yPosition),e.baseAxis==e.yAxis&&e.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=i,this.lineX.y=r,this.xAxis||this.lineX.animate([{property:"x",to:o}],h,c),this.yAxis||this.lineY.animate([{property:"y",to:l}],h,c)}},t.prototype.dispose=function(){this.hide(0),s.prototype.dispose.call(this)},t}(pf);E.registeredClasses.XYCursor=Bd;var eL=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="RadarCursor",e.radius=he(100),e.innerRadius=he(0),e.applyTheme(),e.mask=void 0,e}return t.prototype.fitsToBounds=function(e){var i=Et(e);return i<this.truePixelRadius+1&&i>this.pixelInnerRadius-1},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.triggerMoveReal=function(e,i){(!this.xAxis||this.xAxis&&(!this.xAxis.cursorTooltipEnabled||this.xAxis.tooltip.disabled))&&this.updateLineX(this.point),(!this.yAxis||this.yAxis&&(!this.yAxis.cursorTooltipEnabled||this.yAxis.tooltip.disabled))&&this.updateLineY(this.point),this.updateSelection(),s.prototype.triggerMoveReal.call(this,e,i)},t.prototype.updateLineX=function(e){var i=this.pixelRadius,r=this.startAngle,a=this.endAngle,n=this.pixelInnerRadius;if(i>0&&k(r)&&k(a)&&k(n)){var o=Un(dr(e),r,a),l=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var u=this.xAxis.currentItemStartPoint,h=this.xAxis.currentItemEndPoint;if(u&&h){var c=Un(dr(u),r,a),A=Un(dr(h),r,a),d=A-c;r<a?d<0&&(d+=360):d>0&&(d-=360),o-=d/2,l=we({x:n*Pe(o),y:n*Fe(o)})+ce({x:i*Pe(o),y:i*Fe(o)})+Br(o,d,i)+ce({x:n*Pe(o+d),y:n*Fe(o+d)})+Br(o+d,-d,n)}}l||(l=we({x:n*Pe(o),y:n*Fe(o)})+ce({x:i*Pe(o),y:i*Fe(o)})),this.lineX.path=l}}},t.prototype.updateLineY=function(e){if(this.lineY&&this.lineY.visible){var i=this.startAngle,r=this.endAngle,a=this.truePixelRadius,n=Le(Et(e),0,this.truePixelRadius);if(k(n)&&k(i)){this.lineY.moveTo({x:0,y:0});var o=void 0,l=r-i;if(this.yAxis&&this.fullWidthLineY){var u=this.yAxis.currentItemStartPoint,h=this.yAxis.currentItemEndPoint;if(u&&h){var c=Le(Et(u),0,a);n=Le(Et(h),0,a),o=we({x:n*Pe(i),y:n*Fe(i)})+Br(i,l,n),o+=we({x:c*Pe(r),y:c*Fe(r)})+Br(r,-l,c)}}o||(o=we({x:n*Pe(i),y:n*Fe(i)})+Br(i,r-i,n)),this.lineY.path=o}}},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint;if(e){var i=this.point,r=this.pixelRadius,a=this.truePixelRadius,n=this.pixelInnerRadius,o=Math.min(this.startAngle,this.endAngle),l=Math.max(this.startAngle,this.endAngle),u=Un(dr(e),o,l),h=Un(dr(i),o,l),c=Et(e);if(c<a){var A=Le(Et(i),0,a);this._prevAngle=h;var d=we({x:0,y:0}),f=Fe(u),p=Pe(u),m=Fe(h),g=Pe(h),y=this.behavior;y=="zoomX"||y=="selectX"?d+=ce({x:r*p,y:r*f})+Br(u,h-u,r)+ce({x:n*g,y:n*m})+Br(h,u-h,n):y=="zoomY"||y=="selectY"?d=we({x:A*Pe(o),y:A*Fe(o)})+Br(o,l-o,A)+ce({x:c*Pe(l),y:c*Fe(l)})+Br(l,o-l,c)+Fi():y=="zoomXY"&&(d=we({x:A*Pe(u),y:A*Fe(u)})+Br(u,h-u,A)+ce({x:c*Pe(h),y:c*Fe(h)})+Br(h,u-h,c)+Fi()),this.selection.path=d}this.selection.moveTo({x:0,y:0})}}},t.prototype.getPositions=function(){var e=this.chart;if(e){var i=this.pixelInnerRadius,r=this.truePixelRadius-i,a=this.startAngle,n=this.endAngle,o=Un(dr(this.point),a,n),l=(o-a)/(n-a);this.xPosition=l,this.yPosition=Le((Et(this.point)-i)/r,0,1)}},t.prototype.updatePoint=function(e){},t.prototype.handleXTooltipPosition=function(e){if(this.xAxis.cursorTooltipEnabled){var i=this.xAxis.tooltip;this.updateLineX(Ws({x:i.pixelX,y:i.pixelY},this))}},t.prototype.handleYTooltipPosition=function(e){if(this.yAxis.cursorTooltipEnabled){var i=this.yAxis.tooltip;this.updateLineY(Ws({x:i.pixelX,y:i.pixelY},this))}},t.prototype.updateLinePositions=function(e){},t.prototype.getRanges=function(){var e=this.downPoint;if(e){var i=this.upPoint,r=this.chart;if(r){var a=this.pixelRadius,n=this.startAngle,o=this.endAngle,l=Un(dr(e),this.startAngle,this.endAngle),u=Un(dr(i),this.startAngle,this.endAngle),h=Le(Et(e),0,a),c=Le(Et(i),0,a),A=0,d=1,f=0,p=1,m=this.behavior;if(m=="zoomX"||m=="selectX"||m=="zoomXY"||m=="selectXY"){var g=o-n;A=be((l-n)/g,5),d=be((u-n)/g,5)}(m=="zoomY"||m=="selectY"||m=="zoomXY"||m=="selectXY")&&(f=be(h/a,5),p=be(c/a,5)),this.xRange={start:Math.min(A,d),end:Math.max(A,d)},this.yRange={start:Math.min(f,p),end:Math.max(f,p)},this.behavior=="selectX"||this.behavior=="selectY"||this.behavior=="selectXY"||this.selection.hide()}}},t.prototype.updateSize=function(){},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return Ar(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truePixelRadius",{get:function(){return Ai(he(100),bt(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){var e=this.innerRadius;return e instanceof nt&&(e=he(100*e.value*this.chart.innerRadiusModifyer)),Ar(e,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),t.prototype.fixPoint=function(e){return e},t}(Bd);E.registeredClasses.RadarCursor=eL;var cS;function bj(){return Xe(this,void 0,void 0,function*(){let s=yield Promise.all([import("./5DVBXETW.js"),import("./GHLS3VO2.js")]),t=s[0].default,e=s[1].default,i=window;return i.pdfMake=i.pdfMake||{},i.pdfMake.vfs=e,t.vfs=e,t})}var ec=class extends xi{_afterNew(){super._afterNew(),this._setRawDefault("filePrefix","chart"),this._setRawDefault("charset","utf-8"),this._setRawDefault("numericFields",[]),this._setRawDefault("dateFields",[]),this._setRawDefault("durationFields",[]),this._setRawDefault("extraImages",[]),this._setRawDefault("pngOptions",{quality:1,maintainPixelRatio:!1}),this._setRawDefault("jpgOptions",{quality:.8,maintainPixelRatio:!1}),this._setRawDefault("printOptions",{quality:1,maintainPixelRatio:!1,delay:500,printMethod:"iframe",imageFormat:"png"}),this._setRawDefault("jsonOptions",{indent:2,renameFields:!0}),this._setRawDefault("csvOptions",{separator:",",addColumnNames:!0,emptyAs:"",addBOM:!0}),this._setRawDefault("htmlOptions",{emptyAs:"-",addColumnNames:!0}),this._setRawDefault("xlsxOptions",{emptyAs:"",addColumnNames:!0}),this._setRawDefault("pdfOptions",{fontSize:14,imageFormat:"png",align:"left",addURL:!0}),this._setRawDefault("pdfdataOptions",{emptyAs:"",addColumnNames:!0}),this._root.addDisposer(this)}_beforeChanged(){if(super._beforeChanged(),this.isDirty("menu")){let t=this.get("menu");t&&(t.set("exporting",this),this._disposers.push(t))}}_getFormatOptions(t,e){let i=uo(this.get(t+"Options",{}));return e&&Mt(e,(r,a)=>{i[r]=a}),i}download(t,e){return Xe(this,void 0,void 0,function*(){let i=t=="pdfdata"?"pdf":t,r=this.get("filePrefix","chart")+"."+i,a=this._getFormatOptions(t,e);this.events.dispatch("downloadstarted",{type:"downloadstarted",format:t,options:a,fileName:r,target:this});let n=yield this.export(t,a);this.streamFile(n,r,a&&a.addBOM)})}print(t){return Xe(this,void 0,void 0,function*(){let e=this._getFormatOptions("print",t);this.events.dispatch("printstarted",{type:"printstarted",format:"print",options:e,target:this});let i=yield this.export(e.imageFormat||"png",e);this.initiatePrint(i,e,this.get("title"))})}export(t,e){return Xe(this,void 0,void 0,function*(){let i=this._getFormatOptions(t,e);this.events.dispatch("exportstarted",{type:"exportstarted",format:t,options:i,target:this});let r="";switch(t){case"png":case"jpg":this._root._runTickerNow(),r=this.exportImage(t,i);break;case"json":r=this.exportJSON(i);break;case"csv":r=this.exportCSV(i);break;case"html":r=this.exportHTML(i);break;case"xlsx":r=this.exportXLSX(i);break;case"pdf":this._root._runTickerNow(),r=this.exportPDF(i);break;case"pdfdata":r=this.exportPDFData(i);break}return this.events.dispatch("exportfinished",{type:"exportfinished",format:t,options:i,target:this}),r})}exportImage(t,e){return Xe(this,void 0,void 0,function*(){let i=this._getFormatOptions(t,e),r=yield this.getCanvas(i),a=r.toDataURL(this.getContentType(t),i.quality||1);return this.disposeCanvas(r),a})}exportCanvas(t){return Xe(this,void 0,void 0,function*(){let e=this._getFormatOptions("canvas",t),i=yield this.getCanvas(e),r=i.toDataURL(this.getContentType("canvas"),e.quality||1);return this.disposeCanvas(i),r})}getCanvas(t){return Xe(this,void 0,void 0,function*(){let e=this._root._renderer.getCanvas(this._root._rootContainer._display,t),i=this.get("extraImages",[]),r=0,a=0,n=e.width,o=e.height,l=0,u=0,h=[];te(i,v=>{let _;v instanceof Wc?_={source:v,position:"bottom"}:_=v,_.position=_.position||"bottom",_.marginTop=_.marginTop||0,_.marginRight=_.marginRight||0,_.marginBottom=_.marginBottom||0,_.marginLeft=_.marginLeft||0;let S=_.source._renderer.getCanvas(_.source._rootContainer._display,t),F=S.width+_.marginLeft+_.marginRight,P=S.height+_.marginTop+_.marginBottom;_.position=="top"?(n=_.crop?o:Math.max(n,F),a+=P):_.position=="right"?(o=_.crop?o:Math.max(o,P),l+=F):_.position=="left"?(o=_.crop?o:Math.max(o,P),r+=F):_.position==="bottom"&&(n=_.crop?o:Math.max(n,F),u+=P),h.push({canvas:S,position:_.position,left:_.marginLeft,top:_.marginTop,width:F,height:P})});let c=this.getDisposableCanvas();c.width=r+n+l,c.height=a+o+u;let A=c.getContext("2d"),d=this.get("backgroundColor",this.findBackgroundColor(this._root.dom)),f=this.get("backgroundOpacity",1);d&&(A.fillStyle=d.toCSS(f),A.fillRect(0,0,c.width,c.height));let p=r,m=a,g=p+n,y=m+o;return te(h,v=>{v.position=="top"?(m-=v.height,A.drawImage(v.canvas,r+v.left,m+v.top)):v.position=="right"?(A.drawImage(v.canvas,g+v.left,a+v.top),g+=v.width):v.position=="left"?(p-=v.width,A.drawImage(v.canvas,p+v.left,a+v.top)):v.position==="bottom"&&(A.drawImage(v.canvas,r+v.left,y+v.top),y+=v.height)}),A.drawImage(e,r,a),c})}exportJSON(t){return Xe(this,void 0,void 0,function*(){return"data:"+this.getContentType("json")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getJSON(t))})}getJSON(t){return Xe(this,void 0,void 0,function*(){let e=this._getFormatOptions("json",t);return JSON.stringify(this.getData("json",t,e.renameFields),(i,r)=>(oo(r)&&Mt(r,(a,n)=>{r[a]=this.convertToSpecialFormat(a,n,e)}),r),e.indent)})}exportCSV(t){return Xe(this,void 0,void 0,function*(){return"data:"+this.getContentType("csv")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getCSV(t))})}getCSV(t){return Xe(this,void 0,void 0,function*(){let e=this._getFormatOptions("csv",t),i="",r="",a=this.getData("csv",e),n=this.getDataFields(a);if(e.pivot){let o=this.get("dataFieldsOrder",[]);fu(n,(l,u)=>{let h=[];e.addColumnNames&&h.push(u);for(let c=a.length,A=0;A<c;A++){let d=a[A][l];h.push(this.convertToSpecialFormat(l,d,e,!0))}i+=r+this.getCSVRow(h,e,void 0,!0),r=`
`},(l,u)=>{let h=o.indexOf(l),c=o.indexOf(u);return h>c?-1:h<c?1:0})}else{for(let o=a.length,l=0;l<o;l++){let u=this.getCSVRow(a[l],e,n);e.reverse?i=u+r+i:i+=r+u,r=`
`}e.addColumnNames&&(i=this.getCSVRow(n,e,void 0,!0)+r+i)}return i})}getCSVRow(t,e,i,r=!1){let a=e.separator||",",n=[];i||(i={},Mt(t,(l,u)=>{i[l]=u}));let o=this.get("dataFieldsOrder",[]);return fu(i,(l,u)=>{let h=this.convertEmptyValue(l,t[l],e),c=r?h:this.convertToSpecialFormat(l,h,e);c=""+c,c=c.replace(/"/g,'""'),(e.forceQuotes||c.search(new RegExp(`"|
|`+a,"g"))>=0)&&(c='"'+c+'"'),n.push(c)},(l,u)=>{let h=o.indexOf(l),c=o.indexOf(u);return h>c?1:h<c?-1:0}),n.join(a)}exportHTML(t){return Xe(this,void 0,void 0,function*(){return"data:"+this.getContentType("html")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getHTML(t))})}getHTML(t){return Xe(this,void 0,void 0,function*(){let e=this._getFormatOptions("html",t),i="<table>";e.tableClass&&(i='<table class="'+e.tableClass+'">');let r=this.getData("html",e),a=this.getDataFields(r);if(e.pivot){let n=this.get("dataFieldsOrder",[]);i+=`
<tbody>`,fu(a,(o,l)=>{let u=[];e.addColumnNames&&u.push(l);for(let h=r.length,c=0;c<h;c++){let A=r[c][o];u.push(this.convertToSpecialFormat(o,A,e,!0))}i+=`
`+this.getHTMLRow(u,e,void 0,!0)},(o,l)=>{let u=n.indexOf(o),h=n.indexOf(l);return u>h?-1:u<h?1:0}),i+=`
</tbody>`}else{e.addColumnNames&&(i+=`
<thead>
`+this.getHTMLRow(a,e,void 0,!0,!0)+`
</thead>`),i+=`
<tbody>`;for(let n=r.length,o=0;o<n;o++)i+=`
`+this.getHTMLRow(r[o],e,a);i+=`
</tbody>`}return i+=`
</table>`,i})}getHTMLRow(t,e,i,r=!1,a=!1){let n="	<tr>";e.rowClass&&(n='	<tr class="'+e.rowClass+'">'),i||(i=t);let o=this.get("dataFieldsOrder",[]),l=a?"th":"td",u=!0;return fu(i,(h,c)=>{let A=this.convertEmptyValue(h,t[h],e),d=r?A:this.convertToSpecialFormat(h,A,e);d=""+d,d=d.replace(/[\u00A0-\u9999<>\&]/gim,function(p){return"&#"+p.charCodeAt(0)+";"});let f=l;e.pivot&&u&&(f="th"),e.cellClass?n+=`
		<`+f+' class="'+e.cellClass+'">'+d+"</"+f+">":n+=`
		<`+f+">"+d+"</"+f+">",u=!1},(h,c)=>{let A=o.indexOf(h),d=o.indexOf(c);return A>d?1:A<d?-1:0}),n+=`
	</tr>`,n}exportXLSX(t){return Xe(this,void 0,void 0,function*(){return"data:"+this.getContentType("xlsx")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getXLSX(t))})}getXLSX(t){return Xe(this,void 0,void 0,function*(){let e=this._getFormatOptions("xlsx",t),i=yield this.getXLSXLib(),r={bookType:"xlsx",bookSST:!1,type:"base64"},a=this._normalizeExcelSheetName(this.get("title",this._t("Data"))),n={SheetNames:[a],Sheets:{}},o=[],l=this.getData("html",e),u=this.getDataFields(l);if(e.pivot){let h=this.get("dataFieldsOrder",[]);fu(u,(c,A)=>{let d=[];e.addColumnNames&&d.push(A);for(let f=l.length,p=0;p<f;p++){let m=l[p][c];d.push(this.convertToSpecialFormat(c,m,e,!0))}o.push(this.getXLSXRow(d,e,void 0,!0))},(c,A)=>{let d=h.indexOf(c),f=h.indexOf(A);return d>f?1:d<f?-1:0})}else{e.addColumnNames&&o.push(this.getXLSXRow(u,e,void 0,!0));for(let h=l.length,c=0;c<h;c++)o.push(this.getXLSXRow(l[c],e,u))}return n.Sheets[a]=i.utils.aoa_to_sheet(o),this.events.dispatch("workbookready",{type:"workbookready",format:"xlsx",options:e,workbook:n,workbookOptions:r,xlsx:i,target:this}),i.write(n,r)})}_normalizeExcelSheetName(t){return t=t.replace(/([:\\\/?*\[\]]+)/g," "),t.length>30?t.substr(0,30)+"...":t}getXLSXRow(t,e,i,r=!1){let a=[];i||(i=t);let n=this.get("dataFieldsOrder",[]);return fu(i,(o,l)=>{let u=this.convertEmptyValue(o,t[o],e),h=r?u:this.convertToSpecialFormat(o,u,e,!0);a.push(h)},(o,l)=>{let u=n.indexOf(o),h=n.indexOf(l);return u>h?1:u<h?-1:0}),a}_xlsx(){return Xe(this,void 0,void 0,function*(){return yield import("./YPTBAEW3.js")})}getXLSXLib(){return this._xlsx()}exportPDF(t){return Xe(this,void 0,void 0,function*(){return"data:"+this.getContentType("pdf")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getPDF(t,!0))})}exportPDFData(t){return Xe(this,void 0,void 0,function*(){return"data:"+this.getContentType("pdf")+";"+this.get("charset","utf-8")+","+encodeURIComponent(yield this.getPDF(t,!1,!0))})}getPDF(t,e=!0,i=!1){return Xe(this,void 0,void 0,function*(){let r=this._getFormatOptions("pdf",t),a=this._getFormatOptions("pdfdata",t),n=r.pageOrientation||"portrait",o,l={width:0,height:0};if(e){let g=r.imageFormat||"png",y=this._getFormatOptions(g,r),v=yield this.getCanvas(y);l.width=v.clientWidth,l.height=v.clientHeight,o=v.toDataURL(this.getContentType(g),r.quality||1),this.disposeCanvas(v)}let u=yield this.getPdfmake(),h=[30,30,30,30],c={pageSize:r.pageSize||"A4",pageOrientation:n,pageMargins:r.pageMargins||h,defaultStyle:{font:r.font?r.font.name:void 0},content:[]},A=this.get("title"),d=0;if(A&&(c.content.push({text:A,fontSize:r.fontSize||14,bold:!0,margin:[0,0,0,15]}),d+=50),r.addURL&&(c.content.push({text:this._t("Saved from")+": "+document.location.href,fontSize:r.fontSize,margin:[0,0,0,15]}),d+=50),e&&o){let g=this.getPageSizeFit(c.pageSize,c.pageMargins,d,n);l.width>g[0]||l.height>g[1]?c.content.push({image:o,alignment:r.align||"left",fit:g}):c.content.push({image:o,alignment:r.align||"left"})}(i||r.includeData)&&this.hasData()&&c.content.push({table:yield this.getPDFData(a),fontSize:r.fontSize||14});let f=null,p=null;function m(g){let y={};y.normal=g.normal.path,p[g.normal.path]=g.normal.bytes,g.bold?(y.bold=g.bold.path,p[g.bold.path]=g.bold.bytes):y.bold=g.normal.path,g.italics?(y.italics=g.italics.path,p[g.italics.path]=g.italics.bytes):y.italics=g.normal.path,g.bolditalics?(y.bolditalics=g.bolditalics.path,p[g.bolditalics.path]=g.bolditalics.bytes):y.bolditalics=g.normal.path,f[g.name]=y}return r.font&&(f={},p={},m(r.font),r.extraFonts&&te(r.extraFonts,m)),this.events.dispatch("pdfdocready",{type:"pdfdocready",format:"pdf",options:r,doc:c,target:this}),new Promise((g,y)=>{u.createPdf(c,null,f,p).getBase64(v=>{g(v)})})})}getPDFData(t){return Xe(this,void 0,void 0,function*(){let e=this._getFormatOptions("pdfdata",t),i={body:[]},r=this.getData("html",e),a=this.getDataFields(r);if(e.pivot){let n=this.get("dataFieldsOrder",[]);fu(a,(o,l)=>{let u=[];e.addColumnNames&&u.push(l);for(let h=r.length,c=0;c<h;c++){let A=r[c][o];u.push(this.convertToSpecialFormat(o,A,e,!0))}i.body.push(this.getPDFDataRow(u,e,void 0,!0))},(o,l)=>{let u=n.indexOf(o),h=n.indexOf(l);return u>h?1:u<h?-1:0})}else{e.addColumnNames&&(i.body.push(this.getPDFDataRow(a,e,void 0,!0)),i.headerRows=1);for(let n=r.length,o=0;o<n;o++)i.body.push(this.getPDFDataRow(r[o],e,a))}return i})}getPDFDataRow(t,e,i,r=!1){let a=[];i||(i=t);let n=this.get("dataFieldsOrder",[]);return fu(i,(o,l)=>{let u=this.convertEmptyValue(o,t[o],e),h=r?u:this.convertToSpecialFormat(o,u,e);h=""+h,a.push(h)},(o,l)=>{let u=n.indexOf(o),h=n.indexOf(l);return u>h?1:u<h?-1:0}),a}getPdfmake(){return cS===void 0&&(cS=bj()),cS}getPageSizeFit(t,e,i=0,r="portrait"){let a=[0,0,0,0];ie(e)?a=[e,e,e,e]:e.length==2?a=[e[0],e[1],e[0],e[1]]:e.length==4&&(a=e);let o={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[t];return r=="landscape"&&o.reverse(),o[0]-=a[0]+a[2],o[1]-=a[1]+a[3]+i,o}hasData(){let t=this.get("dataSource");return!!(Oy(t)&&t.length)}getData(t,e,i=!1){let r=this._getFormatOptions(t,e),a=this.get("dataSource",[]),n=a,o=this.get("dataFields");o&&Oy(a)&&(n=[],te(a,u=>{if(oo(u)){let h={};Mt(o,(c,A)=>{o[c]!=null&&(h[i?A:c]=this.convertToSpecialFormat(c,u[c],r))}),n.push(h)}}));let l={type:"dataprocessed",format:t,options:r,data:n,target:this};return this.events.dispatch("dataprocessed",l),l.data}getDataFields(t){let e=this.get("dataFields");return e||(e={},Oy(t)&&t.length&&te(t,i=>{Mt(i,(r,a)=>{e[r]==null&&(e[r]=r)})})),e}convertEmptyValue(t,e,i){return e??i.emptyAs}convertToSpecialFormat(t,e,i,r){if(typeof e=="number")if(this.isDateField(t))e=new Date(e);else{if(this.isNumericField(t)&&this.get("numberFormat"))return this._root.numberFormatter.format(e,this.get("numberFormat"));if(this.isDurationField(t))return this._root.durationFormatter.format(e,this.get("durationFormat"),this.get("durationUnit"))}return e instanceof Date&&(i.useTimestamps?e=e.getTime():i.useLocale?r||(e=e.toLocaleString()):e=this._root.dateFormatter.format(e,this.get("dateFormat"))),e}isDateField(t){return this.get("dateFields").indexOf(t)!==-1}isNumericField(t){return this.get("numericFields").indexOf(t)!==-1}isDurationField(t){return this.get("durationFields").indexOf(t)!==-1}getContentType(t){let e="";switch(t){case"png":e="image/"+t;break;case"jpg":e="image/jpeg";break;case"csv":e="text/csv";break;case"json":e="application/json";break;case"html":e="text/html";break;case"pdf":case"pdfdata":e="application/pdf";break;case"xlsx":e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;default:e="application/octet-stream"}return e}getDisposableCanvas(){let t=document.createElement("canvas");return t.style.position="fixed",t.style.top="-10000px",this._root.dom.appendChild(t),t}disposeCanvas(t){this._root.dom.removeChild(t)}findBackgroundColor(t){let e=1,i=getComputedStyle(t,"background-color").getPropertyValue("background-color");if((i.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||i=="transparent")&&(e=0),e==0){let r=t.parentElement;return r?this.findBackgroundColor(r):Ct.fromHex(16777215)}else return Ct.fromCSS(i)}streamFile(t,e,i=!1){if(this.blobDownloadSupport()){let r=document.createElement("a");r.download=e,document.body.appendChild(r);let a=t.split(";"),n=a.shift().replace(/data:/,"");if(t=decodeURIComponent(a.join(";").replace(/^[^,]*,/,"")),["image/svg+xml","application/json","text/csv","text/html"].indexOf(n)==-1)try{t=atob(t)}catch{return!1}else{i&&(t="\uFEFF"+t);let h=new Blob([t],{type:n}),c=window.URL.createObjectURL(h);return r.href=c,r.download=e,r.click(),setTimeout(()=>{document.body.removeChild(r),window.URL.revokeObjectURL(c)},100),!0}let o=new Array(t.length);for(let h=0;h<t.length;++h){let c=t.charCodeAt(h);o[h]=c}i&&(o=[239,187,191].concat(o));let l=new Blob([new Uint8Array(o)],{type:n}),u=window.URL.createObjectURL(l);r.href=u,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>{window.URL.revokeObjectURL(u)},100)}else if(this.linkDownloadSupport()){let r=document.createElement("a");r.download=e,r.href=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}else window.location.href=t;return!0}downloadSupport(){return this.linkDownloadSupport()}linkDownloadSupport(){return typeof document.createElement("a").download<"u"}blobDownloadSupport(){return window.Blob!=null}initiatePrint(t,e,i){let r=this._getFormatOptions("print",e);r.printMethod=="css"?this._printViaCSS(t,r,i):this._printViaIframe(t,r,i)}_printViaCSS(t,e,i){let a=this._getFormatOptions("print",e).delay||500,n=document.documentElement.scrollTop||document.body.scrollTop,o=new Kr(Hp(this._root.dom),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"},this._root.nonce),l=new Kr(Hp(this._root.dom),"body",{padding:"0",margin:"0"},this._root.nonce),u;i&&document&&document.title&&(u=document.title,document.title=i);let h=new Image;h.src=t,h.style.maxWidth="100%",h.style.display="block",h.style.position="relative",h.style.visibility="visible",h.style.opacity="1",h.style.clipPath="none",document.body.appendChild(h),this.setTimeout(()=>{window.print()},50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&a<1e3?a=1e3:a<100&&(a=100),this.setTimeout(()=>{document.body.removeChild(h),o.dispose(),l.dispose(),u&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=n},a||500)}_printViaIframe(t,e,i){let a=this._getFormatOptions("print",e).delay||500,n=document.createElement("iframe");n.style.visibility="hidden",document.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close();let o=new Image;o.src=t,o.style.maxWidth="100%",o.style.height="auto",i&&(n.contentWindow.document.title=i),n.contentWindow.document.body.appendChild(o),n.load=function(){n.contentWindow.document.body.appendChild(o)},this.setTimeout(()=>{try{n.contentWindow.document.execCommand("print",!1,null)||n.contentWindow.print()}catch{n.contentWindow.print()}},a||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&a<1e3?a=1e3:a<100&&(a=100),this.setTimeout(()=>{document.body.removeChild(n)},a+50||100)}supportedFormats(){let t=[],e=this.hasData(),i=this.downloadSupport();return te(["png","jpg","canvas","pdf","xlsx","csv","json","html","pdfdata","print"],r=>{this._getFormatOptions(r).disabled!==!0&&(["xlsx","csv","json","html","pdfdata"].indexOf(r)==-1||e&&i)&&t.push(r)}),t}supportedExportTypes(){let t=["image","print"];return this.downloadSupport()&&this.hasData()&&t.push("data"),t}};Object.defineProperty(ec,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Exporting"});Object.defineProperty(ec,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xi.classNames.concat([ec.className])});var tL=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Image",e.element=e.paper.add("image"),e.applyTheme(),e.width=50,e.height=50,e}return t.prototype.draw=function(){if(s.prototype.draw.call(this),this.href){var e=this.innerWidth,i=this.innerHeight;k(this.widthRatio)&&(e=i*this.widthRatio,this.width=e),k(this.heightRatio)&&(i=e*this.heightRatio,this.height=i),this.element.attr({width:e,height:i}),this.element.attrNS(KA,"xlink:href",this.href)}},Object.defineProperty(t.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(e){this.setPropertyValue("href",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(e){this.setPropertyValue("widthRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(e){this.setPropertyValue("heightRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),t}(Ee);E.registeredClasses.Image=tL;var iL=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Polyarc",e.controlPointDistance=.5,e.controlPointPosition=.5,e.applyTheme(),e}return t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){var i="";this._realSegments=[];for(var r=0,a=e.length;r<a;r++){var n=e[r],o=[];if(this._realSegments.push(o),n.length>0){i+=we(n[0]);for(var l=1;l<n.length;l++){var u=n[l-1],h=n[l],c=Et(h,u),A=c*this.controlPointDistance,d=this.controlPointPosition,f=-dr(u,h),p=u.x+(h.x-u.x)*d*.5-A*Fe(f),m=u.y+(h.y-u.y)*d*.5-A*Pe(f),g={x:p,y:m},y=u.x+(h.x-u.x)*d*1.5-A*Fe(f),v=u.y+(h.y-u.y)*d*1.5-A*Pe(f),_={x:y,y:v};i+=Ou(h,g,_);var S=Math.ceil(c),F=u;if(S>0)for(var P=0;P<=S;P++){var D=sm(u,h,g,_,P/S);o.push(D),this._distance+=Et(F,D),F=D}else o.push(u)}}}this.path=i}},Object.defineProperty(t.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(e){this.setPropertyValue("controlPointPosition",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e),this.makePath()},enumerable:!0,configurable:!0}),t}(Mu);E.registeredClasses.Polyarc=iL;var dS=function(s){U(t,s);function t(e){var i=s.call(this)||this;return i._bboxes=[],i.morphDuration=800,i.morphEasing=vo,i.morphToSingle=!0,i.scaleRatio=1,i.className="Morpher",i.morphable=e,i.applyTheme(),i}return t.prototype.morphToPolygon=function(e,i,r){var a=this.morphable.currentPoints;if(a&&e){this.sortPoints(a),this.sortPoints(e),this._morphFromPointsReal=[],this._morphToPointsReal=[],N(i)||(i=this.morphDuration),N(r)||(r=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(e,a),this._morphToPointsReal=this.normalizePoints(a,e),this.morphable.currentPoints=this._morphFromPointsReal;var n=new Ls(this,{property:"morphProgress",from:0,to:1},i,r);return this._disposers.push(n),n.start(),n}},t.prototype.normalizePoints=function(e,i){for(var r=0,a=e.length;r<a;r++){var n=e[r][0],o=e[r][1],l=gi(LA(n)),u=l.x+l.width,h=l.y+l.height;if(i[r]||(i[r]=[]),n&&!i[r][0]&&(i[r][0]=[{x:u,y:h},{x:u,y:h}]),i[r][0]){i[r][0]=this.addPoints(i[r][0],n.length);for(var c=1/0,A=0,d=0;d<i[r][0].length;d++){var f=Et(i[r][0][d],n[0]);f<c&&(A=d,c=f)}var p=i[r][0].slice(0,A),m=i[r][0].slice(A);i[r][0]=m.concat(p)}o&&(i[r][1]||(i[r][1]=[{x:u,y:h},{x:u,y:h}]),i[r][1]=this.addPoints(i[r][1],o.length))}return i},t.prototype.sortPoints=function(e){e.sort(function(o,l){var u=gi(LA(o[0])),h=gi(LA(l[0]));return u.width*u.height>h.width*h.height?-1:1});for(var i=[],r=0,a=e.length;r<a;r++){var n=e[r][0];n&&i.push(gi(LA(n)))}return Il(i)},t.prototype.morphToCircle=function(e,i,r){var a=this.morphable.points,n=this.sortPoints(a);this._morphFromPointsReal=[],this._morphToPointsReal=[],N(i)||(i=this.morphDuration),N(r)||(r=this.morphEasing);for(var o=0,l=a.length;o<l;o++){var u=a[o][0],h=a[o][1];if(this._morphFromPointsReal[o]=[],this._morphToPointsReal[o]=[],u){var c=u,A=u,d=gi(LA(A));this.morphToSingle&&(d=gi(n));var f=d.x+d.width/2,p=d.y+d.height/2,m=e;k(m)||(m=Math.min(d.width/2,d.height/2)),c=[];var g=dr({x:f,y:p},u[0]),y=100;u.length>y&&(y=u.length),A=this.addPoints(u,y),y=A.length;for(var v=360/(y-1),_=0;_<y;_++){var S=v*_+g,F={x:f+m*Pe(S),y:p+m*Fe(S)};c[_]=F}if(h&&h.length>0)for(var P=0,D=h.length;P<D;P++)c.push({x:f,y:p});this._morphFromPointsReal[o][0]=A,this._morphToPointsReal[o][0]=c}}this.morphable.currentPoints=this._morphFromPointsReal;var $=new Ls(this,{property:"morphProgress",from:0,to:1},i,r);return this._disposers.push($),$.start(),$},t.prototype.addPoints=function(e,i){for(var r=Math.round(i/e.length),a=[],n=0,o=e.length;n<o;n++){var l=e[n],u=void 0;n==e.length-1?u=e[0]:u=e[n+1],a.push(l);for(var h=1;h<r;h++){var c=h/r,A={x:l.x+(u.x-l.x)*c,y:l.y+(u.y-l.y)*c};a.push(A)}a.length+e.length-n==i&&(r=0)}if(a.length<i&&e.length>0)for(var d=e[e.length-1],h=a.length;h<i;h++)a.push({x:d.x,y:d.y});return a},t.prototype.morphToRectangle=function(e,i,r,a){var n=this.morphable.points;this.sortPoints(n),this._morphFromPointsReal=[],this._morphToPointsReal=[],N(r)||(r=this.morphDuration),N(a)||(a=this.morphEasing);for(var o=0,l=n.length;o<l;o++){var u=n[o][0],h=n[o][1];if(this._morphFromPointsReal[o]=[],this._morphToPointsReal[o]=[],u){var c=u,A=u,d=this._bboxes[o];this.morphToSingle;var f=d.x,p=d.y,m=e,g=i;if(k(m)||(m=d.width),k(g)||(g=d.height),c=[{x:f,y:p},{x:f+m,y:p},{x:f+m,y:p+g},{x:f,y:p+g}],c=this.addPoints(c,u.length),u.length<4)for(var y=u.length;y<4;y++)c.push({x:u[y].x,y:u[y].y});if(h&&h.length>0)for(var v=d.x+d.width/2,_=d.y+d.height/2,S=0,F=h.length;S<F;S++)c.push({x:v,y:_});this._morphFromPointsReal[o][0]=A,this._morphToPointsReal[o][0]=c}}this.morphable.currentPoints=this._morphFromPointsReal;var P=new Ls(this,{property:"morphProgress",from:0,to:1},r,a);return this._disposers.push(P),P.start(),P},Object.defineProperty(t.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(e){this._morphProgress=e;var i=[];if(e!=null){var r=this._morphFromPointsReal,a=this._morphToPointsReal;if(r!=null&&a!=null)for(var n=0,o=r.length;n<o;n++){var l=[];i.push(l);var u=r[n][0],h=r[n][1],c=a[n][0],A=a[n][1];if(u&&u.length>0&&c&&c.length>0){for(var d=[],f=0,p=u.length;f<p;f++){var m=u[f],g=c[f],y={x:m.x+(g.x*this.scaleRatio-m.x)*e,y:m.y+(g.y*this.scaleRatio-m.y)*e};d.push(y)}l[0]=d}if(h&&h.length>0&&A&&A.length>0){for(var v=[],_=0,S=h.length;_<S;_++){var m=h[_],g=A[_],y={x:m.x+(g.x*this.scaleRatio-m.x)*e,y:m.y+(g.y*this.scaleRatio-m.y)*e};v.push(y)}l[1]=v}}}this.morphable.currentPoints=i},enumerable:!0,configurable:!0}),t.prototype.morphBack=function(e,i){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,N(e)||(e=this.morphDuration),N(i)||(i=this.morphEasing);var r=new Ls(this,{property:"morphProgress",from:0,to:1},e,i);return this._disposers.push(r),r.start(),r},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new xo(this._animations))),this._animations},enumerable:!0,configurable:!0}),t}(Gi);var Jm=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Polygon",e.element=e.paper.add("path"),e.shapeRendering="auto",e._currentPoints=[],e.applyTheme(),e}return Object.defineProperty(t.prototype,"points",{get:function(){var e=this.getPropertyValue("points"),i=this.path;if(i&&(!e||e.length==0)){for(var r=i.slice(1,i.length-1),a=r.split("ZM"),n=0;n<a.length;n++){var o=a[n];if(o.length>0){var l=o.split("M"),u=l[0],h=l[1];if(u&&u.length>0){var c=u.split("L");if(c.length>0){var A=[],d=[A];e.push(d);for(var f=0;f<c.length;f++){var p=c[f].split(",");A.push({x:+p[0],y:+p[1]})}if(h&&h.length>0){var m=h.split("L");if(m.length>0){var g=[];d.push(g);for(var f=m.length-1;f>=0;f--){var p=m[f].split(",");g.push({x:+p[0],y:+p[1]})}}}}}}}this.setPropertyValue("points",e),this._currentPoints=e}return e},set:function(e){this.setPropertyValue("points",e,!0),this._currentPoints=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPoints",{get:function(){return(!this._currentPoints||this._currentPoints.length==0)&&this.path&&(this._currentPoints=this.points),this._currentPoints},set:function(e){this._currentPoints!=e&&(this._currentPoints=e,this.draw())},enumerable:!0,configurable:!0}),t.prototype.draw=function(){var e="",i=this._currentPoints,r,a,n,o;if(i.length>0){for(var l=0,u=i.length;l<u;l++){var h=i[l][0],c=i[l][1];if(h&&h.length>0){var A=h[0];e+=we(A);for(var d=0;d<h.length;d++)A=h[d],e+=ce(A),(!k(a)||a<A.x)&&(a=A.x),(!k(r)||r>A.x)&&(r=A.x),(!k(n)||n>A.y)&&(n=A.y),(!k(o)||o<A.y)&&(o=A.y)}if(c&&c.length>0){var A=c[0];e+=we(A);for(var f=0,p=c.length;f<p;f++)A=c[f],e+=ce(A)}}e&&(e+=Fi()),this.bbox.x=r,this.bbox.y=n,this.bbox.width=a-r,this.bbox.height=o-n,s.prototype.setPath.call(this,e)}},t.prototype.setPath=function(e){return s.prototype.setPath.call(this,e)?(this.points=[],this._bbox=this.group.getBBox(),!0):!1},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new dS(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),t}(Ee);E.registeredClasses.Polygon=Jm;var Bv=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="Preloader",e.width=he(100),e.height=he(100);var i=new et,r=e.createChild(Oe);r.shouldClone=!1;var a=r.createChild(Ea);a.shouldClone=!1,a.radius=53,a.arc=360,a.fill=i.getFor("fill"),a.fillOpacity=.8,a.innerRadius=42,a.isMeasured=!1,e.backgroundSlice=a;var n=r.createChild(Ea);n.shouldClone=!1,n.radius=50,n.innerRadius=45,n.fill=i.getFor("alternativeBackground"),n.fillOpacity=.2,n.isMeasured=!1,e.progressSlice=n;var o=r.createChild(Ni);o.shouldClone=!1,o.horizontalCenter="middle",o.verticalCenter="middle",o.isMeasured=!1,o.fill=i.getFor("text"),o.align="center",o.valign="middle",o.textAlign="middle",o.fillOpacity=.4,e.label=o,e.background.opacity=1,e.background.fill=i.getFor("background"),e.contentAlign="center",e.contentValign="middle",e.delay=300;var l=e.states.create("hidden");return l.properties.opacity=0,e.visible=!1,e.hide(0),e.__disabled=!0,e._disposers.push(e.backgroundSlice),e._disposers.push(e.progressSlice),e._disposers.push(e.label),e._disposers.push(r),e}return Object.defineProperty(t.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(e){var i=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",e),this.progressSlice.arc=360*e,this.label&&(this.label.text=Math.round(e*100)+"%"),e>=1?(this._started&&(this._started=void 0),E.events.once("enterframe",function(){var r=i.hide();r&&!r.isFinished()?r.events.once("animationended",function(){i.__disabled=!0}):i.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):e>0&&(this.delay?this._started?this._started+this.delay<=new Date().getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=new Date().getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(e){this.setPropertyValue("delay",e)},enumerable:!0,configurable:!0}),t}(Oe);E.registeredClasses.Preloader=Bv;var rL=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="CloseButton",e.padding(8,8,8,8),e.showSystemTooltip=!0,e.width=30,e.height=30;var i=new et;e.cursorOverStyle=fi.pointer;var r=e.background;r.cornerRadius(20,20,20,20);var a=i.getFor("background");r.fill=a,r.stroke=i.getFor("primaryButton"),r.strokeOpacity=1,r.strokeWidth=1;var n=i.getFor("primaryButtonActive"),o=r.states.getKey("hover");o.properties.strokeWidth=3,o.properties.fill=a;var l=r.states.getKey("down");l.properties.stroke=n,l.properties.fill=a;var u=new Ee;return u.element=e.paper.add("path"),u.stroke=r.stroke,e.icon=u,e.applyTheme(),e}return t.prototype.validate=function(){s.prototype.validate.call(this);var e=this.pixelWidth/3,i=this.pixelHeight/3,r=we({x:-e/2,y:-i/2});r+=ce({x:e/2,y:i/2}),r+=we({x:e/2,y:-i/2}),r+=ce({x:-e/2,y:i/2}),this.icon.path=r,this.invalidateLayout()},t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},t}(ka);E.registeredClasses.CloseButton=rL;var sL=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="SwitchButton",e.tooltipY=0,e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0,e.states.create("active");var i=new et,r=new Ni;r.fillOpacity=.3;var a=r.states.create("active");a.properties.fillOpacity=1,r.isActive=!0,e.leftLabel=r;var n=new ka,o=new Pn;n.contentValign="none",n.padding(0,0,0,0),o.radius=10,n.icon=o,n.icon.valign="middle",n.label=void 0;var l=he(100);n.background.cornerRadius(l,l,l,l),n.width=o.radius*3.5,n.height=o.radius*2.1,n.marginLeft=8,n.marginRight=8,n.togglable=!0,o.dx=-o.radius*.7,o.fill=i.getFor("primaryButton");var u=o.states.create("hover");u.properties.fill=i.getFor("primaryButtonHover");var h=o.states.create("active");h.properties.fill=i.getFor("primaryButtonActive"),h.properties.dx=o.radius*.7,e.switchButton=n,e.events.on("toggled",function(){e.leftLabel.isActive=!e.isActive,e.rightLabel.isActive=e.isActive});var c=new Ni;c.fillOpacity=.3;var A=c.states.create("active");return A.properties.fillOpacity=1,e.rightLabel=c,e.role="button",e.focusable=!0,c.valign="middle",r.valign="middle",n.valign="middle",e.applyTheme(),e}return Object.defineProperty(t.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(e){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(e){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchButton",{get:function(){return this._switchButton},set:function(e){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=e,e&&(e.parent=this,e.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),e.leftLabel&&this.leftLabel.copyFrom(e.leftLabel),e.rightLabel&&this.rightLabel.copyFrom(e.rightLabel),e.switchButton&&this.switchButton.copyFrom(e.switchButton)},t}(Oe);E.registeredClasses.SwitchButton=sL;var aL=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="Slider",e.thumb.opacity=0,e.thumb.interactionsEnabled=!1,e.endGrip.opacity=0,e.endGrip.interactionsEnabled=!1,e.startGrip.events.on("drag",function(){e.endGrip.x=e.startGrip.x,e.endGrip.y=e.startGrip.y}),e.applyTheme(),e}return Object.defineProperty(t.prototype,"__end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),t}(Yo);E.registeredClasses.Slider=aL;var nL=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="PlayButton",e.padding(12,12,12,12),e.showSystemTooltip=!0;var i=new et,r=e.background;r.cornerRadius(25,25,25,25),r.fill=i.getFor("primaryButton"),r.stroke=i.getFor("primaryButtonStroke"),r.strokeOpacity=0,r.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),r.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var a=new ff;a.direction="right",a.width=9,a.height=11,a.marginLeft=1,a.marginRight=1,a.horizontalCenter="middle",a.verticalCenter="middle",a.stroke=i.getFor("primaryButtonText"),a.fill=a.stroke,e.icon=a;var n=new us;n.width=11,n.height=11,n.horizontalCenter="middle",n.verticalCenter="middle",n.cornerRadius(0,0,0,0),n.stroke=i.getFor("primaryButtonText"),n.fill=a.stroke,e.togglable=!0;var o=e.states.create("active");return o.transitionDuration=0,o.properties.icon=n,e.defaultState.transitionDuration=0,e.applyTheme(),e}return t.prototype.applyInternalDefaults=function(){s.prototype.applyInternalDefaults.call(this),N(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},t}(ka);E.registeredClasses.PlayButton=nL;var oL=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="RadialGradientModifier",e.gradient=new _n,e.applyTheme(),e}return t.prototype.copyFrom=function(e){s.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},t}(Hm);E.registeredClasses.RadialGradientModifier=oL;var Fd=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.properties.gap=0,e._line=e.paper.add("path"),e.addElement(e._line),e}return t.prototype.draw=function(){if(s.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var e=this.width,i=this.height,r="";if(!this.gap)Math.round(this.rotation/90)!=this.rotation/90?(r=we({x:-e,y:i/2})+ce({x:e*2,y:i/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r=we({x:0,y:0})+ce({x:e,y:0});else for(var a=this.gap+this.strokeWidth,n=this.height/a,o=-n/2;o<n*1.5;o++)Math.round(this.rotation/90)!=this.rotation/90?(r+=we({x:-e,y:(o+.5)*a})+ce({x:e*2,y:(o+.5)*a}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):r+=we({x:-e,y:o*a})+ce({x:e*2,y:o*a});this._line.attr({d:r})}},Object.defineProperty(t.prototype,"gap",{get:function(){return this.properties.gap},set:function(e){this.properties.gap=e,this.draw()},enumerable:!0,configurable:!0}),t}(zo);E.registeredClasses.LinePattern=Fd;var Fv=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.properties.radius=2,e._circle=e.paper.add("circle"),e.addElement(e._circle),e.shapeRendering="auto",e}return t.prototype.draw=function(){s.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(t.prototype,"radius",{get:function(){return this.properties.radius},set:function(e){this.properties.radius=e,this.draw()},enumerable:!0,configurable:!0}),t}(zo);E.registeredClasses.CirclePattern=Fv;var Pd=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.rectHeight=1,e.rectWidth=1,e._rect=e.paper.add("rect"),e.addElement(e._rect),e}return t.prototype.draw=function(){s.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(t.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(e){this.properties.rectWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(e){this.properties.rectHeight=e,this.draw()},enumerable:!0,configurable:!0}),t}(zo);E.registeredClasses.RectPattern=Pd;var lL=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="ColorizeFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"matrix"}),e.filterPrimitives.push(e.feColorMatrix),e.intensity=1,e.applyTheme(),e}return t.prototype.applyFilter=function(){var e=this.intensity,i=1-e,r,a,n,o=this.color;o&&o.rgb?(r=o.rgb.r/255*e,a=o.rgb.g/255*e,n=o.rgb.b/255*e):(r=0,a=0,n=0),this.feColorMatrix.attr({values:i+" 0 0 0 "+r+" 0 "+i+" 0 0 "+a+" 0 0 "+i+" 0 "+n+" 0 0 0 1 0"})},Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(e){this.properties.intensity=e,this.applyFilter()},enumerable:!0,configurable:!0}),t}(jn);E.registeredClasses.ColorizeFilter=lL;var uL=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="BlurFilter",e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.width=200,e.height=200,e.blur=1.5,e.applyTheme(),e}return Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),t}(jn);E.registeredClasses.BlurFilter=uL;var AS=function(s){U(t,s);function t(){var e=s.call(this)||this;return e.className="FocusFilter",e.feFlood=e.paper.add("feFlood"),e.feFlood.attr({"flood-color":new et().getFor("primaryButtonHover"),result:"base"}),e.filterPrimitives.push(e.feFlood),e.feMorphology=e.paper.add("feMorphology"),e.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),e.filterPrimitives.push(e.feMorphology),e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),e.filterPrimitives.push(e.feColorMatrix),e.feComposite=e.paper.add("feComposite"),e.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),e.filterPrimitives.push(e.feComposite),e.feBlend=e.paper.add("feBlend"),e.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),e.filterPrimitives.push(e.feBlend),e.width=130,e.height=130,e.applyTheme(),e}return Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.feMorphology.attr({radius:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+e+" 0"})},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.group.removeStyle("outline"),e.group.addStyle({outline:"none"}),s.prototype.setSprite.call(this,e)},t}(jn);var hL=function(s){U(t,s);function t(){var e=s.call(this)||this;e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new Ft({r:103,g:183,b:220}),e.className="PatternSet";var i=new et;return e.list=[e.getLinePattern(1e3,45,1,6),e.getRectPattern(10,0,4),e.getLinePattern(1e3,-45,1,6),e.getCirclePattern(11,2,!0),e.getLinePattern(6,90,1),e.getRectPattern(12,45,6,!0),e.getLinePattern(6,0,1),e.getRectPattern(7,0,4),e.getLinePattern(1e3,45,2,3,"4,2"),e.getCirclePattern(9,3,!1),e.getLinePattern(1e3,-45,2,3,"4,2"),e.getRectPattern(10,45,Math.sqrt(50)),e.getLinePattern(1e3,-45,2,1),e.getRectPattern(10,0,9),e.getLinePattern(1e3,45,2,1),e.getLinePattern(1e3,0,3,1),e.getRectPattern(10,45,10),e.getLinePattern(1e3,90,3,1)],e.baseColor=i.getFor("stroke"),e.applyTheme(),e}return t.prototype.getLinePattern=function(e,i,r,a,n){var o=new Fd;return o.width=e,o.height=e,o.stroke=this.baseColor,o.gap=a,o.strokeDasharray=n,o.strokeWidth=r,o.rotation=i,o},t.prototype.getRectPattern=function(e,i,r,a){var n=new Pd;return n.width=e,n.height=e,n.rectWidth=r,n.rectHeight=r,a?(n.stroke=this.baseColor,n.strokeWidth=1,n.fillOpacity=0):(n.fill=this.baseColor,n.strokeWidth=0),i!=0&&(n.shapeRendering="auto"),n.rotation=i,n},t.prototype.getCirclePattern=function(e,i,r){var a=new Fv;return a.width=e,a.height=e,a.shapeRendering="auto",a.radius=i,r?(a.stroke=this.baseColor,a.strokeWidth=1,a.fillOpacity=0):(a.fill=this.baseColor,a.strokeWidth=0),a},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.next=function(){var e=this.getIndex(this.currentStep);return this._currentStep++,e},t.prototype.getIndex=function(e){for(var i;this.list.length<=e;)this.generatePatterns();return i=this.list[e],i.clone()},t.prototype.generatePatterns=function(){var e=this.list.length/(this._currentPass+1);this._currentPass++;for(var i=0;i<e;i++)this.list.push(this.list[i].clone())},t.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){s.prototype.processConfig.call(this,e)},t}(Gi);E.registeredClasses.PatternSet=hL;var vj=function(){function s(){this._disposed=!1,this._disposers=[]}return s.prototype.init=function(){},s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;t.length!==0;){var e=t.shift();e.dispose()}}},s}();var cL=function(s){U(t,s);function t(){var e=s.call(this)||this;e.className="AmChartsLogo",e.valign="bottom";var i=.3;e.opacity=.3,e.defaultState.properties.opacity=.4,e.url="https://www.amcharts.com/",e.urlTarget="_blank",e.showSystemTooltip=!0,e.readerTitle="Chart created using amCharts library",e.width=220*i,e.height=70*i,e.background.opacity=0;var r=He("#474758");new et().getFor("background").alternative.hex=="#ffffff"&&(r=He("#ffffff"));var a=new ws;a.addColor(r),a.addColor(r,1,.75),a.addColor(He("#3cabff"),1,.755),a.rotation=-10;var n=a,o=e.createChild(Cd);o.shouldClone=!1,o.isMeasured=!1,o.segments=[[{x:50*i,y:50*i},{x:90*i,y:50*i},{x:120*i,y:20*i},{x:135*i,y:35*i},{x:150*i,y:20*i},{x:180*i,y:50*i},{x:200*i,y:50*i}]],o.strokeWidth=6*i,o.tensionX=.8,o.tensionY=1,o.stroke=He("#3cabff");var l=e.createChild(Cd);l.shouldClone=!1,l.isMeasured=!1,l.segments=[[{x:20*i,y:50*i},{x:50*i,y:50*i},{x:90*i,y:12*i},{x:133*i,y:50*i},{x:170*i,y:50*i},{x:200*i,y:50*i}]],l.strokeWidth=6*i,l.tensionX=.75,l.tensionY=1,l.stroke=n,e._disposers.push(l);var u=new vd;e.filters.push(u);var h=new vd;h.saturation=1;var c=e.states.create("hover");return c.properties.opacity=1,c.filters.push(h),e.applyTheme(),e}return t}(Oe);function xj(s,t){var e=_m(s),i=!1;if(e||(e=document.createElement("div"),e.style.width="200px",e.style.height="200px",e.style.top="0",e.style.left="0",e.style.visibility="hidden",e.style.position="absolute",document.body.appendChild(e),i=!0),e){e.innerHTML="";var r=new Om(e),a=new Zb(r.SVGContainer,"svg-"+(qb.length-1)),n=new Oe;n.htmlContainer=e,n.svgContainer=r,n.width=he(100),n.height=he(100),n.background.fillOpacity=0,n.paper=a,a.append(n.group),i&&D_(function(){n.moveHtmlContainer(s)}),n.relativeWidth=1,n.relativeHeight=1,r.container=n;var o=n.createChild(t);o.topParent=n;var l=o.uid;E.invalidSprites[l]=[],E.invalidDatas[l]=[],E.invalidPositions[l]=[],E.invalidLayouts[l]=[],n.baseId=l,o.isBaseSprite=!0,o.focusFilter=new AS,E.baseSprites.push(o),E.baseSpritesByUid[l]=o,o.maskRectangle={x:0,y:0,width:Math.max(r.width||0,0),height:Math.max(r.height||0,0)},n.events.on("maxsizechanged",function(v){(v.previousWidth==0||v.previousHeight==0)&&n.deepInvalidate(),o.maskRectangle&&(o.maskRectangle={x:0,y:0,width:Math.max(r.width||0,0),height:Math.max(r.height||0,0)})});var u=null,h=function(){o.isDisposed()?u=null:zb(o.dom)==null?(lt.autoDispose?(n.htmlContainer=void 0,r.htmlElement=void 0,o.dispose()):YA("Chart was not disposed",o.uid),u=null):u=window.setTimeout(h,1e3)};h(),o.addDisposer(new Ot(function(){u!==null&&clearTimeout(u),tt(E.baseSprites,o),E.baseSpritesByUid[o.uid]=void 0})),o.addDisposer(n);var c=n.createChild(Oe);c.topParent=n,c.width=he(100),c.height=he(100),c.isMeasured=!1,n.tooltipContainer=c,o.tooltip=new Go,o.tooltip.hide(0),o.tooltip.setBounds({x:0,y:0,width:c.maxWidth,height:c.maxHeight}),c.events.on("maxsizechanged",function(){gi(o.tooltip).setBounds({x:0,y:0,width:c.maxWidth,height:c.maxHeight})},void 0,!1);var A=new Bv;if(A.events.on("inited",function(){A.__disabled=!0},void 0,!1),n.preloader=A,o instanceof Oe&&!o.hasLicense()){var d=c.createChild(cL);c.events.on("maxsizechanged",function(v){c.maxWidth<=100||c.maxHeight<=50?d.hide():(d.isHidden||d.isHiding)&&d.show()},void 0,!1),o.logo=d,d.align="left",d.valign="bottom"}if(o.numberFormatter,n.isStandaloneInstance=!0,lt.onlyShowOnViewport)if(Gb(e,lt.viewportTarget))lt.queue&&fS(o);else{o.__disabled=!0,o.tooltipContainer.__disabled=!0;var f=[Yi(window,"DOMContentLoaded",function(){Td(o)}),Yi(window,"load",function(){Td(o)}),Yi(window,"resize",function(){Td(o)}),Yi(window,"scroll",function(){Td(o)})];if(lt.viewportTarget)for(var p=Ci(lt.viewportTarget)?lt.viewportTarget:lt.viewportTarget?[lt.viewportTarget]:[],m=0;m<p.length;m++){var g=p[m];f.push(Yi(g,"resize",function(){Td(o)})),f.push(Yi(g,"scroll",function(){Td(o)}))}var y=new Qt(f);o.addDisposer(y),o.vpDisposer=y}else lt.queue&&fS(o);return o}else throw Dt.log("html container not found"),new Error("html container not found")}function fS(s){E.queue.indexOf(s)==-1&&(s.__disabled=!0,s.tooltipContainer.__disabled=!0,s.events.disableType("appeared"),E.queue.length==0&&(E.events.once("exitframe",function(){dL(s)}),Dt.requestFrame()),s.addDisposer(new Ot(function(){Pv(s)})),E.queue.push(s))}function Pv(s){var t=E.queue.indexOf(s);if(t>=0){E.queue.splice(E.queue.indexOf(s),1);var e=E.queue[t];e&&dL(e)}}function Td(s){s.__disabled&&Gb(s.htmlContainer,lt.viewportTarget)&&(s.vpDisposer&&s.vpDisposer.dispose(),fS(s))}function dL(s){s&&s.tooltipContainer&&(s.__disabled=!1,s.tooltipContainer.__disabled=!1,s.events.enableType("appeared"),s.dispatch("removedfromqueue"),s.showOnInit&&s.events.on("appeared",function(){Pv(s)}),s.vpDisposer&&s.vpDisposer.dispose(),s instanceof Oe&&s.invalidateLabels(),s.tooltipContainer&&s.tooltipContainer.invalidateLayout(),s instanceof Bn?(s.invalidateData(),s.reinit(),s.events.once("datavalidated",function(){s.showOnInit?s.appear():Pv(s)})):(s.reinit(),s.events.once("inited",function(){Pv(s)}),s.showOnInit&&s.appear()))}function eg(s,t){var e;ft(t)&&(N(E.registeredClasses[t])?t=E.registeredClasses[t]:(t=E.registeredClasses.Container,e=new Error("Class ["+t+"] is not loaded.")));var i=xj(s,t);return e&&i.raiseCriticalError(e),i}function pS(s){E.themes.indexOf(s)===-1&&E.themes.push(s)}function mS(s){tt(E.themes,s)}var wj=function(s){js(s,"SpriteState")&&(s.transitionDuration=400),js(s,"Component")&&(s.rangeChangeDuration=500,s.interpolationDuration=500,s.sequencedInterpolation=!1,js(s,"SankeyDiagram")&&(s.sequencedInterpolation=!0),js(s,"FunnelSeries")&&(s.sequencedInterpolation=!0)),js(s,"Chart")&&(s.defaultState.transitionDuration=2e3,s.hiddenState.transitionDuration=1e3),js(s,"Tooltip")&&(s.animationDuration=400,s.defaultState.transitionDuration=400,s.hiddenState.transitionDuration=400),js(s,"Scrollbar")&&(s.animationDuration=500),js(s,"Series")&&(s.defaultState.transitionDuration=1e3,s.hiddenState.transitionDuration=700,s.hiddenState.properties.opacity=1,s.showOnInit=!0),js(s,"MapSeries")&&(s.hiddenState.properties.opacity=0),js(s,"PercentSeries")&&(s.hiddenState.properties.opacity=0),js(s,"FunnelSlice")&&(s.defaultState.transitionDuration=800,s.hiddenState.transitionDuration=1e3,s.hiddenState.properties.opacity=1),js(s,"Slice")&&(s.defaultState.transitionDuration=700,s.hiddenState.transitionDuration=1e3,s.hiddenState.properties.opacity=1),js(s,"Preloader")&&(s.hiddenState.transitionDuration=2e3),js(s,"Column")&&(s.defaultState.transitionDuration=700,s.hiddenState.transitionDuration=1e3,s.hiddenState.properties.opacity=1),js(s,"Column3D")&&(s.hiddenState.properties.opacity=0)},Tv=wj;var Dv={exports:{}},gS,AL;function Dj(){if(AL)return gS;AL=1;function s(t){var e=new t,i=e;function r(){var n=e;return n.next?e=n.next:(e=new t,i=e),n.next=null,n}function a(n){i.next=n,i=n}return{get:r,release:a}}return gS=s,gS}var fL;function Oj(){if(fL)return Dv.exports;fL=1;var s=Dj();function t(a,n,o){if(typeof a=="function"&&(o=n,n=a,a=null),o<1)throw new Error("fastqueue concurrency must be greater than 1");var l=s(i),u=null,h=null,c=0,A=null,d={push:_,drain:e,saturated:e,pause:p,paused:!1,concurrency:o,running:f,resume:y,idle:v,length:m,getQueue:g,unshift:S,empty:e,kill:P,killAndDrain:D,error:$};return d;function f(){return c}function p(){d.paused=!0}function m(){for(var I=u,R=0;I;)I=I.next,R++;return R}function g(){for(var I=u,R=[];I;)R.push(I.value),I=I.next;return R}function y(){if(d.paused){d.paused=!1;for(var I=0;I<d.concurrency;I++)c++,F()}}function v(){return c===0&&d.length()===0}function _(I,R){var T=l.get();T.context=a,T.release=F,T.value=I,T.callback=R||e,T.errorHandler=A,c===d.concurrency||d.paused?h?(h.next=T,h=T):(u=T,h=T,d.saturated()):(c++,n.call(a,T.value,T.worked))}function S(I,R){var T=l.get();T.context=a,T.release=F,T.value=I,T.callback=R||e,c===d.concurrency||d.paused?u?(T.next=u,u=T):(u=T,h=T,d.saturated()):(c++,n.call(a,T.value,T.worked))}function F(I){I&&l.release(I);var R=u;R?d.paused?c--:(h===u&&(h=null),u=R.next,R.next=null,n.call(a,R.value,R.worked),h===null&&d.empty()):--c===0&&d.drain()}function P(){u=null,h=null,d.drain=e}function D(){u=null,h=null,d.drain(),d.drain=e}function $(I){A=I}}function e(){}function i(){this.value=null,this.callback=e,this.next=null,this.release=e,this.context=null,this.errorHandler=null;var a=this;this.worked=function(n,o){var l=a.callback,u=a.errorHandler,h=a.value;a.value=null,a.callback=e,a.errorHandler&&u(n,h),l.call(a.context,n,o),a.release(a)}}function r(a,n,o){typeof a=="function"&&(o=n,n=a,a=null);function l(p,m){n.call(this,p).then(function(g){m(null,g)},m)}var u=t(a,l,o),h=u.push,c=u.unshift;return u.push=A,u.unshift=d,u.drained=f,u;function A(p){var m=new Promise(function(g,y){h(p,function(v,_){if(v){y(v);return}g(_)})});return m.catch(e),m}function d(p){var m=new Promise(function(g,y){c(p,function(v,_){if(v){y(v);return}g(_)})});return m.catch(e),m}function f(){var p=u.drain,m=new Promise(function(g){u.drain=function(){p(),g()}});return m}}return Dv.exports=t,Dv.exports.promise=r,Dv.exports}var Lj=Oj(),tc={Show:"show",Hide:"hide",NotifyPanel:"notifyPanel",DisableInteractions:"disable-interactions",Chart:"chart"};async function pc(s,t){let e=t.errors[s];throw new uh(t.modalHeaders.error,e??t.errors.simpleError)}function In(s){return s.axes?.[0]?.valueFormat?.type}function mc(s){return s.intlOptions}function Tr(s){return s?.type===L.NumberAxisFormat}function $f(s){return Tr(s)&&s.intlOptions?.style==="percent"}function gc(s){return s?.type===L.CategoryAxisFormat}function qn(s){return s?.type===L.DateAxisFormat}function KI(s){let{oldConfig:t,newConfig:e,rotationChanged:i}=s;return i?[!0,!0]:[t.horizontalAxisLabelsBehavior!==e.horizontalAxisLabelsBehavior,t.verticalAxisLabelsBehavior!==e.verticalAxisLabelsBehavior]}function Ij(s){return Tr(s?.[1]?.valueFormat)&&(s?.[2]?.valueFormat===void 0||Tr(s[2].valueFormat))}function $j(s){return Tr(s?.[1]?.valueFormat)&&(s?.[2]?.valueFormat===void 0||Tr(s[2].valueFormat))}function kj(s){return(gc(s?.[0]?.valueFormat)||qn(s?.[0]?.valueFormat))&&Tr(s?.[1]?.valueFormat)&&(s?.[2]?.valueFormat===void 0||Tr(s[2].valueFormat))}function Mj(s){return(gc(s?.[0]?.valueFormat)||qn(s?.[0]?.valueFormat))&&Tr(s?.[1]?.valueFormat)}function Ej(s){return Tr(s?.[0]?.valueFormat)&&Tr(s?.[1]?.valueFormat)}function Rj(s){return Tr(s?.[0]?.valueFormat)&&Tr(s?.[1]?.valueFormat)}function Nj(s){return Tr(s?.[0]?.valueFormat)}async function yc(s){let{chartType:t,axesConfig:e,errorStrings:i}=s,r,a;switch(t){case L.GaugeSeries:r=Nj,a="invalidValueFormatForGauge";break;case L.ScatterSeries:r=Ej,a="invalidValueFormatForScatterplot";break;case L.HistogramSeries:r=Rj,a="invalidValueFormatForHistogram";break;case L.LineSeries:r=Ij,a="invalidValueFormatForLineChart";break;case L.BarSeries:r=$j,a="invalidValueFormatForBarChart";break;case L.ComboLineAndBarSeries:r=Mj,a="invalidValueFormatForComboBarLineChart";break;case L.BoxPlotSeries:r=kj,a="invalidValueFormatForBoxPlot";break}r!==void 0&&a!==void 0&&(r(e)||await pc(a,i))}function p0(s){let{isXAxis:t,chartType:e,valueFormat:i,isAxisForHistogramOverlaySeries:r}=s;return t&&(gc(i)||e===L.HistogramSeries&&!r||e===L.BarSeries&&Tr(i))}function fg(s){let{chartConfig:t,isSecondValueAxis:e,seriesIds:i}=s,r=i;return t.axes?.length===3&&(r=t.series.map(a=>{let n="";return(i===void 0||i.includes(a.id))&&(e===!0&&"assignToSecondValueAxis"in a&&a.assignToSecondValueAxis===!0||e!==!0&&(!("assignToSecondValueAxis"in a)||a.assignToSecondValueAxis!==!0))&&({id:n}=a),n}).filter(a=>a!=="")),r}function Vj(s,t){return s[0].dataTransformationType!==t[0].dataTransformationType}function Uj(s,t){return s[0].binCount!==t[0].binCount}function qI(s,t){let e=!0,i=Me(s?.series),r=Me(t?.series);return i!==r&&(e=i===L.ComboLineAndBarSeries&&(r===L.BarSeries||r===L.LineSeries)||r===L.ComboLineAndBarSeries&&(i===L.BarSeries||i===L.LineSeries)||i===L.BarSeries&&r===L.LineSeries||i===L.LineSeries&&r===L.BarSeries),e}function LS(s,t){return s!==void 0&&t!==void 0&&t>0}function Qj(s){let{chartConfig:t,queryObject:e,chartData:i}=s,r=[],a=Ue(t.series),n=ao(t),o=tr(e),l=t.chartRenderer??o?.renderer?.toJSON();return r=t.series.map((u,h)=>{let c=Me([u]),A;return(c===L.BarSeries||c===L.LineSeries||c===L.RadarSeries)&&(u.type===L.BarSeries?A=u.fillSymbol?.color:(u.type===L.RadarSeries||u.type===L.LineSeries)&&(A=u.lineSymbol?.color),n?A=tn({dataItem:i[0],seriesConfig:u,chartSubType:a,colorMatch:n,rendererType:l?.type})?.color:A===void 0&&(A=Mn({colorIndex:h}))),A}).filter(u=>u!==void 0),r}function Id(s){return s!==j.PieNoAggregation&&s!==j.BarAndLineNoAggregation&&s!==j.BarAndLineSplitByNoAggregation}function Hj(s){let t=Ue(s.series);return t===j.BarAndLineFromFields||t===j.PieFromFields||t===j.BoxPlotMonoField||t===j.BoxPlotMultiFields||t===j.BoxPlotMonoFieldAndSplitBy||t===j.BoxPlotMultiFieldsAndSplitBy}function Ur(s){return s&&"showMean"in s&&typeof s.showMean=="boolean"?s.showMean:!1}function rl(s){return s&&"showOutliers"in s&&typeof s.showOutliers=="boolean"?s.showOutliers:void 0}function Yv(){return`{name} {${re.originalCategoryValue}} {dateY} {valueX} {dateX} {valueY}`}function jj(s){let t;return s?.[0]!==void 0&&(t=s.reduce((e,i)=>({...e,xmin:Math.min(e.xmin,i.xmin),xmax:Math.max(e.xmax,i.xmax),ymin:Math.min(e.ymin,i.ymin),ymax:Math.max(e.ymax,i.ymax)}),s[0])),t}function Dn(s){let{value:t,dataContext:e,specificField:i,preferLabel:r,keepNullValues:a=!1,useRendererLabel:n=!1}=s,o=t,{originalCategoryValue:l,originalDateValue:u,typeOrDomainIdValue:h}=re;if(e!==void 0){let c=n?pX(e):void 0;i!==void 0&&e[i]!==void 0?o=e[i]:c!==void 0?o=c:r===!1&&e[h]!==void 0?o=e[h]:e[u]!==void 0?o=e[u]:e[l]!==void 0?o=e[l]:e[rs]!==void 0&&(o=e[rs]),!a&&o===null&&(o="null")}return o}function sl(s){return s?.[re.typeOrDomainIdValue]!==void 0?s?.[re.typeOrDomainIdValue]:s?.[re.originalCategoryValue]}function Kv(s){let{arrayToSort:t,orderBy:e,sortingField:i,forceAscendingOrder:r,isNonAggregated:a,sortByCategory:n,preferLabel:o,isPieOrByFieldsChart:l}=s;if(t!==void 0&&t.length>1){let u=e===un.Descending&&r!==!0;t.sort((h,c)=>{let A=0,d=h[i];n===!0&&!l&&(d=Dn({value:`${h[i]?.toString()}`,dataContext:h,preferLabel:o}));let f=c[i];return n===!0&&!l&&(f=Dn({value:`${c[i]?.toString()}`,dataContext:c,preferLabel:o})),a===!0&&u&&n===!0&&(d=Number.isNaN(Number.parseFloat(`${d?.toString()}`))?d:Number.parseFloat(d),f=Number.isNaN(Number.parseFloat(`${f?.toString()}`))?f:Number.parseFloat(f)),n===!0&&(h[re.originalCategoryValue]===null||d===null)||h[ja.defaultGroupOfSlicesId]===!0?A=1:n===!0&&(c[re.originalCategoryValue]===null||f===null)||c[ja.defaultGroupOfSlicesId]===!0?A=-1:typeof d=="string"&&typeof f=="string"?(A=d.localeCompare(f,void 0,{numeric:!0}),u&&(A*=-1)):d===void 0?A=u?-1:1:f===void 0?A=u?1:-1:d!==null&&f!==null&&(d>f?A=u?-1:1:d<f&&(A=u?1:-1)),A})}}function Wj(s){let{arrayToSort:t,orderBy:e,sortingField:i,fieldList:r,isByFieldsChart:a,preferLabel:n}=s;t!==void 0&&t.length>1&&!Li(i)&&e!==void 0&&e.length>0&&t.sort((o,l)=>{let u=o[i];n&&a&&typeof u=="string"&&(u=yr(r,u));let h=e.indexOf(u?.toString()??"");h===-1&&(h=e.length);let c=l[i];n&&a&&typeof c=="string"&&(c=yr(r,c));let A=e.indexOf(c?.toString()??"");return A===-1&&(A=e.length),h-A})}function ZI(s,t){let e=s;if(t?.[0]!==void 0&&Ue(t)===j.PieFromFields){let{x:i,y:r}=t[0];(gy(s)?e:e.dataItems).forEach(a=>(rs in a&&i!==rs&&(a[i]=a[i]!==void 0?a[i]:a[rs],delete a[rs]),Fa in a&&r!==Fa&&(a[r]=a[r]!==void 0?a[r]:a[Fa],delete a[Fa]),a))}return e}function JI(s,t){let e=Me(t),i=s,r=t?.[0];if((e===L.PieSeries||e===L.BoxPlotSeries||e===L.LineSeries||e===L.RadarSeries||e===L.BarSeries||e===L.ComboLineAndBarSeries)&&r!==void 0){let a=gy(s),n=a?s:s.dataItems;if(s!==void 0){let{originalCategoryValue:o,originalDateValue:l,xAxisField:u,typeOrDomainIdValue:h}=re,{x:c}=r;n=n.map(A=>{let d=A[c];A[h]!==void 0?d=A[h]:A[l]!==void 0?d=A[l]:A[o]!==void 0&&(d=A[o]);let f={...A,[c]:d};return delete f[l],delete f[h],delete f[o],delete f[u],f}),a?i=n:"dataItems"in i&&(i.dataItems=n)}}return i}function IS(s){let t={...s};delete t[re.technicalSortingFieldBySum],delete t[re.technicalSortingFieldByPercent],delete t[re.pieChart.technicalFieldSlicePercent],delete t[re.pieChart.technicalFieldGroupedSlices],delete t[re.typeOrDomainFieldName],delete t[re.lastTemporalBin],delete t[re.originalServerBinningRange],delete t[as.uniqueIdsName],Object.keys(t).filter(i=>i.includes(re.rendererSymbolField)).forEach(i=>delete t[i]);let e=vp(t);return e.isInItem&&delete t[e.expr??""],t}function Xj(s,t){let e=s,i=Me(t),r=no(e);if(r!==void 0)switch(i){case L.ComboLineAndBarSeries:case L.BarSeries:case L.LineSeries:case L.RadarSeries:case L.PieSeries:{r=r.map(IS),e={dataItems:r};let{timeIntervalInfo:a}=s??{};oh(a)||(e.timeIntervalInfo=a)}break;case L.ScatterSeries:e={...e,dataItems:r.map(IS)};break}return e}function dB(s){let{data:t,seriesConfig:e}=s,i=gr(t);return i!==void 0&&(i=JI(i,e),i=Xj(i,e),i=ZI(i,e)),i}function AB(s){let{statsMap:t,dataContext:e,chartLimits:i}=s,r=!1;if(t!==void 0){let{maxScatterPointsBeforeAggregation:a}=$c(i),{queryNumberOfFeatures:n}=re.scatterplotAggregationFields;r=(t.get(n)??Number.NaN)>=a}else e!==void 0&&(r=re.scatterplotAggregationFields.dataContextXMinField in e);return r}function zj(s){let t=!0,e=Me(s.series);if(e===L.BarSeries||e===L.LineSeries||e===L.ComboLineAndBarSeries){let i=Ue(s.series);t=i!==j.BarAndLineNoAggregation&&i!==j.BarAndLineSplitByNoAggregation}return t}function Gj(s){return Ue(s.series)!==j.PieNoAggregation}function fB(s){let{dataContext:t,chartConfig:e,chartLimits:i}=s,r=!0;if(e!==void 0)switch(Me(e.series)){case L.BarSeries:case L.LineSeries:case L.ComboLineAndBarSeries:r=zj(e);break;case L.ScatterSeries:r=AB({dataContext:t,chartLimits:i});break;case L.PieSeries:r=Gj(e);break}return r}function Yj(s,t){let e=s;switch(t){case Ba.Log:e=`log(${s})`;break;case Ba.Sqrt:e=`power(CAST(${s} AS FLOAT),0.5)`;break}return e}function Ff(s){let t=new Date(s).valueOf();return Number.isNaN(t)||(t=new Intl.DateTimeFormat("en-US",re.dateFormatUTC).format(s).replace(",","")),t}function qv(s){let{dataToConvert:t,x:e,y:i,fieldList:r}=s,a=[],n=t[cu];return Object.entries(t).forEach(([o])=>{if(o!==""&&o!==cu&&o in t){let l={[e]:yr(r,o),[i]:t[o],[re.xAxisField]:o,[re.originalCategoryValue]:o};n!==void 0&&(l[cu]=n),t[`${re.rendererSymbolField}_${o}`]!==void 0&&(l[re.rendererSymbolField]=t[`${re.rendererSymbolField}_${o}`]),a.push(l)}}),a}function Kj(s,t){return JSON.stringify(s.series[0]?.valueConversion)!==JSON.stringify(t.series[0]?.valueConversion)}function e$(s,t){return(s.colorMatch??!1)!==(t.colorMatch??!1)}function $S(s){let{oldConfig:t,newConfig:e}=s,i=!1,r=t.series[0],a=e.series[0],n=Me(t.series),o=Me(e.series);if(n===L.PieSeries&&o===L.PieSeries){let{slices:l,sliceGrouping:u}=r,{slices:h,sliceGrouping:c}=a,A=l?.map(m=>({sliceId:m.sliceId,label:m.label})),d=h?.map(m=>({sliceId:m.sliceId,label:m.label})),f=u?.label,p=c?.label;i=JSON.stringify(A)!==JSON.stringify(d)||JSON.stringify(f)!==JSON.stringify(p)}return i}function pL(s,t){return t.length!==s.length}function qj(s){let{oldSeries:t,newConfig:e,oldTimeIntervalInfo:i,setTimeBinningInfoWhenNotProvided:r}=s,a=e.series?.[0],n=!1,o=!1,l=!1;if(cn(a)&&Xa({seriesConfig:a,xAxisValueFormatType:In(e),setTimeBinningInfoWhenNotProvided:r})){let u=t[0].temporalBinning,h=a.temporalBinning;u?.type!==h?.type?n=!0:u?.type===ro.FixedDateBased&&h?.type===ro.FixedDateBased?n=i?.size!==h?.size||u?.timeAggregationType!==h?.timeAggregationType||u?.trimIncompleteTimeInterval!==h?.trimIncompleteTimeInterval||u?.nullPolicy!==h?.nullPolicy:u?.type===ro.CalendarBased&&h?.type===ro.CalendarBased&&(n=JSON.stringify(u)!==JSON.stringify(h)),o=i?.unit!==h?.unit,l=r===!0&&(h?.size??0)<=0}return{timeBinningChanged:n,timeIntervalUnitChanged:o,newTimeBinningWillBeCalculated:l}}function Zj(s){let{oldConfig:t,newConfig:e,behaviorAfterLimit:i}=s,r=t.series,a=e.series,n=!1,o=!1;(i===Lc.RenderUpToTheLimit||t.orderOptions?.data===void 0||e.orderOptions?.data===void 0)&&(o=!so(t.orderOptions?.orderByFields,e.orderOptions?.orderByFields));let l=Vx(r.map(h=>h.query),["where","outStatistics[0].outStatisticFieldName","outStatistics[0].onStatisticField"]),u=Vx(a.map(h=>h.query),["where","outStatistics[0].outStatisticFieldName","outStatistics[0].onStatisticField"]);return n=!so(l,u),n||o}function Jj(s,t){let e=!1;if(t[0].x!==s[0].x)e=!0;else{let i=Me(s);if(i!==L.HistogramSeries&&i!==L.GaugeSeries){let r=Fs(s).sort(),a=Fs(t).sort();e=JSON.stringify(r)!==JSON.stringify(a)}}return e}function e4(s,t){return(s??!1)!==(t?.filterBySelection??!1)}function t4(s){let{currentSelectionOIDs:t,options:e}=s,i=!1;return e?.filterBySelection===!0&&(i=!so(t,e?.selectionData?.selectionOIDs)),i}function i4(s,t){return JSON.stringify(s.dataFilters)!==JSON.stringify(t.dataFilters)}function r4(s,t){return cn(s.series[0])&&cn(t.series[0])&&(s.series[0].binTemporalData??re.binTemporalData)!==(t.series[0].binTemporalData??re.binTemporalData)}function s4(s,t){return s?.length!==t?.length||s?.some((e,i)=>{let r=Ns({where:e?.query?.where}),a=Ns({where:t?.[i]?.query?.where});return r!==a})}function a4(s,t){let e=Fs(s),i=Fs(t);return JSON.stringify(e)!==JSON.stringify(i)}function n4(s,t){return Ur(s)!==Ur(t)}function o4(s,t){let e=s.axes?.[0].valueFormat.type,i=t.axes?.[0].valueFormat.type,r=Ue(t.series),a=r===j.BarAndLineNoAggregation||r===j.BarAndLineSplitByNoAggregation,n=e===L.DateAxisFormat&&i===L.NumberAxisFormat,o=e===L.NumberAxisFormat&&i===L.DateAxisFormat;return e!==i&&(a||n||o)}function m0(s){let{forceDataUpdate:t,oldConfig:e,newConfig:i,options:r,formerFilterBySelection:a,timeIntervalInfo:n,currentSelectionOIDs:o}=s,{series:l}=i,{series:u}=e,h=Me(l),c=!1,A=!1,d=!1,f={common:{queryChanged:!1,xOrYChanged:!1,numberOfSeriesChanged:!1,configFiltersChanged:!1,filterBySelectionChanged:!1,dataForFilterBySelectionChanged:!1,binTemporalDataChanged:!1,timeBinningChanged:!1,timeIntervalUnitChanged:!1,newTimeBinningWillBeCalculated:!1,valueFormatChangeRequiresNewData:!1},histogram:{dataPropsChanged:!1},gauge:{valueConversionChanged:!1},boxPlot:{showMeanChanged:!1}};switch(f.common.queryChanged=Zj({oldConfig:e,newConfig:i,behaviorAfterLimit:r?.chartLimits?.behaviorAfterLimit}),f.common.configFiltersChanged=i4(e,i),f.common.xOrYChanged=Jj(u,l),f.common.filterBySelectionChanged=e4(a,r),f.common.dataForFilterBySelectionChanged=t4({currentSelectionOIDs:o,options:r}),f.common.binTemporalDataChanged=r4(e,i),f.common.valueFormatChangeRequiresNewData=o4(e,i),f.common={...f.common,...qj({oldSeries:u,newConfig:i,oldTimeIntervalInfo:n,setTimeBinningInfoWhenNotProvided:r?.setTimeBinningInfoWhenNotProvided})},A=Object.values(f.common).some(p=>p),h){case L.HistogramSeries:f.histogram.dataPropsChanged=Uj(u,l)||Vj(u,l);break;case L.LineSeries:case L.BarSeries:case L.ComboLineAndBarSeries:f.common.numberOfSeriesChanged=pL(u,l);break;case L.BoxPlotSeries:f.common.numberOfSeriesChanged=pL(u,l),f.boxPlot.showMeanChanged=n4(e,i);break;case L.GaugeSeries:f.gauge.valueConversionChanged=Kj(e,i);break}return(f.gauge.valueConversionChanged||f.histogram.dataPropsChanged||f.common.numberOfSeriesChanged||f.common.binTemporalDataChanged||f.boxPlot.showMeanChanged)&&(d=!0),c=t===!0||A||d,{dataUpdateNeeded:c,updateNeededDetails:f}}function l4(s){return s.common.timeIntervalUnitChanged||s.common.newTimeBinningWillBeCalculated||s.common.dataForFilterBySelectionChanged||s.common.filterBySelectionChanged||s.common.configFiltersChanged||s.common.numberOfSeriesChanged||s.common.queryChanged||s.common.xOrYChanged}function u4(s,t){let e=!0;if(s!==void 0&&s.length>1&&!Li(t)){let i=0,r=0,a=0;s.forEach(n=>{let o=n[t];!OT(o)||o===0?a+=1:o>0?i+=1:r+=1}),e=a===s.length||i>=0&&r===0||i===0&&r>=0}return e}function Ov(s){let{countTotal:t,countPerSeries:e,numberOfSeries:i}=s,r,a=[];return typeof t=="number"&&Number.isFinite(t)&&a.push(t),typeof e=="number"&&Number.isFinite(e)&&a.push(e*i),a.length>0&&(r=Math.min(...a)),r}function t$(s,t){let e,{maxBarChartSeriesCount:i,maxBarUniqueSeriesCountTotal:r,maxBarTwoSeriesCountPerSeries:a,maxBarTwoSeriesCountTotal:n,maxBarThreePlusSeriesCountPerSeries:o,maxBarThreePlusSeriesCountTotal:l,maxLineChartSeriesCount:u,maxLineUniqueSeriesCountTotal:h,maxLineTwoSeriesCountPerSeries:c,maxLineTwoSeriesCountTotal:A,maxLineThreePlusSeriesCountPerSeries:d,maxLineThreePlusSeriesCountTotal:f,maxPieChartSliceCountTotal:p,maxGaugeByFeaturesLimit:m}=$c(t),g=Me(s.series),y=s.series.length===0?1:s.series.length,v=Ue(s.series);switch(g){case L.ComboLineAndBarSeries:case L.BarSeries:y<=i&&(y===1?e=r:y===2?e=Ov({countTotal:n,countPerSeries:a,numberOfSeries:y}):y>2&&(e=Ov({countTotal:l,countPerSeries:o,numberOfSeries:y})));break;case L.LineSeries:y<=u&&(y===1?e=h:y===2?e=Ov({countTotal:A,countPerSeries:c,numberOfSeries:y}):y>2&&(e=Ov({countTotal:f,countPerSeries:d,numberOfSeries:y})));break;case L.PieSeries:e=p;break;case L.GaugeSeries:e=m;break;case L.ScatterSeries:case L.HistogramSeries:case L.BoxPlotSeries:}return(v===j.BarAndLineNoAggregation||v===j.BarAndLineMultiFields)&&e!==void 0&&(e=Math.ceil(e/y)),e}function Zv(s,t){let e=s;if(Number.isFinite(s)){let{factor:i,offset:r}=t??{};Number.isFinite(i)&&(e*=i),Number.isFinite(r)&&(e+=r)}return e}function h4(s){let t=!1;if(s!==void 0){let e=s.replace(" ",""),i=/^%(0*100{1,1}\.?((?:\.)0*)?$)|(^%0*\d{0,2}\.?((?:\.)\d*)?)$/u,r=/^(0*100{1,1}\.?((?:\.)0*)?%$)|(^0*\d{0,2}\.?((?:\.)\d*)?%)$/u;t=i.test(e)||r.test(e)}return t}function g0(s){let t;if(h4(s)){let e=/%(\d{1,3}(.\d+)?)$/u,i=/(\d{1,3}(.\d+)?)%$/u,r=s.replace(" ",""),a=e.exec(r)?.[1]??i.exec(r)?.[1];a!==void 0&&(t=Number(a))}return t}var nl={DataProcessComplete:"arcgisChartsJSDataProcessComplete",DataFetchComplete:"arcgisChartsJSDataFetchComplete",LegendItemVisibilityChange:"arcgisChartsJSLegendItemVisibilityChange",UpdateComplete:"arcgisChartsJSUpdateComplete",RenderingComplete:"arcgisChartsJSRenderingComplete",SeriesColorsChange:"arcgisChartsJSSeriesColorChange",AxesMinMaxChange:"arcgisChartsJSAxesMinMaxChange",SelectionComplete:"arcgisChartsJSSelectionComplete",TooManySelectedElements:"arcgisChartsJSTooManySelectedElements",BadDataWarningRaise:"arcgisChartsJSBadDataWarningRaise",SeriesOrder:"arcgisChartsJSSeriesOrder"};function ol(s){return{detail:s,composed:!0,cancelable:!0,bubbles:!0}}function $d(s){let{data:t,seriesConfig:e,htmlContainer:i}=s;if(i&&t){let r=dB({data:t,seriesConfig:e});i.dispatchEvent(new window.CustomEvent(nl.DataProcessComplete,ol(r)))}}function i$(s){let{data:t,chartConfig:e,htmlContainer:i}=s;if(i&&t){let r=cX(t,e);i.dispatchEvent(new window.CustomEvent(nl.DataFetchComplete,ol(r)))}}function r$(s,t){t&&t.dispatchEvent(new window.CustomEvent(nl.LegendItemVisibilityChange,ol(s)))}function bc(s,t){t&&t.dispatchEvent(new window.CustomEvent(nl.UpdateComplete,ol(s)))}function kf(s){s&&s.dispatchEvent(new window.CustomEvent(nl.RenderingComplete,ol()))}function Mf(s){let{data:t,seriesConfig:e,htmlContainer:i}=s;if(i){let r=t,a=gr(t.selectionItems);a&&(a=JI(a,e),a=a.map(IS),a=ZI(a,e),r.selectionItems=a),i.dispatchEvent(new window.CustomEvent(nl.SelectionComplete,ol(r)))}}function s$(s){s&&s.dispatchEvent(new window.CustomEvent(nl.TooManySelectedElements,ol()))}function ll(s){let{data:t,htmlContainer:e,chartId:i,colorMatchApplied:r}=s;e&&e.dispatchEvent(new window.CustomEvent(nl.SeriesColorsChange,ol({chartId:i,data:t,colorMatchApplied:r})))}function a$(s,t){t&&t.dispatchEvent(new window.CustomEvent(nl.AxesMinMaxChange,ol(s)))}function n$(s,t){t&&t.dispatchEvent(new window.CustomEvent(nl.BadDataWarningRaise,ol(s)))}function c4(s){let{data:t,htmlContainer:e}=s;e&&t&&e.dispatchEvent(new window.CustomEvent(nl.SeriesOrder,ol(t)))}function o$(s,t){let e,i,r,a;return cn(s.series[0])&&s.series[0].temporalBinning?.type===ro.FixedDateBased&&(e=s.series[0].temporalBinning.unit,r=s.series[0].temporalBinning.size),cn(t.series[0])&&t.series[0].temporalBinning?.type===ro.FixedDateBased&&(i=t.series[0].temporalBinning.unit,a=t.series[0].temporalBinning.size),LS(e,r)&&!LS(i,a)}function d4(s,t){return s.axes?.length===3&&t.axes?.length===2||s.axes?.length===2&&t.axes?.length===3}function A4(s,t){return JSON.stringify(s.series.map(e=>e.assignToSecondValueAxis??!1))!==JSON.stringify(t.series.map(e=>e.assignToSecondValueAxis??!1))}function f4(s,t){let e=s.axes?.map(r=>r?.guides?.map(a=>a?.above===!0)),i=t.axes?.map(r=>r?.guides?.map(a=>a?.above===!0));return JSON.stringify(e)!==JSON.stringify(i)}function l$(s,t){return hn(s)!==hn(t)}function pB(s){return Me(s.series)!==L.BoxPlotSeries?re.xAxisField:s.series[0].x}function p4(s){let t=Wa(s);return t===ir.Stacked||t===ir.Stacked100}function m4(s,t){return(s.showOutliers??re.boxPlot.boxPlotOutliersVisibility)!==(t.showOutliers??re.boxPlot.boxPlotOutliersVisibility)}function g4(s,t){return(s.standardizeValues??re.boxPlot.boxPlotStandardizeValuesVisibility)!==(t.standardizeValues??re.boxPlot.boxPlotStandardizeValuesVisibility)}function mB(s,t){return JSON.stringify(s.chartRenderer)!==JSON.stringify(t.chartRenderer)}function y4(s,t){let e=s.axes?.[0].valueFormat.type===L.DateAxisFormat?s.axes[0].valueFormat.intlOptions.timeZone:void 0,i=t.axes?.[0].valueFormat.type===L.DateAxisFormat?t.axes[0].valueFormat.intlOptions.timeZone:void 0;return e!==i}function b4(s,t){return s.series.map(e=>e.name).join()!==t.series.map(e=>e.name).join()}function v4(s,t){let e=s.orderOptions?.series,i=t.orderOptions?.series,r=(e?.orderBy??un.Ascending)!==(i?.orderBy??un.Ascending),a=(e?.preferLabel??!0)!==(i?.preferLabel??!0);return r||a}function u$(s,t){return v4(s,t)||b4(s,t)}function x4(s){let t=Ue(s.series),e;if(s.orderOptions?.data!==void 0){let i=s.orderOptions?.data?.orderType??nh.Category,r=s.orderOptions?.data?.orderBy;if(i===nh.Category)i=s.series[0].x;else{i===nh.Mean?i=Ze.Average:i===nh.Median&&(i=Ze.Median);let a=t===j.BoxPlotMultiFieldsAndCategory&&typeof s.series[0].y=="string"?s.series[0].y:void 0,n=jr(s.series[0].query?.where),o=Ns({where:s.series[0].query?.where});i=Gt({key:i,y:a,chartSubType:t,splitBy:n,splitByValue:o}),Array.isArray(r)&&(r=un.Ascending)}e={sortingField:i,orderBy:r??un.Ascending}}return e}function w4(s){let t=s.series[0],{x:e,y:i}=t,r=Ue(s.series)===j.PieFromFields,a,n="",o;if(s.orderOptions?.data!==void 0&&(n=s.orderOptions?.data?.orderType??nh.Category,o=s.orderOptions?.data?.orderBy,n===nh.Category?n=r?rs:e:n=r?Fa:[i].flat()[0]),n!==void 0&&n!==""){let l=Wa(s);if(Me(s.series)!==L.PieSeries&&n!==e&&s.series?.length>1)switch(l){case ir.Stacked:n=re.technicalSortingFieldBySum;break;case ir.Stacked100:n=re.technicalSortingFieldByPercent;break;case ir.Side:typeof i=="string"&&(n=i);break}a={sortingField:n,orderBy:o??un.Ascending}}return a}function kS(s){let t;if(s?.orderOptions?.data&&s.series?.length>0){switch(Me(s.series)){case L.BoxPlotSeries:t=x4(s);break;case L.LineSeries:case L.BarSeries:case L.PieSeries:t=w4(s);break}t&&s.orderOptions?.data?.preferLabel!==void 0&&(t.preferLabel=s.orderOptions.data.preferLabel)}return t}function gB(s){let{oldConfig:t,newConfig:e,dataUpdateNeeded:i}=s,r=Ue(e.series),a=!1,n=!1;if(r!==j.BoxPlotMonoField&&r!==j.BoxPlotMonoFieldAndSplitBy&&e.orderOptions?.data!==void 0){let o=kS(t),l=kS(e);n=t.orderOptions?.data?.orderType!==e.orderOptions?.data?.orderType||o?.sortingField!==l?.sortingField||o?.orderBy!==l?.orderBy||(o?.preferLabel??!0)!==(l?.preferLabel??!0),a=n||i}return a}function h$(s,t){let e=[],i=new Map,r=new Map;return s.forEach((a,n)=>r.set(a.id,n)),t.forEach((a,n)=>{let o=r.get(a.id);if(o!==void 0){let l=new Set;for(;i.has(o)&&!l.has(o);)l.add(o),o=i.get(o)??o;o!==n&&(e.push([o,n]),i.set(n,o))}}),e}function y0(s,t){let e=gr(s);if(e&&e.series.length>1){let{preferLabel:i,orderBy:r}=e.orderOptions?.series??{};if(r!==void 0){let a;if(i===!1){let n=Ue(e.series);a=Jx(n)?"splitByValue":"name"}else a="name";e.series.sort((n,o)=>{let l,u;a==="splitByValue"?(l=Ns({where:n.query?.where})??"",u=Ns({where:o.query?.where})??""):(l=n.name,u=o.name);let[h,c]=r.toUpperCase()===un.Descending?[u,l]:[l,u];return typeof h=="string"&&typeof c=="string"?h.localeCompare(c):Number(h)-Number(c)})}}return c4({data:e?.series.map(i=>i.id),htmlContainer:t}),e}function b0(s){let t={...s};return s.showMean===!0&&(t.series=[t.series[0]],t.series[0].query?.where!==void 0&&delete t.series[0].query.where),t}function c$(s){let{dataInfo:t,chartType:e,subError:i}=s;switch(t.valid=!1,e){case L.BarSeries:case L.ComboLineAndBarSeries:t.invalidType=ci.BarElementExceedsLimit;break;case L.LineSeries:t.invalidType=ci.LineChartExceedsLimit;break;case L.PieSeries:t.invalidType=ci.PieChartExceedsLimit;break;case L.GaugeSeries:t.invalidType=ci.GaugeExceedsLimit;break;case L.BoxPlotSeries:i?.outlierLimit===!0?t.invalidType=ci.BoxPlotOutliersExceedsLimit:t.invalidType=ci.BoxPlotExceedsLimit;break}}function C4(s,t){s.valid=!1,s.invalidType=t}async function d$(s){let{invalidType:t,chartLimits:e,elementCount:i,seriesCount:r,queryObject:a,filterBySelection:n,formatLocale:o=Io().formatLocale,isTemporalLineChart:l,errorStrings:u}=s,h=u.errors.defaultInvalidChart,c,A=new Intl.NumberFormat(o),d=$c(e),{maxCategoryCount:f}=d,p=u.modalHeaders.invalidChart;switch(t){case ci.BarElementExceedsLimit:{p=u.modalHeaders.tooManyFeatures;let m=Number.NaN,g=Number.NaN,y="";r!==void 0&&(r<=d.maxBarChartSeriesCount?r===1?(y=u.errors.uniqueSeriesBarCountCannotExceedLimit,m=d.maxBarUniqueSeriesCountTotal):r===2?(y=u.errors.twoSeriesBarCountCannotExceedLimit,m=d.maxBarTwoSeriesCountTotal,g=d.maxBarTwoSeriesCountPerSeries):r>2&&(y=u.errors.threePlusSeriesBarCountCannotExceedLimit,m=d.maxBarThreePlusSeriesCountTotal,g=d.maxBarThreePlusSeriesCountPerSeries):(y=u.errors.barSeriesCountCannotExceedLimit,g=d.maxBarChartSeriesCount));let v=A.format(m),_=A.format(g),S=i!==void 0?A.format(i):"";h=Ha(y,{totalLimit:v,seriesLimit:_,elementCount:S}),c={actualCount:i??Number.NaN,totalLimit:m,seriesLimit:g};break}case ci.LineChartExceedsLimit:{p=u.modalHeaders.tooManyFeatures;let m=Number.NaN,g=Number.NaN,y="";r!==void 0&&(r<=d.maxLineChartSeriesCount?r===1?(y=l?u.errors.uniqueTemporalSeriesLineCountCannotExceedLimit:u.errors.uniqueSeriesLineCountCannotExceedLimit,m=d.maxLineUniqueSeriesCountTotal):r===2?(y=l?u.errors.twoTemporalSeriesLineCountCannotExceedLimit:u.errors.twoSeriesLineCountCannotExceedLimit,m=d.maxLineTwoSeriesCountTotal,g=d.maxLineTwoSeriesCountPerSeries):r>2&&(y=l?u.errors.threePlusTemporalSeriesLineCountCannotExceedLimit:u.errors.threePlusSeriesLineCountCannotExceedLimit,m=d.maxLineThreePlusSeriesCountTotal,g=d.maxLineThreePlusSeriesCountPerSeries):(y=u.errors.lineSeriesCountCannotExceedLimit,g=d.maxLineChartSeriesCount));let v=A.format(m),_=A.format(g),S=i!==void 0?A.format(i):"";h=Ha(y,{elementCount:S,seriesLimit:_,totalLimit:v}),c={actualCount:i??Number.NaN,totalLimit:m,seriesLimit:g}}break;case ci.BoxPlotExceedsLimit:{p=u.modalHeaders.tooManyFeatures;let m=Number.NaN,g=Number.NaN,y="";r!==void 0&&(r<=d.maxBoxPlotSeriesCount?r===1?(y=u.errors.uniqueSeriesBoxCountCannotExceedLimit,m=d.maxBoxUniqueSeriesCountTotal):r===2?(y=u.errors.twoSeriesBoxCountCannotExceedLimit,m=d.maxBoxTwoSeriesCountTotal,g=d.maxBoxTwoSeriesCountPerSeries):r>2&&(y=u.errors.threePlusBoxLineCountCannotExceedLimit,m=d.maxBoxThreePlusSeriesCountTotal,g=d.maxBoxThreePlusSeriesCountPerSeries):(y=u.errors.boxSeriesCountCannotExceedLimit,g=d.maxBoxPlotSeriesCount));let v=A.format(m),_=A.format(g),S=i!==void 0?A.format(i):"";h=Ha(y,{elementCount:S,seriesLimit:_,totalLimit:v}),c={actualCount:i??Number.NaN,totalLimit:m,seriesLimit:g}}break;case ci.BoxPlotOutliersExceedsLimit:{p=u.modalHeaders.tooManyFeatures;let m=u.errors.boxSeriesOutlierCannotExceedLimit,g=d.maxBoxPlotOutlierLimit,y=A.format(g);h=Ha(m,{totalLimit:y}),c={actualCount:i??Number.NaN,totalLimit:g}}break;case ci.PieChartExceedsLimit:{p=u.modalHeaders.tooManyFeatures;let m=u.errors.pieChartSlicesCannotExceedLimit,g=d.maxPieChartSliceCountTotal,y=A.format(g),v=i!==void 0?A.format(i):"";h=Ha(m,{sliceCount:v,totalLimit:y}),c={actualCount:i??Number.NaN,totalLimit:g}}break;case ci.GaugeExceedsLimit:{p=u.modalHeaders.tooManyFeatures;let m=u.errors.gaugeCannotExceedLimit,g=d.maxGaugeByFeaturesLimit,y=A.format(g),v=i!==void 0?A.format(i):"";h=Ha(m,{featureCount:v,totalLimit:y}),c={actualCount:i??Number.NaN,totalLimit:g}}break;case ci.PieChartMixOfNegativePositiveSlices:p=u.modalHeaders.cannotCombineNegativeAndPositiveSlices,h=u.errors.pieChartCannotHaveMixtureOfPositiveAndNegativeSlices;break;case ci.NegativeValueInSqrtCalculation:p=u.modalHeaders.invalidData,h=u.errors.negativeValueInDataForSqrtTransformation;break;case ci.NegativeValueInLogCalculation:p=u.modalHeaders.invalidData,h=u.errors.negativeValueInDataForLogTransformation;break;case ci.HistogramEmptyField:h=u.errors.histogramEmptyField;break;case ci.EmptyDataSet:p=u.modalHeaders.noDataAvailable,n===!0?h=u.errors.noDataFBSMessage:MT(a)?h=u.errors.noDataFBEMessage:h=u.errors.noDataMessage;break;case ci.NegativeValueInXAxisLogScale:h=u.errors.logarithmicXAxisNotPossible;break;case ci.NegativeValueInYAxisLogScale:h=u.errors.logarithmicYAxisNotPossible;break;case ci.BadData:}if(h===u.errors.defaultInvalidChart&&(t===ci.BarElementExceedsLimit||t===ci.LineChartExceedsLimit||t===ci.PieChartExceedsLimit||t===ci.GaugeExceedsLimit||t===ci.BoxPlotExceedsLimit)&&typeof i=="number"&&typeof r=="number"&&i/r>f){let m=i/r;h=Ha(u.errors.categoryCountCannotExceedLimit,{categoryCount:A.format(m),maxCategoryCount:A.format(f)})}return{keyword:t??ci.BadData,header:p,message:h,params:c}}function Pf(s,t){return`${t}_${s}`}function MS(s){let{value:t,mean:e,stdDev:i}=s;return(t-e)/i}function yB(s){let{dataItem:t,chartSubType:e,y:i,splitByValue:r,meanPerField:a,stdDevPerField:n}=s,o=t,l={chartSubType:e,y:i,splitByValue:r},u=Gt({...l,key:Ze.Average}),h=Gt({...l,key:Ze.StandardDeviation}),c=a??Number(t[u]),A=n??Number(t[h]);return Number.isFinite(c)&&Number.isFinite(A)&&Object.values(Ze).forEach(d=>{let f=Gt({key:d,y:i,chartSubType:e,splitByValue:r}),p=t[f];if(p!=null){let m=Number(p);if(Number.isFinite(m)){l={...l,key:d,showOutliers:!1,standardizeValues:!0};let g=Gt(l);if(o[g]=MS({mean:c,stdDev:A,value:m}),d===Ze.Min||d===Ze.Max){l={...l,key:d,showOutliers:!0,standardizeValues:!0},g=Gt(l),l={...l,standardizeValues:!1,splitByValue:r};let y=Gt(l);m=Number(t[y]),Number.isFinite(m)&&(o[g]=MS({mean:c,stdDev:A,value:m}))}}}}),o}function _4(s){let{data:t,yList:e,calculateZScore:i=!1}=s,r=t[0],a=new Map;return e.forEach(n=>{let o={};Object.keys(r).forEach(l=>{l.startsWith(n)?o[l.replace(`${n}_`,"")]=r[l]:l.includes(re.rendererSymbolField)&&(o[l]=r[l]),o[re.boxPlot.boxPlotCategory]=n,i&&(o=yB({dataItem:o,chartSubType:j.BoxPlotMultiFields}))}),a.set(n,o)}),Array.from(a.values())}function S4(s){let{data:t,splitByField:e,y:i}=s,r={[re.boxPlot.boxPlotCategory]:i};return t.forEach(a=>{let n=a[e];n!==void 0&&Object.keys(a).forEach(o=>{o===re.rendererSymbolField?r[`${o}_${n?.toString()}`]=a[o]:o===re.boxPlot.boxPlotMeanLineMarkerId?r[o]=a[o]:r[`${n?.toString()}_${o}`]=a[o]})}),[r]}function B4(s){let{splitByField:t,data:e,yList:i,calculateZScore:r=!1,meanAndStdDevPerField:a}=s,n=new Map;return e.forEach(o=>{let l=o[t];i.forEach(u=>{let h={[re.boxPlot.boxPlotCategory]:u};Object.entries(o).forEach(([c,A])=>{c.startsWith(`${u}_`)?h[`${l}_${c.replace(`${u}_`,"")}`]=A:c.includes(re.rendererSymbolField)?h[`${c}_${l}`]=A:c===re.boxPlot.boxPlotMeanLineMarkerId&&(h[c]=o[c])}),r&&(h=yB({dataItem:h,chartSubType:j.BoxPlotMultiFieldsAndSplitBy,splitByValue:l,meanPerField:a?.[Pf(u,Je.Average)],stdDevPerField:a?.[Pf(u,Je.StandardDeviation)]})),n.set(u,{...n.get(u)??{},...h})})}),Array.from(n.values())}function F4(s){let{data:t,yList:e,calculateZScore:i=!1,meanAndStdDevPerField:r}=s,a=t;return i&&a.forEach(n=>{e.forEach(o=>{yB({dataItem:n,chartSubType:j.BoxPlotMultiFieldsAndCategory,y:o,meanPerField:r?.[Pf(o,Je.Average)],stdDevPerField:r?.[Pf(o,Je.StandardDeviation)]})})}),a}function P4(s){let{splitByField:t,x:e,data:i}=s,r=new Map;return i.forEach(a=>{let n=a[e],o={[e]:n},l=a[t];Object.entries(a).forEach(([u,h])=>{if(u.includes(re.rendererSymbolField))o[`${re.rendererSymbolField}_${l?.toString()}`]=h;else if(u===re.boxPlot.boxPlotMeanLineMarkerId)o[u]=a[u];else if(u!==t&&u!==e){let c=u!==re.xAxisField&&u!==re.originalCategoryValue?`${l?.toString()}_${u}`:u;o[c]=h}}),r.set(n,{...r.get(n)??{},...o})}),Array.from(r.values())}function T4(s,t){let{series:e}=s,i=e[0],{y:r}=i,a=Ue(s.series),n={y:a===j.BoxPlotMultiFieldsAndCategory?r:void 0,chartSubType:a},o=s.series.map(l=>{let u=Ns({where:l.query?.where,normalize:!1,escape:!0});return u!==null&&`${u}`.startsWith("'")&&`${u}`.endsWith("'")&&(u=u.substring(1,u.length-1)),u});o.length===0&&o.push(" "),t.forEach(l=>{o.forEach(u=>{n.splitByValue=u;let h=Gt({...n,key:Ze.Min,showOutliers:!0}),c=Gt({...n,key:Ze.Min,showOutliers:!1}),A=Gt({...n,key:Ze.Max,showOutliers:!0}),d=Gt({...n,key:Ze.Max,showOutliers:!1});l[A]===void 0&&l[d]!==void 0&&(l[A]=l[d]),l[h]===void 0&&l[c]!==void 0&&(l[h]=l[c])})})}function D4(s,t){let e,i,r=s[t[Ze.IQR]],a=s[t[Ze.FirstQuartile]],n=s[t[Ze.ThirdQuartile]];return Number.isFinite(r)&&Number.isFinite(a)&&Number.isFinite(n)&&(e=a-r*1.5,i=n+r*1.5),{outlierMinThreshold:e,outlierMaxThreshold:i}}function mL(s){let{yField:t,xField:e,xValue:i,splitByField:r,splitByValue:a,outlierMaxThreshold:n,outlierMinThreshold:o,target:l}=s,u;if(e!==void 0&&i!==void 0){let A=typeof i!="string"?i:`'${Kx(i)}'`;u=`${e}=${A.toString()}`}let h;if(r!==void 0&&a!==void 0){let A=typeof a!="string"?a:`'${Kx(a)}'`;h=`${r}=${A.toString()}`}let c;return l==="outliers"&&o!==n?c=`(${t}<${o} OR ${t}>${n})`:l==="alternativeData"&&(o===n?c=`(${t}=${o})`:c=`(${t}>=${o} AND ${t}<=${n})`),[u,h,c].filter(A=>A!==void 0).join(" AND ")}function A$(s){let{data:t,yField:e,x:i,chartSubType:r,splitByField:a}=s,n=r===j.BoxPlotMonoField||r===j.BoxPlotMonoFieldAndCategory||r===j.BoxPlotMonoFieldAndSplitBy||r===j.BoxPlotMonoFieldAndCategoryAndSplitBy?void 0:e,o=dA(n),l=[],u=[],{maxOperandsPerWhereClause:h}=cA(),c=[],A=[],d=1;return t.forEach((f,p)=>{let{outlierMinThreshold:m,outlierMaxThreshold:g}=D4(f,o);if(typeof m=="number"&&typeof g=="number"){let y={yField:e,outlierMinThreshold:m,outlierMaxThreshold:g};(r===j.BoxPlotMonoFieldAndCategory||r===j.BoxPlotMultiFieldsAndCategory||r===j.BoxPlotMonoFieldAndCategoryAndSplitBy)&&i!==void 0&&i in f&&(y.xField=i,y.xValue=Dn({value:f[i],dataContext:f,keepNullValues:!0,specificField:re.typeOrDomainIdValue})),(r===j.BoxPlotMonoFieldAndSplitBy||r===j.BoxPlotMultiFieldsAndSplitBy||r===j.BoxPlotMonoFieldAndCategoryAndSplitBy)&&a!==void 0&&a in f&&(y.splitByField=a,y.splitByValue=f[a]),c.push(mL({...y,target:"outliers"})),A.push(mL({...y,target:"alternativeData"})),(d%h===0||p===t.length-1)&&(l.push(Wr(c,"OR")),u.push(Wr(A,"OR")),c=[],A=[])}d+=1}),{outliersFilterBatches:l,dataWithoutOutliersFilterBatches:u}}function O4(s){let{data:t,outlierDataItem:e,chartSubType:i,x:r,y:a,meanAndStdDevPerField:n,splitByField:o}=s,l=n?.[Pf(a,Je.Average)],u=n?.[Pf(a,Je.StandardDeviation)];if(l===void 0&&u===void 0)switch(i){case j.BoxPlotMultiFields:{let h=dA(a),c=t[0];l=Number(c[h[Ze.Average]]),u=Number(c[h[Ze.StandardDeviation]]);break}case j.BoxPlotMultiFieldsAndCategory:{let h=t.find(c=>c[r]===e[r]);if(h!==void 0){let c=dA(a);l=Number(h[c[Ze.Average]]),u=Number(h[c[Ze.StandardDeviation]])}break}case j.BoxPlotMultiFieldsAndSplitBy:{let h=t.find(c=>c[o]===e[o]);if(h!==void 0){let c=dA(a);l=Number(h[c[Ze.Average]]),u=Number(h[c[Ze.StandardDeviation]])}break}}return{mean:l,stdDev:u}}async function L4(s){let{seriesConfig:t,data:e,uniqueQuery:i,queryObject:r,meanAndStdDevPerField:a,abortKey:n}=s,o=Ue(t),l=t[0],{x:u}=l,h=jr(l.query?.where),c=tr(r),A=Fs(t),d=[];for(let m=0;m<A.length;m+=1){let g=A[m],{outliersFilterBatches:y}=A$({data:e,yField:g,x:u,chartSubType:o,splitByField:h});for(let v=0;v<y.length;v+=1){let _=y[v];if(_!==""){let S=[];u!==re.boxPlot.boxPlotCategory&&S.push(u),S.push(g),h!==""&&S.push(h),S.push(c.objectIdField);let F={...i,where:Wr([i.where,_]),groupByFieldsForStatistics:void 0,outStatistics:void 0,orderByFields:void 0,num:void 0,outFields:S};d.push($o({queryObject:r,queryConfig:F,featureCount:1,abortKey:n}))}}}let f=await Promise.all(d),p=new Map;for(let m=0;m<f.length;m+=1){let g=f[m],y=A[m];g.forEach(v=>{let _={...v.attributes};if(_[y]!==void 0){u===re.boxPlot.boxPlotCategory&&(_[re.boxPlot.boxPlotCategory]=y);let S={key:Ze.Outlier,chartSubType:o};switch(o){case j.BoxPlotMonoFieldAndSplitBy:case j.BoxPlotMultiFieldsAndSplitBy:case j.BoxPlotMonoFieldAndCategoryAndSplitBy:S={...S,splitByValue:_[h]};break;case j.BoxPlotMultiFieldsAndCategory:S={...S,y};break}let F=Gt(S),P=_[y];_[F]=P;let D=`${_[u]}-${_[h]}-${P}`,$=p.get(D);if(_[as.uniqueIdsName]=[...$?.[as.uniqueIdsName]??[],_[c.objectIdField]],delete _[c.objectIdField],kc(o)){let I=Gt({...S,standardizeValues:!0}),{mean:R,stdDev:T}=O4({data:e,outlierDataItem:_,chartSubType:o,x:u,y,splitByField:h,meanAndStdDevPerField:a});R!==void 0&&T!==void 0&&(_[I]=MS({value:P,mean:R,stdDev:T}))}delete _[y],_[re.boxPlot.boxPlotOutlierId]=!0,p.set(D,_)}})}return Array.from(p.values())}async function I4(s){let{data:t,queryObject:e,uniqueQuery:i,elementCount:r,chartConfig:a,chartLimits:n,abortKey:o}=s,l=[],{series:u,showMean:h}=a,c=wy({showMean:h,seriesConfig:u}),A=Ue(u),d=yl(a),{x:f}=d,p=jr(d.query?.where),m=[];for(let y=0;y<c.length;y+=1){let v=c[y],{dataWithoutOutliersFilterBatches:_}=A$({data:t,yField:v,x:f,chartSubType:A,splitByField:p});for(let S=0;S<_.length;S+=1){let F=_[S],P={...i,where:Wr([i.where,F])};P.outStatistics!==void 0&&(P.outStatistics=P.outStatistics?.filter(D=>(D.statisticType===Je.Minimum||D.statisticType===Je.Maximum)&&D.onStatisticField===v).map(D=>({...D,outStatisticFieldName:`${D.outStatisticFieldName}${re.boxPlot.boxPlotOutliersSuffix}`}))),m.push(S0({queryObject:e,uniqueQuery:P,chartConfig:a,elementCount:r,isTimeBinningSeries:!1,showMean:h,chartLimits:n,abortKey:o}))}}let g=await Promise.all(m);for(let y=0;y<g.length;y+=1)l.push(...g[y]);return A!==j.BoxPlotMonoFieldAndCategoryAndSplitBy&&(l=yg({data:l,x:p!==void 0&&p!==""?p:f})),l}async function $4(s){let{queryObject:t,uniqueQuery:e,chartConfig:i,abortKey:r}=s,a,{series:n,showMean:o}=i,l=Ue(n);if(l===j.BoxPlotMultiFieldsAndCategory||l===j.BoxPlotMultiFieldsAndSplitBy){let u=wy({showMean:o,seriesConfig:n}),h={...e};delete h.outStatistics,delete h.groupByFieldsForStatistics,delete h.orderByFields;let c=[];for(let d=0;d<u.length;d+=1){let f=u[d];c.push({statisticType:Je.Average,onStatisticField:f,outStatisticFieldName:`${Je.Average}_${f}`},{statisticType:Je.StandardDeviation,onStatisticField:f,outStatisticFieldName:`${Je.StandardDeviation}_${f}`})}h.outStatistics=c;let A=await $o({queryObject:t,queryConfig:h,featureCount:1,abortKey:r});A.length>0&&(a=A[0].attributes)}return a}function k4(s){let{data:t,additionalData:e,chartConfig:i}=s,r=i.series[0],{x:a}=r,n=jr(r.query?.where);return t.map(o=>{let l=o,u=e.find(h=>h[a]===o[a]&&(n===""?!0:h[n]===o[n]));return u!==void 0&&(l={...o,...u}),l})}function f$(s){let{chartConfig:t,data:e,calculateZScore:i=!1,meanAndStdDevPerField:r}=s,{series:a,showMean:n}=t,o=yl(t),l=Ue(t.series),{x:u}=o,h=wy({showMean:n,seriesConfig:a}),c=e;if((o.type===L.LineSeries||o.type===L.BoxPlotSeries)&&e?.[0]!==void 0){let A=jr(o.query?.where);switch(l){case j.BoxPlotMonoField:c[0][re.boxPlot.boxPlotCategory]=h[0];break;case j.BoxPlotMultiFields:c=_4({data:e,yList:h,calculateZScore:i});break;case j.BoxPlotMonoFieldAndSplitBy:c=S4({data:e,splitByField:A,y:h[0]});break;case j.BoxPlotMultiFieldsAndSplitBy:c=B4({splitByField:A,data:e,yList:h,meanAndStdDevPerField:r,calculateZScore:i});break;case j.BoxPlotMultiFieldsAndCategory:c=F4({data:e,yList:h,meanAndStdDevPerField:r,calculateZScore:i});break;case j.BoxPlotMonoFieldAndCategoryAndSplitBy:c=P4({splitByField:A,x:u,data:e});break;case j.BoxPlotMonoFieldAndCategory:}}return T4(t,c),c}async function M4(s){let{data:t,queryObject:e,uniqueQuery:i,fetchFullBoxPlotData:r,chartConfig:a,elementCount:n,chartLimits:o,abortKey:l}=s,u=t,h=[];if(u!==void 0){let{series:c}=a,A=await $4({queryObject:e,uniqueQuery:i,chartConfig:a,abortKey:l});if(r!==!1){h=await L4({queryObject:e,uniqueQuery:i,seriesConfig:c,data:u,abortKey:l});let d=await I4({queryObject:e,uniqueQuery:i,elementCount:n,data:t,chartConfig:a,chartLimits:o,abortKey:l});u=k4({data:u,additionalData:d,chartConfig:a})}u=f$({chartConfig:a,data:u,meanAndStdDevPerField:A,calculateZScore:!0})}return{dataItems:u,outliers:h}}var Ru=class extends Error{},ES=class extends Ru{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}},RS=class extends Ru{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}},NS=class extends Ru{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}},nc=class extends Ru{},Jv=class extends Ru{constructor(t){super(`Invalid unit ${t}`)}},sa=class extends Ru{},zl=class extends Ru{constructor(){super("Zone is an abstract class")}},at="numeric",al="short",Gn="long",e0={year:at,month:at,day:at},p$={year:at,month:al,day:at},E4={year:at,month:al,day:at,weekday:al},m$={year:at,month:Gn,day:at},g$={year:at,month:Gn,day:at,weekday:Gn},y$={hour:at,minute:at},b$={hour:at,minute:at,second:at},v$={hour:at,minute:at,second:at,timeZoneName:al},x$={hour:at,minute:at,second:at,timeZoneName:Gn},w$={hour:at,minute:at,hourCycle:"h23"},C$={hour:at,minute:at,second:at,hourCycle:"h23"},_$={hour:at,minute:at,second:at,hourCycle:"h23",timeZoneName:al},S$={hour:at,minute:at,second:at,hourCycle:"h23",timeZoneName:Gn},B$={year:at,month:at,day:at,hour:at,minute:at},F$={year:at,month:at,day:at,hour:at,minute:at,second:at},P$={year:at,month:al,day:at,hour:at,minute:at},T$={year:at,month:al,day:at,hour:at,minute:at,second:at},R4={year:at,month:al,day:at,weekday:al,hour:at,minute:at},D$={year:at,month:Gn,day:at,hour:at,minute:at,timeZoneName:al},O$={year:at,month:Gn,day:at,hour:at,minute:at,second:at,timeZoneName:al},L$={year:at,month:Gn,day:at,weekday:Gn,hour:at,minute:at,timeZoneName:Gn},I$={year:at,month:Gn,day:at,weekday:Gn,hour:at,minute:at,second:at,timeZoneName:Gn},kd=class{get type(){throw new zl}get name(){throw new zl}get ianaName(){return this.name}get isUniversal(){throw new zl}offsetName(t,e){throw new zl}formatOffset(t,e){throw new zl}offset(t){throw new zl}equals(t){throw new zl}get isValid(){throw new zl}},yS=null,t0=class s extends kd{static get instance(){return yS===null&&(yS=new s),yS}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Q$(t,e,i)}formatOffset(t,e){return rg(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}},Qv={};function N4(s){return Qv[s]||(Qv[s]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Qv[s]}var V4={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function U4(s,t){let e=s.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,r,a,n,o,l,u,h]=i;return[n,r,a,o,l,u,h]}function Q4(s,t){let e=s.formatToParts(t),i=[];for(let r=0;r<e.length;r++){let{type:a,value:n}=e[r],o=V4[a];a==="era"?i[o]=n:qt(o)||(i[o]=parseInt(n,10))}return i}var Lv={},cc=class s extends kd{static create(t){return Lv[t]||(Lv[t]=new s(t)),Lv[t]}static resetCache(){Lv={},Qv={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=s.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Q$(t,e,i,this.name)}formatOffset(t,e){return rg(this.offset(t),e)}offset(t){let e=new Date(t);if(isNaN(e))return NaN;let i=N4(this.name),[r,a,n,o,l,u,h]=i.formatToParts?Q4(i,e):U4(i,e);o==="BC"&&(r=-Math.abs(r)+1);let c=x0({year:r,month:a,day:n,hour:l===24?0:l,minute:u,second:h,millisecond:0}),A=+e,d=A%1e3;return A-=d>=0?d:1e3+d,(c-A)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}},gL={};function H4(s,t={}){let e=JSON.stringify([s,t]),i=gL[e];return i||(i=new Intl.ListFormat(s,t),gL[e]=i),i}var VS={};function US(s,t={}){let e=JSON.stringify([s,t]),i=VS[e];return i||(i=new Intl.DateTimeFormat(s,t),VS[e]=i),i}var QS={};function j4(s,t={}){let e=JSON.stringify([s,t]),i=QS[e];return i||(i=new Intl.NumberFormat(s,t),QS[e]=i),i}var HS={};function W4(s,t={}){let{base:e,...i}=t,r=JSON.stringify([s,i]),a=HS[r];return a||(a=new Intl.RelativeTimeFormat(s,t),HS[r]=a),a}var Hv=null;function X4(){return Hv||(Hv=new Intl.DateTimeFormat().resolvedOptions().locale,Hv)}var yL={};function z4(s){let t=yL[s];if(!t){let e=new Intl.Locale(s);t="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,yL[s]=t}return t}function G4(s){let t=s.indexOf("-x-");t!==-1&&(s=s.substring(0,t));let e=s.indexOf("-u-");if(e===-1)return[s];{let i,r;try{i=US(s).resolvedOptions(),r=s}catch{let o=s.substring(0,e);i=US(o).resolvedOptions(),r=o}let{numberingSystem:a,calendar:n}=i;return[r,a,n]}}function Y4(s,t,e){return(e||t)&&(s.includes("-u-")||(s+="-u"),e&&(s+=`-ca-${e}`),t&&(s+=`-nu-${t}`)),s}function K4(s){let t=[];for(let e=1;e<=12;e++){let i=Zi.utc(2009,e,1);t.push(s(i))}return t}function q4(s){let t=[];for(let e=1;e<=7;e++){let i=Zi.utc(2016,11,13+e);t.push(s(i))}return t}function Iv(s,t,e,i){let r=s.listingMode();return r==="error"?null:r==="en"?e(t):i(t)}function Z4(s){return s.numberingSystem&&s.numberingSystem!=="latn"?!1:s.numberingSystem==="latn"||!s.locale||s.locale.startsWith("en")||new Intl.DateTimeFormat(s.intl).resolvedOptions().numberingSystem==="latn"}var jS=class{constructor(t,e,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;let{padTo:r,floor:a,...n}=i;if(!e||Object.keys(n).length>0){let o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=j4(t,o)}}format(t){if(this.inf){let e=this.floor?Math.floor(t):t;return this.inf.format(e)}else{let e=this.floor?Math.floor(t):CB(t,3);return Is(e,this.padTo)}}},WS=class{constructor(t,e,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){let n=-1*(t.offset/60),o=n>=0?`Etc/GMT+${n}`:`Etc/GMT${n}`;t.offset!==0&&cc.create(o).valid?(r=o,this.dt=t):(r="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,r=t.zone.name):(r="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);let a={...this.opts};a.timeZone=a.timeZone||r,this.dtf=US(e,a)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(e=>{if(e.type==="timeZoneName"){let i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:i}}else return e}):t}resolvedOptions(){return this.dtf.resolvedOptions()}},XS=class{constructor(t,e,i){this.opts={style:"long",...i},!e&&V$()&&(this.rtf=W4(t,i))}format(t,e){return this.rtf?this.rtf.format(t,e):v5(e,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}},J4={firstDay:1,minimalDays:4,weekend:[6,7]},Lr=class s{static fromOpts(t){return s.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,i,r,a=!1){let n=t||Gr.defaultLocale,o=n||(a?"en-US":X4()),l=e||Gr.defaultNumberingSystem,u=i||Gr.defaultOutputCalendar,h=GS(r)||Gr.defaultWeekSettings;return new s(o,l,u,h,n)}static resetCache(){Hv=null,VS={},QS={},HS={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:i,weekSettings:r}={}){return s.create(t,e,i,r)}constructor(t,e,i,r,a){let[n,o,l]=G4(t);this.locale=n,this.numberingSystem=e||o||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=Y4(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Z4(this)),this.fastNumbersCached}listingMode(){let t=this.isEnglish(),e=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&e?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:s.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,GS(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return Iv(this,t,W$,()=>{let i=e?{month:t,day:"numeric"}:{month:t},r=e?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=K4(a=>this.extract(a,i,"month"))),this.monthsCache[r][t]})}weekdays(t,e=!1){return Iv(this,t,G$,()=>{let i=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=e?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=q4(a=>this.extract(a,i,"weekday"))),this.weekdaysCache[r][t]})}meridiems(){return Iv(this,void 0,()=>Y$,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Zi.utc(2016,11,13,9),Zi.utc(2016,11,13,19)].map(e=>this.extract(e,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Iv(this,t,K$,()=>{let e={era:t};return this.eraCache[t]||(this.eraCache[t]=[Zi.utc(-40,1,1),Zi.utc(2017,1,1)].map(i=>this.extract(i,e,"era"))),this.eraCache[t]})}extract(t,e,i){let r=this.dtFormatter(t,e),a=r.formatToParts(),n=a.find(o=>o.type.toLowerCase()===i);return n?n.value:null}numberFormatter(t={}){return new jS(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new WS(t,this.intl,e)}relFormatter(t={}){return new XS(this.intl,this.isEnglish(),t)}listFormatter(t={}){return H4(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:U$()?z4(this.locale):J4}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}},bS=null,Po=class s extends kd{static get utcInstance(){return bS===null&&(bS=new s(0)),bS}static instance(t){return t===0?s.utcInstance:new s(t)}static parseSpecifier(t){if(t){let e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new s(w0(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${rg(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${rg(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return rg(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}},zS=class extends kd{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function ac(s,t){if(qt(s)||s===null)return t;if(s instanceof kd)return s;if(a5(s)){let e=s.toLowerCase();return e==="default"?t:e==="local"||e==="system"?t0.instance:e==="utc"||e==="gmt"?Po.utcInstance:Po.parseSpecifier(e)||cc.create(s)}else return lc(s)?Po.instance(s):typeof s=="object"&&"offset"in s&&typeof s.offset=="function"?s:new zS(s)}var bB={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},bL={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},e5=bB.hanidec.replace(/[\[|\]]/g,"").split("");function t5(s){let t=parseInt(s,10);if(isNaN(t)){t="";for(let e=0;e<s.length;e++){let i=s.charCodeAt(e);if(s[e].search(bB.hanidec)!==-1)t+=e5.indexOf(s[e]);else for(let r in bL){let[a,n]=bL[r];i>=a&&i<=n&&(t+=i-a)}}return parseInt(t,10)}else return t}var bf={};function i5(){bf={}}function Jo({numberingSystem:s},t=""){let e=s||"latn";return bf[e]||(bf[e]={}),bf[e][t]||(bf[e][t]=new RegExp(`${bB[e]}${t}`)),bf[e][t]}var vL=()=>Date.now(),xL="system",wL=null,CL=null,_L=null,SL=60,BL,FL=null,Gr=class{static get now(){return vL}static set now(t){vL=t}static set defaultZone(t){xL=t}static get defaultZone(){return ac(xL,t0.instance)}static get defaultLocale(){return wL}static set defaultLocale(t){wL=t}static get defaultNumberingSystem(){return CL}static set defaultNumberingSystem(t){CL=t}static get defaultOutputCalendar(){return _L}static set defaultOutputCalendar(t){_L=t}static get defaultWeekSettings(){return FL}static set defaultWeekSettings(t){FL=GS(t)}static get twoDigitCutoffYear(){return SL}static set twoDigitCutoffYear(t){SL=t%100}static get throwOnInvalid(){return BL}static set throwOnInvalid(t){BL=t}static resetCaches(){Lr.resetCache(),cc.resetCache(),Zi.resetCache(),i5()}},zn=class{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},$$=[0,31,59,90,120,151,181,212,243,273,304,334],k$=[0,31,60,91,121,152,182,213,244,274,305,335];function Bo(s,t){return new zn("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${s}, which is invalid`)}function vB(s,t,e){let i=new Date(Date.UTC(s,t-1,e));s<100&&s>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);let r=i.getUTCDay();return r===0?7:r}function M$(s,t,e){return e+(pg(s)?k$:$$)[t-1]}function E$(s,t){let e=pg(s)?k$:$$,i=e.findIndex(a=>a<t),r=t-e[i];return{month:i+1,day:r}}function xB(s,t){return(s-t+7)%7+1}function i0(s,t=4,e=1){let{year:i,month:r,day:a}=s,n=M$(i,r,a),o=xB(vB(i,r,a),e),l=Math.floor((n-o+14-t)/7),u;return l<1?(u=i-1,l=ng(u,t,e)):l>ng(i,t,e)?(u=i+1,l=1):u=i,{weekYear:u,weekNumber:l,weekday:o,...C0(s)}}function PL(s,t=4,e=1){let{weekYear:i,weekNumber:r,weekday:a}=s,n=xB(vB(i,1,t),e),o=wf(i),l=r*7+a-n-7+t,u;l<1?(u=i-1,l+=wf(u)):l>o?(u=i+1,l-=wf(i)):u=i;let{month:h,day:c}=E$(u,l);return{year:u,month:h,day:c,...C0(s)}}function vS(s){let{year:t,month:e,day:i}=s,r=M$(t,e,i);return{year:t,ordinal:r,...C0(s)}}function TL(s){let{year:t,ordinal:e}=s,{month:i,day:r}=E$(t,e);return{year:t,month:i,day:r,...C0(s)}}function DL(s,t){if(!qt(s.localWeekday)||!qt(s.localWeekNumber)||!qt(s.localWeekYear)){if(!qt(s.weekday)||!qt(s.weekNumber)||!qt(s.weekYear))throw new nc("Cannot mix locale-based week fields with ISO-based week fields");return qt(s.localWeekday)||(s.weekday=s.localWeekday),qt(s.localWeekNumber)||(s.weekNumber=s.localWeekNumber),qt(s.localWeekYear)||(s.weekYear=s.localWeekYear),delete s.localWeekday,delete s.localWeekNumber,delete s.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function r5(s,t=4,e=1){let i=v0(s.weekYear),r=Fo(s.weekNumber,1,ng(s.weekYear,t,e)),a=Fo(s.weekday,1,7);return i?r?a?!1:Bo("weekday",s.weekday):Bo("week",s.weekNumber):Bo("weekYear",s.weekYear)}function s5(s){let t=v0(s.year),e=Fo(s.ordinal,1,wf(s.year));return t?e?!1:Bo("ordinal",s.ordinal):Bo("year",s.year)}function R$(s){let t=v0(s.year),e=Fo(s.month,1,12),i=Fo(s.day,1,r0(s.year,s.month));return t?e?i?!1:Bo("day",s.day):Bo("month",s.month):Bo("year",s.year)}function N$(s){let{hour:t,minute:e,second:i,millisecond:r}=s,a=Fo(t,0,23)||t===24&&e===0&&i===0&&r===0,n=Fo(e,0,59),o=Fo(i,0,59),l=Fo(r,0,999);return a?n?o?l?!1:Bo("millisecond",r):Bo("second",i):Bo("minute",e):Bo("hour",t)}function qt(s){return typeof s>"u"}function lc(s){return typeof s=="number"}function v0(s){return typeof s=="number"&&s%1===0}function a5(s){return typeof s=="string"}function n5(s){return Object.prototype.toString.call(s)==="[object Date]"}function V$(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function U$(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function o5(s){return Array.isArray(s)?s:[s]}function OL(s,t,e){if(s.length!==0)return s.reduce((i,r)=>{let a=[t(r),r];return i&&e(i[0],a[0])===i[0]?i:a},null)[1]}function l5(s,t){return t.reduce((e,i)=>(e[i]=s[i],e),{})}function Tf(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function GS(s){if(s==null)return null;if(typeof s!="object")throw new sa("Week settings must be an object");if(!Fo(s.firstDay,1,7)||!Fo(s.minimalDays,1,7)||!Array.isArray(s.weekend)||s.weekend.some(t=>!Fo(t,1,7)))throw new sa("Invalid week settings");return{firstDay:s.firstDay,minimalDays:s.minimalDays,weekend:Array.from(s.weekend)}}function Fo(s,t,e){return v0(s)&&s>=t&&s<=e}function u5(s,t){return s-t*Math.floor(s/t)}function Is(s,t=2){let e=s<0,i;return e?i="-"+(""+-s).padStart(t,"0"):i=(""+s).padStart(t,"0"),i}function sc(s){if(!(qt(s)||s===null||s===""))return parseInt(s,10)}function Dd(s){if(!(qt(s)||s===null||s===""))return parseFloat(s)}function wB(s){if(!(qt(s)||s===null||s==="")){let t=parseFloat("0."+s)*1e3;return Math.floor(t)}}function CB(s,t,e=!1){let i=10**t;return(e?Math.trunc:Math.round)(s*i)/i}function pg(s){return s%4===0&&(s%100!==0||s%400===0)}function wf(s){return pg(s)?366:365}function r0(s,t){let e=u5(t-1,12)+1,i=s+(t-e)/12;return e===2?pg(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function x0(s){let t=Date.UTC(s.year,s.month-1,s.day,s.hour,s.minute,s.second,s.millisecond);return s.year<100&&s.year>=0&&(t=new Date(t),t.setUTCFullYear(s.year,s.month-1,s.day)),+t}function LL(s,t,e){return-xB(vB(s,1,t),e)+t-1}function ng(s,t=4,e=1){let i=LL(s,t,e),r=LL(s+1,t,e);return(wf(s)-i+r)/7}function YS(s){return s>99?s:s>Gr.twoDigitCutoffYear?1900+s:2e3+s}function Q$(s,t,e,i=null){let r=new Date(s),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(a.timeZone=i);let n={timeZoneName:t,...a},o=new Intl.DateTimeFormat(e,n).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return o?o.value:null}function w0(s,t){let e=parseInt(s,10);Number.isNaN(e)&&(e=0);let i=parseInt(t,10)||0,r=e<0||Object.is(e,-0)?-i:i;return e*60+r}function H$(s){let t=Number(s);if(typeof s=="boolean"||s===""||Number.isNaN(t))throw new sa(`Invalid unit value ${s}`);return t}function s0(s,t){let e={};for(let i in s)if(Tf(s,i)){let r=s[i];if(r==null)continue;e[t(i)]=H$(r)}return e}function rg(s,t){let e=Math.trunc(Math.abs(s/60)),i=Math.trunc(Math.abs(s%60)),r=s>=0?"+":"-";switch(t){case"short":return`${r}${Is(e,2)}:${Is(i,2)}`;case"narrow":return`${r}${e}${i>0?`:${i}`:""}`;case"techie":return`${r}${Is(e,2)}${Is(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function C0(s){return l5(s,["hour","minute","second","millisecond"])}var h5=["January","February","March","April","May","June","July","August","September","October","November","December"],j$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c5=["J","F","M","A","M","J","J","A","S","O","N","D"];function W$(s){switch(s){case"narrow":return[...c5];case"short":return[...j$];case"long":return[...h5];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var X$=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],z$=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],d5=["M","T","W","T","F","S","S"];function G$(s){switch(s){case"narrow":return[...d5];case"short":return[...z$];case"long":return[...X$];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Y$=["AM","PM"],A5=["Before Christ","Anno Domini"],f5=["BC","AD"],p5=["B","A"];function K$(s){switch(s){case"narrow":return[...p5];case"short":return[...f5];case"long":return[...A5];default:return null}}function m5(s){return Y$[s.hour<12?0:1]}function g5(s,t){return G$(t)[s.weekday-1]}function y5(s,t){return W$(t)[s.month-1]}function b5(s,t){return K$(t)[s.year<0?0:1]}function v5(s,t,e="always",i=!1){let r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(s)===-1;if(e==="auto"&&a){let c=s==="days";switch(t){case 1:return c?"tomorrow":`next ${r[s][0]}`;case-1:return c?"yesterday":`last ${r[s][0]}`;case 0:return c?"today":`this ${r[s][0]}`}}let n=Object.is(t,-0)||t<0,o=Math.abs(t),l=o===1,u=r[s],h=i?l?u[1]:u[2]||u[1]:l?r[s][0]:s;return n?`${o} ${h} ago`:`in ${o} ${h}`}function IL(s,t){let e="";for(let i of s)i.literal?e+=i.val:e+=t(i.val);return e}var x5={D:e0,DD:p$,DDD:m$,DDDD:g$,t:y$,tt:b$,ttt:v$,tttt:x$,T:w$,TT:C$,TTT:_$,TTTT:S$,f:B$,ff:P$,fff:D$,ffff:L$,F:F$,FF:T$,FFF:O$,FFFF:I$},Xn=class s{static create(t,e={}){return new s(t,e)}static parseFormat(t){let e=null,i="",r=!1,a=[];for(let n=0;n<t.length;n++){let o=t.charAt(n);o==="'"?(i.length>0&&a.push({literal:r||/^\s+$/.test(i),val:i}),e=null,i="",r=!r):r||o===e?i+=o:(i.length>0&&a.push({literal:/^\s+$/.test(i),val:i}),i=o,e=o)}return i.length>0&&a.push({literal:r||/^\s+$/.test(i),val:i}),a}static macroTokenToFormatOpts(t){return x5[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return Is(t,e);let i={...this.opts};return e>0&&(i.padTo=e),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,e){let i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(d,f)=>this.loc.extract(t,d,f),n=d=>t.isOffsetFixed&&t.offset===0&&d.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,d.format):"",o=()=>i?m5(t):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(d,f)=>i?y5(t,d):a(f?{month:d}:{month:d,day:"numeric"},"month"),u=(d,f)=>i?g5(t,d):a(f?{weekday:d}:{weekday:d,month:"long",day:"numeric"},"weekday"),h=d=>{let f=s.macroTokenToFormatOpts(d);return f?this.formatWithSystemDefault(t,f):d},c=d=>i?b5(t,d):a({era:d},"era"),A=d=>{switch(d){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return n({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return n({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return n({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return o();case"d":return r?a({day:"numeric"},"day"):this.num(t.day);case"dd":return r?a({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?a({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?a({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?a({month:"numeric"},"month"):this.num(t.month);case"MM":return r?a({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?a({year:"numeric"},"year"):this.num(t.year);case"yy":return r?a({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?a({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?a({year:"numeric"},"year"):this.num(t.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(d)}};return IL(s.parseFormat(e),A)}formatDurationFromString(t,e){let i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>u=>{let h=i(u);return h?this.num(l.get(h),u.length):u},a=s.parseFormat(e),n=a.reduce((l,{literal:u,val:h})=>u?l:l.concat(h),[]),o=t.shiftTo(...n.map(i).filter(l=>l));return IL(a,r(o))}},q$=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ef(...s){let t=s.reduce((e,i)=>e+i.source,"");return RegExp(`^${t}$`)}function Rf(...s){return t=>s.reduce(([e,i,r],a)=>{let[n,o,l]=a(t,r);return[{...e,...n},o||i,l]},[{},null,1]).slice(0,2)}function Nf(s,...t){if(s==null)return[null,null];for(let[e,i]of t){let r=e.exec(s);if(r)return i(r)}return[null,null]}function Z$(...s){return(t,e)=>{let i={},r;for(r=0;r<s.length;r++)i[s[r]]=sc(t[e+r]);return[i,null,e+r]}}var J$=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,w5=`(?:${J$.source}?(?:\\[(${q$.source})\\])?)?`,_B=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ek=RegExp(`${_B.source}${w5}`),SB=RegExp(`(?:T${ek.source})?`),C5=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,_5=/(\d{4})-?W(\d\d)(?:-?(\d))?/,S5=/(\d{4})-?(\d{3})/,B5=Z$("weekYear","weekNumber","weekDay"),F5=Z$("year","ordinal"),P5=/(\d{4})-(\d\d)-(\d\d)/,tk=RegExp(`${_B.source} ?(?:${J$.source}|(${q$.source}))?`),T5=RegExp(`(?: ${tk.source})?`);function Cf(s,t,e){let i=s[t];return qt(i)?e:sc(i)}function D5(s,t){return[{year:Cf(s,t),month:Cf(s,t+1,1),day:Cf(s,t+2,1)},null,t+3]}function Vf(s,t){return[{hours:Cf(s,t,0),minutes:Cf(s,t+1,0),seconds:Cf(s,t+2,0),milliseconds:wB(s[t+3])},null,t+4]}function mg(s,t){let e=!s[t]&&!s[t+1],i=w0(s[t+1],s[t+2]),r=e?null:Po.instance(i);return[{},r,t+3]}function gg(s,t){let e=s[t]?cc.create(s[t]):null;return[{},e,t+1]}var O5=RegExp(`^T?${_B.source}$`),L5=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function I5(s){let[t,e,i,r,a,n,o,l,u]=s,h=t[0]==="-",c=l&&l[0]==="-",A=(d,f=!1)=>d!==void 0&&(f||d&&h)?-d:d;return[{years:A(Dd(e)),months:A(Dd(i)),weeks:A(Dd(r)),days:A(Dd(a)),hours:A(Dd(n)),minutes:A(Dd(o)),seconds:A(Dd(l),l==="-0"),milliseconds:A(wB(u),c)}]}var $5={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function BB(s,t,e,i,r,a,n){let o={year:t.length===2?YS(sc(t)):sc(t),month:j$.indexOf(e)+1,day:sc(i),hour:sc(r),minute:sc(a)};return n&&(o.second=sc(n)),s&&(o.weekday=s.length>3?X$.indexOf(s)+1:z$.indexOf(s)+1),o}var k5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function M5(s){let[,t,e,i,r,a,n,o,l,u,h,c]=s,A=BB(t,r,i,e,a,n,o),d;return l?d=$5[l]:u?d=0:d=w0(h,c),[A,new Po(d)]}function E5(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var R5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,N5=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,V5=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function $L(s){let[,t,e,i,r,a,n,o]=s;return[BB(t,r,i,e,a,n,o),Po.utcInstance]}function U5(s){let[,t,e,i,r,a,n,o]=s;return[BB(t,o,e,i,r,a,n),Po.utcInstance]}var Q5=Ef(C5,SB),H5=Ef(_5,SB),j5=Ef(S5,SB),W5=Ef(ek),ik=Rf(D5,Vf,mg,gg),X5=Rf(B5,Vf,mg,gg),z5=Rf(F5,Vf,mg,gg),G5=Rf(Vf,mg,gg);function Y5(s){return Nf(s,[Q5,ik],[H5,X5],[j5,z5],[W5,G5])}function K5(s){return Nf(E5(s),[k5,M5])}function q5(s){return Nf(s,[R5,$L],[N5,$L],[V5,U5])}function Z5(s){return Nf(s,[L5,I5])}var J5=Rf(Vf);function eW(s){return Nf(s,[O5,J5])}var tW=Ef(P5,T5),iW=Ef(tk),rW=Rf(Vf,mg,gg);function sW(s){return Nf(s,[tW,ik],[iW,rW])}var kL="Invalid Duration",rk={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},aW={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...rk},_o=146097/400,mf=146097/4800,nW={years:{quarters:4,months:12,weeks:_o/7,days:_o,hours:_o*24,minutes:_o*24*60,seconds:_o*24*60*60,milliseconds:_o*24*60*60*1e3},quarters:{months:3,weeks:_o/28,days:_o/4,hours:_o*24/4,minutes:_o*24*60/4,seconds:_o*24*60*60/4,milliseconds:_o*24*60*60*1e3/4},months:{weeks:mf/7,days:mf,hours:mf*24,minutes:mf*24*60,seconds:mf*24*60*60,milliseconds:mf*24*60*60*1e3},...rk},Ld=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],oW=Ld.slice(0).reverse();function ic(s,t,e=!1){let i={values:e?t.values:{...s.values,...t.values||{}},loc:s.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||s.conversionAccuracy,matrix:t.matrix||s.matrix};return new aa(i)}function sk(s,t){let e=t.milliseconds??0;for(let i of oW.slice(1))t[i]&&(e+=t[i]*s[i].milliseconds);return e}function ML(s,t){let e=sk(s,t)<0?-1:1;Ld.reduceRight((i,r)=>{if(qt(t[r]))return i;if(i){let a=t[i]*e,n=s[r][i],o=Math.floor(a/n);t[r]+=o*e,t[i]-=o*n*e}return r},null),Ld.reduce((i,r)=>{if(qt(t[r]))return i;if(i){let a=t[i]%1;t[i]-=a,t[r]+=a*s[i][r]}return r},null)}function lW(s){let t={};for(let[e,i]of Object.entries(s))i!==0&&(t[e]=i);return t}var aa=class s{constructor(t){let e=t.conversionAccuracy==="longterm"||!1,i=e?nW:aW;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||Lr.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,e){return s.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(t==null||typeof t!="object")throw new sa(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new s({values:s0(t,s.normalizeUnit),loc:Lr.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(lc(t))return s.fromMillis(t);if(s.isDuration(t))return t;if(typeof t=="object")return s.fromObject(t);throw new sa(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){let[i]=Z5(t);return i?s.fromObject(i,e):s.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){let[i]=eW(t);return i?s.fromObject(i,e):s.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new sa("need to specify a reason the Duration is invalid");let i=t instanceof zn?t:new zn(t,e);if(Gr.throwOnInvalid)throw new NS(i);return new s({invalid:i})}static normalizeUnit(t){let e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new Jv(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){let i={...e,floor:e.round!==!1&&e.floor!==!1};return this.isValid?Xn.create(this.loc,i).formatDurationFromString(this,t):kL}toHuman(t={}){if(!this.isValid)return kL;let e=Ld.map(i=>{let r=this.values[i];return qt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=CB(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;let e=this.toMillis();return e<0||e>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Zi.fromMillis(e,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?sk(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let e=s.fromDurationLike(t),i={};for(let r of Ld)(Tf(e.values,r)||Tf(this.values,r))&&(i[r]=e.get(r)+this.get(r));return ic(this,{values:i},!0)}minus(t){if(!this.isValid)return this;let e=s.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;let e={};for(let i of Object.keys(this.values))e[i]=H$(t(this.values[i],i));return ic(this,{values:e},!0)}get(t){return this[s.normalizeUnit(t)]}set(t){if(!this.isValid)return this;let e={...this.values,...s0(t,s.normalizeUnit)};return ic(this,{values:e})}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:i,matrix:r}={}){let a={loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:r,conversionAccuracy:i};return ic(this,a)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;let t=this.toObject();return ML(this.matrix,t),ic(this,{values:t},!0)}rescale(){if(!this.isValid)return this;let t=lW(this.normalize().shiftToAll().toObject());return ic(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(n=>s.normalizeUnit(n));let e={},i={},r=this.toObject(),a;for(let n of Ld)if(t.indexOf(n)>=0){a=n;let o=0;for(let u in i)o+=this.matrix[u][n]*i[u],i[u]=0;lc(r[n])&&(o+=r[n]);let l=Math.trunc(o);e[n]=l,i[n]=(o*1e3-l*1e3)/1e3}else lc(r[n])&&(i[n]=r[n]);for(let n in i)i[n]!==0&&(e[a]+=n===a?i[n]:i[n]/this.matrix[a][n]);return ML(this.matrix,e),ic(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let t={};for(let e of Object.keys(this.values))t[e]=this.values[e]===0?0:-this.values[e];return ic(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function e(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(let i of Ld)if(!e(this.values[i],t.values[i]))return!1;return!0}},gf="Invalid Interval";function uW(s,t){return!s||!s.isValid?_f.invalid("missing or invalid start"):!t||!t.isValid?_f.invalid("missing or invalid end"):t<s?_f.invalid("end before start",`The end of an interval must be after its start, but you had start=${s.toISO()} and end=${t.toISO()}`):null}var _f=class s{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new sa("need to specify a reason the Interval is invalid");let i=t instanceof zn?t:new zn(t,e);if(Gr.throwOnInvalid)throw new RS(i);return new s({invalid:i})}static fromDateTimes(t,e){let i=tg(t),r=tg(e);return uW(i,r)??new s({start:i,end:r})}static after(t,e){let i=aa.fromDurationLike(e),r=tg(t);return s.fromDateTimes(r,r.plus(i))}static before(t,e){let i=aa.fromDurationLike(e),r=tg(t);return s.fromDateTimes(r.minus(i),r)}static fromISO(t,e){let[i,r]=(t||"").split("/",2);if(i&&r){let a,n;try{a=Zi.fromISO(i,e),n=a.isValid}catch{n=!1}let o,l;try{o=Zi.fromISO(r,e),l=o.isValid}catch{l=!1}if(n&&l)return s.fromDateTimes(a,o);if(n){let u=aa.fromISO(r,e);if(u.isValid)return s.after(a,u)}else if(l){let u=aa.fromISO(i,e);if(u.isValid)return s.before(o,u)}}return s.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;let i=this.start.startOf(t,e),r;return e?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(t,e),Math.floor(r.diff(i,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:e}={}){return this.isValid?s.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];let e=t.map(tg).filter(n=>this.contains(n)).sort((n,o)=>n.toMillis()-o.toMillis()),i=[],{s:r}=this,a=0;for(;r<this.e;){let n=e[a]||this.e,o=+n>+this.e?this.e:n;i.push(s.fromDateTimes(r,o)),r=o,a+=1}return i}splitBy(t){let e=aa.fromDurationLike(t);if(!this.isValid||!e.isValid||e.as("milliseconds")===0)return[];let{s:i}=this,r=1,a,n=[];for(;i<this.e;){let o=this.start.plus(e.mapUnits(l=>l*r));a=+o>+this.e?this.e:o,n.push(s.fromDateTimes(i,a)),i=a,r+=1}return n}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;let e=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return e>=i?null:s.fromDateTimes(e,i)}union(t){if(!this.isValid)return this;let e=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return s.fromDateTimes(e,i)}static merge(t){let[e,i]=t.sort((r,a)=>r.s-a.s).reduce(([r,a],n)=>a?a.overlaps(n)||a.abutsStart(n)?[r,a.union(n)]:[r.concat([a]),n]:[r,n],[[],null]);return i&&e.push(i),e}static xor(t){let e=null,i=0,r=[],a=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),n=Array.prototype.concat(...a),o=n.sort((l,u)=>l.time-u.time);for(let l of o)i+=l.type==="s"?1:-1,i===1?e=l.time:(e&&+e!=+l.time&&r.push(s.fromDateTimes(e,l.time)),e=null);return s.merge(r)}difference(...t){return s.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:gf}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=e0,e={}){return this.isValid?Xn.create(this.s.loc.clone(e),t).formatInterval(this):gf}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:gf}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:gf}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:gf}toFormat(t,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:gf}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):aa.invalid(this.invalidReason)}mapEndpoints(t){return s.fromDateTimes(t(this.s),t(this.e))}},xf=class{static hasDST(t=Gr.defaultZone){let e=Zi.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return cc.isValidZone(t)}static normalizeZone(t){return ac(t,Gr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||Lr.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||Lr.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||Lr.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null,outputCalendar:a="gregory"}={}){return(r||Lr.create(e,i,a)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null,outputCalendar:a="gregory"}={}){return(r||Lr.create(e,i,a)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Lr.create(e,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Lr.create(e,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Lr.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return Lr.create(e,null,"gregory").eras(t)}static features(){return{relative:V$(),localeWeek:U$()}}};function EL(s,t){let e=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=e(t)-e(s);return Math.floor(aa.fromMillis(i).as("days"))}function hW(s,t,e){let i=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{let h=EL(l,u);return(h-h%7)/7}],["days",EL]],r={},a=s,n,o;for(let[l,u]of i)e.indexOf(l)>=0&&(n=l,r[l]=u(s,t),o=a.plus(r),o>t?(r[l]--,s=a.plus(r),s>t&&(o=s,r[l]--,s=a.plus(r))):s=o);return[s,r,o,n]}function cW(s,t,e,i){let[r,a,n,o]=hW(s,t,e),l=t-r,u=e.filter(c=>["hours","minutes","seconds","milliseconds"].indexOf(c)>=0);u.length===0&&(n<t&&(n=r.plus({[o]:1})),n!==r&&(a[o]=(a[o]||0)+l/(n-r)));let h=aa.fromObject(a,i);return u.length>0?aa.fromMillis(l,i).shiftTo(...u).plus(h):h}var dW="missing Intl.DateTimeFormat.formatToParts support";function ar(s,t=e=>e){return{regex:s,deser:([e])=>t(t5(e))}}var AW="\xA0",ak=`[ ${AW}]`,nk=new RegExp(ak,"g");function fW(s){return s.replace(/\./g,"\\.?").replace(nk,ak)}function RL(s){return s.replace(/\./g,"").replace(nk," ").toLowerCase()}function el(s,t){return s===null?null:{regex:RegExp(s.map(fW).join("|")),deser:([e])=>s.findIndex(i=>RL(e)===RL(i))+t}}function NL(s,t){return{regex:s,deser:([,e,i])=>w0(e,i),groups:t}}function $v(s){return{regex:s,deser:([t])=>t}}function pW(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function mW(s,t){let e=Jo(t),i=Jo(t,"{2}"),r=Jo(t,"{3}"),a=Jo(t,"{4}"),n=Jo(t,"{6}"),o=Jo(t,"{1,2}"),l=Jo(t,"{1,3}"),u=Jo(t,"{1,6}"),h=Jo(t,"{1,9}"),c=Jo(t,"{2,4}"),A=Jo(t,"{4,6}"),d=p=>({regex:RegExp(pW(p.val)),deser:([m])=>m,literal:!0}),f=(p=>{if(s.literal)return d(p);switch(p.val){case"G":return el(t.eras("short"),0);case"GG":return el(t.eras("long"),0);case"y":return ar(u);case"yy":return ar(c,YS);case"yyyy":return ar(a);case"yyyyy":return ar(A);case"yyyyyy":return ar(n);case"M":return ar(o);case"MM":return ar(i);case"MMM":return el(t.months("short",!0),1);case"MMMM":return el(t.months("long",!0),1);case"L":return ar(o);case"LL":return ar(i);case"LLL":return el(t.months("short",!1),1);case"LLLL":return el(t.months("long",!1),1);case"d":return ar(o);case"dd":return ar(i);case"o":return ar(l);case"ooo":return ar(r);case"HH":return ar(i);case"H":return ar(o);case"hh":return ar(i);case"h":return ar(o);case"mm":return ar(i);case"m":return ar(o);case"q":return ar(o);case"qq":return ar(i);case"s":return ar(o);case"ss":return ar(i);case"S":return ar(l);case"SSS":return ar(r);case"u":return $v(h);case"uu":return $v(o);case"uuu":return ar(e);case"a":return el(t.meridiems(),0);case"kkkk":return ar(a);case"kk":return ar(c,YS);case"W":return ar(o);case"WW":return ar(i);case"E":case"c":return ar(e);case"EEE":return el(t.weekdays("short",!1),1);case"EEEE":return el(t.weekdays("long",!1),1);case"ccc":return el(t.weekdays("short",!0),1);case"cccc":return el(t.weekdays("long",!0),1);case"Z":case"ZZ":return NL(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return NL(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return $v(/[a-z_+-/]{1,256}?/i);case" ":return $v(/[^\S\n\r]/);default:return d(p)}})(s)||{invalidReason:dW};return f.token=s,f}var gW={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function yW(s,t,e){let{type:i,value:r}=s;if(i==="literal"){let l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}let a=t[i],n=i;i==="hour"&&(t.hour12!=null?n=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?n="hour12":n="hour24":n=e.hour12?"hour12":"hour24");let o=gW[n];if(typeof o=="object"&&(o=o[a]),o)return{literal:!1,val:o}}function bW(s){return[`^${s.map(t=>t.regex).reduce((t,e)=>`${t}(${e.source})`,"")}$`,s]}function vW(s,t,e){let i=s.match(t);if(i){let r={},a=1;for(let n in e)if(Tf(e,n)){let o=e[n],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(r[o.token.val[0]]=o.deser(i.slice(a,a+l))),a+=l}return[i,r]}else return[i,{}]}function xW(s){let t=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},e=null,i;return qt(s.z)||(e=cc.create(s.z)),qt(s.Z)||(e||(e=new Po(s.Z)),i=s.Z),qt(s.q)||(s.M=(s.q-1)*3+1),qt(s.h)||(s.h<12&&s.a===1?s.h+=12:s.h===12&&s.a===0&&(s.h=0)),s.G===0&&s.y&&(s.y=-s.y),qt(s.u)||(s.S=wB(s.u)),[Object.keys(s).reduce((r,a)=>{let n=t(a);return n&&(r[n]=s[a]),r},{}),e,i]}var xS=null;function wW(){return xS||(xS=Zi.fromMillis(1555555555555)),xS}function CW(s,t){if(s.literal)return s;let e=Xn.macroTokenToFormatOpts(s.val),i=uk(e,t);return i==null||i.includes(void 0)?s:i}function ok(s,t){return Array.prototype.concat(...s.map(e=>CW(e,t)))}var a0=class{constructor(t,e){if(this.locale=t,this.format=e,this.tokens=ok(Xn.parseFormat(e),t),this.units=this.tokens.map(i=>mW(i,t)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){let[i,r]=bW(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(t){if(this.isValid){let[e,i]=vW(t,this.regex,this.handlers),[r,a,n]=i?xW(i):[null,null,void 0];if(Tf(i,"a")&&Tf(i,"H"))throw new nc("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:e,matches:i,result:r,zone:a,specificOffset:n}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function lk(s,t,e){return new a0(s,e).explainFromTokens(t)}function _W(s,t,e){let{result:i,zone:r,specificOffset:a,invalidReason:n}=lk(s,t,e);return[i,r,a,n]}function uk(s,t){if(!s)return null;let e=Xn.create(t,s).dtFormatter(wW()),i=e.formatToParts(),r=e.resolvedOptions();return i.map(a=>yW(a,s,r))}var wS="Invalid DateTime",SW=864e13;function ig(s){return new zn("unsupported zone",`the zone "${s.name}" is not supported`)}function CS(s){return s.weekData===null&&(s.weekData=i0(s.c)),s.weekData}function _S(s){return s.localWeekData===null&&(s.localWeekData=i0(s.c,s.loc.getMinDaysInFirstWeek(),s.loc.getStartOfWeek())),s.localWeekData}function Od(s,t){let e={ts:s.ts,zone:s.zone,c:s.c,o:s.o,loc:s.loc,invalid:s.invalid};return new Zi({...e,...t,old:e})}function hk(s,t,e){let i=s-t*60*1e3,r=e.offset(i);if(t===r)return[i,t];i-=(r-t)*60*1e3;let a=e.offset(i);return r===a?[i,r]:[s-Math.min(r,a)*60*1e3,Math.max(r,a)]}function kv(s,t){s+=t*60*1e3;let e=new Date(s);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function jv(s,t,e){return hk(x0(s),t,e)}function VL(s,t){let e=s.o,i=s.c.year+Math.trunc(t.years),r=s.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,a={...s.c,year:i,month:r,day:Math.min(s.c.day,r0(i,r))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},n=aa.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=x0(a),[l,u]=hk(o,e,s.zone);return n!==0&&(l+=n,u=s.zone.offset(l)),{ts:l,o:u}}function yf(s,t,e,i,r,a){let{setZone:n,zone:o}=e;if(s&&Object.keys(s).length!==0||t){let l=t||o,u=Zi.fromObject(s,{...e,zone:l,specificOffset:a});return n?u:u.setZone(o)}else return Zi.invalid(new zn("unparsable",`the input "${r}" can't be parsed as ${i}`))}function Mv(s,t,e=!0){return s.isValid?Xn.create(Lr.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(s,t):null}function SS(s,t){let e=s.c.year>9999||s.c.year<0,i="";return e&&s.c.year>=0&&(i+="+"),i+=Is(s.c.year,e?6:4),t?(i+="-",i+=Is(s.c.month),i+="-",i+=Is(s.c.day)):(i+=Is(s.c.month),i+=Is(s.c.day)),i}function UL(s,t,e,i,r,a){let n=Is(s.c.hour);return t?(n+=":",n+=Is(s.c.minute),(s.c.millisecond!==0||s.c.second!==0||!e)&&(n+=":")):n+=Is(s.c.minute),(s.c.millisecond!==0||s.c.second!==0||!e)&&(n+=Is(s.c.second),(s.c.millisecond!==0||!i)&&(n+=".",n+=Is(s.c.millisecond,3))),r&&(s.isOffsetFixed&&s.offset===0&&!a?n+="Z":s.o<0?(n+="-",n+=Is(Math.trunc(-s.o/60)),n+=":",n+=Is(Math.trunc(-s.o%60))):(n+="+",n+=Is(Math.trunc(s.o/60)),n+=":",n+=Is(Math.trunc(s.o%60)))),a&&(n+="["+s.zone.ianaName+"]"),n}var ck={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},BW={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},FW={ordinal:1,hour:0,minute:0,second:0,millisecond:0},dk=["year","month","day","hour","minute","second","millisecond"],PW=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],TW=["year","ordinal","hour","minute","second","millisecond"];function DW(s){let t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[s.toLowerCase()];if(!t)throw new Jv(s);return t}function QL(s){switch(s.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return DW(s)}}function OW(s){return Xv[s]||(Wv===void 0&&(Wv=Gr.now()),Xv[s]=s.offset(Wv)),Xv[s]}function HL(s,t){let e=ac(t.zone,Gr.defaultZone);if(!e.isValid)return Zi.invalid(ig(e));let i=Lr.fromObject(t),r,a;if(qt(s.year))r=Gr.now();else{for(let l of dk)qt(s[l])&&(s[l]=ck[l]);let n=R$(s)||N$(s);if(n)return Zi.invalid(n);let o=OW(e);[r,a]=jv(s,o,e)}return new Zi({ts:r,zone:e,loc:i,o:a})}function jL(s,t,e){let i=qt(e.round)?!0:e.round,r=(n,o)=>(n=CB(n,i||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(n,o)),a=n=>e.calendary?t.hasSame(s,n)?0:t.startOf(n).diff(s.startOf(n),n).get(n):t.diff(s,n).get(n);if(e.unit)return r(a(e.unit),e.unit);for(let n of e.units){let o=a(n);if(Math.abs(o)>=1)return r(o,n)}return r(s>t?-0:0,e.units[e.units.length-1])}function WL(s){let t={},e;return s.length>0&&typeof s[s.length-1]=="object"?(t=s[s.length-1],e=Array.from(s).slice(0,s.length-1)):e=Array.from(s),[t,e]}var Wv,Xv={},Zi=class s{constructor(t){let e=t.zone||Gr.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new zn("invalid input"):null)||(e.isValid?null:ig(e));this.ts=qt(t.ts)?Gr.now():t.ts;let r=null,a=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[r,a]=[t.old.c,t.old.o];else{let n=lc(t.o)&&!t.old?t.o:e.offset(this.ts);r=kv(this.ts,n),i=Number.isNaN(r.year)?new zn("invalid input"):null,r=i?null:r,a=i?null:n}this._zone=e,this.loc=t.loc||Lr.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=a,this.isLuxonDateTime=!0}static now(){return new s({})}static local(){let[t,e]=WL(arguments),[i,r,a,n,o,l,u]=e;return HL({year:i,month:r,day:a,hour:n,minute:o,second:l,millisecond:u},t)}static utc(){let[t,e]=WL(arguments),[i,r,a,n,o,l,u]=e;return t.zone=Po.utcInstance,HL({year:i,month:r,day:a,hour:n,minute:o,second:l,millisecond:u},t)}static fromJSDate(t,e={}){let i=n5(t)?t.valueOf():NaN;if(Number.isNaN(i))return s.invalid("invalid input");let r=ac(e.zone,Gr.defaultZone);return r.isValid?new s({ts:i,zone:r,loc:Lr.fromObject(e)}):s.invalid(ig(r))}static fromMillis(t,e={}){if(lc(t))return t<-864e13||t>SW?s.invalid("Timestamp out of range"):new s({ts:t,zone:ac(e.zone,Gr.defaultZone),loc:Lr.fromObject(e)});throw new sa(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(lc(t))return new s({ts:t*1e3,zone:ac(e.zone,Gr.defaultZone),loc:Lr.fromObject(e)});throw new sa("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};let i=ac(e.zone,Gr.defaultZone);if(!i.isValid)return s.invalid(ig(i));let r=Lr.fromObject(e),a=s0(t,QL),{minDaysInFirstWeek:n,startOfWeek:o}=DL(a,r),l=Gr.now(),u=qt(e.specificOffset)?i.offset(l):e.specificOffset,h=!qt(a.ordinal),c=!qt(a.year),A=!qt(a.month)||!qt(a.day),d=c||A,f=a.weekYear||a.weekNumber;if((d||h)&&f)throw new nc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(A&&h)throw new nc("Can't mix ordinal dates with month/day");let p=f||a.weekday&&!d,m,g,y=kv(l,u);p?(m=PW,g=BW,y=i0(y,n,o)):h?(m=TW,g=FW,y=vS(y)):(m=dk,g=ck);let v=!1;for(let I of m){let R=a[I];qt(R)?v?a[I]=g[I]:a[I]=y[I]:v=!0}let _=p?r5(a,n,o):h?s5(a):R$(a),S=_||N$(a);if(S)return s.invalid(S);let F=p?PL(a,n,o):h?TL(a):a,[P,D]=jv(F,u,i),$=new s({ts:P,zone:i,o:D,loc:r});return a.weekday&&d&&t.weekday!==$.weekday?s.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${$.toISO()}`):$.isValid?$:s.invalid($.invalid)}static fromISO(t,e={}){let[i,r]=Y5(t);return yf(i,r,e,"ISO 8601",t)}static fromRFC2822(t,e={}){let[i,r]=K5(t);return yf(i,r,e,"RFC 2822",t)}static fromHTTP(t,e={}){let[i,r]=q5(t);return yf(i,r,e,"HTTP",e)}static fromFormat(t,e,i={}){if(qt(t)||qt(e))throw new sa("fromFormat requires an input string and a format");let{locale:r=null,numberingSystem:a=null}=i,n=Lr.fromOpts({locale:r,numberingSystem:a,defaultToEN:!0}),[o,l,u,h]=_W(n,t,e);return h?s.invalid(h):yf(o,l,i,`format ${e}`,t,u)}static fromString(t,e,i={}){return s.fromFormat(t,e,i)}static fromSQL(t,e={}){let[i,r]=sW(t);return yf(i,r,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new sa("need to specify a reason the DateTime is invalid");let i=t instanceof zn?t:new zn(t,e);if(Gr.throwOnInvalid)throw new ES(i);return new s({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){let i=uk(t,Lr.fromObject(e));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(t,e={}){return ok(Xn.parseFormat(t),Lr.fromObject(e)).map(i=>i.val).join("")}static resetCache(){Wv=void 0,Xv={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?CS(this).weekYear:NaN}get weekNumber(){return this.isValid?CS(this).weekNumber:NaN}get weekday(){return this.isValid?CS(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?_S(this).weekday:NaN}get localWeekNumber(){return this.isValid?_S(this).weekNumber:NaN}get localWeekYear(){return this.isValid?_S(this).weekYear:NaN}get ordinal(){return this.isValid?vS(this.c).ordinal:NaN}get monthShort(){return this.isValid?xf.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?xf.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?xf.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?xf.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let t=864e5,e=6e4,i=x0(this.c),r=this.zone.offset(i-t),a=this.zone.offset(i+t),n=this.zone.offset(i-r*e),o=this.zone.offset(i-a*e);if(n===o)return[this];let l=i-n*e,u=i-o*e,h=kv(l,n),c=kv(u,o);return h.hour===c.hour&&h.minute===c.minute&&h.second===c.second&&h.millisecond===c.millisecond?[Od(this,{ts:l}),Od(this,{ts:u})]:[this]}get isInLeapYear(){return pg(this.year)}get daysInMonth(){return r0(this.year,this.month)}get daysInYear(){return this.isValid?wf(this.year):NaN}get weeksInWeekYear(){return this.isValid?ng(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ng(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){let{locale:e,numberingSystem:i,calendar:r}=Xn.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:i,outputCalendar:r}}toUTC(t=0,e={}){return this.setZone(Po.instance(t),e)}toLocal(){return this.setZone(Gr.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:i=!1}={}){if(t=ac(t,Gr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let r=this.ts;if(e||i){let a=t.offset(this.ts),n=this.toObject();[r]=jv(n,a,t)}return Od(this,{ts:r,zone:t})}else return s.invalid(ig(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:i}={}){let r=this.loc.clone({locale:t,numberingSystem:e,outputCalendar:i});return Od(this,{loc:r})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;let e=s0(t,QL),{minDaysInFirstWeek:i,startOfWeek:r}=DL(e,this.loc),a=!qt(e.weekYear)||!qt(e.weekNumber)||!qt(e.weekday),n=!qt(e.ordinal),o=!qt(e.year),l=!qt(e.month)||!qt(e.day),u=o||l,h=e.weekYear||e.weekNumber;if((u||n)&&h)throw new nc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&n)throw new nc("Can't mix ordinal dates with month/day");let c;a?c=PL({...i0(this.c,i,r),...e},i,r):qt(e.ordinal)?(c={...this.toObject(),...e},qt(e.day)&&(c.day=Math.min(r0(c.year,c.month),c.day))):c=TL({...vS(this.c),...e});let[A,d]=jv(c,this.o,this.zone);return Od(this,{ts:A,o:d})}plus(t){if(!this.isValid)return this;let e=aa.fromDurationLike(t);return Od(this,VL(this,e))}minus(t){if(!this.isValid)return this;let e=aa.fromDurationLike(t).negate();return Od(this,VL(this,e))}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;let i={},r=aa.normalizeUnit(t);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(e){let a=this.loc.getStartOfWeek(),{weekday:n}=this;n<a&&(i.weekNumber=this.weekNumber-1),i.weekday=a}else i.weekday=1;if(r==="quarters"){let a=Math.ceil(this.month/3);i.month=(a-1)*3+1}return this.set(i)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?Xn.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):wS}toLocaleString(t=e0,e={}){return this.isValid?Xn.create(this.loc.clone(e),t).formatDateTime(this):wS}toLocaleParts(t={}){return this.isValid?Xn.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;let n=t==="extended",o=SS(this,n);return o+="T",o+=UL(this,n,e,i,r,a),o}toISODate({format:t="extended"}={}){return this.isValid?SS(this,t==="extended"):null}toISOWeekDate(){return Mv(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:a=!1,format:n="extended"}={}){return this.isValid?(r?"T":"")+UL(this,n==="extended",e,t,i,a):null}toRFC2822(){return Mv(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Mv(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?SS(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(e||t)&&(i&&(r+=" "),e?r+="z":t&&(r+="ZZ")),Mv(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():wS}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};let e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",i={}){if(!this.isValid||!t.isValid)return aa.invalid("created by diffing an invalid DateTime");let r={locale:this.locale,numberingSystem:this.numberingSystem,...i},a=o5(e).map(aa.normalizeUnit),n=t.valueOf()>this.valueOf(),o=n?this:t,l=n?t:this,u=cW(o,l,a,r);return n?u.negate():u}diffNow(t="milliseconds",e={}){return this.diff(s.now(),t,e)}until(t){return this.isValid?_f.fromDateTimes(this,t):this}hasSame(t,e,i){if(!this.isValid)return!1;let r=t.valueOf(),a=this.setZone(t.zone,{keepLocalTime:!0});return a.startOf(e,i)<=r&&r<=a.endOf(e,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;let e=t.base||s.fromObject({},{zone:this.zone}),i=t.padding?this<e?-t.padding:t.padding:0,r=["years","months","days","hours","minutes","seconds"],a=t.unit;return Array.isArray(t.unit)&&(r=t.unit,a=void 0),jL(e,this.plus(i),{...t,numeric:"always",units:r,unit:a})}toRelativeCalendar(t={}){return this.isValid?jL(t.base||s.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(s.isDateTime))throw new sa("min requires all arguments be DateTimes");return OL(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(s.isDateTime))throw new sa("max requires all arguments be DateTimes");return OL(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,i={}){let{locale:r=null,numberingSystem:a=null}=i,n=Lr.fromOpts({locale:r,numberingSystem:a,defaultToEN:!0});return lk(n,t,e)}static fromStringExplain(t,e,i={}){return s.fromFormatExplain(t,e,i)}static buildFormatParser(t,e={}){let{locale:i=null,numberingSystem:r=null}=e,a=Lr.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new a0(a,t)}static fromFormatParser(t,e,i={}){if(qt(t)||qt(e))throw new sa("fromFormatParser requires an input string and a format parser");let{locale:r=null,numberingSystem:a=null}=i,n=Lr.fromOpts({locale:r,numberingSystem:a,defaultToEN:!0});if(!n.equals(e.locale))throw new sa(`fromFormatParser called with a locale of ${n}, but the format parser was created for ${e.locale}`);let{result:o,zone:l,specificOffset:u,invalidReason:h}=e.explainFromTokens(t);return h?s.invalid(h):yf(o,l,i,`format ${e.format}`,t,u)}static get DATE_SHORT(){return e0}static get DATE_MED(){return p$}static get DATE_MED_WITH_WEEKDAY(){return E4}static get DATE_FULL(){return m$}static get DATE_HUGE(){return g$}static get TIME_SIMPLE(){return y$}static get TIME_WITH_SECONDS(){return b$}static get TIME_WITH_SHORT_OFFSET(){return v$}static get TIME_WITH_LONG_OFFSET(){return x$}static get TIME_24_SIMPLE(){return w$}static get TIME_24_WITH_SECONDS(){return C$}static get TIME_24_WITH_SHORT_OFFSET(){return _$}static get TIME_24_WITH_LONG_OFFSET(){return S$}static get DATETIME_SHORT(){return B$}static get DATETIME_SHORT_WITH_SECONDS(){return F$}static get DATETIME_MED(){return P$}static get DATETIME_MED_WITH_SECONDS(){return T$}static get DATETIME_MED_WITH_WEEKDAY(){return R4}static get DATETIME_FULL(){return D$}static get DATETIME_FULL_WITH_SECONDS(){return O$}static get DATETIME_HUGE(){return L$}static get DATETIME_HUGE_WITH_SECONDS(){return I$}};function tg(s){if(Zi.isDateTime(s))return s;if(s&&s.valueOf&&lc(s.valueOf()))return Zi.fromJSDate(s);if(s&&typeof s=="object")return Zi.fromObject(s);throw new sa(`Unknown datetime argument: ${s}, of type ${typeof s}`)}function LW(){let s=Zi.now().offset/60;return s!==0?`${s>0?"+":"-"}INTERVAL '${Math.abs(s)-1}:59:59' HOUR TO SECOND`:""}function IW(s,t){let e=LW(),i=`EXTRACT(YEAR FROM ${s} ${e})`,r=`EXTRACT(MONTH FROM ${s} ${e})`,a=`EXTRACT(DAY FROM ${s} ${e})`,n=`EXTRACT(HOUR FROM ${s} ${e})`,o=`EXTRACT(MINUTE FROM ${s} ${e})`,l=`EXTRACT(SECOND FROM ${s} ${e})`,u=[];switch(t){case _t.Second:u=[i,r,a,n,o,l];break;case _t.Minute:u=[i,r,a,n,o];break;case _t.Hour:u=[i,r,a,n];break;case _t.Day:case _t.Week:case _t.Month:case _t.Year:u=[i,r,a];break}return u}function $W(s){let{whereValue:t,outStatistics:e,y:i}=s,r=as.outStatistics.outStatisticFieldName??"";return e?.outStatisticFieldName!==void 0?r=e.outStatisticFieldName:e?.onStatisticField!==void 0&&e.statisticType!==void 0?r=`${e.statisticType}_${e.onStatisticField}_${t}`:i!==void 0&&(r=[i].flat()[0]),r}function kW(s){let t=new Map;for(let e=0;e<s.length;e+=1){let i=s[e],r=i.query?.where;if(r!==void 0&&"y"in i){let a=Ns({where:r,normalize:!0,escape:!1});if(a!==""){let n=$W({whereValue:a,outStatistics:i.query?.outStatistics?.[0],y:i.y});i.y=n,t.set(a,n)}}}return t}function MW(s){let{uniqueQuery:t,splitByField:e,x:i}=s,r=[...t.groupByFieldsForStatistics??[],i,e].filter(a=>a!==void 0&&a.trim()!==""&&a!==hA);t.groupByFieldsForStatistics=Array.from(new Set(r))}function EW(s){return s.statisticType===Je.ContinuousPercentile||s.statisticType===Je.DiscretePercentile}function RW(s){let{uniqueQuery:t,y:e,useGenericOutStatFieldName:i,queryObject:r,chartSubType:a,isTimeBinningSeries:n,temporalBinningType:o,returnFeaturesExtent:l}=s,u=as.outStatistics;if(t.outStatistics?.[0]!==void 0){a!==j.PieFromFields&&a!==j.BarAndLineFromFields&&(t.outStatistics[0].outStatisticFieldName=i?u.outStatisticFieldName:[e].flat()[0]);let{outStatistics:h}=t;for(let c=0;c<h.length;c+=1){let A=t.outStatistics[c];A!==void 0&&EW(A)&&(n&&o!==ro.CalendarBased?(h[c].statisticType=Je.Count,delete h[c].statisticParameters):h[c]={...h[c],statisticParameters:h[c].statisticParameters??{value:re.defaultStatParameterValue}})}}else if(r!==void 0){let{objectIdField:h}=tr(r);t.outStatistics=[{statisticType:u.statisticType,onStatisticField:h,outStatisticFieldName:i?u.outStatisticFieldName:[e].flat()[0]}]}l===!0&&t.outStatistics?.push({statisticType:Je.EnvelopeAggregate,onStatisticField:"1"})}function NW(s){let{chartConfig:t,fetchFullBoxPlotData:e}=s,{series:i}=t,r=Ur(t),a=[{statisticType:Je.Average,suffix:Ze.Average}];e===!0&&(a=[...a,{statisticType:Je.Minimum,suffix:Ze.Min},{statisticType:Je.ContinuousPercentile,statisticParameters:{value:.25},suffix:Ze.FirstQuartile},{statisticType:Je.ContinuousPercentile,statisticParameters:{value:.5},suffix:Ze.Median},{statisticType:Je.ContinuousPercentile,statisticParameters:{value:.75},suffix:Ze.ThirdQuartile},{statisticType:Je.Maximum,suffix:Ze.Max},{statisticType:Je.StandardDeviation,suffix:Ze.StandardDeviation}]);let n=new Set;return r&&"y"in i[0]?[i[0].y].flat().forEach(o=>n.add(o)):i.forEach(o=>{"y"in o&&[o.y].flat().forEach(l=>n.add(l))}),[...n].flatMap(o=>a.map(l=>{let u={onStatisticField:o,statisticType:l.statisticType,outStatisticFieldName:`${o}_${l.suffix}`};return l.statisticType===Je.ContinuousPercentile&&(u.statisticParameters=l.statisticParameters),u}))}function VW(s,t){for(let e=1;e<t.length;e+=1){let i={...t[e].query?.outStatistics?.[0]};i!==void 0&&s.outStatistics!==void 0&&s.outStatistics.push(i)}}function UW(s){let{uniqueQuery:t,x:e,splitByField:i,unit:r,chartSubType:a,objectIdField:n}=s;if(r!==void 0){let o=IW(e,r);t.orderByFields=o,t.groupByFieldsForStatistics=o,a===j.BarAndLineSplitBy&&!Li(i)?t.groupByFieldsForStatistics.push(i):a===j.BarAndLineNoAggregation&&(t.groupByFieldsForStatistics.push(n),t.outStatistics=[{onStatisticField:n,outStatisticFieldName:`COUNT_${n}`,statisticType:Je.Count}])}}function Ak(s){let{chartConfig:t,options:e,uniqueQuery:i}=s;if(e?.chartLimits?.behaviorAfterLimit===Lc.RenderUpToTheLimit){let r=t$(t,e?.chartLimits);if(r!==void 0){let a=Ue(t.series);if(a===j.PieFromFields||a===j.BarAndLineFromFields){if(i.outStatistics?.[0]!==void 0){let n=(u,h)=>u.statisticType===Je.EnvelopeAggregate===h,o=i.outStatistics.filter(u=>n(u,!0)),l=i.outStatistics.filter(u=>n(u,!1));l.splice(r),i.outStatistics=[...l,...o]}}else i.num=r}}}async function _0(s){let{chartConfig:t,queryConfig:e,options:i,queryObject:r,timeIntervalInfo:a,fetchFullBoxPlotData:n}=s,{setTimeBinningInfoWhenNotProvided:o,returnFeaturesExtent:l}=i??{},u=t.series,h=Ue(u),c=yl(t),{query:A,x:d}=c,f="y"in c?c.y:void 0,p=Xa({xAxisValueFormatType:In(t),setTimeBinningInfoWhenNotProvided:o,seriesConfig:c}),m=new Map,g=!1,y=!1,v=!1,_=!1,S=!1,F={};if(A!==void 0){F=gr(A);let z=jr(A.where),se="";switch(e.fetchNullValues!==!0&&(d!==re.boxPlot.boxPlotCategory&&(se=`${d} IS NOT NULL`),z.trim()!==""&&z!==d&&!wp(A.where)&&(se=Wr([se,`${z} IS NOT NULL`]))),h){case j.BarAndLineSplitBy:{m=kW(u),_=!0,g=!0,y=!0;break}case j.BarAndLineMultiFields:VW(F,u),y=!0;break;case j.PieFromFields:case j.BarAndLineFromFields:se="",v=!0,y=!0;break;case j.BarAndLineMonoField:case j.PieFromCategory:y=!0;break;case j.BoxPlotMonoField:case j.BoxPlotMultiFields:v=!0,S=!0;break;case j.BoxPlotMonoFieldAndCategory:case j.BoxPlotMultiFieldsAndCategory:case j.BoxPlotMonoFieldAndSplitBy:case j.BoxPlotMonoFieldAndCategoryAndSplitBy:case j.BoxPlotMultiFieldsAndSplitBy:{S=!0,_=!0,v=!0;break}case j.PieNoAggregation:case j.BarAndLineNoAggregation:case j.BarAndLineSplitByNoAggregation:}if(y&&RW({uniqueQuery:F,y:f,useGenericOutStatFieldName:g,queryObject:r,chartSubType:h,isTimeBinningSeries:p,temporalBinningType:cn(u[0])?u[0].temporalBinning?.type:void 0,returnFeaturesExtent:l}),_&&MW({uniqueQuery:F,splitByField:z,x:d}),S&&(F.outStatistics=NW({chartConfig:t,fetchFullBoxPlotData:n})),v?delete F.orderByFields:e.orderByFields!==void 0&&(F.orderByFields=e.orderByFields.filter(ee=>{let ue=ee.split(" ");return!Li(ue[0])})),p&&cn(u[0])){let ee=tr(r),{objectIdField:ue}=ee;(await Vs(r)).find(G=>G.name===d)?.type!==mp.DateOnly&&UW({uniqueQuery:F,x:d,splitByField:jr(A.where),unit:a?.unit??u[0].temporalBinning?.unit,chartSubType:h,objectIdField:ue})}F.where=se}Ak({chartConfig:t,options:i,uniqueQuery:F});let{gdbVersion:P,geometry:D,distance:$,units:I,timeExtent:R,where:T,objectIds:Q,spatialRelationship:K}=e;return P!==void 0&&(F.gdbVersion=P),D!==void 0&&(F.geometry=D),$!==void 0&&(F.distance=$),I!==void 0&&(F.units=I),R!==void 0&&(F.timeExtent=R),Q!==void 0&&(F.objectIds=Q),K!==void 0&&(F.spatialRelationship=K),T!==void 0&&(F.where=Wr([F.where,T])),{uniqueQuery:F,mapToStatField:m}}async function QW(s){let{queryObject:t,queryConfig:e,chartConfig:i,abortKey:r}=s,a=i.series[0],{x:n,valueConversion:o}=a,l=AA(i),u=await $o({queryObject:t,queryConfig:e,featureCount:e.num??1,abortKey:r}),h=[{[n]:null}];if(l)h=u.map(c=>{TB(c.attributes,n);let A=Zv(c.attributes[n],o);return{...c.attributes,[n]:A}});else if(u.length>0){let c=u[0].attributes[n]??u[0].attributes[n.toUpperCase()]??u[0].attributes[n.toLowerCase()];c=Zv(c,o),h=[{[n]:c}]}return h}async function HW(s){let{queryObject:t,chartConfig:e,queryConfig:i,options:r,abortKey:a}=s,{chartLimits:n}=r??{},o={valid:!0};if(t!==void 0){let{behaviorAfterLimit:l,maxGaugeByFeaturesLimit:u}=n??{},h=AA(e),c=!0,A;if(h&&(A=(await Fk({chartConfig:e,queryObject:t,queryConfig:i,behaviorAfterLimit:l,numberMaxOfFeaturesToFetch:u,isGaugeByFeature:h})).elementCount,r?.chartLimits?.behaviorAfterLimit!==Lc.RenderUpToTheLimit&&(c=du({count:A??0,seriesCount:e.series.length,chartType:L.GaugeSeries,chartLimits:n})),r&&(Number.isFinite(u)||Number.isFinite(A)))){let d=Math.min(u??Number.NaN,A??Number.NaN);Number.isFinite(d)&&(r.chartLimits={...n,maxGaugeByFeaturesLimit:d}),Ak({chartConfig:e,options:r,uniqueQuery:i})}if(Number.isNaN(c)||c){let d=await QW({queryObject:t,chartConfig:e,queryConfig:i,abortKey:a});o.data={dataItems:d},o.count=d.length}else o.count=A,c$({dataInfo:o,chartType:L.GaugeSeries})}return o}async function jW(s){let{queryObject:t,chartConfig:e,queryConfig:i}=s,{minimumFromField:r,maximumFromField:a}=e.axes[0],n=[],o="",l="";r!==void 0&&(typeof r=="string"?(o=`${Je.Minimum}_${r}`,n.push({statisticType:Je.Minimum,onStatisticField:r,outStatisticFieldName:o})):(o=`${r.statisticType}_${r.onStatisticField}`,n.push({...r,outStatisticFieldName:o}))),a!==void 0&&(typeof a=="string"?(l=`${Je.Maximum}_${a}`,n.push({statisticType:Je.Maximum,onStatisticField:a,outStatisticFieldName:l})):(l=`${a.statisticType}_${a.onStatisticField}`,n.push({...a,outStatisticFieldName:l})));let u={...i,outStatistics:n,orderByFields:void 0,groupByFieldsForStatistics:void 0,returnDistinctValues:void 0,fetchNullValues:void 0,num:void 0},h=await pA({queryObject:t,queryConfig:u}),c=h.get(o),A=h.get(l);return{minimumFromData:c,maximumFromData:A}}function WW(s=Ba.None,t){return s===Ba.None||s===Ba.Log&&t>0||s===Ba.Sqrt&&t>=0}function fk(s,t){let e={valid:!1};return t===!0?e.invalidType=ci.HistogramEmptyField:s===Ba.Log?e.invalidType=ci.NegativeValueInLogCalculation:s===Ba.Sqrt&&(e.invalidType=ci.NegativeValueInSqrtCalculation),e}function XW(s,t){let e=s;switch(t){case Ba.Log:e=Math.log(s);break;case Ba.Sqrt:e=Math.sqrt(s);break}return e}function zW(s){let t=s,e=s.toString().split(".");if(e[1]!==void 0){let i=10**-e[1].length;t=s-i}return t}function pk(s){let t="field";switch(s){case Ba.Log:t="natural-log";break;case Ba.Sqrt:t="square-root";break;case Ba.None:}return t}function GW(s){let t=new Bj({layers:[]});return new Tj({map:t,extent:s})}async function YW(s){let{queryObject:t,fieldName:e,queryConfig:i,abortKey:r}=s,a=tr(t),{objectIdField:n}=a,o=`${Je.Count}_${n}`,l=`${Je.Count}_${e}`,u=`${Je.Minimum}_${e}`,h=`${Je.Maximum}_${e}`,c={...i,outStatistics:[{statisticType:Je.Count,onStatisticField:n,outStatisticFieldName:o},{statisticType:Je.Count,onStatisticField:e,outStatisticFieldName:l},{statisticType:Je.Minimum,onStatisticField:e,outStatisticFieldName:u},{statisticType:Je.Maximum,onStatisticField:e,outStatisticFieldName:h}]},A=await pA({queryObject:t,queryConfig:c,abortKey:r}),d=A.get(o)??Number.NaN,f=A.get(l)??Number.NaN,p=A.get(u)??Number.NaN,m=A.get(h)??Number.NaN;return{countExcludingNulls:f,countIncludingNulls:d,min:p,max:m}}async function KW(s){let{queryConfig:t,chartConfig:e,queryObject:i,abortKey:r}=s,a=e.series[0],{x:n,dataTransformationType:o}=a,l=[],{countIncludingNulls:u,countExcludingNulls:h,min:c,max:A}=await YW({queryObject:i,queryConfig:t,fieldName:n,abortKey:r}),d=WW(o,c),f=h<2||c===A,p={...t};return p.where=Wr([p.where,`${n} is not null`]),{rawData:l,dataCompatibleWithTransformation:d,dataCountIncompatible:f,countExcludingNulls:h,countIncludingNulls:u}}function qW(s){let t={...s};return t.avg=t.avg??Number.NaN,t.count=t.count??Number.NaN,t.max=t.max??Number.NaN,t.min=t.min??Number.NaN,t.stddev=t.stddev??Number.NaN,t.sum=t.sum??Number.NaN,t.variance=t.variance??Number.NaN,t.median=t.median??Number.NaN,t}function ZW(s){let{seriesConfig:t,layer:e,useFeaturesInView:i,view:r,queryConfig:a}=s,{x:n,dataTransformationType:o}=t,l={layer:e,view:r,field:n,sqlWhere:wp(a.where)?void 0:a.where,useFeaturesInView:i};return o!==Ba.None&&(l={...l,normalizationType:pk(o)}),l}function JW(s){let{seriesConfig:t,layer:e,useFeaturesInView:i,view:r,minValue:a,maxValue:n,queryConfig:o}=s,{x:l,binCount:u,dataTransformationType:h}=t,c={layer:e,view:r,field:l,minValue:a,maxValue:n,numBins:u??BT,classificationMethod:"equal-interval",sqlWhere:wp(o.where)?void 0:o.where,useFeaturesInView:i};return h!==Ba.None&&(c={...c,normalizationType:pk(h)}),c}function e3(s,t){let e=Number.NaN;return s!==void 0&&t!==void 0&&(e=s-t),e}async function t3(s){let{chartConfig:t,queryConfig:e,queryObject:i,countExcludingNulls:r,countIncludingNulls:a,options:n,errorStrings:o}=s,l=t.series[0],{dataTransformationType:u}=l,h={valid:!0};if(i!==void 0){let c=tr(i),A=XT(e?.geometry)?.extent?.toJSON(),d=A!==void 0,f=n?.view??GW(A),p=ZW({seriesConfig:l,layer:c,view:f,useFeaturesInView:d,queryConfig:e}),m=new Sj({geometry:f.extent});if(f.extent!==void 0&&ET(c)){let{distance:$,units:I}=e;$!==void 0&&(m.distance=$),I!==void 0&&(m.units=I)}e.timeExtent&&(m.timeExtent={start:e.timeExtent[0],end:e.timeExtent[1]}),p.filter=m;let g;try{g=await Pj(p)}catch($){throw new uh(hh.QueryFeaturesError,o.errors.queryError,$)}g=qW(g);let{avg:y,count:v,stddev:_,min:S,max:F,sum:P,median:D}=g;if(v===0)h={...fk(u)};else{let $=JW({seriesConfig:l,layer:c,view:f,useFeaturesInView:d,minValue:zW(S),maxValue:F,valueExpression:p.valueExpression,queryConfig:e});$.filter=m;let I;try{$.useQueryAttributeBins=!1,I=await Fj($)}catch(T){throw new uh(hh.QueryFeaturesError,o.errors.queryError,T)}let R=e3(a,r);h.data={mean:y,stddev:_,min:S,max:F,median:Number(D),bins:I?.bins,count:r,nulls:R,sum:P??void 0},h.data.bins.length>0&&(h.data.bins[h.data.bins.length-1].isLastBin=!0)}}return h}async function mk(s){let{chartConfig:t,queryConfig:e,queryObject:i,options:r,abortKey:a,errorStrings:n}=s,{series:o}=t,l=o[0],{rawData:u,dataCompatibleWithTransformation:h,dataCountIncompatible:c,countIncludingNulls:A,countExcludingNulls:d}=await KW({queryObject:i,chartConfig:t,queryConfig:e,abortKey:a}),f={valid:!0};return!h||c?f=fk(l.dataTransformationType,c):f=await t3({chartConfig:t,queryObject:i,queryConfig:e,countIncludingNulls:A,countExcludingNulls:d,options:r,errorStrings:n}),f}async function i3(s){let{queryObject:t,queryConfig:e,chartConfig:i,x:r}=s,{series:a}=i,{dataTransformationType:n}=a[0],o={...e,orderByFields:[r],outFields:[r]};return{valid:!0,data:{dataItems:(await $o({queryObject:t,queryConfig:o})).map(l=>({[r]:XW(l.attributes[r],n)}))}}}var Md={groupByCaseBegin:"CASE",groupByOutKeyword:"OUT",groupByCaseEnd:"ELSE 'OUT' END"},r3="${ groupByFieldsForStatistics } WHEN (${ y } ${ yMinOperand } ${ yValue } AND ${ y } ${ yMaxOperand } ${ yValuePlusStep } AND ${ x } ${ xMinOperand } ${ xValue } AND ${ x } ${ xMaxOperand } ${ xValuePlusStep }) THEN '${ xValue }|${ xValuePlusStep}|${ yValue }|${ yValuePlusStep }'";async function s3(s){let{chartConfig:t,queryObject:e,queryConfig:i,abortKey:r}=s,a=t.series[0],{x:n,y:o}=a,{dataContextCountDistinctX:l,dataContextCountDistinctY:u}=re.scatterplotAggregationFields,h={...i,outStatistics:[{statisticType:Je.Count,outStatisticFieldName:l,onStatisticField:n},{statisticType:Je.Count,outStatisticFieldName:u,onStatisticField:o}],returnDistinctValues:!0};return await pA({queryObject:e,queryConfig:h,abortKey:r})}async function a3(s){let{statsMap:t,chartConfig:e,queryObject:i,options:r,queryConfig:a,abortKey:n}=s,{dataContextXMinField:o,dataContextXMaxField:l,dataContextYMinField:u,dataContextYMaxField:h,dataContextCountDistinctX:c,dataContextCountDistinctY:A}=re.scatterplotAggregationFields,d,f,p,m,g,y=t.get(o),v=t.get(l),_=t.get(u),S=t.get(h);if(y!=null&&_!==void 0&&_!==null&&v!==void 0&&v!==null&&S!==void 0&&S!==null&&!Number.isNaN(y+v+_+S)){let{maxScatterPointsAfterAggregation:F}=$c(r?.chartLimits),P=Math.floor(Math.sqrt(F)),D=await s3({queryObject:i,chartConfig:e,queryConfig:a,abortKey:n});p=Math.min(D.get(A)??Number.NaN,P),m=Math.min(D.get(c)??Number.NaN,P),g=m*p,d=v===y?0:(v-y)/(m-1),f=S===_?0:(S-_)/(p-1),t.set(re.scatterplotAggregationFields.xStep,d),t.set(re.scatterplotAggregationFields.yStep,f),t.set(re.scatterplotAggregationFields.rowCount,p),t.set(re.scatterplotAggregationFields.columnCount,m),t.set(re.scatterplotAggregationFields.realGridSize,g)}}function n3(s){let{groupByFieldsForStatistics:t,x:e,y:i,xValue:r,yValue:a,xStep:n,yStep:o,endOfRow:l,endOfColumn:u}=s,h=t===""?Md.groupByCaseBegin:t;return h=Ha(r3,{groupByFieldsForStatistics:h,x:e,y:i,xValue:`${r}`,yValue:`${a}`,xValuePlusStep:`${r+(u?0:n)}`,yValuePlusStep:`${a+(l?0:o)}`,xMinOperand:u?"=":">=",yMinOperand:l?"=":">=",xMaxOperand:u?"=":"<",yMaxOperand:l?"=":"<"}),h}async function o3(s){let{chartConfig:t,queryConfig:e,queryObject:i,xMin:r,xMax:a,yMin:n,yMax:o,abortKey:l}=s,u=t.series[0],{x:h,y:c}=u,A={...e};return A.where=Wr([A.where,`${h}>=${r}`,`${h}<=${a}`]),h!==c&&(A.where=Wr([A.where,`${c}>=${n}`,`${c}<=${o}`])),await $o({queryObject:i,queryConfig:A,noBatch:!0,featureCount:1,abortKey:l})}async function l3(s){let{statsMap:t,chartConfig:e,queryObject:i,queryConfig:r,useQueryAttributeBins:a,errorStrings:n,abortKey:o}=s,l=e.series[0],{x:u,y:h}=l,{dataContextXMinField:c,dataContextXMaxField:A,dataContextYMinField:d,dataContextYMaxField:f,queryNumberOfFeatures:p,queryNumberOfAggregatedFeatures:m}=re.scatterplotAggregationFields,g,y=t?.get(c)??Number.NaN,v=t?.get(A)??Number.NaN,_=t?.get(p)??Number.NaN,S=t?.get(d)??y,F=t?.get(f)??v;if(y!=null&&S!==void 0&&S!==null&&v!==void 0&&v!==null&&F!==void 0&&F!==null&&!Number.isNaN(y+v+S+F)){let P=tr(i),{objectIdField:D}=P,$=t?.get(re.scatterplotAggregationFields.xStep),I=t?.get(re.scatterplotAggregationFields.yStep),R=t?.get(re.scatterplotAggregationFields.realGridSize),T=t?.get(re.scatterplotAggregationFields.rowCount),Q=t?.get(re.scatterplotAggregationFields.columnCount),K=new Map;if((await Vs(i))?.forEach(z=>{Sy(z)&&K.set(z.name,{onStatisticField:z.name,outStatisticFieldName:z.name,statisticType:Je.Maximum})}),(await rw(P)).forEach(z=>{K.set(z,{onStatisticField:z,outStatisticFieldName:z,statisticType:Je.Maximum})}),K.set(D,{onStatisticField:D,outStatisticFieldName:m,statisticType:Je.Count}).set(u,{onStatisticField:u,outStatisticFieldName:u,statisticType:Je.Maximum}).set(h,{onStatisticField:h,outStatisticFieldName:h,statisticType:Je.Maximum}),$!==void 0&&I!==void 0){if(a){let z={...r,outStatistics:[...K.values()]};g=await QT({queryObject:i,queryConfig:z,xStep:$,xMin:y,xMax:v,x:u,y:h,yStep:I,errorStrings:n})}else if(T!==void 0&&Q!==void 0){let z=0,{maxScatterCellsPerQuery:se,maxScatterCellsPerQueryForStandard:ee}=cA(),ue=await KT(P)?ee:se,G=[],q=!0,ge=y,ne=S,ye="",qe=1,Ge=1,it=Number.MAX_SAFE_INTEGER,dt=Number.MIN_SAFE_INTEGER,Re=Number.MAX_SAFE_INTEGER,We=Number.MIN_SAFE_INTEGER;for(;Ge<=Q&&q;){for(ne=S,qe=1;qe<=T&&q;){if(ye=n3({groupByFieldsForStatistics:ye,x:u,y:h,xValue:ge,yValue:ne,xStep:$,yStep:I,endOfRow:qe===T,endOfColumn:Ge===Q}),ge<it&&(it=ge),ge+$>dt&&(dt=ge+$),ne<Re&&(Re=ne),ne+$>We&&(We=ne+I),z+=1,z%ue===0||z===R||z===_){ye=`${ye} ${Md.groupByCaseEnd}`;let Rt={...r,groupByFieldsForStatistics:[ye],outStatistics:[...K.values()]};G.push(o3({chartConfig:e,queryConfig:Rt,queryObject:i,xMin:it,xMax:dt,yMin:Re,yMax:We,abortKey:o})),it=Number.MAX_SAFE_INTEGER,dt=Number.MIN_SAFE_INTEGER,Re=Number.MAX_SAFE_INTEGER,We=Number.MIN_SAFE_INTEGER,ye="",z===R&&(q=!1)}ne+=I,qe+=1}ge+=$,Ge+=1}g=(await Promise.all(G)).flat()}}}return g}var u3={dataFormat:"json",outputFormat:"json",typeKey:"analyticType",typeValue:"LinRegR2",fieldValue:"onAnalyticField",slopePropertyList:["Slope","SLOPE","slope"],interceptPropertyList:["Intercept","INTERCEPT","intercept"],r2PropertyList:["R2","r2"]};async function h3(s){let{queryObject:t}=s,e=!1,i=fA(t),r=tr(t),a=_p(r);if(i&&a.url!==void 0&&a.url!==null){let n=`${a.url}/${a.layerId}?f=json`;try{let o=(await Cj(n)).data,l=o?.advancedQueryCapabilities?.supportsQueryAnalytic===!0,u=o?.sqlParserVersion===void 0||a.version!=null&&a.version>=10.91;e=l&&u}catch{}}return e}function c3(s){let{x:t,y:e,trendlineXToY:i,data:r}=s,[a,n]=r?yT(r,o=>o[t]):[Number.NaN,Number.NaN];return[{[t]:a??Number.NaN,[e]:i(a??Number.NaN)},{[t]:n??Number.NaN,[e]:i(n??Number.NaN)}]}function d3(s){let{data:t,x:e,y:i}=s,r=[];return t!==void 0&&(r=t.filter(a=>Number.isFinite(a[e])&&Number.isFinite(a[i])).map(a=>[a[e],a[i]])),r}async function A3(s){let{statsMap:t,queryObject:e,chartConfig:i,queryConfig:r}=s,a=i.series[0],{x:n,y:o}=a,l=Number.NaN,u=[{[n]:Number.NaN,[o]:Number.NaN},{[n]:Number.NaN,[o]:Number.NaN}],{dataFormat:h,outputFormat:c,typeKey:A,typeValue:d,fieldValue:f,slopePropertyList:p,interceptPropertyList:m,r2PropertyList:g}=u3,y=`[{"${A}": "${d}", "${f}":"${n},${o}"}]`,v=await VT({queryObject:e,queryConfig:r,outputFormat:c,dataFormat:h,outAnalytics:y});if(v!==void 0){let _=Number.NaN,S=Number.NaN,{expr:F}=xy(v,p),{expr:P}=xy(v,m),{expr:D}=xy(v,g);F!==void 0&&Number.isFinite(v[F])&&(_=v[F]),P!==void 0&&Number.isFinite(v[P])&&(S=v[P]),D!==void 0&&Number.isFinite(v[D])&&(l=v[D]);let{dataContextXMinField:$,dataContextXMaxField:I,dataContextYMinField:R,dataContextYMaxField:T}=re.scatterplotAggregationFields,Q=t.get($)??Number.NaN,K=t.get(I)??Number.NaN,z=t.get(R)??Number.NaN,se=t.get(T)??Number.NaN,ee=(K-Q)/100,ue=Q-ee,G=Number.NaN;for(;!(G>=z&&G<=se)&&ue<=K;)ue+=ee,G=_*ue+S;let q=K+ee,ge=Number.NaN;for(;!(ge>=z&&ge<=se)&&q>=Q;)q-=ee,ge=_*q+S;u=[{[n]:ue,[o]:G},{[n]:q,[o]:ge}]}return{r2:l,trendLinePoints:u}}function gk(s){let{data:t,chartConfig:e}=s,i=e.series[0],{x:r,y:a}=i,{r2:n,trendLinePoints:o}=re.scatterplotSeries,l=d3({data:t,x:r,y:a});if(l!==void 0){let u=a1(l),h=n1(u);n=o1(l,h),o=c3({x:r,y:a,trendlineXToY:h,data:t})}return{r2:n,trendLinePoints:o}}async function f3(s){let t=await h3(s),{chartConfig:e}=s,i=e.series[0],{x:r,y:a}=i,{r2:n}=re.scatterplotSeries,o=[{[r]:Number.NaN,[a]:Number.NaN},{[r]:Number.NaN,[a]:Number.NaN}],l={r2:n,trendLinePoints:o},u=!1;if(t)try{l=await A3(s)}catch{u=!0}return(!t||u)&&(l=gk(s)),l}async function p3(s){let{chartConfig:t,queryConfig:e,queryObject:i,abortKey:r}=s,a=t.series[0],{x:n,y:o}=a,l=new Map,{dataContextXMinField:u,dataContextXMaxField:h,dataContextYMinField:c,dataContextYMaxField:A,queryNumberOfFeatures:d}=re.scatterplotAggregationFields,{objectIdField:f}=tr(i),p=[{statisticType:Je.Count,onStatisticField:f,outStatisticFieldName:d},{statisticType:Je.Minimum,outStatisticFieldName:u,onStatisticField:n},{statisticType:Je.Maximum,outStatisticFieldName:h,onStatisticField:n}];n!==o&&p.push({statisticType:Je.Minimum,outStatisticFieldName:c,onStatisticField:o},{statisticType:Je.Maximum,outStatisticFieldName:A,onStatisticField:o});let m={...e};return m.outStatistics=p,l=await pA({queryObject:i,queryConfig:m,abortKey:r}),n===o&&(l.set(c,l.get(u)??Number.NaN),l.set(A,l.get(h)??Number.NaN)),l}function Ev(s){let{value:t,valueMin:e,valueMax:i}=s;return t===e||t===i?t:Math.random()*(i-e)+e}function m3(s){let{useQueryAttributeBins:t,graphic:e,x:i,y:r,yStep:a}=s,{groupByOutKeyword:n}=Md,{dataContextXMinField:o,dataContextXMaxField:l,dataContextYMinField:u,dataContextYMaxField:h}=re.scatterplotAggregationFields,c=[];if(t&&"stackedAttributes"in e&&e.stackedAttributes){let A=UT(i,r),d=e.attributes[A.lowerBoundaryAlias],f=e.attributes[A.upperBoundaryAlias];e.stackedAttributes.forEach(p=>{let m=p[A.stackAlias],g;typeof m=="number"&&typeof a=="number"&&(m*=a),typeof m=="number"&&typeof a=="number"&&(g=m+a);let y=p[i],v=p[r];typeof m=="number"&&typeof g=="number"&&typeof y=="number"&&typeof v=="number"&&c.push({...p,[i]:Ev({value:y,valueMin:d,valueMax:f}),[r]:Ev({value:v,valueMin:m,valueMax:g}),[o]:Math.min(d,f),[l]:Math.max(d,f),[u]:m,[h]:g})})}else{let{expr:A,isInItem:d}=vp(e.attributes);if(d&&A&&e.attributes[A]!==n){let[f,p,m,g]=e.attributes[A].split("|");f=Math.min(f,p),p=Math.max(f,p),m=Math.min(m,g),g=Math.max(m,g);let y={...e.attributes,[o]:f,[l]:p,[u]:m,[h]:g};y[i]=Ev({value:y[i],valueMin:f,valueMax:p}),y[r]=Ev({value:y[r],valueMin:m,valueMax:g}),c=[y]}}return c}async function g3(s){let{queryObject:t,chartConfig:e,rawData:i,isAggregationMode:r,yStep:a,useQueryAttributeBins:n}=s,o=e.series[0],{x:l,y:u}=o,h=tr(t).objectIdField,c=(Array.isArray(i)?i:i?.features)?.flatMap(A=>{let d=[{...A.attributes}];return TB(d[0],[l,u]),r?d=m3({useQueryAttributeBins:n,graphic:A,x:l,y:u,yStep:a}):d[0][as.uniqueIdsName]=d[0][h],d});return c=c?.filter(A=>{let{expr:d}=vp(A);return Number.isFinite(A[l])&&Number.isFinite(A[u])&&(d===void 0||A[d]!==Md.groupByOutKeyword)}),c??[]}async function y3(s){let{queryObject:t,queryConfig:e,chartConfig:i,featureCount:r,abortKey:a}=s,n=i.series[0],{x:o,y:l}=n,u=tr(t),h=[],c=((await Vs(t))?.filter(f=>Sy(f)&&f.name!==o&&f.name!==l)??[]).map(f=>f.name)??[],A=[o,l,u.objectIdField,...c];if(!_p(u).isTable){let{rendererField:f,rendererNormalizationField:p}=zT(u?.renderer??void 0);Li(f)||A.push(f),Li(p)||A.push(p)}let d={...e,orderByFields:[`${o} ${un.Ascending}`],outFields:A};return h=await $o({queryObject:t,queryConfig:d,featureCount:r,abortKey:a}),h}async function b3(s){let t,{chartConfig:e,queryConfig:i,queryObject:r,statsMap:a,numberOfFeatures:n,isAggregationMode:o,useQueryAttributeBins:l,errorStrings:u,abortKey:h}=s,c=e.series[0],{x:A,y:d}=c;if(!Number.isNaN(n)&&n>0){let f={...i};f.where=Wr([f.where,`${A} IS NOT NULL`,`${d} IS NOT NULL`]),o?t=await l3({chartConfig:e,queryObject:r,queryConfig:f,statsMap:a,useQueryAttributeBins:l,errorStrings:u,abortKey:h}):t=await y3({queryObject:r,chartConfig:e,queryConfig:f,featureCount:n,abortKey:h})}return t}async function yk(s){let{chartConfig:t,queryConfig:e,queryObject:i,sortData:r,calculateTrendLine:a,options:n,abortKey:o}=s,l=await p3({chartConfig:t,queryConfig:e,queryObject:i,abortKey:o}),{queryNumberOfFeatures:u,yStep:h}=re.scatterplotAggregationFields,{maxScatterPointsBeforeAggregation:c}=$c(n?.chartLimits),A=l?.get(u)??Number.NaN,d=A>=c,f=RT(i);d&&await a3({statsMap:l,chartConfig:t,queryObject:i,options:n,queryConfig:e,abortKey:o});let p=await b3({...s,statsMap:l,numberOfFeatures:A,isAggregationMode:d,useQueryAttributeBins:f}),m=await g3({queryObject:i,chartConfig:t,rawData:p,isAggregationMode:d,yStep:l.get(h),useQueryAttributeBins:f});r!==!1&&Kv({arrayToSort:m,sortingField:t.series[0].x,orderBy:un.Ascending});let{r2:g,trendLinePoints:y}=a!==!1?await f3({data:m,statsMap:l,queryConfig:e,options:n,queryObject:i,chartConfig:t}):re.scatterplotSeries;return{dataItems:m,r2:g,trendLinePoints:y}}function FB(s){let{itemsA:t,itemsB:e,isPieFromFields:i}=s,r=!1;if(t===void 0&&e!==void 0||t!==void 0&&e===void 0)r=!0;else if(!i){let a=[re.originalCategoryValue,re.originalDateValue,re.xAxisField,re.technicalSortingFieldBySum,re.technicalSortingFieldByPercent,re.pieChart.technicalFieldSlicePercent,re.pieChart.technicalFieldGroupedSlices,re.pieChart.technicalFieldSliceId,re.typeOrDomainFieldName,re.typeOrDomainIdValue,re.originalServerBinningRange,re.lastTemporalBin,as.uniqueIdsName,...FT],n=(h,c)=>{let A=c[re.typeOrDomainFieldName];typeof A=="string"&&c[A]!==void 0&&(c[A]=c[re.typeOrDomainIdValue]);let d={};return Object.keys(c).forEach(f=>{!a.includes(f)&&!f.includes(re.rendererSymbolField)&&(d[f]=c[f])}),h.push(d),h},o=(h,c)=>JSON.stringify(h).localeCompare(JSON.stringify(c)),l=t?.reduce(n,[])?.sort(o),u=e?.reduce(n,[])?.sort(o);r=!so(l,u)}return r}function v3(s){let{chartConfig:t,currentSelectionDataItems:e,options:i}=s,{selectionData:r}=i??{},a=[];if(t!==void 0){let n=t.series,o=Ue(n),{selectionItems:l}=r??{};if(l!==void 0&&FB({itemsA:l,itemsB:e,isPieFromFields:Ue(t.series)===j.PieFromFields})?a=l:a=e??[],n.length>1&&o!==j.BarAndLineNoAggregation&&o!==j.BarAndLineSplitByNoAggregation){let u=jr(n[0].query?.where);a=yg({data:a,x:n[0].x,splitByField:u})}ul({arrayToSort:a,chartConfig:t})}return a??[]}function Df(s,t){let e="";if(s.trim()!==""&&t!==void 0)if(t===null)e=`${s} IS NULL`;else{let i=typeof t!="number"?"'":"";e=`${s}=${i}${t.toString()}${i}`}return e}function x3(s){let{dataContext:t,xAxisField:e,yAxisField:i,options:r}=s,a="",{dataContextXMinField:n,dataContextXMaxField:o,dataContextYMinField:l,dataContextYMaxField:u}=re.scatterplotAggregationFields;if(AB({dataContext:t,chartLimits:r?.chartLimits})){let{[n]:h,[o]:c}=t,A=e!==i?t[l]:h,d=e!==i?t[u]:c;if(!Number.isNaN(h)&&!Number.isNaN(c)&&!Number.isNaN(A)&&!Number.isNaN(d)){let f=[];h===c?f.push(`${e}=${h?.toString()}`):(f.push(`${e}>=${h?.toString()}`),f.push(`${e}<=${c?.toString()}`)),A===d?f.push(`${i}=${A?.toString()}`):(f.push(`${i}>=${A?.toString()}`),f.push(`${i}<=${d?.toString()}`)),a=Wr(f)}}else a=Wr([lh({where:Df(e,t[e])}),i!==void 0?lh({where:Df(i,t[i])}):""]);return a}function bk(s,t){let e="",i=t[re.originalServerBinningRange]??t[re.dateBinningRange];if(gy(i)&&i.length===2){let[r,a]=i;typeof r=="number"&&typeof a=="number"&&Number.isFinite(r)&&Number.isFinite(a)&&(r=Ff(r),a=Ff(a));let n=t[re.lastTemporalBin]===!0?"<=":"<";e=`${s}>='${r}' AND ${s}${n}'${a}'`}return e}function vk(s,t){let e="";if(Number.isFinite(s)){let i=1/10**re.queryMaxFloatPrecision;e=`${t}>=${s-i} AND ${t}<=${s+i}`}return e}function xk(s){let{xAxisField:t,yAxisField:e,splitBy:i,dataContext:r,isDateAxis:a,xAxisFieldType:n,showOutliers:o,chartSubType:l}=s,u="";if(t!==void 0&&t!==re.boxPlot.boxPlotCategory){let A=Dn({value:r[t],dataContext:r,keepNullValues:!0,specificField:re.typeOrDomainIdValue});n===mp.Double?u=vk(A,t):(a&&(A=Ff(A)),u=lh({where:Df(t,A),normalize:!1,escape:!0}))}let h=lh({where:i??"",normalize:!1,escape:!0}),c="";if(o===!0){let A=l===j.BoxPlotMultiFieldsAndCategory?e:void 0,d=Gt({key:Ze.Min,showOutliers:!0,splitBy:i,y:A}),f=Gt({key:Ze.Max,showOutliers:!0,splitBy:i,y:A}),p=t===re.boxPlot.boxPlotCategory?r[t]:e;if(!Li(p)){let m=r[d],g=r[f];Number.isFinite(m)&&Number.isFinite(g)&&(c=`${p?.toString()}>=${m?.toString()} AND ${p?.toString()}<=${g?.toString()}`)}}return Wr([u,h,c])}function w3(s){let{xAxisField:t,splitBy:e,dataContext:i,isDateAxis:r,xAxisFieldType:a,chartSubType:n}=s,o="";if(re.dateBinningRange in i)o=bk(t,i);else if(n!==j.BarAndLineFromFields){let u=Dn({value:i[t],dataContext:i,keepNullValues:!0,specificField:re.typeOrDomainIdValue});a===mp.Double?o=vk(u,t):(r&&(u=Ff(u)),o=lh({where:Df(t,u),normalize:!1,escape:!0}))}let l=lh({where:e??"",normalize:!1,escape:!0});return Wr([o,l])}function C3(s){let{xAxisField:t,dataContext:e,chartSubType:i}=s,r=re.typeOrDomainIdValue in e?e[re.typeOrDomainIdValue]:e[re.originalCategoryValue];return r===void 0&&(r=e[t]),i===j.PieFromFields?"":lh({where:Df(t,r),normalize:!1,escape:!0})}function _3(s){let{xAxisField:t,dataContext:e,dataTransformationType:i}=s,r="",{minValue:a,maxValue:n}=e;if(Number.isFinite(a)&&Number.isFinite(n)){let o=Yj(t,i),l=e.isLastBin?"<=":"<";r=Wr([`${o}>=${a?.toString()}`,`${o}${l}${n?.toString()}`])}return r}function wk(s){let{chartType:t}=s,e="";switch(t){case L.ScatterSeries:e=x3(s);break;case L.RadarSeries:case L.BarSeries:case L.LineSeries:case L.ComboLineAndBarSeries:e=w3(s);break;case L.BoxPlotSeries:e=xk(s);break;case L.HistogramSeries:e=_3(s);break;case L.PieSeries:e=C3(s);break}return e}async function S3(s){let{queryObject:t,queryConfig:e,chartConfig:i,currentSelectionDataItems:r,options:a,errorStrings:n,abortKey:o}=s,l=Ue(i.series),u={valid:!0,data:{dataItems:[]}};if(r!==void 0&&r.length>0){let h=yl(i),{x:c}=h,A="y"in h?h.y:"",d=qn(i.axes?.[0].valueFormat),f=rl(i),p;t!==void 0&&(p=(await Vs(t)).find(S=>S.name===c)?.type);let m=[],g=r.reduce((S,F)=>{let P="";if(as.uniqueIdsName in F)m.push(F[as.uniqueIdsName]);else{switch(l){case j.BoxPlotMonoFieldAndSplitBy:case j.BoxPlotMultiFieldsAndSplitBy:case j.BoxPlotMonoFieldAndCategoryAndSplitBy:{P=h.query?.where??"";let R=jr(P),T="",Q=`_${Ze.Average}`;Object.keys(F).forEach(K=>{K.includes(Q)&&(T=K.replace(Q,""))}),T.trim()!==""&&(P=Df(R,T));break}}let D=[A].flat(),$=D.length===1?D[0]:"";if(l===j.BoxPlotMultiFieldsAndCategory){let R=`_${Ze.FirstQuartile}`,T=Object.keys(F).find(Q=>Q.includes(R));T!==void 0&&($=T.replace(R,""))}let I=xk({xAxisField:c,yAxisField:$,splitBy:P,dataContext:F,isDateAxis:d,xAxisFieldType:p,showOutliers:f,chartSubType:l});S.push(I)}return S},[]),y=tr(t);if(y!==void 0&&m.length>0){let{objectIdField:S}=y;g.push(`${S} IN (${m.join(",")})`)}let v=g.join(" OR "),_={...e};_.where=Wr([_.where,v]),u=await PB({queryObject:t,chartConfig:i,queryConfig:_,options:a,errorStrings:n,abortKey:o})}return u}async function B3(s){let{queryObject:t,queryConfig:e,chartConfig:i,currentSelectionDataItems:r,options:a,errorStrings:n,abortKey:o}=s,{series:l}=i,u=Me(l),h=In(i),c={valid:!0},A=v3({chartConfig:i,currentSelectionDataItems:r,options:a}),d=!1;switch(u){case L.PieSeries:if(Ue(i.series)===j.PieFromFields){let{x:f,y:p}=i.series[0],m=gr(A);m.forEach(g=>{f in g&&(g[rs]=g[f],delete g[f]),p in g&&(g[Fa]=g[p],delete g[p])}),c.data={dataItems:m}}else c.data={dataItems:A};c.count=A.length,d=!0;break;case L.BoxPlotSeries:c=await S3(s);break;case L.BarSeries:case L.ComboLineAndBarSeries:case L.RadarSeries:case L.LineSeries:if(A.length===0||!Xa({xAxisValueFormatType:h,setTimeBinningInfoWhenNotProvided:a?.setTimeBinningInfoWhenNotProvided,seriesConfig:l[0]}))c.data={dataItems:A},c.count=A.length*l.length,d=!0;else{let f={...e};if(r!==void 0&&r.length>0){let p=r.map(g=>bk(l[0].x,g)),m=Wr(p,"OR");f.where=Wr([f.where,m])}c=await DB({queryObject:t,queryConfig:f,chartConfig:i,options:a})}break;case L.HistogramSeries:{if(A.length===0)c.data={mean:Number.NaN,median:Number.NaN,stddev:Number.NaN,max:Number.NaN,min:Number.NaN,bins:[]},c.count=0;else{let{x:f}=l[0],p=A.map((y,v)=>{let{minValue:_,maxValue:S}=y,F=v===A.length-1?"<=":"<";return`${f} >= ${_} AND ${f} ${F} ${S}`}),m=Wr(p,"OR"),g={...e};g.where=Wr([g.where,m]),c=await mk({queryObject:t,chartConfig:i,queryConfig:g,options:a,errorStrings:n,abortKey:o})}break}case L.ScatterSeries:{if(A.length===0){let{r2:f,trendLinePoints:p}=re.scatterplotSeries;c.data={dataItems:[],r2:f,trendLinePoints:p,count:0},c.count=0}else{let{r2:f,trendLinePoints:p}=gk({data:A,chartConfig:i});c.data={dataItems:A,r2:f,trendLinePoints:p},c.count=A.length}break}}return d&&c.data!==void 0&&ul({arrayToSort:"dataItems"in c.data?c.data.dataItems:c.data,chartConfig:i}),c}async function PB(s){let{queryObject:t,chartConfig:e,queryConfig:i,options:r,errorStrings:a,abortKey:n}=s,o={valid:!0},l=Ur(e),u=await KS({queryObject:t,queryConfig:i,fetchFullBoxPlotData:!l,options:r,chartConfig:e,abortKey:n});if(!l)o=u;else{let h={dataItems:[]};h.meanLines=u.data.dataItems;let c=b0(e),A=(await KS({queryObject:t,queryConfig:i,fetchFullBoxPlotData:!0,options:r,chartConfig:c,abortKey:n})).data;h.dataItems=A.dataItems,h.outliers=A.outliers,o.data=h}return o}async function F3(s){let{queryObject:t,chartConfig:e,queryConfig:i,binnedServerData:r,options:a,errorStrings:n,abortKey:o,fieldList:l}=s,{series:u}=e,{filterBySelection:h}=a??{},c=Me(u),A={valid:!0};if(h===!0)A=await B3(s);else switch(c){case L.BoxPlotSeries:A=await PB(s);break;case L.BarSeries:case L.ComboLineAndBarSeries:case L.PieSeries:case L.RadarSeries:case L.LineSeries:{let d={queryObject:t,queryConfig:i,chartConfig:e,options:a,abortKey:o,fieldList:l};Xa({xAxisValueFormatType:In(e),setTimeBinningInfoWhenNotProvided:a?.setTimeBinningInfoWhenNotProvided,seriesConfig:u[0]})?(r!==void 0&&(d.binnedServerData=r),A=await DB(d)):A=await KS(d);break}case L.ScatterSeries:A.data=await yk({queryObject:t,queryConfig:i,options:a,chartConfig:e,errorStrings:n,abortKey:o});break;case L.HistogramSeries:A=await mk({queryObject:t,queryConfig:i,chartConfig:e,options:a,abortKey:o,errorStrings:n});break;case L.GaugeSeries:A=await HW({queryObject:t,chartConfig:e,queryConfig:i,options:a,abortKey:o});break}return A}async function Uf(s){let{queryObject:t,chartConfig:e,abortKey:i,currentSelectionDataItems:r,binnedServerData:a,options:n,errorStrings:o,fieldList:l}=s,u={valid:!0},h=sw({queryObject:t,chartConfig:e,runtimeDataFilters:n?.runtimeDataFilters,ignoreViewExtent:n?.ignoreViewExtent});return _y(i),u=await F3({chartConfig:e,queryObject:t,queryConfig:h,currentSelectionDataItems:r,binnedServerData:a,options:n,abortKey:i,errorStrings:o,fieldList:l}),u.queryConfig=h,u}function P3(s,t,e){let i=new Map;for(let r=0;r<s.length;r+=1)i.set(s[r],{[e]:s[r]});for(let r=0;r<t.length;r+=1){let a=t[r][e];(typeof a=="string"||typeof a=="number")&&i.set(a,t[r])}return[...i.values()]}async function T3(s){let{seriesData:t,chartConfig:e,queryConfig:i,queryObject:r,categoryOrDateCount:a,behaviorAfterLimit:n,abortKey:o}=s,{series:l}=e,u=t,h=Ue(l),c=In(e);if(n!==Lc.RenderUpToTheLimit&&r!==void 0&&a!==void 0&&a>t.length&&h!==j.BarAndLineFromFields&&h!==j.BarAndLineNoAggregation&&h!==j.PieNoAggregation&&c===L.CategoryAxisFormat){let{x:A}=l[0],d={...i,returnDistinctValues:!0,outFields:[A]};delete d.outStatistics,delete d.orderByFields,delete d.groupByFieldsForStatistics;let f=(await $o({queryObject:r,queryConfig:d,featureCount:a,abortKey:o})).map(p=>p.attributes[A]).filter(p=>p!=null);f.length>t.length&&(u=P3(f,t,A))}return u}function D3(s,t){let e=s,{series:i}=t;if(In(t)===L.CategoryAxisFormat&&i[0].query?.outStatistics?.[0].statisticType===Je.Count){let r=i.reduce((a,n)=>{let o=n.query?.outStatistics?.[0].outStatisticFieldName??[n.y].flat()[0];return a[o]=0,a},{});for(let a=0;a<s.length;a+=1)s[a]={...r,...s[a]}}return e}var Ck=[j.BarAndLineMonoField,j.BarAndLineMultiFields,j.PieNoAggregation,j.PieFromCategory,j.BoxPlotMonoFieldAndCategory,j.BoxPlotMultiFieldsAndCategory,j.BoxPlotMonoFieldAndCategoryAndSplitBy];function _k(s,t){let e=s;return t===_t.Week?e/=7:t===_t.Month?e/=30:t===_t.Year&&(e/=365),e=Math.ceil(e),e}function dc(s){let{date:t,unit:e,nextOrPrevious:i,size:r}=s;if(r!==void 0&&Number.isFinite(r)){let a=i==="next"?r:-r;switch(e){case _t.Second:return Zi.fromMillis(t).plus({seconds:a}).valueOf();case _t.Minute:return Zi.fromMillis(t).plus({minutes:a}).valueOf();case _t.Hour:return Zi.fromMillis(t).plus({hours:a}).valueOf();case _t.Week:case _t.Day:return Zi.fromMillis(t).plus({days:a}).valueOf();case _t.Month:return Zi.fromMillis(t).plus({months:a}).valueOf();case _t.Year:return Zi.fromMillis(t).plus({years:a}).valueOf()}}return t}function O3(s){let{binFirstOrLastIndex:t,data:e,x:i,timeIntervalInfo:r}=s,{unit:a,size:n}=r,o=a===_t.Week?(n??1)*7:n,l=e[t][i],u=t,h=dc({date:l,unit:a,size:o,nextOrPrevious:"next"}),c=e[u][i];for(;u+1<e.length&&c<h;)u+=1,c=e[u]?.[i];let A=u+1>=e.length,d=u;A&&e[d]!==void 0&&(d+=1);let f=A?dc({date:l,unit:a,size:o,nextOrPrevious:"next"}):e[u][i];return{binStartDate:l,binEndDate:f,last:A,nextBinFirstOrLastIndex:u,sliceStartIndex:t,sliceEndIndex:d}}function L3(s){let{binFirstOrLastIndex:t,data:e,x:i,timeIntervalInfo:r}=s,{unit:a,size:n}=r,o=a===_t.Week?(n??1)*7:n,l=e[t][i],u=t,h=dc({date:l,unit:a,size:o,nextOrPrevious:"previous"}),c=e[u][i];for(;u-1>=0&&c>h;)u-=1,c=e[u]?.[i];let A=u-1<=0,d=t;return A&&e[d]!==void 0&&(d-=1),A&&(u=0),{binStartDate:A?dc({date:l,unit:a,size:o,nextOrPrevious:"previous"}):e[u][i],binEndDate:l,nextBinFirstOrLastIndex:u,sliceStartIndex:u,sliceEndIndex:d,last:A}}function I3(s){let{binsToRegroup:t,statisticType:e,y:i,nullPolicy:r}=s,a;r!==ah.Interpolate&&(a=r===ah.Zero?0:null);let n=t.filter(o=>Number.isFinite(o[i]));if(n.length>0)switch(e){case Je.Count:case Je.Sum:a=_T(n,o=>o[i]);break;case Je.Minimum:a=xT(n,o=>o[i]);break;case Je.Maximum:a=vT(n,o=>o[i]);break;case Je.Average:a=wT(n,o=>o[i]);break;case Je.ContinuousPercentile:}return a}function $3(s){let{data:t,seriesConfig:e,timeIntervalInfo:i,dateMinTimestamp:r,dateMaxTimestamp:a}=s,n=[],{unit:o}=i,l=i.size??1,u=e[0],{x:h}=u,c,A;if(cn(u)&&(A=u.temporalBinning?.nullPolicy,c=u.temporalBinning?.timeAggregationType),l>1||o===_t.Week||o===_t.Month||o===_t.Year){let{query:d}=e[0],f=Fs(e),{statisticType:p}=d?.outStatistics?.[0]??pp,m=!1,g=c===Va.End?t.length-1:0,y={binFirstOrLastIndex:g,data:t,x:h,timeIntervalInfo:i};for(;!m;){let v={},{binStartDate:_,binEndDate:S,last:F,nextBinFirstOrLastIndex:P,sliceStartIndex:D,sliceEndIndex:$}=c===Va.End?L3(y):O3(y);if(m=F,v=c===Va.End?v=t[$-1]:v=t[g],S>a&&_<a||_<r&&S>r||_>=r&&S<=a){let I=t.slice(D,$).filter(Q=>!(re.dateBinModel in Q));f.forEach(Q=>{v[Q]=I3({binsToRegroup:I,statisticType:p,y:Q,nullPolicy:A})});let R=I.map(Q=>Q[cu]).filter(Q=>Q!==void 0),T=jj(R);T!==void 0&&(v[cu]=T),v[h]=_,v[re.xAxisField]=_,v[re.dateBinningRange]=[_,S],delete v[re.dateBinModel],n.push(v)}else F&&c!==Va.End&&n.length>0&&(n[n.length-1][re.dateBinningRange][1]=n[n.length-1][re.dateBinningRange][1]+1);g=P,y.binFirstOrLastIndex=P}c===Va.End&&(n=n.reverse())}else l===1?n=t.map((d,f)=>{let p=d[h],m=t[f+1]?.[h];return m=typeof m=="number"?m-1:dc({date:p,unit:o,size:l,nextOrPrevious:"next"}),{...d,[re.dateBinningRange]:[p,m]}}):n=t;return n}function Sk(s){let{dateMinTimestamp:t,dateMaxTimestamp:e,timeIntervalInfo:i}=s,{size:r,unit:a}=i,n=0,o=0;if(r!==void 0&&Number.isFinite(r)&&Number.isFinite(t)&&Number.isFinite(e)){let l=-1,u=Zi.fromMillis(t),h=Zi.fromMillis(e);switch(a){case _t.Second:l=h.diff(u,"seconds").get("seconds");break;case _t.Minute:l=h.diff(u,"minutes").get("minutes");break;case _t.Hour:l=h.diff(u,"hours").get("hours");break;case _t.Day:case _t.Month:case _t.Year:l=h.diff(u,"days").get("days");break;case _t.Week:l=h.diff(u,"weeks").get("weeks");break}Number.isFinite(l)&&(o=Math.ceil(l)+1,n=r===1?o:Math.ceil(o/r))}return{numberOfFinalBinsWithinDataRange:n,numberOfSingleBinsWithinDataRange:o}}function Bk(s){let t=s[0].temporalBinning?.nullPolicy;return s.reduce((e,i)=>{e[re.dateBinModel]=void 0;let r=i.query?.outStatistics?.[0].outStatisticFieldName??[i.y].flat()[0];return t!==ah.Interpolate&&(e[r]=t===ah.Zero?0:null),e},{})}function k3(s){let{dateMaxTimestamp:t,numberOfFinalBinsWithinDataRange:e,numberOfSingleBinsWithinDataRange:i,data:r,seriesConfig:a,timeIntervalInfo:n}=s,{size:o,unit:l}=n,{x:u}=a[0],h=a[0].temporalBinning?.timeAggregationType,c=r[0][u],A=t;if(o!==void 0&&Number.isFinite(o)&&i/e!==o){let d=Math.ceil(i/e)*e-i;l===_t.Week&&(d*=7);let f=Bk(a);if(h===Va.End){let p=r[0][u];for(let m=0;m<d;m+=1)p=dc({date:p,unit:l,size:1,nextOrPrevious:"previous"}),r.push({...f,[u]:p,[re.xAxisField]:p});d>0&&(c=r[r.length-1][u])}else{let p=r[r.length-1][u];for(let m=0;m<d;m+=1)p=dc({date:p,unit:l,size:1,nextOrPrevious:"next"}),r.push({...f,[u]:p,[re.xAxisField]:p});A=r[r.length-1][u]}}return{newDateMin:c,newDateMax:A}}function M3(s){let{numberOfSingleBinsWithinDataRange:t,dataLength:e,unit:i}=s;return _k(e,i)>=t}async function E3(s){let{queryObject:t,queryConfig:e,x:i}=s,r=`MIN_${i}`,a=`MAX_${i}`,n=`COUNT_${i}`,o={...e,outStatistics:[{statisticType:Je.Minimum,onStatisticField:i,outStatisticFieldName:r},{statisticType:Je.Maximum,onStatisticField:i,outStatisticFieldName:a},{statisticType:Je.Count,onStatisticField:i,outStatisticFieldName:n}]};delete o.groupByFieldsForStatistics,delete o.orderByFields;let l=await pA({queryObject:t,queryConfig:o}),u=l.get(r),h=l.get(a),c=l.get(n);return typeof u=="string"&&(u=new Date(u).valueOf()),typeof h=="string"&&(h=new Date(h).valueOf()),{dateRange:{dateMinTimestamp:u,dateMaxTimestamp:h},numberOfFeatures:c}}function R3(s){let{newDateMin:t,newDateMax:e,seriesConfig:i,data:r,numberOfSingleBinsWithinDataRange:a,initialNumberOfBins:n,timeIntervalInfo:o}=s,{unit:l}=o,u=r;if(!M3({numberOfSingleBinsWithinDataRange:a,dataLength:n,unit:l})){let{x:h}=i[0],c=i[0].temporalBinning?.timeAggregationType,A=Bk(i),d=c===Va.End?e:t,f=c===Va.End?r.length-1:0;for(;f<r.length&&(c===Va.End&&d>t||c!==Va.End&&d<e);)d!==r[f][h]?u.push({...A,[h]:d,[re.xAxisField]:d}):f=c===Va.End?f-1:f+1,d=dc({date:d,unit:l===_t.Month||l===_t.Year?_t.Day:l,size:1,nextOrPrevious:c===Va.End?"previous":"next"})}return u}function N3(s){let{data:t,seriesConfig:e,dateMinTimestamp:i,dateMaxTimestamp:r}=s,a=t;if(e[0].temporalBinning?.trimIncompleteTimeInterval!==!1){let{timeAggregationType:n}=e[0].temporalBinning??{},o=t[0]?.[re.dateBinningRange]?.[0],l=t[t.length-1]?.[re.dateBinningRange]?.[1];if(n===Va.End?o<i:l>r)if(n===Va.End){let u=o;for(;u<i&&t.length>0;)t.shift(),t.length>0&&(u=t[0][re.dateBinningRange]?.[0])}else{let u=l;for(;u>r&&t.length>0;)t.pop(),t.length>0&&(u=t[t.length-1][re.dateBinningRange]?.[1])}}return a}function V3(s){let{groupByFieldsForStatistics:t,dateField:e,queryStartDate:i,queryEndDate:r,y:a,binIndex:n,lastBin:o}=s,l=t===""?Md.groupByCaseBegin:t;return l=Ha(ZT,{groupByFieldsForStatistics:l,dateField:e,startDate:`${i}`,endDate:`${r}`,y:[a].flat()[0],binIndex:`${n}`,endDateOperand:o?"<=":"<"}),l}function*U3(s){let{queryObject:t,seriesConfig:e,queryConfig:i,completeData:r}=s;for(let a=0;a<e.length;a+=1){let n=e[a],{query:o,x:l,y:u}=n,h=[{onStatisticField:o?.outStatistics?.[0]?.onStatisticField??"",outStatisticFieldName:Je.ContinuousPercentile,statisticType:Je.ContinuousPercentile,statisticParameters:{value:.5}}],c=Md.groupByCaseBegin;for(let d=0;d<r.length;d+=1){let f=r[d],[p,m]=f[re.dateBinningRange],g=Ff(p),y=Ff(m);c=V3({groupByFieldsForStatistics:c,queryStartDate:g,queryEndDate:y,dateField:l,y:[u].flat()[0],binIndex:d,lastBin:d===r.length-1})}c=`${c} ${Md.groupByCaseEnd}`;let A={...i,groupByFieldsForStatistics:[c],outStatistics:h,orderByFields:void 0};yield $o({queryObject:t,queryConfig:A,noBatch:!0})}}async function Q3(s){let{queryObject:t,data:e,seriesConfig:i,queryConfig:r}=s,a=e,{statisticType:n}=i[0].query?.outStatistics?.[0]??pp;if(n===Je.ContinuousPercentile&&a.length>0){let o=U3({queryObject:t,completeData:a,seriesConfig:i,queryConfig:r}),l=(await Promise.all(o)).flat();if(l.length>0){let{isInItem:u,expr:h}=vp(l[0].attributes);u&&l.forEach(c=>{let A=c.attributes[`${h}`];if(A!==void 0){let[d,f]=A.split("|");if(f!==void 0){let p=c.attributes[Je.ContinuousPercentile];a[f][`${d}`]=p}}})}}return a}async function H3(s){let{queryResults:t,mapToStatField:e,splitByField:i,x:r,y:a,nullPolicy:n,queryObject:o}=s,l=WT(r),u=(await Vs(o)).find(c=>c.name===r)?.type,h=[];return t.forEach(c=>{let{attributes:A,stackedAttributes:d}=c,f=A[l.lowerBoundaryAlias],p=A[l.upperBoundaryAlias],m=f,g=p,y=_=>{let{boundary:S,separator:F,xFieldType:P}=_,D=S;return P===mp.DateOnly&&(typeof S=="string"&&S.length===10||typeof S=="number")?(D=new Date(S),D=new Date(D.valueOf()+D.getTimezoneOffset()*6e4).valueOf()):typeof S=="string"&&S.lastIndexOf(F)===S.length-6&&(D=new Date(S.slice(0,S.lastIndexOf(F))).valueOf()),D};["+","-"].forEach(_=>{f=y({boundary:f,separator:_,xFieldType:u}),p=y({boundary:p,separator:_,xFieldType:u})});let v=(_,S)=>{S&&n===ah.Zero&&(_[S]===void 0||_[S]===null)&&(_[S]=0)};if(typeof f=="number"&&typeof p=="number"){let _={...A};_[re.originalServerBinningRange]=[m,g],_[r]=f,_[re.xAxisField]=f,_[re.dateBinningRange]=[f,p],delete _[l.lowerBoundaryAlias],delete _[l.upperBoundaryAlias],d&&i&&!Li(i)&&e?d.forEach(S=>{let F=S[i];if(F===null||typeof F=="string"||typeof F=="number"){let P=e?.get(F);P!==void 0&&(_[P]=S[as.outStatistics?.outStatisticFieldName??""],v(_,P))}}):v(_,a),h.push(_)}}),h}async function j3(s){let{queryObject:t,queryResults:e,x:i,queryConfig:r,seriesConfig:a,dateRange:n,timeIntervalInfo:o}=s,{dateMinTimestamp:l,dateMaxTimestamp:u}=n,h=e,c=e.length;if(Kv({arrayToSort:h,sortingField:i}),c>1){let{numberOfFinalBinsWithinDataRange:A,numberOfSingleBinsWithinDataRange:d}=Sk({dateMinTimestamp:l,dateMaxTimestamp:u,timeIntervalInfo:o}),{newDateMin:f,newDateMax:p}=k3({dateMaxTimestamp:u,data:h,numberOfFinalBinsWithinDataRange:A,numberOfSingleBinsWithinDataRange:d,seriesConfig:a,timeIntervalInfo:o});h=R3({newDateMin:f,newDateMax:p,seriesConfig:a,data:h,initialNumberOfBins:c,numberOfSingleBinsWithinDataRange:d,timeIntervalInfo:o}),Kv({arrayToSort:h,sortingField:i}),h=$3({data:h,seriesConfig:a,dateMinTimestamp:l,dateMaxTimestamp:u,timeIntervalInfo:o}),h=N3({data:h,seriesConfig:a,dateMinTimestamp:l,dateMaxTimestamp:u}),h=await Q3({queryObject:t,data:h,seriesConfig:a,queryConfig:r})}return h}function W3(s){return Math.floor(Math.min(Math.max(8,Math.sqrt(s??8)),128)+.5)}function X3(s){let{dateRange:t,numberOfFeatures:e}=s,{dateMinTimestamp:i,dateMaxTimestamp:r}=t;typeof i=="string"&&(i=new Date(i).valueOf()),typeof r=="string"&&(r=new Date(r).valueOf());let a=W3(e),n=(r-i)/a,o=aw.findIndex(m=>m.threshold>n),l=aw[o],{unitMs:u,preferredIntervalSize:h,unit:c}=l,A=n/u,d=h.findIndex(m=>m>=A),f=h[d],p=d===0?h[0]:h[d-1];return{size:f-A<A-p?f:p,unit:c}}function z3(s){let{series:t,isTimeBinningSeries:e,setTimeBinningInfoWhenNotProvided:i}=s,r=!1;if(cn(t)&&e){let{unit:a,size:n}=t.temporalBinning??{};r=!LS(a,n)&&i===!0}return r}function G3(s){let t=[];for(let e=1;e<=6;e+=1){let i=s[`EXPR_${e}`]??s[`Expr${e}`]??s[`expr${e}`]??s[`EXPR${e}`];i!==null&&t.push(i)}return Zi.local(Number(t[0]??1969),Number(t[1]??1),Number(t[2]??1),Number(t[3]??0),Number(t[4]??0),Number(t[5]??0)).valueOf()}function Y3(s){let{feature:t,splitByField:e,chartSubType:i}=s,{extent:r}=t.aggregateGeometries??t.geometry??{},a=r?.toJSON(),n=cu;return a!==void 0&&e!==void 0&&i!==void 0&&i===j.BarAndLineSplitBy&&(n=t.attributes[e]!==void 0?`${cu}_${t.attributes[e]}`:cu),{featureExtent:a,featureExtentKey:n}}function K3(s){let{input:t,x:e,splitByField:i}=s;return t.reduce((r,a)=>(i!==void 0&&i!==e&&delete a[i],Object.assign(r,a)),{})}function yg(s){let{data:t,x:e,splitByField:i}=s,r=t;return t!==void 0&&t.length>0&&(r=[...bT(t,a=>K3({input:a,x:e,splitByField:i}),a=>a[e]).values()]),r}function q3(s,t){let e=s,i=Me(t);if(i!==L.PieSeries&&i!==L.BoxPlotSeries){let r=Fs(t),a=t[0].y;s.forEach(n=>{let o=0;if(r.forEach(l=>{let u=n[l];Number.isFinite(u)&&(o+=u)}),n[re.technicalSortingFieldBySum]=o,Number.isFinite(o)&&o>0){let l=n[a];if(Number.isFinite(l)){let u=l/o;n[re.technicalSortingFieldByPercent]=u}}})}return e}function Z3(s,t){let e=t,i=Fs(s),r=i.length===1;return i.forEach(a=>{let n=dA(r?void 0:a),o=e[n[Ze.FirstQuartile]],l=e[n[Ze.ThirdQuartile]];Number.isFinite(o)&&Number.isFinite(l)&&l>=o&&(e[n[Ze.IQR]]=l-o)}),e}function TB(s,t){[t].flat().forEach(e=>{e&&(s[e]===void 0&&(s[e]=s[e.toUpperCase()]!==void 0?s[e.toUpperCase()]:s[e.toLowerCase()]),s[e]!==void 0?(e!==e.toUpperCase()&&delete s[e.toUpperCase()],e!==e.toLowerCase()&&delete s[e.toLowerCase()]):delete s[e])})}function J3(s,t){let e=Array.from(new Set(t.flatMap(i=>i.query?.outStatistics?.map(r=>r.outStatisticFieldName))));e.push(as.outStatistics.outStatisticFieldName),TB(s,e)}function eX(s,t){let e={...s};return s!==void 0&&t[0]!==void 0&&(e=Object.keys(s).reduce((i,r)=>{let a=t.find(n=>n.outStatisticFieldName?.toLowerCase()===r.toLowerCase())?.onStatisticField;return a!==void 0&&s[r]!==void 0&&a!==r?i[a]=s[r]:i[r]=s[r],i},{})),e}function tX(s){let{dataItem:t,splitByField:e,y:i}=s;if(t!==void 0&&!Li(e)&&!Li(i)){let r=t[e],a=`${i}_${r?.toString()}`;t[a]=t[i],delete t[i]}}function iX(s,t){Object.keys(s).forEach(e=>{if(e.startsWith(`${t}_`)){let i=e.slice(t.length+1);s[i]=s[e],delete s[e]}})}function rX(s,t){let e=1;switch(s){case j.BarAndLineFromFields:case j.PieFromFields:e=t.series[0].query?.outStatistics?.length??1;break;case j.BoxPlotMultiFields:case j.BoxPlotMultiFieldsAndSplitBy:e=t.series[0].y.length;break;case j.BarAndLineNoAggregation:case j.BoxPlotMonoField:case j.BoxPlotMonoFieldAndCategory:case j.BoxPlotMultiFieldsAndCategory:case j.BoxPlotMonoFieldAndSplitBy:case j.BoxPlotMonoFieldAndCategoryAndSplitBy:case j.PieFromCategory:case j.BarAndLineSplitByNoAggregation:case j.PieNoAggregation:case j.BarAndLineSplitBy:case j.BarAndLineMonoField:case j.BarAndLineMultiFields:case j.NonSpecific:}return e}function sX(s){let{attributes:t,showMean:e,chartSubType:i}=s;e&&(i===j.BoxPlotMonoFieldAndSplitBy||i===j.BoxPlotMultiFieldsAndSplitBy||i===j.BoxPlotMonoFieldAndCategoryAndSplitBy)&&(t[re.boxPlot.boxPlotMeanLineMarkerId]=!0)}function aX(s){let{queryResponse:t,chartConfig:e,maxCategoryCount:i}=s,r=Ue(e.series);return i&&Number.isFinite(i)&&i<t.length&&Ck.includes(r)?t.slice(0,i):t}function nX(s){let{attributes:t,uniqueCategoryList:e,maxCategoryCount:i,x:r,chartSubType:a}=s,n=!1;if(r&&i&&Number.isFinite(i)&&!Ck.includes(a))if((a===j.BarAndLineFromFields||a===j.PieFromFields)&&Object.keys(t).length>i)Object.keys(t).filter(o=>o!==Je.EnvelopeAggregate).forEach((o,l)=>{l>=i&&delete t[o]});else{let o=t[r];o!==void 0&&(e.size===i&&!e.has(o)?n=!0:e.add(o))}return n}function oX(s){let{queryResponse:t,chartConfig:e,mapToStatField:i,splitByField:r,fieldOID:a,isDateField:n,isTimeBinningSeries:o,subtypeInfo:l,resultLimit:u,showMean:h,chartLimits:c,fieldList:A}=s,{series:d}=e,f=Ue(d),p=Me(d),{x:m}=d[0],g="y"in d[0]?d[0].y:void 0,y=d[0].query?.outStatistics??[],{originalCategoryValue:v,originalDateValue:_,typeOrDomainFieldName:S,typeOrDomainIdValue:F}=re,P=[],D=0,$=new Set,{maxCategoryCount:I}=$c(c),R=aX({queryResponse:t,chartConfig:e,maxCategoryCount:I});for(let T=0;R[T]&&T<R.length&&!(u!==void 0&&D>=u);T+=1){D+=rX(f,e);let Q=R[T],K={...Q.attributes};if(nX({attributes:K,uniqueCategoryList:$,maxCategoryCount:I,x:m,chartSubType:f}))continue;J3(K,d),f===j.PieFromFields||f===j.BarAndLineFromFields?K=eX(K,y):typeof g=="string"&&f===j.BarAndLineSplitByNoAggregation?tX({dataItem:K,splitByField:r,y:g}):g&&(f===j.BoxPlotMonoField||f===j.BoxPlotMonoFieldAndCategory||f===j.BoxPlotMonoFieldAndSplitBy||f===j.BoxPlotMonoFieldAndCategoryAndSplitBy)&&iX(K,typeof g=="string"?g:g[0]),sX({attributes:K,showMean:h,chartSubType:f});let z=K[m];z===null&&d[0]?.query?.fetchNullValues===!0&&f!==j.PieFromFields&&(K[v]=null,z=re.nullValue),n&&typeof z=="string"?z=new Date(z).valueOf():o&&(z=G3(K));let{outStatisticFieldName:se}=as.outStatistics??{},{featureExtent:ee,featureExtentKey:ue}=Y3({feature:Q,splitByField:r,chartSubType:f});if(ee&&(K[ue]=ee),f===j.BarAndLineSplitBy&&se!==void 0){let q=K[r],ge=i?.get(q);ge!==void 0&&(K[ge]=K[se]),delete K[se]}else(f===j.PieNoAggregation||f===j.BarAndLineNoAggregation||f===j.BarAndLineSplitByNoAggregation)&&(n?K[_]=z:z!==re.nullValue&&(K[v]=z),p0({isXAxis:!0,chartType:p,valueFormat:e.axes?.[0]?.valueFormat})&&(K[re.xAxisField]=`${z}-${T}`),K[as.uniqueIdsName]=K[a]);let G=Bp({subtypeInfo:l,fieldList:A,fieldName:m,fieldValueToMatch:z});G!==void 0&&G!==z&&f!==j.PieFromFields&&(K[v]=G,K[S]=m,K[F]=z),p===L.BoxPlotSeries&&(K=Z3(d,K)),p===L.PieSeries&&typeof z=="number"&&(K[v]===void 0&&(K[v]=K[m]),z=`${z}`),z!==void 0&&(K[v]===void 0&&(K[v]=K[m]),K[m]=G??z,K[m]===null&&(K[m]=re.nullValue),K[re.xAxisField]===void 0&&(K[re.xAxisField]=K[F]??K[m])),P.push(K)}return P}async function S0(s){let{queryObject:t,uniqueQuery:e,chartConfig:i,mapToStatField:r,abortKey:a,elementCount:n,isTimeBinningSeries:o,showMean:l,chartLimits:u,usePopupTemplateFieldsInfo:h}=s,{series:c}=i,A=Ue(c),d=[],f=A===j.BarAndLineSplitBy||A===j.BarAndLineSplitByNoAggregation?jr(c[0].query?.where):"",p=await $o({queryObject:t,queryConfig:e,featureCount:n,abortKey:a}),m=await Vs(t,h),g=tr(t).objectIdField,y=YT(m),{x:v}=c[0],_=y.includes(v),S=By(t);return d=oX({queryResponse:p,chartConfig:i,mapToStatField:r,splitByField:f,fieldOID:g,isDateField:_,isTimeBinningSeries:o,subtypeInfo:S,fieldList:m,resultLimit:e.num,showMean:l,chartLimits:u}),A!==j.BarAndLineSplitByNoAggregation&&A!==j.BarAndLineFromFields&&(f!==""&&(d=yg({data:d,x:v,splitByField:f})),d=q3(d,c)),d}async function Fk(s){let{chartConfig:t,queryObject:e,queryConfig:i,numberMaxOfFeaturesToFetch:r,behaviorAfterLimit:a,isGaugeByFeature:n}=s,{series:o}=t,l=Ue(o),{x:u}=o[0],h=o.length,c,A;if(l===j.BoxPlotMonoField||l===j.BoxPlotMonoFieldAndSplitBy?(A=h,c=A):l===j.BoxPlotMultiFields||l===j.BoxPlotMultiFieldsAndSplitBy?(A=t.series[0].y.length,c=A):l===j.PieFromFields||l===j.BarAndLineFromFields?(A=o[0].query?.outStatistics?.filter(d=>d.statisticType!==Je.EnvelopeAggregate).length??0,c=A):c=await HT({queryObject:e,x:u,chartSubType:l,queryConfig:i,isGaugeByFeature:n}),c!==void 0){let d=l===j.BoxPlotMonoField||l===j.BoxPlotMonoFieldAndCategory||l===j.BoxPlotMonoFieldAndSplitBy;A=Id(l)&&!d?c*h:c}return a===Lc.RenderUpToTheLimit&&A!==void 0&&r!==void 0&&r<A&&(A=r,c=Math.ceil(A/h)),{categoryOrDateCount:c,elementCount:A}}function ul(s){let{arrayToSort:t,chartConfig:e,fieldList:i,isTimeBinningSeries:r}=s;if(r!==!0){let{series:a}=e,n=Ue(a),o=Me(a),l=In(e),u=kS(e);if(u!==void 0&&t!==void 0&&t.length>1){let{orderBy:h}=u,{sortingField:c}=u,A=e.orderOptions?.data?.orderType===nh.Category,d=u.preferLabel!==!1,f=n===j.BarAndLineFromFields||n===j.PieFromFields||n===j.BoxPlotMultiFields||n===j.BoxPlotMultiFieldsAndSplitBy,p=f||o===L.PieSeries,m=n===j.PieNoAggregation||n===j.BarAndLineNoAggregation||n===j.BarAndLineSplitByNoAggregation,g=f?!1:t?.length>0&&t.some(y=>Object.hasOwn(y,re.typeOrDomainIdValue));if(A&&(!d||o===L.LineSeries&&l===L.NumberAxisFormat)&&(g?c=re.typeOrDomainIdValue:p&&(c=re.originalCategoryValue)),Array.isArray(h))Wj({arrayToSort:t,orderBy:h,sortingField:c,fieldList:i,isByFieldsChart:f,preferLabel:d});else{let y=l===L.DateAxisFormat&&A;Kv({arrayToSort:t,orderBy:h,sortingField:c,forceAscendingOrder:y,isNonAggregated:m,sortByCategory:A,preferLabel:d,isPieOrByFieldsChart:p})}}}}async function KS(s){let{chartConfig:t,queryConfig:e,fetchFullBoxPlotData:i,options:r,queryObject:a,abortKey:n,fieldList:o}=s,l="showMean"in t&&typeof t.showMean=="boolean"?t.showMean:!1,{chartLimits:u,usePopupTemplateFieldsInfo:h}=r??{},c=r?.replaceNoValueCategoryWithZero??re.options.replaceNoValueCategoryWithZero,{behaviorAfterLimit:A}=u??{},d={valid:!0},f,p=!1,m=t.series,g=m[0],y=Ue(t.series);if(g!==void 0&&a!==void 0){let v=Me(m),{uniqueQuery:_,mapToStatField:S}=await _0({chartConfig:t,queryObject:a,queryConfig:e,fetchFullBoxPlotData:i,options:r}),{categoryOrDateCount:F,elementCount:P}=await Fk({chartConfig:t,queryObject:a,queryConfig:e,behaviorAfterLimit:A,numberMaxOfFeaturesToFetch:_.num}),D=!Number.isFinite(P),$=D||du({count:P??0,seriesCount:m.length,chartType:v,chartLimits:u});if($&&(f=await S0({queryObject:a,uniqueQuery:_,chartConfig:t,mapToStatField:S,elementCount:P,isTimeBinningSeries:!1,showMean:l,chartLimits:u,usePopupTemplateFieldsInfo:h,abortKey:n}),v===L.BoxPlotSeries&&(d.data=await M4({data:f,queryObject:a,fetchFullBoxPlotData:i,uniqueQuery:_,chartConfig:t,elementCount:P,chartLimits:u,abortKey:n}),u?.maxBoxPlotOutlierLimit!==void 0&&($=(d.data.outliers??[]).length<=u.maxBoxPlotOutlierLimit,p=!$)),D&&(F=f.length,P=Id(y)?F*m.length:F,$=du({count:P,seriesCount:m.length,chartType:v,chartLimits:u})),$)){if(v===L.PieSeries){y===j.PieFromFields&&(f=qv({dataToConvert:f[0],x:rs,y:Fa,fieldList:o}));let I="";y===j.PieFromFields?I=Fa:"y"in g&&typeof g.y=="string"&&(I=g.y),u4(f,I)?d.data={dataItems:f}:C4(d,ci.PieChartMixOfNegativePositiveSlices)}else if((v===L.RadarSeries||v===L.BarSeries||v===L.LineSeries||v===L.ComboLineAndBarSeries)&&(y===j.BarAndLineFromFields&&"y"in g&&typeof g.y=="string"?f=qv({dataToConvert:f[0],x:g.x,y:g.y,fieldList:o}):f=await T3({queryObject:a,seriesData:f,chartConfig:t,queryConfig:e,categoryOrDateCount:F,behaviorAfterLimit:A,abortKey:n}),P=Id(y)?f.length*m.length:f.length,$=du({count:P,seriesCount:m.length,chartType:v,chartLimits:u}),$)){c&&(f=D3(f,t)),ul({arrayToSort:f,chartConfig:t,fieldList:o});let I={};if(cn(g)){let{size:R,unit:T}=g.temporalBinning??{};R!==void 0&&T!==void 0&&(I={size:R,unit:T})}d.data={dataItems:f,timeIntervalInfo:I}}}$||c$({dataInfo:d,chartType:v,subError:{outlierLimit:p}}),d.count=P}return d}async function DB(s){let{chartConfig:t,queryConfig:e,queryObject:i,abortKey:r,binnedServerData:a,options:n}=s,{chartLimits:o,usePopupTemplateFieldsInfo:l}=n??{},{behaviorAfterLimit:u}=o??{},h=t.series,c=h[0],{x:A}=c,d=jr(c.query?.where),f={valid:!0},p;if(cn(c)){let{temporalBinning:m}=c;if(i&&m){let{type:g,unit:y,size:v}=m,_=1,S={unit:y,size:v},F=z3({series:c,isTimeBinningSeries:!0,setTimeBinningInfoWhenNotProvided:n?.setTimeBinningInfoWhenNotProvided}),P=a?.timeBinningStats;!P&&(g===ro.FixedDateBased||F)&&(P=await E3({queryObject:i,queryConfig:e,x:A})),F&&P&&(S=X3(P),m.size=S.size,m.unit=S.unit);let{uniqueQuery:D,mapToStatField:$}=await _0({chartConfig:t,queryConfig:e,queryObject:i,timeIntervalInfo:S,options:n}),I=du({count:_??0,seriesCount:h.length,chartType:L.LineSeries,chartLimits:o});if(I){if(g===ro.CalendarBased){let R=await iw({queryObject:i,dateField:A,splitByField:d,queryConfig:D,temporalBinning:m}),T="y"in c&&typeof c.y=="string"?c.y:void 0;if(p=await H3({queryResults:R,mapToStatField:$,splitByField:d,x:A,y:T,nullPolicy:m.nullPolicy,queryObject:i}),!du({count:p.length,seriesCount:h.length,chartType:L.LineSeries,chartLimits:o})){let Q=Fs(h),K=p.filter(z=>Q.some(se=>se in z&&Number.isFinite(z[se]))).length;du({count:K,seriesCount:h.length,chartType:L.LineSeries,chartLimits:o})||(I=!1)}}else if(P){let{numberOfFinalBinsWithinDataRange:R}=Sk({dateMinTimestamp:P.dateRange.dateMinTimestamp,dateMaxTimestamp:P.dateRange.dateMaxTimestamp,timeIntervalInfo:S});_=R*h.length,_=_k(_,S.unit),p=a?.data??await S0({queryObject:i,uniqueQuery:D,chartConfig:t,mapToStatField:$,elementCount:_,chartLimits:o,isTimeBinningSeries:!0,usePopupTemplateFieldsInfo:l,abortKey:r}),f.binnedServerData={data:gr(p),timeBinningStats:P},p=await j3({queryObject:i,queryConfig:e,queryResults:p,x:A,seriesConfig:h,dateRange:P.dateRange,timeIntervalInfo:S})}if(u===Lc.RenderUpToTheLimit&&p){let R=t$(t,n?.chartLimits);R!==void 0&&p.splice(R)}}I||(f.valid=!1,f.invalidType=ci.LineChartExceedsLimit),p&&p.length>0&&(p[p.length-1][re.lastTemporalBin]=!0),f.data={dataItems:p,timeIntervalInfo:S},f.count=_}}return f}async function lX(s){let{chartConfig:t,queryConfig:e,queryObject:i,abortKey:r,options:a}=s,n=Ur(t),{setTimeBinningInfoWhenNotProvided:o,chartLimits:l,usePopupTemplateFieldsInfo:u}=a??{},h={valid:!0};if(i!==void 0){let c=t.series,A=Xa({seriesConfig:c[0],xAxisValueFormatType:In(t),setTimeBinningInfoWhenNotProvided:o}),{uniqueQuery:d,mapToStatField:f}=await _0({chartConfig:t,queryObject:i,queryConfig:e,fetchFullBoxPlotData:!n,options:a}),p=await S0({queryObject:i,uniqueQuery:d,elementCount:1,chartConfig:t,mapToStatField:f,isTimeBinningSeries:A,showMean:n,chartLimits:l,usePopupTemplateFieldsInfo:u,abortKey:r});Me(t.series)===L.BoxPlotSeries&&(p=f$({chartConfig:t,data:p,calculateZScore:!1})),h.data={dataItems:p}}return h}async function uX(s){let{chartConfig:t,queryConfig:e,queryObject:i,abortKey:r,options:a,errorStrings:n}=s,o="showMean"in t?t.showMean:!1,l=await PB({queryObject:i,chartConfig:t,queryConfig:e,options:a,errorStrings:n,abortKey:r});return o&&l.data&&"dataItems"in l.data&&"meanLines"in l.data&&l.data.meanLines&&(l.data.dataItems=[...l.data.dataItems,...l.data.meanLines]),l}function hl(s){return s?.[ja.defaultGroupOfSlicesId]===!0}function hX(s,t){let e=s.filter(i=>!hl(i));return!so(e,t)}function cX(s,t){let e=s.reduce((i,r)=>{if(r[ja.defaultGroupOfSlicesId]===!0){let a=r[re.pieChart.technicalFieldGroupedSlices];a!==void 0&&a.forEach(n=>{i.push(n)})}else i.push(r);return i},[]);return ul({arrayToSort:e,chartConfig:t}),e=dB({data:{dataItems:e},seriesConfig:t.series})?.dataItems??[],e}function Pk(s){let{stringToTruncate:t,characterLimit:e,ellipsis:i=re.chartEllipsis}=s,r=t;return typeof e=="number"&&Number.isFinite(e)&&e>0&&e<t.length&&(r=t.slice(0,e),r=`${r}${i}`),r}function $n(s,t=":"){return s?`\u200F${t}`:`\u200E${t}`}function OB(s){return t=>{let e=typeof t!="string"?t?.toString()??"":t;return!Li(e)&&e!==re.htmlEmptyContent&&(e=Pk({stringToTruncate:e,characterLimit:s})),e}}function B0(s){let t=/[[]/gu,e=/[\]]/gu,i=/[{]/gu,r=/[}]/gu,a=/[']/gu;return s=s.replace(t,"[["),s=s.replace(e,"]]"),s=s.replace(i,"{{"),s=s.replace(r,"}}"),s=s.replace(a,"''"),s}function dX(s,t){let e="";return s!==void 0&&(e=`${t==="amChartsV5"?"fontStyle":"font-style"}:${s};`),e}function AX(s,t){let e="";return s===!0&&(e=`${t==="amChartsV5"?"letterSpacing":"letter-spacing"}:1px;`),e}function rn(s){let{textSymbol:t,placeholderString:e,format:i,axisLabelsBehavior:r,defaults:a}=s,n=dX(t?.font?.style,i),o=AX(t?.kerning,i),l=e??t?.text??"";if(i==="html"){let{wrap:u,maxWidth:h}=a??{};r===ur.Wrap&&(u=!0,h=h??re.xAxisLabelMaxWidth);let c=u===!0&&Number.isFinite(h)?`max-width: ${h}px; word-break: break-word;`:"";l=`<p style="margin:0;${n}${o}${c}">${l}</p>`}else l=B0(l),(n!==""||o!=="")&&(l=`[${n}${o}]${l}[/]`);return l}function fX(s){return s?s.replace(/[A-Z]/gu,t=>`-${t.toLowerCase()}`):void 0}var Gl={ChartRenderer:1,LayerRenderer:2};function vc(s){let{chartConfig:t,queryObject:e}=s,i=!1;if(t.chartRenderer)i=!0;else{let{series:r}=t,a=Me(r),n=Ue(r),o=yl(t),l=Xa({seriesConfig:o}),u=tr(e)?.renderer;switch(u?.type){case Qa.Simple:i=a===L.HistogramSeries||a===L.ScatterSeries||n===j.BarAndLineMonoField||n===j.BoxPlotMonoField||n===j.BoxPlotMultiFields||n===j.BoxPlotMonoFieldAndCategory||n===j.BarAndLineNoAggregation&&r.length===1&&!l;break;case Qa.UniqueValue:{let h=u?.field,c=jr(o.query?.where),{x:A}=o;i=(n===j.BoxPlotMonoFieldAndSplitBy||n===j.BoxPlotMultiFieldsAndSplitBy||n===j.BoxPlotMonoFieldAndCategoryAndSplitBy||n===j.BarAndLineSplitByNoAggregation||n===j.BarAndLineSplitBy)&&h===c||(n===j.BoxPlotMonoFieldAndCategory||n===j.PieFromCategory||n===j.BarAndLineMonoField)&&h===A||n===j.BarAndLineNoAggregation||n===j.PieNoAggregation||a===L.ScatterSeries}break;case Qa.PieChart:i=n===j.PieFromFields||n===j.BarAndLineFromFields||n===j.BarAndLineMultiFields||n===j.BarAndLineMonoField||n===j.BoxPlotMonoField||n===j.BoxPlotMultiFields||n===j.BoxPlotMonoFieldAndCategory||n===j.BoxPlotMultiFieldsAndCategory;break;case Qa.ClassBreaks:i=a===L.ScatterSeries||n===j.BarAndLineNoAggregation||n===j.PieNoAggregation;break;case Qa.Dictionary:case Qa.DotDensity:case Qa.Heatmap:break}}return i}function bg(s,t){return fX(s?.type)??t?.type}function pX(s){let t=re.rendererSymbolField,e=t in s?t:void 0;if(!e){let i=s[re.originalCategoryValue];e=Object.keys(s).find(r=>{let a=s[r];return r.includes(t)&&a?.label&&a?.uniqueValue===i}),e||(e=Object.keys(s).find(r=>r.includes(t))??"")}return s[e]?.label}function mX(s){return s?.type!==void 0&&(s.color!==void 0||s.label!==void 0||s.style!==void 0||s.outline!==void 0)}function Tk(s){let{symbolField:t,dataItem:e,rendererSymbol:i,rendererOrigin:r}=s,a=!1;if(!mX(i))delete e[t];else{let n={...i};n.color!==void 0&&r===Gl.LayerRenderer&&(n.color[3]=Ic*255),r===Gl.LayerRenderer&&(delete n.style,delete n.outline,delete n.label),e[t]=n,a=!0}return a}function gX(s){let{renderer:t,seriesConfig:e,chartSubType:i,dataItem:r,rendererOrigin:a}=s,n,o=!1,l=Me(e),{outline:u,attributes:h}=t;return h.forEach(c=>{let{field:A}=c,{color:d,label:f}=c,p;Array.isArray(d)&&d?.length===4?p=d:d&&"toRgba"in d&&(p=d.toRgba());let m=!1,g=!0;switch(l){case L.BarSeries:case L.LineSeries:case L.ComboLineAndBarSeries:case L.RadarSeries:if(i!==j.BarAndLineFromFields){let y=e.find(v=>v.query?.outStatistics?.[0]?.onStatisticField===A);y!==void 0&&"y"in y?A=[y.y].flat()[0]:A=""}m=i!==j.BarAndLineFromFields||A===r[re.originalCategoryValue];break;case L.PieSeries:m=i===j.PieFromFields&&A===r[re.originalCategoryValue];break;case L.BoxPlotSeries:i===j.BoxPlotMonoField||i===j.BoxPlotMonoFieldAndCategory?m=A===e[0].y:A&&(i===j.BoxPlotMultiFields||i===j.BoxPlotMultiFieldsAndCategory)&&(m=e.map(y=>y.y).flat().includes(A)),g=!1;break}m&&p&&(n={type:Zt.SMS,color:p,label:g&&f?f:void 0},u!=null&&(n.outline=u),Tk({dataItem:r,symbolField:i===j.BarAndLineFromFields||i===j.PieFromFields?re.rendererSymbolField:`${re.rendererSymbolField}_${A}`,rendererSymbol:n,rendererOrigin:a})&&(o=!0))}),{rendererSymbol:n,colorMatchApplied:o}}function yX(s){let{seriesConfig:t,chartSubType:e,rendererType:i}=s,r=re.rendererSymbolField;if(i===Qa.UniqueValue){if(Jx(e)){let a=Ns({where:t.query?.where});a===null?r=re.nullValue:e===j.BarAndLineSplitBy&&typeof t.y=="string"?r=t.y:e===j.BarAndLineSplitByNoAggregation&&typeof t.y=="string"?r=`${t.y}_${a}`:r=`${a}`}}else if(i===Qa.PieChart)switch(e){case j.BoxPlotMultiFields:r=Array.isArray(t.y)?t.y.flat():t.y;break;case j.BarAndLineMonoField:case j.BarAndLineMultiFields:case j.BoxPlotMonoField:case j.BoxPlotMonoFieldAndCategory:case j.BoxPlotMultiFieldsAndCategory:r=t.y;break}return r}function Dk(s){let{seriesConfig:t,chartSubType:e,rendererType:i,dataItem:r}=s,a=yX({seriesConfig:t,chartSubType:e,rendererType:i});return a instanceof Array&&t.type===L.BoxPlotSeries&&i===Qa.PieChart&&r!==void 0&&(a=a.find(n=>n===r[hA])??a[0]),a=a!==re.rendererSymbolField?`${re.rendererSymbolField}_${a.toString()}`:a,a}function LB(s){let{chartRenderer:t,queryObject:e}=s,i=t!==void 0?{...tr(e),renderer:YI.fromJSON(t)}:tr(e);return new _j({layer:i})}async function IB(s){let{seriesConfig:t,dataItem:e,renderer:i,rendererType:r,rendererOrigin:a,chartSubType:n,splitByField:o,graphicTemplate:l,rendererFieldNames:u,mapAttributesToSymbol:h}=s,c,A=!1;if(r===Qa.PieChart){let d=gX({renderer:i,seriesConfig:t,chartSubType:n,dataItem:e,rendererOrigin:a});c=d.rendererSymbol,A=d.colorMatchApplied}else if(!hl(e)){let{x:d}=t[0],f=new Map;o&&o.trim()!==""?t.forEach(p=>{if(p.type===L.BarSeries||p.type===L.LineSeries||p.type===L.BoxPlotSeries||p.type===L.RadarSeries){let m=Dk({seriesConfig:p,chartSubType:n,rendererType:r,dataItem:e}),g=Ns({where:p.query?.where,normalize:!0,keepSurroundingQuotes:!1,escape:!1});f.set(m,{...e,[o]:g})}}):f.set(re.rendererSymbolField,{...e,[d]:sl(e)});try{let p=Array.from(f.entries()),m=l.clone();m.layer=l.layer;let g=i?.uniqueValueInfos;for(let y=0;y<p.length;y+=1){let[v,_]=p[y];if(XL({mode:"encode",x:d,splitByField:o,attributes:_}),u&&u.length>0&&Object.keys(_).forEach(S=>{u.includes(S)||delete _[S]}),m.attributes=_,h?.has(JSON.stringify(_)))c=h.get(JSON.stringify(_));else{if(c=(await If.getDisplayedSymbol(m))?.toJSON(),c!=null){c.color===void 0&&(c.color=(await If.getDisplayedColor(m))?.toJSON());let S=await If.getLegendLabel(m);S!=null&&S!==""&&(c.label=S,c.uniqueValue=g?.find(F=>F.label===S)?.value??void 0)}h?.set(JSON.stringify(_),c)}XL({mode:"revert",x:d,splitByField:o,attributes:e}),Tk({dataItem:e,symbolField:v,rendererSymbol:c,rendererOrigin:a})&&(A=!0)}}catch{}}return{rendererSymbol:c,colorMatchApplied:A}}function bX(s){let t=s;return s?.type==="uniqueValue"&&(s.uniqueValueInfos=s.uniqueValueInfos.map(e=>{let i=e.value===null?re.nullValue:e.value;return{...e,value:i}})),t}function XL(s){let{splitByField:t,attributes:e,x:i,mode:r}=s;[i,t??""].forEach(a=>{e[a]===(r==="encode"?null:re.nullValue)&&(e[a]=r==="encode"?re.nullValue:null)})}async function Qf(s){let{data:t,queryObject:e,chartConfig:i,allowColorMatch:r}=s,a=!1,n=[];if(r){let{series:o,chartRenderer:l}=i,u=bX(l),h=u?Gl.ChartRenderer:Gl.LayerRenderer,c=e?tr(e):void 0,A=u??c?.renderer,d;c&&h===Gl.LayerRenderer?n=await rw(c):h===Gl.ChartRenderer&&(n=xX(A));let f=bg(u,c?.renderer),p=LB({chartRenderer:l,queryObject:e}),m=Ue(o),g=yl(i),y=jr(g.query?.where);d=new Map;for(let v=0;v<t.length;v+=1){let _=t[v],S=await IB({seriesConfig:i.series,dataItem:_,renderer:A,rendererType:f,rendererOrigin:h,chartSubType:m,splitByField:y,graphicTemplate:p,mapAttributesToSymbol:d,rendererFieldNames:n});a=a||S.colorMatchApplied}}return{dataItems:t,colorMatchApplied:a,rendererFieldNames:n}}function tn(s){let{dataItem:t,seriesConfig:e,chartSubType:i,colorMatch:r,rendererType:a}=s,n;if(r&&t!==void 0){let o=Dk({seriesConfig:e,chartSubType:i,rendererType:a,dataItem:t});n=t[o]}return n}function Ok(s){let{seriesSymbol:t,rendererSymbol:e,colorIndex:i}=s,r={...t,color:e?.color??t.color??Mn({colorIndex:i,opacity:Ic})};return e?.type===t.type&&e.style!==void 0&&(r.style=e.style),r.type!==Zt.SLS&&(r.outline={type:Zt.SLS,style:e?.outline?.style??r.outline?.style,width:e?.outline?.width??r.outline?.width,color:e?.outline?.color??r.outline?.color??e?.color}),r}function vX(s){let t=[];return s&&(t=s.series.flatMap(e=>e.query?.outStatistics?.map(i=>i.onStatisticField)).filter(e=>e!==void 0),t.length===0&&(t=Fs(s.series))),t}function F0(s,t){let e=!1;if(s&&t&&t.length>0&&ao(s)){let i=Hj(s),r=yl(s);i?e=vX(s).some(a=>t.includes(a)):e=t.includes(r.x)}return e}function xX(s){let t=[];if(s&&"type"in s&&typeof s.type=="string")switch(s.type){case"uniqueValue":"field1"in s&&typeof s.field1=="string"&&(t=[s.field1]);break;case"classBreaks":"field"in s&&typeof s.field=="string"&&(t=[s.field]);break;case"pieChart":"attributes"in s&&Array.isArray(s.attributes)&&(t=s.attributes.map(e=>e.field));break}return t}function wX(s){let{dataContext:t,dataIndex:e,objectIdField:i}=s;return`${ja.sliceIdPrefix}-${t[i??""]?.toString()??e}`}function CX(s){let{chartConfig:t,chartData:e,fieldList:i}=s;if(t.orderOptions?.data!==void 0){ul({arrayToSort:e,chartConfig:t,fieldList:i});let{slices:r}=t.series[0];r!==void 0&&r.sort((a,n)=>{let o=e.findIndex(u=>u[re.pieChart.technicalFieldSliceId]===a.sliceId),l=e.findIndex(u=>u[re.pieChart.technicalFieldSliceId]===n.sliceId);return o-l})}}function P0(s){let{data:t,newChartConfig:e,pieSlicesSymbols:i,fieldList:r}=s,a=e.series[0],n=Ue(e.series)===j.PieFromFields?rs:a.x;t.forEach(o=>{let l=hl(o),u=o[re.pieChart.technicalFieldSliceId],h=l?a.sliceGrouping?.label:n0(i?.slices,u)?.label;_X({dataContext:o,x:n,newLabel:h})}),CX({chartConfig:e,chartData:t,fieldList:r})}function _X(s){let{dataContext:t,newLabel:e,x:i}=s;e===void 0?t[re.originalCategoryValue]!==void 0&&(t[i]=t[re.originalCategoryValue]):t[i]!==e&&(t[re.originalCategoryValue]===void 0&&(t[re.originalCategoryValue]=t[i]),t[i]=e)}function n0(s,t){let e;return s!==void 0&&t!==void 0&&(e=s.find(i=>i.sliceId===t)),e}function Lk(s){let{dataContext:t,isNonAggregatedChart:e,x:i,dataIndex:r,objectIdField:a,isPieFromFields:n}=s,o="";return n===!0?o=t[re.originalCategoryValue]??t[rs]:e?o=wX({dataContext:t,dataIndex:r,objectIdField:a}):(o=t[re.typeOrDomainIdValue]??t[re.originalCategoryValue],o===""?o=ja.emptySliceId:o===null&&(o=ja.nullSliceId),o=o??t[i]),o===void 0&&(o=ja.undefinedSliceId),o.toString()}function Ik(s){let{dataContext:t,sliceFromConfig:e,isGroupOfSlices:i,seriesConfig:r,fieldList:a,isPieFromFields:n,labelUpdateNeeded:o,colorMatch:l,commonStrings:u}=s,{sliceGrouping:h}=r,{x:c}=r;n&&(c=rs);let A=t[c]??t[re.originalCategoryValue],d=t[re.originalCategoryValue]??A,f=A;if(o){if(i)f=h?.label??h?.originalLabel?.toString()??u.pieChart.defaultSliceGroupingLabel;else if(l&&t[re.rendererSymbolField]?.label!==void 0)f=t[re.rendererSymbolField].label;else if(e!==void 0||a!==void 0){f=e?.label??d;let p=t[re.typeOrDomainIdValue];p!==void 0&&f?.toString()===p?.toString()?f=d:f===d&&d!==void 0&&d!==null&&(f=yr(a,d))}else e===void 0&&(f=d);f===re.nullValue?f="null":f!=null&&(f=f.toString())}return f}function $k(s,t){return s[0]?.sliceGrouping?.percentageThreshold!==t[0]?.sliceGrouping?.percentageThreshold}function vg(s){let{groupOfSlicesDataContext:t,chartData:e}=s;return(t??e?.find(i=>i[ja.defaultGroupOfSlicesId]===!0))?.[re.pieChart.technicalFieldGroupedSlices]}function $B(s){let{dataContext:t,pieSlicesSymbols:e,seriesConfig:i}=s,r=i.fillSymbol?{...i.fillSymbol}:bp();if(hl(t))r={...re.pieChart.sliceGrouping.fillSymbol,...e?.groupOfSlices?.fillSymbol};else{let a=t[re.pieChart.technicalFieldSliceId],n=e?.slices?.find(o=>o.sliceId===a);r=gr(n?.fillSymbol??i.fillSymbol??bp())}return r}var SX="arcgis-charts-randomization-seed",kk=FA(SX,FA.URL),yi={XAxisTitle:"XAxisTitle",YAxisTitle:"YAxisTitle",ChartTitle:"ChartTitle",ChartSubTitle:"ChartSubTitle",ChartFooter:"ChartFooter",GuideLabel:"GuideLabel",LegendTitle:"LegendTitle"},fe={...re,chartPadding:5,footerContainer:{...re.footerContainer,paddingTop:0,paddingBottom:0},headerContainer:{...re.headerContainer,paddingBottom:0},chartContainer:{...re.chartContainer},dataLabel:{...re.dataLabel,verticalCenter:"bottom"},scrollbarPadding:12,zIndexes:{guide:100,scatterplotTrendLine:2,bulletMarkers:1},verticalSurfaceGuideLabels:{wrap:!0},verticalLineGuideLabels:{wrap:!0,rotation:90},horizontalSurfaceGuideLabels:{wrap:!0},horizontalLineGuideLabels:{wrap:!0},overlayId:{scatterplotTrendLine:"arcgis_charts_scatter_plot_trendline",histogramMean:"arcgis_charts_histogram_mean",histogramMedian:"arcgis_charts_histogram_median",histogramStdDev:"arcgis_charts_histogram_std_dev",histogramNormalDistribution:"arcgis_charts_histogram_normal_distribution"},axisLabelSpacing:{verticalAxisLabelSidePadding:8,horizontalAxisLabelPaddingTop:6}},BX="AM5C241025748",Wi={SelectEnded:"selectended",DataValidated:"datavalidated",Opened:"opened",BoundsChanged:"boundschanged",PointerUp:"pointerup",FrameEnded:"frameended",Click:"click"},qS=new Map;function Hf(s,t){let e=qS.get(s)??{};qS.set(s,{...e,...t})}function jf(s,t){return qS.get(s)?.[t]}function xe(s,t){return jf(s,t)}function nr(s,t){Hf(s,t)}function Pr(s,t){return jf(s,t)}function _s(s,t){Hf(s,t)}function Ac(s,t){return jf(s,t)}function Wf(s,t){Hf(s,t)}function Qu(s,t){return jf(s,t)}function FX(s,t){Hf(s,t)}function On(s,t){return jf(s,t)}function Mk(s,t){Hf(s,t)}function PX(s,t){return jf(s,t)}function TX(s,t){Hf(s,t)}var ki={Guides:"guides",Ticks:"ticks",GaugeFirstAndLastGuides:"firstAndLast",GaugeTicksWithLabels:"gaugeTicksWithLabels"};function DX(s,t){t===!0&&s.setThemes([g1.new(s)])}function OX(s,t){t===!0&&s.setThemes([m1.new(s)])}function ts(s){let t=za("#000000"),e=uA;if(s!=null){let[i,r,a,n]=s;e=n/255,t=za(`rgba(${i}, ${r}, ${a}, ${e})`)}return{color:t,opacity:e}}function is(s,t){t===!1&&(!("isHiding"in s)||!s.isHiding())?(s.set("visible",!1),"hide"in s&&s.hide()):t!==!1&&(!("isShowing"in s)||!s.isShowing())&&(s.set("visible",!0),"show"in s&&s.show())}function es(s){let{childId:t,parent:e,useChildId:i}=s,r=i?t:tl(t,e.uid);return e.children.values.find(a=>a.get("id")===r)}function tl(s,t){return`${s}${t}`}function zL(s){let t=Number.NaN;if(typeof s=="number")t=s;else if(s.includes("%")){let e=Number.parseFloat(s.trim().replace("%","").trim());Number.isFinite(e)&&(t=ii(e))}return t}function LX(s,t){return t!==!0||s?.includes("Dot")===!0?"round":"square"}function IX(s,t){let e=s??Rs.Solid,i=t??fe.lineWidth,r={[Rs.Solid]:[],[Rs.Dot]:[1,i],[Rs.DashDotDot]:[4*i,i,1,i,1,i],[Rs.Dash]:[4*i,3*i],[Rs.DashDot]:[4*i,3*i,1,3*i],[Rs.Null]:[]};return r[e]??r[Rs.Null]}function $X(s){let{root:t,fill:e,rotation:i,isLinePattern:r}=s,a;return r!==!1?a=wu.new(t,{width:fe.patternLineProperties.width??Number.NaN,height:fe.patternLineProperties.height??Number.NaN,strokeWidth:fe.patternLineProperties.strokeWidth??Number.NaN,fill:e,rotation:i??Number.NaN}):a=Ph.new(t,{}),a}function kX(s){let{fill:t,root:e,style:i}=s,r,a,n=!0;switch(i){case ha.Horizontal:{a=0;break}case ha.Vertical:{a=90;break}case ha.ForwardDiagonal:{a=45;break}case ha.BackwardDiagonal:{a=135;break}case ha.DiagonalCross:case ha.Cross:{a=0,n=!1;break}case ha.Solid:}return a!==void 0&&e!==void 0&&(r=$X({root:e,fill:t,rotation:a,isLinePattern:n})),r}function Ek(s,t=0){return(s??t)%360}function MX(s,t){let e="",i=(t??0)/2,r=0-i,a=0+i,n=0-i,o=0+i;switch(s){case Ua.Circle:e=`M ${r},0 a ${i},${i} 0 1,0 ${i*2},0 a ${i},${i} 0 1,0 ${-i*2},0`;break;case Ua.Cross:e=`M ${r},0 L ${a},0 M 0,${n} L 0,${o} E`;break;case Ua.Diamond:e=`M ${r},0 L 0,${n} L ${a},0 L 0,${o} L ${r},0 Z`;break;case Ua.Square:e=`M ${r},${o} L ${r},${n} L ${a},${n} L ${a},${o} L ${r},${o} Z`;break;case Ua.Triangle:e=`M ${r},${o} L 0,${n} L ${a},${o} L ${r},${o} Z`;break;case Ua.X:e=`M ${r},${o} L ${a},${n} M ${r},${n} L ${a},${o} E`;break}return e}function Rk(s,t){let e={stroke:ts().color,strokeWidth:fe.lineWidth,strokeDasharray:[],linecap:t!==!0?"round":"square",strokeOpacity:uA};if(s!=null){let i=ts(s.color);e.stroke=i.color,s.width!==void 0&&(e.strokeWidth=s.width,e.strokeOpacity=s.width===0?0:i.opacity),s.style!==void 0&&s.style!==Rs.Null&&(e.strokeDasharray=IX(s.style,e.strokeWidth),e.linecap=LX(s.style,t))}return e}function Nk(s,t){let e=s,[i,r,a,n]=s?.color??t??fe.color,o=[i,r,a,n];return e==null?e={type:Zt.SLS,color:o}:e.color===void 0&&(e.color=o),Rk(e,!1)}function EX(s,t){let{color:e,outline:i,style:r}=s,a=ts(e);return{pattern:kX({root:t,fill:a.color,style:r}),fill:a.color,outline:Nk(i,e),fillOpacity:a.opacity}}function RX(s){let{color:t,style:e,size:i,outline:r,xoffset:a,yoffset:n,angle:o}=s,l=Ek(o),u=e!==void 0?MX(e,i):"",h=ts(t);return{path:u,fill:h.color,outline:Nk(r,t),xOffset:a??0,yOffset:n??0,angle:l,fillOpacity:h.opacity}}function NX(s){let t;switch(s){case my.LineThrough:case my.Underline:t=s;break;case my.None:}return t}function VX(s){return s===!0?"wrap":"none"}function Vk(s,t){let e=Ye;switch(s??t){case Pi.Right:e=Be;break;case Pi.Left:e=Ps;break;case Pi.Center:case Pi.Justify:}return e}function Uk(s,t){let e=Ye;switch(s??t){case si.Top:e=Ps;break;case si.Bottom:e=Be;break;case si.Baseline:case si.Middle:}return e}function UX(s){let{angle:t,mappedHAlignment:e,mappedVAlignment:i,isGuideLabel:r}=s,a=e,n=i,o=e,l=i;return(Math.abs(t)===270||Math.abs(t)===90)&&(r||(o=void 0,n=void 0),l===Ps?a=Be:l===Be?a=Ps:l===Ye&&(a=Ye)),{align:a,valign:n,horizontalCenter:o,verticalCenter:l}}function kB(s){let{root:t,symbol:e,defaultToColorFromRamp:i,colorRampIndex:r,isChartFillSymbol:a=!1}=s,n;if(i===!0){let o=a?Ic:uA;if(e.color=e.color??Mn({colorIndex:r,opacity:o}),Fp(e)||Ec(e)){let{outline:l}=e;l!==void 0&&(l.color=l?.color??Mn({colorIndex:r}),e.outline={...l})}}return Ec(e)&&(e.style??=fe.lineMarker.markerStyle,e.size??=fe.lineMarker.markerSize),nw(e)?n=Rk(e,!0):Ec(e)?n=RX(e):Fp(e)&&(n=EX(e,t)),n}function QX(s){let{input:t,isGuideLabel:e,defaults:i}=s,r=Ek(t.angle,i?.rotation),a=Vk(t.horizontalAlignment,i?.horizontalCenter),n=Uk(t.verticalAlignment,i?.verticalCenter),{align:o,valign:l,horizontalCenter:u,verticalCenter:h}=UX({angle:r,mappedHAlignment:a,mappedVAlignment:n,isGuideLabel:e});return{fill:ts(t.color).color,fontFamily:t.font?.family??"Arial, Helvetica, sans-serif",fontSize:t.font?.size??fe.generalFontSize,fontWeight:t.font?.weight??"400",textDecoration:NX(t.font?.decoration),align:o,valign:l,verticalCenter:h,horizontalCenter:u,text:rn({textSymbol:t,format:"amChartsV5"}),angle:r,xOffset:t.xoffset??i?.dx??0,yOffset:t.yoffset??i?.dy??0,backgroundFill:ts(t.backgroundColor).color,borderFill:ts(t.borderLineColor).color,borderWidth:t.borderLineSize??1,haloColor:ts(t.haloColor).color,rtl:t.rightToLeft??Io().rtl?"rtl":"ltr",wrap:VX(i?.wrap),maxWidth:i?.maxWidth??Number.NaN}}function Qk(s,t){t!==void 0&&(t.marginBottom!==void 0&&s.set("marginBottom",t.marginBottom),t.marginTop!==void 0&&s.set("marginTop",t.marginTop),t.marginRight!==void 0&&s.set("marginRight",t.marginRight),t.marginLeft!==void 0&&s.set("marginLeft",t.marginLeft),t.verticalCenter!==void 0&&s.set("y",Uk(t.verticalCenter)),t.horizontalCenter!==void 0&&s.set("x",Vk(t.horizontalCenter)),t.strokeWidth!==void 0&&s.get("background")?.set("strokeWidth",t.strokeWidth),t.paddingBottom!==void 0&&s.set("paddingBottom",t.paddingBottom),t.paddingTop!==void 0&&s.set("paddingTop",t.paddingTop),t.paddingLeft!==void 0&&s.set("paddingLeft",t.paddingLeft),t.paddingRight!==void 0&&s.set("paddingRight",t.paddingRight),t.maxWidth!==void 0&&s.set("maxWidth",t.maxWidth))}function og(s){let{root:t,parent:e,defaults:i,index:r,id:a}=s,n=hr.new(t,{text:"",textAlign:"center",background:xr.new(t,{}),paddingBottom:0,paddingTop:0,paddingLeft:0,paddingRight:0});return a!==void 0&&n.set("id",a),Qk(n,i),e!==void 0&&e.children.insertIndex(r??e.children.length,n),n}function GL(s){let{label:t,offset:e,offsetProperty:i}=s;t.adapters.remove(i),(t instanceof hr?[t]:t.entities).forEach(r=>{if(typeof e=="string"&&!Number.isFinite(Number(e))){let a=g0(e);typeof a=="number"&&(a/=100,r.adapters.add(i,()=>(i==="dx"?r.width():r.height())*(a??0)))}else{let a=Number(e);Number.isFinite(a)&&r.set(i,a)}})}function Yl(s){let{label:t,labelConfig:e,defaults:i,skipSettingText:r}=s,a=e?.visible??!0;if(t!==void 0&&!t.isDisposed()&&e!==void 0){let n=t instanceof hr&&On(t.uid,"isGuide"),o=QX({input:e.content,isGuideLabel:n,defaults:i});t.setAll({fill:o.fill,fontFamily:o.fontFamily,fontWeight:o.fontWeight,fontSize:o.fontSize,textDecoration:o.textDecoration,centerX:o.align,centerY:o.valign,x:o.horizontalCenter,y:o.verticalCenter,rotation:o.angle,direction:o.rtl,oversizedBehavior:o.wrap,maxWidth:o.maxWidth}),r||t.setAll({text:o.text}),GL({label:t,offset:o.xOffset,offsetProperty:"dx"}),GL({label:t,offset:o.yOffset,offsetProperty:"dy"}),t.get("background")?.setAll({strokeWidth:o.borderWidth,strokeOpacity:1}),t.set("visible",a),t instanceof hr?is(t,a):t.entities.forEach(l=>{is(l,a)})}}function Nu(s){let{chart:t,label:e,labelType:i}=s,{legendTitle:r}=fe.legendProperties,a=xe(t.uid,"config"),n=r.maxWidth??Number.NaN,o=Number.NaN;switch(i){case yi.GuideLabel:if(t instanceof di){let l=e.get("rotation");l===90||l===270?n=t.seriesContainer.height():n=t.seriesContainer.width()}break;case yi.XAxisTitle:t instanceof di&&(n=t.seriesContainer.width());break;case yi.YAxisTitle:t instanceof di&&(o=t.seriesContainer.height());break;case yi.ChartTitle:case yi.ChartSubTitle:case yi.ChartFooter:n=t.chartContainer.width()-20;break;case yi.LegendTitle:a?.legend?.position!==void 0&&(a?.legend?.position===hi.Top||a?.legend?.position===hi.Bottom)&&(n=t.chartContainer.width()-20);break}n>0&&e.setAll({maxWidth:n,oversizedBehavior:"wrap"}),o>0&&i===yi.YAxisTitle&&e.setAll({maxHeight:o,oversizedBehavior:"wrap"})}function lg(s){let{chart:t}=s;Nu(s),t.events.on(Wi.BoundsChanged,ss(()=>Nu(s),fe.debounceTime))}function o0(s,t){let e=t.get("axisFill"),i=t.get("label");if(e!==void 0&&i!==void 0){let r=On(i.uid,"guideLabelConfig"),a=s.get("renderer")instanceof Ds,n=Math.round(e.width()),o=Math.round(e.height()),l=Math.round(i.height()),u=Math.round(i.width()),{horizontalAlignment:h,verticalAlignment:c}=r??{},A=0,d=0;if(a){let f=n!==0;switch(h){case Pi.Left:f?A=-u/2:A=-u;break;case Pi.Right:f?A=u/2:A=u;break;case Pi.Center:case Pi.Justify:break;default:f||(A=u/2);break}switch(c){case si.Bottom:f?d=-l:d=-l/2;break;case si.Middle:d=-o/2;break;case si.Top:default:d=-o+l/2;break}}else{let f=o!==0;switch(h){case Pi.Center:A=n/2;break;case Pi.Left:A=u/2;break;case Pi.Right:default:A=n-u/2;break}switch(c){case si.Bottom:f?d=o/2:d=l;break;case si.Top:f?d=-o/2+l/2:d=-l;break;case si.Middle:default:f||(d=-l/2);break}}i.setAll({dx:A,dy:d})}}function HX(s){let{axis:t,guide:e,label:i}=s,{chart:r}=t;if(r){let a=t.get("renderer")instanceof Ds?r.yAxes.getIndex(0):r.xAxes.getIndex(0);a&&(a.events.on(Wi.BoundsChanged,ss(()=>{o0(t,e)},fe.debounceTime)),t.events.on(Wi.BoundsChanged,ss(()=>{o0(t,e)},fe.debounceTime)))}i.setAll({paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0})}function jX(s){let{guide:t,axis:e,guideLabelConfig:i}=s,r=t.get("label");if(r!==void 0){Qk(r),Mk(r.uid,{isGuide:!0,guideLabelConfig:i});let{chart:a}=e;a!==void 0&&lg({chart:a,label:r,labelType:yi.GuideLabel}),HX({axis:e,guide:t,label:r})}}function WX(s){let{axis:t,guide:e,guideConfig:i,guideType:r}=s,a=e?.get("label");if(a!==void 0)if(i.label!==void 0){let n=t.get("renderer")instanceof Ds,o;t instanceof ga||(n?r===Zt.SFS?o=fe.verticalSurfaceGuideLabels:o=fe.verticalLineGuideLabels:r===Zt.SFS?o=fe.horizontalSurfaceGuideLabels:o=fe.horizontalLineGuideLabels),Mk(a.uid,{guideLabelConfig:i.label});let l={type:L.Text,visible:i.visible,content:{...i.label,verticalAlignment:si.Middle,horizontalAlignment:Pi.Center,rightToLeft:a.get("direction")==="rtl"}};Yl({label:a,labelConfig:l,defaults:o}),a.events.once(Wi.BoundsChanged,()=>{o0(t,e)}),o0(t,e)}else is(a,!1)}function Hk(s){let{element:t,fill:e,fillOpacity:i,pattern:r}=s,a=t.get("tooltip"),n=!0;r!==void 0?(a!==void 0&&(n=!1,a.get("background")?.set("fill",e)),t.set("fillPattern",r)):t.set("fill",e),a!==void 0&&a.set("getFillFromSprite",n),t.set("fillOpacity",i)}function l0(s,t){s.setAll({stroke:t.stroke,strokeDasharray:t.strokeDasharray,strokeOpacity:t.strokeOpacity,strokeWidth:t.strokeWidth,lineCap:t.linecap})}function jk(s){let{element:t,markerSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a}=s,n;return t!==void 0&&e!==void 0&&(n=kB({symbol:e,defaultToColorFromRamp:r,colorRampIndex:a}),n!==void 0&&(t.setAll({svgPath:n.path,rotation:n.angle,dx:n.xOffset,dy:n.yOffset}),Hk({element:t,fill:n.fill,fillOpacity:n.fillOpacity}),l0(t,n.outline)),is(t,i)),n}function Of(s){let{root:t,element:e,fillSymbol:i,visible:r,defaultToColorFromRamp:a,colorRampIndex:n,isChartFillSymbol:o,keepCurrentVisibility:l}=s,u;return e!==void 0&&!e.isDisposed()&&(i!==void 0&&(u=kB({root:t,symbol:i,defaultToColorFromRamp:a,colorRampIndex:n,isChartFillSymbol:o}),u!==void 0&&(Hk({element:e,fill:u.fill,fillOpacity:u.fillOpacity,pattern:u.pattern}),l0(e,u.outline))),l||is(e,r)),u}function Eu(s){let{element:t,lineSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a}=s,n;return t!==void 0&&!t.isDisposed()&&(e!==void 0&&(n=kB({symbol:e,defaultToColorFromRamp:r,colorRampIndex:a}),n!==void 0&&(l0(t,n),t instanceof ri&&l0(t.strokes.template,n))),is(t,i)),n}function en(s){let{root:t,element:e,seriesIndex:i,seriesSymbol:r,isChartFillSymbol:a,colorMatch:n,rendererSymbol:o,keepCurrentVisibility:l}=s,u,h;n&&o!==void 0&&(u=Ok({rendererSymbol:o,seriesSymbol:r,colorIndex:i}));let c={root:t,element:e,defaultToColorFromRamp:!0,colorRampIndex:i},A=u??{...r};switch(r.type){case Zt.SLS:h=Eu({...c,lineSymbol:A});break;case Zt.SFS:h=Of({...c,fillSymbol:A,isChartFillSymbol:a,keepCurrentVisibility:l});break;case Zt.SMS:h=jk({...c,markerSymbol:A});break}return{symbolWithColorInfo:A,stylingInfo:h}}function YL(s,t){if(t!==void 0){let{elementColor:e,elementOutlineColor:i,elementOutlineWidth:r,rotation:a,transformation:n}=t,{opacity:o,scale:l}=n??{};if(e!==void 0&&s.setAll({fill:ts(e).color,fillOpacity:1}),i!==void 0&&s.setAll({stroke:ts(i).color}),r!==void 0&&s.setAll({strokeWidth:r}),a!==void 0&&s.setAll({rotation:a}),l!==void 0&&s.setAll({scale:l}),o!==void 0){s.setAll({fillOpacity:(s.get("fillOpacity")??1)*o});let u=s.get("strokeOpacity");u!==void 0&&s.setAll({strokeOpacity:u*o})}}}async function XX(s=Io().locale){let t=await import("./T3Y6BCIG.js"),e=await import("./MYKWJRWD.js");switch(s){case ze.Arabic:t=await import("./H653LVLZ.js"),e=await import("./QG4QJ5HW.js");break;case ze.Bosnian:t=await import("./6Q6TYUQO.js"),e=await import("./4ILK7DHI.js");break;case ze.Bulgarian:t=await import("./O5R3CP4Q.js"),e=await import("./EAC4SRCL.js");break;case ze.Catalan:t=await import("./5Q5LYF5L.js"),e=await import("./YXBXDCWY.js");break;case ze.Czech:t=await import("./ET4JXGHL.js"),e=await import("./6CRROFPH.js");break;case ze.Danish:break;case ze.German:t=await import("./N7OBIL3N.js"),e=await import("./IRSW7A2C.js");break;case ze.Greek:t=await import("./DMLAZA54.js"),e=await import("./XHQMTE7X.js");break;case ze.EnglishUSA:t=await import("./T3Y6BCIG.js"),e=await import("./MYKWJRWD.js");break;case ze.Spanish:t=await import("./7KPZETJY.js"),e=await import("./FTTAOS47.js");break;case ze.Estonian:t=await import("./DZLYW7B3.js"),e=await import("./S6P3A4C5.js");break;case ze.Finnish:t=await import("./HR2GJPOL.js"),e=await import("./NWXJKHQN.js");break;case ze.French:t=await import("./QQWSIGJN.js"),e=await import("./YCIGPXP2.js");break;case ze.Hebrew:t=await import("./IWH5DAFR.js"),e=await import("./A2ALHL5G.js");break;case ze.Croatian:t=await import("./7H3IR6QP.js"),e=await import("./XBGRXU7H.js");break;case ze.Hungarian:t=await import("./MSQZEVXZ.js"),e=await import("./TPJFBWAJ.js");break;case ze.Indonesian:t=await import("./EOLNZWUU.js"),e=await import("./IQRTOXB2.js");break;case ze.Italian:t=await import("./JFQKNWAC.js"),e=await import("./PTLD7S2P.js");break;case ze.Japanese:t=await import("./KMPNGHWS.js"),e=await import("./JYTQFNRB.js");break;case ze.Korean:t=await import("./LPEA67FS.js"),e=await import("./2GXDTATF.js");break;case ze.Lithuanian:t=await import("./OFWKGVTV.js"),e=await import("./RGAUTVT3.js");break;case ze.Latvian:t=await import("./KGOLF5PQ.js"),e=await import("./XQKWYNV7.js");break;case ze.NorwegianBokml:t=await import("./GZI7T66M.js");break;case ze.Dutch:t=await import("./PMNT6MGO.js"),e=await import("./HEG7NKOF.js");break;case ze.Polish:t=await import("./WRVMKWHJ.js"),e=await import("./N3M5ZQED.js");break;case ze.PortugueseBrazil:t=await import("./EHBWOBH4.js"),e=await import("./RMI74IV3.js");break;case ze.PortuguesePortugal:t=await import("./ZP4NNB7Q.js"),e=await import("./XNTNTJMS.js");break;case ze.Romanian:t=await import("./5X3FF7NA.js"),e=await import("./MWLMMRPI.js");break;case ze.Russian:t=await import("./6JD3HGT2.js"),e=await import("./YD6LXEBY.js");break;case ze.Serbian:t=await import("./45SWUNSL.js"),e=await import("./ESETPPZQ.js");break;case ze.Slovak:t=await import("./V5VNHZE2.js"),e=await import("./SO4637NG.js");break;case ze.Slovenian:t=await import("./XTYWSHB4.js"),e=await import("./CLB6PV6F.js");break;case ze.Swedish:t=await import("./F2QE5PCB.js"),e=await import("./WJVVT73T.js");break;case ze.Thai:t=await import("./7FWPVJ66.js"),e=await import("./TUBSMXHL.js");break;case ze.Turkish:break;case ze.Ukrainian:t=await import("./QUTSI75N.js"),e=await import("./NG4TTLFK.js");break;case ze.Vietnamese:t=await import("./NRR6C25V.js"),e=await import("./5B45YTTP.js");break;case ze.ChineseChina:t=await import("./CQ7NY2EB.js"),e=await import("./WZGT5SMF.js");break;case ze.ChineseHongKong:t=await import("./3J7AZKEF.js"),e=await import("./BEDED46D.js");break;case ze.ChineseTaiwan:t=await import("./3J7AZKEF.js"),e=await import("./JVIA3PFY.js");break;case ze.English:}return{...t.default,...e.default}}function Kl(s){let{root:t,type:e,intlOptions:i,formatLocale:r}=s,a;switch(e){case L.NumberAxisFormat:{a=wh.new(t,{}),a.set("intlLocales",r),a.set("numberFormat",i);break}case L.DateAxisFormat:{a=jc.new(t,{}),a.set("intlLocales",r);break}}return a}var Ji={Top:"top",Bottom:"bottom",Median:"median",Outliers:"outliers"};async function zX(s){let{numberOfQueries:t,selectionOIDs:e,chartConfig:i,queryConfig:r,options:a,errorStrings:n,queryObject:o}=s,{setTimeBinningInfoWhenNotProvided:l}=a??{},{series:u}=i,h=Me(u),c=[],{maxOIDsPerSelectionQuery:A}=cA();for(let d=0;d<t;d+=1){let f=d*A,p=(d+1)*A-1,m=e.slice(f===0?0:f-1,p),g={...r};switch(g.objectIds=m,h){case L.PieSeries:case L.BarSeries:case L.LineSeries:case L.RadarSeries:case L.ComboLineAndBarSeries:if(Xa({xAxisValueFormatType:In(i),setTimeBinningInfoWhenNotProvided:l,seriesConfig:u[0]})){let y=i;"temporalBinning"in y.series[0]&&y.series[0].temporalBinning&&(y.series[0].temporalBinning.trimIncompleteTimeInterval=!1,y.series[0].temporalBinning.type===ro.CalendarBased&&(delete y.series[0].temporalBinning.start,delete y.series[0].temporalBinning.end)),c.push(DB({chartConfig:y,queryConfig:g,queryObject:o,options:a}))}else c.push(lX({queryObject:o,chartConfig:i,options:a,queryConfig:g}));break;case L.BoxPlotSeries:c.push(uX({queryObject:o,chartConfig:i,options:a,errorStrings:n,queryConfig:g}));break;case L.ScatterSeries:c.push(yk({queryObject:o,chartConfig:i,queryConfig:g,options:a,errorStrings:n,sortData:!1,calculateTrendLine:!1}));break;case L.HistogramSeries:c.push(i3({queryObject:o,queryConfig:g,chartConfig:i,x:u[0].x}));break}}return await Promise.all(c)}function GX(s){let{dataFetchingResults:t,numberOfQueries:e,series:i}=s,r=Me(i),a=Ue(i),n=[];for(let o=0;o<e;o+=1){let l=t[o];if(l!==void 0){let u;if(r===L.ScatterSeries)u=l.dataItems;else if("data"in l&&l.data){let h=l.data;"dataItems"in h&&(u=h.dataItems),"outliers"in h&&h.outliers&&n.push(...h.outliers),"meanLines"in h&&h.meanLines&&n.push(...h.meanLines)}if(u)if(i[0].type===L.ScatterSeries){let{x:h,y:c}=i[0];n.push(...u.map(A=>({[h]:A[h],[c]:A[c]})))}else l.valid&&(a===j.PieFromFields?n=qv({dataToConvert:u[0],x:rs,y:Fa}):a===j.BarAndLineFromFields?n=qv({dataToConvert:u[0],x:i[0].x,y:i[0].y}):n.push(...u))}}return n}async function Wk(s){let{chartConfig:t,queryConfig:e,chartData:i,currentSelectionOIDs:r,dataWasUpdated:a,queryObject:n,options:o,errorStrings:l}=s,{series:u}=t,{selectionData:h,viewExtentUpdated:c,returnSelectionOIDs:A,chartLimits:d}=o??{},{selectionItems:f,selectionOIDs:p}=h??{},m,g=Me(u)!==L.HistogramSeries&&f!==void 0&&f.length>0&&!(u[0].x in f[0])&&!(rs in f[0])&&!(re.boxPlot.boxPlotCategory in f[0]);if(c!==!0&&A!==!1&&p!==void 0&&p.length>0&&(a===!0||g||!so(p,r))){let y=no(i);if(y!==void 0&&!fB({dataContext:y[0],chartConfig:t,chartLimits:d}))m=y.filter(v=>{let _=v[as.uniqueIdsName];return typeof _=="number"?p?.includes(_):!1});else if(p?.[0]!==void 0&&e!==void 0){let{maxOIDsPerSelectionQuery:v}=cA(),_=Math.ceil(p.length/v),S=await zX({numberOfQueries:_,selectionOIDs:p,queryConfig:e,queryObject:n,options:o,errorStrings:l,chartConfig:t});m=GX({dataFetchingResults:S,numberOfQueries:_,series:u})}}return m}function*YX(s){let{filterList:t,queryObject:e,queryConfig:i}=s;for(let r=0;r<t.length;r+=1){let a={...i};a.where=Wr([a.where,t[r]]),yield jT({queryObject:e,queryConfig:a,uniqueFeature:!0})}}async function Xk(s){let{whereList:t,queryObject:e,queryFilter:i,queryConfig:r}=s,a=[];if(t.length>0){let n=cA().maxElementsPerSelectionQuery,o=[],l=Math.ceil(t.length/n);for(let h=0;h<l;h+=1){let c=h*n,A=(h+1)*n,d=t.slice(c===0?0:c-1,A),f=Wr(d,"OR");f=Wr([i,f]),o.push(f)}let u=YX({filterList:o,queryObject:e,queryConfig:r});a=(await Promise.all(u)).flat(),a=Array.from(new Set(a))}return a}var oc={Outlier:"outlier",Box:"box",OutlierToOutlier:"outlier-outlier",OutlierToBox:"outlier-box",BoxToOutlier:"box-outlier",BoxToBox:"box-box"};function KX(s,t){let e=s[re.boxPlot.boxPlotOutlierId]===!0?oc.Outlier:oc.Box,i=typeof t=="number"?oc.Outlier:oc.Box;return`${e}-${i}`}function qX(s){let{oneSelectedItem:t,dataContext:e,selectedOutlierKey:i}=s;return t[i]===e[i]}function ZX(s){let{elementMin:t,elementMax:e,selectedOutlierValue:i}=s,r;return typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&(r=i>=t&&i<=e),r}function JX(s){let{selectedMin:t,selectedMax:e,elementOutlierValue:i,oneSelectedItem:r,iqrField:a}=s,n;typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&(n=i>=t&&i<=e);let o=a in r;return n!==!1&&o}function ez(s){let{selectedMin:t,selectedMax:e,elementMin:i,oneSelectedItem:r,elementMax:a,iqrField:n}=s,o;typeof i=="number"&&typeof a=="number"&&typeof t=="number"&&typeof e=="number"&&(o=!(i>=e||a<=t));let l=n in r;return o!==!1&&l}function tz(s){let{oneSelectedItem:t,dataContext:e,xAxisField:i}=s,r=e[re.typeOrDomainIdValue]??e[re.originalCategoryValue]??e[re.boxPlot.boxPlotCategory]??e[i],a=t[re.typeOrDomainIdValue]??t[re.originalCategoryValue]??t[re.boxPlot.boxPlotCategory]??t[i];return r===a}function iz(s){let{chartSubType:t,yAxisField:e,splitBy:i,showOutliers:r}=s,a=t===j.BoxPlotMultiFieldsAndCategory?e:void 0,n={y:a,splitBy:i},o=Gt({...n,key:Ze.Outlier}),l=Gt({...n,key:Ze.Max,showOutliers:r}),u=Gt({...n,key:Ze.Min,showOutliers:r}),h=Gt({...n,key:Ze.Max,showOutliers:!1}),c=Gt({...n,key:Ze.Min,showOutliers:!1}),A=Gt({...n,key:Ze.Max,showOutliers:!0}),d=Gt({...n,key:Ze.Min,showOutliers:!0}),f=Gt({splitBy:i,y:a,key:Ze.IQR});return{selectedOutlierKey:o,maxField:l,minField:u,selectedMaxFieldWoOutliers:h,selectedMinFieldWoOutliers:c,selectedMaxFieldWithOutliers:A,selectedMinFieldWithOutliers:d,iqrField:f}}function rz(s){let{elementDataContext:t,layerOidField:e,xAxisField:i,splitBy:r,yAxisField:a,chartSubType:n,showOutliers:o}=s,l=t,u;if(l?.[re.boxPlot.boxPlotMeanLineMarkerId]===!0){let h=Gt({splitBy:r,key:Ze.Average});u=c=>{let A=!i||!(i in c&&i in l)||c[i]===l[i],d=h in c&&h in l;return A&&d}}else i!==void 0&&a!==void 0&&(u=h=>{let c;if(e!==void 0&&e in h&&e in l)c=h[e]===l[e];else{let{selectedOutlierKey:A,maxField:d,minField:f,selectedMaxFieldWoOutliers:p,selectedMinFieldWoOutliers:m,selectedMaxFieldWithOutliers:g,selectedMinFieldWithOutliers:y,iqrField:v}=iz({chartSubType:n,yAxisField:a,splitBy:r,showOutliers:o}),_=l[A],S=h[A],F=l[f],P=l[d],D=h[m]??h[y],$=h[p]??h[g],I=tz({oneSelectedItem:h,dataContext:l,xAxisField:i});if(I)switch(KX(h,_)){case oc.OutlierToOutlier:I=qX({oneSelectedItem:h,dataContext:l,selectedOutlierKey:A});break;case oc.OutlierToBox:I=ZX({elementMin:F,elementMax:P,selectedOutlierValue:S});break;case oc.BoxToOutlier:I=JX({selectedMin:D,selectedMax:$,elementOutlierValue:_,oneSelectedItem:h,iqrField:v});break;case oc.BoxToBox:I=ez({selectedMin:D,selectedMax:$,elementMin:F,oneSelectedItem:h,elementMax:P,iqrField:v});break}c=I===!0}return c});return u}function MB(s){let{layerOidField:t,sliceDataContext:e,selectionDataContext:i,xAxisField:r}=s,a=!1;if(t!==void 0&&t in e&&t in i)a=i[t]?.toString()===e[t]?.toString();else{let n=e[re.typeOrDomainIdValue];n===void 0&&(n=e[re.originalCategoryValue]),n===void 0&&(n=e[r]),n===void 0&&(n=e[rs]);let o=i[re.typeOrDomainIdValue];o===void 0&&(o=i[re.originalCategoryValue]),o===void 0&&(o=i[r]),o===void 0&&(o=i[rs]),a=n!==void 0&&o!==void 0&&n===o}return a}function T0(s){let{options:t,elementDataContext:e,selectionDataItems:i,layerOidField:r,xAxisField:a,yAxisField:n,chartType:o}=s,{originalCategoryValue:l}=re,u=!1,h;if(e!==void 0&&i!==void 0)switch(o){case L.RadarSeries:case L.BarSeries:case L.LineSeries:case L.ComboLineAndBarSeries:if(a!==void 0&&n!==void 0){let c=e;h=A=>{let d;if(r!==void 0&&r in A&&r in c)d=A[r]===c[r];else if(re.dateBinningRange in c&&typeof A[a]=="number"){let f=A[a],[p,m]=c[re.dateBinningRange],g=c[re.lastTemporalBin]===!0?f<=m:f<m;d=f>=p&&g&&n in A&&Number.isFinite(A[n])}else{let f=m=>{let g=m[re.typeOrDomainIdValue];return g===void 0&&(g=m[l]),g===void 0&&(g=m[a]),g=g===null?re.nullValue:g,g},p=f(c);d=f(A)===p&&n in A}return d}}break;case L.BoxPlotSeries:h=rz(s);break;case L.ScatterSeries:if(a!==void 0&&n!==void 0){let c=e;if(!AB({dataContext:c,chartLimits:t?.chartLimits}))h=A=>{let d;return r!==void 0&&r in c&&r in A?d=A[r]===c[r]:d=A[a]===c[a]&&A[n]===c[n],d};else{let{dataContextXMinField:A,dataContextXMaxField:d,dataContextYMinField:f,dataContextYMaxField:p}=re.scatterplotAggregationFields,{[A]:m,[d]:g}=c,y=a!==n?c[f]:m,v=a!==n?c[p]:g,_=F=>{let P=F[a]??Number.NaN,D=m??Number.NaN,$=g??Number.NaN;return m===g?P===D:(P??Number.NaN)>=D&&(P??Number.NaN)<$},S=F=>{let P=F[n]??Number.NaN,D=y??Number.NaN,$=v??Number.NaN;return y===v?P===D:P>=D&&P<$};h=F=>_(F)&&S(F)}}break;case L.HistogramSeries:h=c=>{let A=!1,{minValue:d,maxValue:f}=e,{isLastBin:p}=e;if(a!==void 0&&a in c){let m=c[a];A=typeof m=="number"&&m>=d&&(p&&m<=f||!p&&m<f)}else if("minValue"in c&&"maxValue"in c){let{minValue:m,maxValue:g}=c;A=!(d>=g||f<=m)}return A};break;case L.PieSeries:a!==void 0&&(h=c=>{let A=e,d=hl(A),f=[A];return d&&f.push(...vg({groupOfSlicesDataContext:A})??[]),f.some(p=>MB({sliceDataContext:p,selectionDataContext:c,layerOidField:r,xAxisField:a}))});break}return h!==void 0&&(u=i.some(h)),u}function Vu(s){let{isFeatureCollectionLayer:t,dataContext:e,yAxisField:i,yList:r,xAxisField:a,splitBy:n,chartType:o,chartSubType:l,showOutliers:u}=s,h={...e};if(e!==void 0){if(o===L.RadarSeries||o===L.BarSeries||o===L.LineSeries||o===L.ComboLineAndBarSeries||o===L.PieSeries){o!==L.PieSeries&&(t||l!==j.BarAndLineNoAggregation&&l!==j.BarAndLineSplitByNoAggregation)&&r.forEach(A=>{A!==i&&delete h[A]});let c=Dn({value:e[a],dataContext:e,keepNullValues:!0});h[a]=c,!Li(n)&&!wp(n)&&(h[jr(n)]=Ns({where:n,escape:!1}))}else if(o===L.BoxPlotSeries){h={[a]:e[a]},[as.uniqueIdsName,re.boxPlot.boxPlotMeanLineMarkerId,re.boxPlot.boxPlotOutlierId,re.typeOrDomainIdValue].forEach(A=>{e[A]&&(h[A]=e[A])});let c=l===j.BoxPlotMultiFieldsAndCategory?i:void 0;Object.values(Ze).forEach(A=>{let d=Gt({key:A,y:c,splitBy:n,showOutliers:u});e[d]!==void 0&&(h[d]=e[d])})}}return h}function sz(s){let t=!1;return s instanceof di&&(t=xe(s.uid,"isRotated")===!0?s.yAxes.getIndex(0)instanceof wr:s.xAxes.getIndex(0)instanceof wr),t}function az(s,t){let e={...mc(t)},i=["year","month","day","hour","minute","second"],r={},a={},n=Hc.new(e.timeZone);s.root.timezone?.name!==n.name&&(s.root.timezone=n);for(let o=0;o<i.length;o+=1){let l=i[o],u=o===0?l:i[o-1],h=t?.formatPerDateTimeUnit?.[l]??e,c=t?.formatPerDateTimeUnit?.[u];h&&Object.values(h).find(A=>A!==void 0&&(typeof A!="string"||!Li(A)))&&(r[l]=h,a[l]=c??h)}Object.keys(r).length>0&&s.set("dateFormats",r),Object.keys(a).length>0&&s.set("periodChangeDateFormats",a)}function zk(s,t,e){let i=t-s,r=[];if(i!==0){if(e===1)r=[s];else if(e>1){let a=i/(e-1);r=[...CT(s,t,a),t]}}return r}function Gk({x:s,mean:t,stddev:e,scalingFactor:i}){let r=-1/(2*e**2);return(i??1)*Math.exp(r*(s-t)**2)}function Yk(s){let t=0;if(s.length>0)for(let e=0;e<s.length;e+=1)s[e].count>t&&(t=s[e].count);return t}var wa={CustomActive:"custom-active",CustomInactive:"custom-inactive",Default:"default",Active:"active"};function Kk(s){let t=!1,e;if(s.target.dataItem?.component instanceof Qs?{chart:e}=s.target.dataItem.component:(s.target instanceof mo||s.target instanceof _u)&&({chart:e}=s.target),e instanceof di||e instanceof bn){let i=xe(e.uid,"actionMode");if(i!==void 0){let{originalEvent:r}=s;t=i===Wt.MultiSelection||i===Wt.MultiSelectionWithCtrlKey&&("ctrlKey"in r&&r.ctrlKey||"metaKey"in r&&r.metaKey)}}return t}function Na(s){let{element:t,selected:e,multiSelect:i,isDateOrCategoryAxis:r,backToDefaultState:a}=s,n=!1;if(t!==void 0){let o=Qu(t.uid,"selected")??!1;n=o,i!==!0?r===!0?n=o?!1:o!==e:n=e:n=o!==e;let l=a===!0?wa.Default:wa.CustomInactive;t.states.apply(wa.Default),t.states.apply(n?wa.CustomActive:l),n!==o&&FX(t.uid,{selected:n})}return n}function nz(s,t){let e=xe(t.chart?.uid??Number.NaN,"actionMode"),i=Kk(s);return e===Wt.MonoSelection||e===Wt.MultiSelectionWithCtrlKey&&!i}function eu(s,t){let{selectedElementsTheme:e,nonSelectedElementsTheme:i}=t??fe.selectionTheme??{},r=s.states.create(wa.CustomActive,{}),a=s.states.create(wa.CustomInactive,{});YL(r,e),YL(a,i)}function oz(s){return!!/^data:[a-z]+\/[a-z+.-]+;base64/u.test(s)}function qk(s,t=512){if(!oz(s))throw new Error("Cannot convert a string that is not a data uri to a blob");let e=s.split(",")[0].split(":")[1].split(";")[0],i=atob(s.split(",")[1]),r=[];for(let a=0;a<i.length;a+=t){let n=i.slice(a,a+t),o=new Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);let l=new Uint8Array(o);r.push(l)}return new Blob(r,{type:e})}function Lf(s){let{value:t,valueFormat:e,formatLocale:i,root:r}=s,a=t?.toString(),n=Kl({type:e.type,intlOptions:e.intlOptions,formatLocale:i,root:r});return(typeof t=="number"&&e.type===L.NumberAxisFormat||(typeof t=="number"||t instanceof Date)&&e.type===L.DateAxisFormat)&&(a=n.format(t,mc(e))),a}async function lz(s){let{root:t,exportOptions:e}=s,{format:i,quality:r=1,...a}=e,n=r<0||r>1?1:r,o=await ec.new(t,{}).exportImage(i,{quality:n,...a}),l=qk(o),u=i==="jpg"?"image/jpeg":"image/png";return new File([l],`chart.${i}`,{type:u})}function sg(s,t){if(s!==void 0&&t!==void 0&&(s.states.lookup("default")?.setAll({fill:t.fill,fillOpacity:t.fillOpacity}),t.outline!==void 0)){let{outline:e}=t;s.states.lookup("default")?.setAll({stroke:e.stroke,strokeDasharray:e.strokeDasharray,lineCap:e.linecap,strokeWidth:e.strokeWidth})}}var B={Rotated:0,NonRotated:1,RTL:2,LTR:3,Stacked:4,Stacked100:5,SideBySide:6,LegendTop:7,LegendBottom:8,LegendLeft:9,LegendRight:10,DateAxis:11,ValueAxis:12,CategoryAxis:13,OrderByFieldsASC:14,OrderByFieldsDESC:15},Zk=new Set([`${B.NonRotated}-${B.LTR}-${B.SideBySide}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.SideBySide}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.SideBySide}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.SideBySide}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.LTR}-${B.SideBySide}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.LTR}-${B.SideBySide}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.LTR}-${B.SideBySide}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.LTR}-${B.SideBySide}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.DateAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.CategoryAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsASC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.SideBySide}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.LTR}-${B.Stacked100}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendLeft}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.NonRotated}-${B.RTL}-${B.Stacked100}-${B.LegendRight}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendTop}-${B.ValueAxis}-${B.OrderByFieldsDESC}`,`${B.Rotated}-${B.RTL}-${B.Stacked100}-${B.LegendBottom}-${B.ValueAxis}-${B.OrderByFieldsDESC}`]),EB="arcgis_charts_title_container",RB="arcgis_charts_subtitle_container",NB="arcgis_charts_footer_container",Jk="arcgis_charts_title",eM="arcgis_charts_subtitle",tM="arcgis_charts_footer",Qd="arcgis_charts_legend_container",Xf="arcgis_charts_legend_title",KL="arcgis_charts_axis_title_id",iM="arcgis_charts_loader_container",rM="arcgis_charts_loader_spinner";function sM(s){let t=s.get("id");s.on("visible",(e,i)=>{if(i){let{chart:r}=i;if(r instanceof Hs){let a=es({childId:Qd,parent:r});a!==void 0&&a.dataItems?.forEach(n=>{n.get("id")===t&&a.set("opacity",e?1:fe.legendProperties.legendLabelReducedOpacity)})}}})}function uz(s){let t=s.target.dataItem;if(t?.dataContext!==void 0){let{dataContext:e}=t;if(e instanceof Qs){let i={visible:!e.get("visible")};Hu(e)||wg(e)?i.overlayType=Pr(e.uid,"type"):i.seriesId=e.get("id"),r$(i,e.root.dom)}}}function hz(s){s.itemContainers.template.events.on(Wi.Click,uz)}function cz(s,t){let e=xe(t.uid,"rtl")??!1;s.itemContainers.template.setAll({reverseChildren:e})}function qL(s){let t=0;return s.dataItems.forEach(e=>{let i=e.get("itemContainer").width();t=Math.max(i,t)}),Math.ceil(t)}function aM(s){let{chart:t,legend:e,chartConfig:i,hideEmptySeries:r}=s,a=Me(i.series);if(t.series.length>1||a===L.PieSeries){let n=[],o=Ue(i.series);switch(a){case L.BoxPlotSeries:{let l=Ur(i);n=t.series.values.filter(u=>{let h=!1;return l?h=u instanceof ri&&!(u instanceof Vo):h=u instanceof xn,h});break}case L.HistogramSeries:{n=t.series.values.filter(l=>{let u=!1;if(Pr(l.uid,"isOverlay")){let h=i.series[0].type===L.HistogramSeries?i.series[0].overlays:void 0,c=Pr(l.uid,"type"),A;switch(c){case Or.Mean:A=h?.mean?.created;break;case Or.Median:A=h?.median?.created;break;case Or.Normal:A=h?.comparisonDistribution?.created;break;case Or.StdDev:A=h?.standardDeviation?.created;break}u=A===!0}return u});break}case L.PieSeries:{n=t.series.getIndex(0)?.dataItems??[];break}case L.ComboLineAndBarSeries:case L.LineSeries:case L.RadarSeries:case L.BarSeries:n=t.series.values.filter(l=>{let u=!0;if(r!==!1){let h=i.series.find(c=>c.id===l.get("id"));if(h!==void 0&&"y"in h&&typeof h.y=="string"){let{x:c,y:A}=h,d=o===j.BarAndLineSplitByNoAggregation?`${A}_${Ns({where:h.query?.where})}`:A;u=l.data.values.some(f=>Cy({dataItem:f,x:c,y:d}))}}return u});break;case L.ScatterSeries:{let l=CM(t);l?.isVisible()&&(n=[l]);break}}e.data.setAll(n)}}function zv(s,t){let{root:e}=s,i=es({childId:Qd,parent:s});if(i!==void 0){let r=xe(s.uid,"config"),a=xe(s.uid,"rtl"),n=r?.title?r.title.visible??!0:!1,o=r?.subtitle?r.subtitle.visible??!0:!1,l=r?.footer?r.footer.visible??!0:!1,u=r?.legend?r.legend.visible??!0:!1,h=r?.legend?.title?r.legend.title.visible??!0:!1,c=es({childId:EB,parent:s}),A=c instanceof Ke&&n?c.height():0,d=es({childId:RB,parent:s}),f=d instanceof Ke&&o?d.height():0,p=es({childId:NB,parent:s}),m=p instanceof Ke&&l?p.height():0,g=es({childId:Xf,parent:i}),y=g instanceof hr&&u&&h?g?.height():0,v=r?.legend?.position??fe.legendProperties.position,_,S=t.get("verticalScrollbar"),F=Ye,P=Ye,D=e.verticalLayout,$=Ye,I=Ye,R=Ye,T=Ye,Q=0,K,z=t.height()+y,se=0,ee=0,ue=0,G=0,q,ge;switch(v){case hi.Left:D=e.verticalLayout,$=Ps,R=Ps,I=Ps,T=Ps,K=void 0,F=Ps,P=Ps,se=i.width(),Q=A+f,z<s.seriesContainer.height()&&(Q+=s.seriesContainer.height()/2-z/2),_=qL(t),S?.width()!==void 0&&_&&S.isVisible()&&(_+=S.width()+fe.scrollbarPadding),a&&(q=Be,ge=se);break;case hi.Right:D=e.verticalLayout,$=Be,R=Be,I=Ps,T=Ps,K=void 0,F=Ps,P=Ps,ee=i.width(),Q=A+f,z<s.seriesContainer.height()&&(Q+=s.seriesContainer.height()/2-z/2),_=qL(t),S?.width()!==void 0&&_&&S.isVisible()&&(_+=S.width()+fe.scrollbarPadding),a&&(q=Be,ge=ee);break;case hi.Top:D=e.gridLayout,$=Ye,R=Ye,I=Ps,T=Ps,K=Be,F=Ye,P=Ye,ue+=z,Q+=A+f,_=void 0,a&&(q=void 0,ge=0);break;case hi.Bottom:D=e.gridLayout,$=Ye,R=Ye,I=Be,T=Be,K=Be,F=Ye,P=Ye,G=z,Q=-G-m,_=void 0,a&&(q=void 0,ge=0);break}(_===void 0||_>0)&&(a&&t.itemContainers.template.setAll({centerX:q,dx:ge}),t.setAll({layout:D,x:F,centerX:P}),t.setPrivate("width",_),i.setAll({x:$,y:I,centerX:R,centerY:T,dy:Q,width:K,height:0}),s.chartContainer.setAll({paddingBottom:G,paddingTop:ue,paddingLeft:se,paddingRight:ee}),K===void 0&&(i.setPrivate("width",void 0),i.markDirty()))}}function dz(s){let{chart:t,legend:e,legendContainer:i}=s,r=es({childId:Xf,parent:i});r&&r.on("visible",()=>{e.root.events.once(Wi.FrameEnded,()=>{zv(t,e)})}),i.events.on(Wi.BoundsChanged,()=>{zv(t,e)}),t.seriesContainer.onPrivate("height",()=>{zv(t,e)})}function nM(s,t){let e=og({root:t.root,parent:t,index:0,id:tl(Xf,t.uid)});return e.set("paddingTop",10),lg({chart:s,label:e,labelType:yi.LegendTitle}),e}function Az(s,t){t.markers.template.setAll({width:fe.legendProperties.legendMarkersSize,height:fe.legendProperties.legendMarkersSize}),t.labels.template.adapters.add("text",(e,i)=>{let r=e,a=i.dataItem?.component;a instanceof gs?r=(i.dataItem?.dataContext?.[a.get("categoryField")??""]??e)?.toString():a instanceof Qs&&(r=a.get("name"));let n=xe(s.uid,"config");if(n!==void 0){let{legend:o}=n,l={...o?.body,type:Zt.TS,text:r};r=rn({textSymbol:l,format:"amChartsV5"})}return r})}function fz(s,t){t.seriesContainer.onPrivate("height",e=>{let i=0,r=xe(t.uid,"config"),a=r?.legend,n=es({childId:Qd,parent:t});if(n!==void 0){let l=es({childId:Xf,parent:n});l!==void 0&&a?.visible!==!1&&a?.title?.visible!==!1&&(i=l.height())}let o=r?.legend?.maxHeight??Number.NaN;Number.isFinite(o)||(r?.legend?.position===hi.Top||r?.legend?.position===hi.Bottom?o=fe.legendProperties.maxHeight:typeof e=="number"&&(o=e-i)),s.set("maxHeight",o)})}function pz(s,t,e){s.events.on(Wi.DataValidated,()=>{s.dataItems.length>0&&oM(s,t,e)})}function mz(s){let t;if(s!==void 0){let e=xe(s?.uid,"config");t=xe(s.uid,"rtl")&&(e?.legend?.position===hi.Top||e?.legend?.position===hi.Bottom)}return t??!1}function gz(s){let t="";if(s instanceof di){let e=xe(s.uid,"config"),i=hn(e),r=i?B.Rotated:B.NonRotated,a=Wa(e),n=B.SideBySide;a===ir.Stacked?n=B.Stacked:a===ir.Stacked100&&(n=B.Stacked100);let o=xe(s.uid,"rtl")?B.RTL:B.LTR,l;switch(e?.legend?.position){case hi.Left:l=B.LegendLeft;break;case hi.Top:l=B.LegendTop;break;case hi.Bottom:l=B.LegendBottom;break;case hi.Right:default:l=B.LegendRight;break}let u=i?s.yAxes.getIndex(0):s.xAxes.getIndex(0),h;u instanceof wr?h=B.DateAxis:u instanceof wi?h=B.ValueAxis:h=B.CategoryAxis;let c=e?.orderOptions?.data?.orderBy===un.Descending?B.OrderByFieldsDESC:B.OrderByFieldsASC;t=`${r}-${o}-${n}-${l}-${h}-${c}`}return t}function yz(s){let t=gz(s);return Zk.has(t)}function oM(s,t,e){switch(e){case L.HistogramSeries:case L.PieSeries:s.set("reverseChildren",mz(t));break;case L.BarSeries:case L.LineSeries:case L.RadarSeries:case L.ComboLineAndBarSeries:s.set("reverseChildren",yz(t));break}}function bz(s,t){let e=es({childId:Qd,parent:s});if(e!==void 0){let i=es({childId:Xf,parent:e})??nM(s,e);if(t!==void 0){let{title:r,visible:a}=t,{legendTitle:n}=fe.legendProperties;r!==void 0&&Yl({label:i,labelConfig:{...r,visible:a!==!1&&r.visible!==!1},defaults:{...n,verticalCenter:si.Top}})}Nu({chart:s,label:i,labelType:yi.LegendTitle})}}function vz(s,t=!1){let e=t?10:0;s.markerRectangles.template.setAll({cornerRadiusTL:e,cornerRadiusTR:e,cornerRadiusBL:e,cornerRadiusBR:e})}function xz(s,t){if(s!==void 0){let e={type:L.Text,visible:t?.visible,content:{...t?.body,type:Zt.TS,text:" "}};Yl({label:s.labels.template,labelConfig:e}),s.labels.template.setAll({x:void 0,y:void 0,paddingRight:5})}}function wz(s,t){t===!0&&s.itemContainers.each(e=>{e.events.disableType(Wi.Click)})}function ZL(s,t){let{root:e}=s,i=Ke.new(e,{id:tl(Qd,s.uid),layout:e.verticalLayout}),r=xu.new(e,{verticalScrollbar:Sl.new(e,{orientation:"vertical"})});return r.valueLabels.template.setAll({forceHidden:!0}),Az(s,r),nM(s,i),hz(r),cz(r,s),dz({chart:s,legend:r,legendContainer:i}),fz(r,s),pz(r,s,Me(t)),i.children.push(r),s.children.push(i),r}function Cz(s){let{chart:t,legend:e,showLegend:i}=s,r=es({childId:Qd,parent:t});if(r){let a=es({childId:Xf,parent:r});is(r,i),is(e,i),a&&is(a,i)}}function lM(s){let{chart:t,chartConfig:e,legend:i,hideEmptySeries:r}=s,{legend:a,series:n}=e;if(i!==void 0&&es({childId:Qd,parent:t})!==void 0){let o=Zx(n)&&a?.visible!==!1;if(Cz({chart:t,legend:i,showLegend:o}),o){vz(i,a?.roundMarkers),xz(i,a),oM(i,t,Me(n)),aM({chart:t,legend:i,chartConfig:e,hideEmptySeries:r}),bz(t,a),zv(t,i);let l=xe(t.uid,"options");wz(i,l?.disableTogglingLegendItems)}}}function uM(s){let{axesConfig:t,currentSeries:e,tooltipValueFormat:i}=s,{root:r,chart:a}=e;if(a){let n=t?.[1]?.valueFormat,o=t?.[0].valueFormat,l=xe(a.uid,"formatLocale");if(n?.type===L.NumberAxisFormat){let u=Kl({root:r,type:n.type,formatLocale:l,intlOptions:n.intlOptions});_s(e.uid,{tooltipValueYNumberFormatCallback:h=>u.format(h,i?.intlOptions??n.intlOptions)})}if(o?.type===L.NumberAxisFormat){let u=Kl({root:r,type:o.type,formatLocale:l,intlOptions:o.intlOptions});_s(e.uid,{tooltipValueXNumberFormatCallback:h=>u.format(h,i?.intlOptions??o.intlOptions)})}}}function ql(s,t){return t!=null&&t!==""?t:s}function hM(s,t){let e;switch(s){case Je.Average:{e=t.statistics.mean;break}case Je.ContinuousPercentile:{e=t.statistics.median;break}case Je.Sum:{e=t.statistics.sum;break}case Je.Minimum:{e=t.statistics.minimum;break}case Je.Maximum:{e=t.statistics.maximum;break}case Je.Variance:{e=t.statistics.variance;break}case Je.DiscretePercentile:{e=t.statistics.discretePercentile;break}case Je.NoAggregation:{e=t.statistics.noAggregation;break}case Je.Count:default:{e=t.statistics.count;break}}return e}function cM(s){let{config:t,fieldName:e="",commonStrings:i}=s,r=t.series[0].query?.outStatistics?.[0].statisticType??pp.statisticType,a=hM(r,i);return Ha(i.statistics.aggregation,{statistics:a,fieldName:e})}function dM(s){let{config:t,fieldList:e,objectIdField:i,seriesIndex:r,isStacked100:a,commonStrings:n}=s,o="",l=t.series[r].name,u=t.series[r],h=[u.y].flat()[0],c=t.axes,A=Ue(t.series),d=i??as.outStatistics.onStatisticField,f=u.query?.outStatistics?.[0].onStatisticField??d,p=yr(e,f),m=u.query?.outStatistics?.[0].statisticType??pp.statisticType,g=hM(m,n);return A===j.BarAndLineNoAggregation?o=l??yr(e,h):A===j.BarAndLineSplitByNoAggregation?o=yr(e,h):(o=m===Je.Count&&f===d?n.statistics.count:Ha(n.statistics.aggregation,{statistics:g,fieldName:p??l}),A===j.BarAndLineMonoField&&!a&&(o=ql(o,c[1].title?.content?.text))),o}function AM(s){return FA(s.uid.toString(),kk)}function D0(s){return s!=null&&!s.isDisposed()}function _z(s){let t=za(s),{r:e,g:i,b:r}=t;return{r:e,g:i,b:r}}function fM(s){let t=xg(s);s.columns.template.set("tooltip",t),s.columns.template.setAll({tooltipText:" ",tooltipPosition:"fixed"}),s.columns.template.adapters.remove("tooltipText"),s.columns.template.adapters.add("tooltipText",(e,i)=>zf(i,s))}function Sz(s){let{axes:t,seriesConfig:e,series:i,fieldList:r,commonStrings:a}=s,{dataTooltipVisible:n}=e,o,l=xe(i.chart?.uid??0,"rtl")??!1,u=$n(l);return n===!1?o=(h,c,A)=>"":o=(h,c,A)=>{let d=yr(r,e.x),f=ql(d,t?.[0].title?.content?.text),p=ql(a?.statistics.count??"",t?.[1]?.title?.content?.text??""),m=Pr(i.uid,"tooltipValueXNumberFormatCallback"),g=Pr(i.uid,"tooltipValueYNumberFormatCallback"),y=m?m(c):c,v=m?m(A):A,_=g?g(h):h;return l?`${y} - ${v}[bold]${f}${u} [/]
${_}[bold]${p}${u} [/]`:`[bold]${f}${u} [/]${y} - ${v}
[bold]${p}${u} [/]${_}`},o}function Bz(s){let{seriesConfig:t,series:e,tooltip:i}=s,{dataTooltipVisible:r}=t;if(r!==!1){let a=Pr(e.uid,"histogramTooltipFormatter");if(a!==void 0){let n=i.dataItem;if(n!==void 0){let o=n.dataContext;return a(n.get("valueY")??0,o.minValue,o.maxValue)}}}return""}function pM(s){let t=xg(s);s.columns.template.set("tooltip",t),s.columns.template.setAll({tooltipText:" ",tooltipPosition:"fixed"}),s.columns.template.adapters.add("tooltipText",(e,i)=>zf(i,s))}function Fz(s){let{series:t,tooltipFormatter:e,axesConfig:i,seriesConfig:r}=s;uM({axesConfig:i,currentSeries:t,tooltipValueFormat:r.dataTooltipValueFormat}),_s(t.uid,{histogramTooltipFormatter:e??Sz(s)})}function mM(s){let{pieChart:t,valueIntlOptions:e,percentageIntlOptions:i,displayNumericValue:r,displayPercentage:a,valuePrefix:n,valueSuffix:o,percentagePrefix:l,percentageSuffix:u}=s,{root:h}=t,c=xe(t.uid,"formatLocale"),A=Kl({root:h,type:L.NumberAxisFormat,intlOptions:e,formatLocale:c}),d=Kl({root:h,type:L.NumberAxisFormat,intlOptions:{...i,style:"percent"},formatLocale:c}),f=$n(xe(t.uid,"rtl")??!1," ");return(p,m,g)=>{let y="";if(m!==void 0&&g!==void 0){let v=`${n??""}${A.format(m)}${o??""}`,_=`${l??""}${d.format(Math.abs(g/100))}${u??""}`;Number.isFinite(m)?r===!0&&a===!0?y=`${_}${f}(${v})`:r===!0?y=v:a===!0&&(y=_):y=""}return y}}function Pz(s,t){let e=(f,p,m)=>"",{numericValueFormat:i,percentValueFormat:r,dataTooltipValueFormat:a,dataTooltipPercentFormat:n,displayCategoryOnTooltip:o,displayNumericValueOnTooltip:l,displayPercentageOnTooltip:u,valuePrefix:h,valueSuffix:c,percentagePrefix:A,percentageSuffix:d}=t;return e=(f,p,m)=>{let g="",{chart:y}=s;if(y){let v=mM({pieChart:y,valueIntlOptions:(a??i)?.intlOptions,percentageIntlOptions:(n??r)?.intlOptions,displayNumericValue:l??fe.pieChart.displayNumericValueOnTooltip,displayPercentage:u??fe.pieChart.displayPercentageOnTooltip,valuePrefix:h,valueSuffix:c,percentagePrefix:A,percentageSuffix:d})("",p,m),_=!Li(f)&&(o??fe.pieChart.displayCategoryOnTooltip);if(_&&(g=`[bold]${f}[/]`),!Li(v)){let S=B0(v);g=_?`${g}
${S}`:S}}return g},e}function Tz(s){let t=s.get("tooltip");if(t!==void 0){let e=s.get("fill");e instanceof wu&&(e=e.get("fill")),t.get("background")?.set("fill",e)}}function Dz(s){let{pieSeries:t,tooltip:e}=s,i="",{chart:r}=t;if(r!==void 0&&e!==void 0){let a=xe(r.uid,"config"),{dataTooltipVisible:n}=a?.series[0]??{};if(n!==!1){let o=Pr(t.uid,"pieChartTooltipFormatter");if(o){let l=e.dataItem;if(l!==void 0){let u=l,h=u.get("category")??"",c=l.dataContext,A=sl(c);A===void 0&&(A=h);let d=u.get("value"),f=u.get("valuePercentTotal");typeof d=="number"&&d!==0&&a?.series?.[0]?.dataTooltipVisible!==!1?(e.set("disabled",!1),Tz(u.get("slice")),i=o(h,d,f,A)):e.set("disabled",!0)}}}else return}return ns(i)}function gM(s){let t=s.slices.template,e=xg(s);t.setAll({tooltip:e,tooltipText:" ",tooltipPosition:"fixed"}),t.adapters.remove("tooltipText"),t.adapters.add("tooltipText",(i,r)=>{let a=" ";try{let n=r.get("tooltip");n&&(n.dataItem=r.dataItem,a=zf(n,s))}catch{}return a}),t.set("tooltipText"," ")}function Oz(s){let{series:t,seriesConfig:e,tooltipFormatter:i}=s;_s(t.uid,{pieChartTooltipFormatter:i??Pz(t,e)})}function JL(s,t){if(t!==void 0){let e=_z(t);e!==void 0&&s.label.setAll({fill:Ey(e)?za("#000000"):za("#ffffff")})}}function yM(s){s.label.setAll({paddingTop:4,paddingBottom:4})}function bM(s,t){let{dataTooltipStyleReversed:e,dataTooltipStyle:i}=fe;if(t===!0){let r=s.get("background")?.get("fill");r!==void 0&&(JL(s,s.get("background")?.get("fill")?.toCSS()),e?.color!==void 0&&r.toCSSHex()!==ts(e.color).color.toCSSHex()&&s.get("background")?.setAll({fill:ts(e.color).color,stroke:r,strokeWidth:e.outline?.width??Number.NaN}))}else JL(s,s.get("background")?.get("fill")?.toCSS()),s.setAll({getStrokeFromSprite:!0,getFillFromSprite:!0}),s.get("background")?.setAll({strokeWidth:i?.outline?.width??Number.NaN,stroke:ts(i?.outline?.color).color})}function eI(s,t){if(s.get("tooltip")===void 0){let e=xg(t);s.set("tooltip",e),s.setAll({tooltipText:" ",tooltipPosition:"fixed"}),s.adapters.remove("tooltipText"),s.adapters.add("tooltipText",(i,r)=>zf(r,t))}}function xg(s){let{root:t,chart:e}=s,i=Ta.new(t,{});return i.adapters.add("visible",(r,a)=>(r&&xM(a,s),r)),vM(i,e),i}function VB(s,t){let{chart:e}=t,i=Ta.new(s,{});return i.adapters.add("visible",(r,a)=>(r&&xM(a,t),r)),vM(i,e),i.adapters.remove("tooltipText"),i.adapters.add("tooltipText",(r,a)=>zf(a,t)),i}function vM(s,t){if(s){let e=xe(t?.uid??0,"rtl");s.label.set("textAlign",e?"right":"left"),yM(s),s.get("background")?.setAll({fillOpacity:Ic})}}function xM(s,t){let{chart:e}=t;if(e&&s){let i=xe(e.uid,"config");if(i){let{seriesConfig:r}=L0(t,i);if(r){let{dataTooltipReverseColor:a}=r;bM(s,a)}}}}function Lz(s){let{seriesConfig:t,series:e,tooltip:i,isRotated:r}=s,a=Pr(e.uid,"barAndLineTooltipFormatter");if(a!==void 0){let n=i.dataItem;if(n!==void 0){let o=n.get("valueX"),l=n.get("valueY"),u=n.get("valueXTotalPercent"),h=n.get("valueYTotalPercent"),c=r?o:l,A;r&&typeof u=="number"?A=u:!r&&typeof h=="number"&&(A=h),A&&(A/=100);let d=n.dataContext??{},f=xe(e.chart?.uid??0,"config"),p=xe(e.chart?.uid??0,"rendererFieldNames"),m=Dn({value:d[t.x],dataContext:d,useRendererLabel:F0(f,p)}),g=sl(d);g===void 0&&(g=m);let y=d[fe.dateBinningRange];if(g!==void 0||c!==void 0||A!==void 0||y!==void 0)return a({seriesName:e.get("name")??t.name,xValue:m,originalXValue:g,dateBinningRange:y,statValue:c,percentValue:A})}}}function tI(s,t){if(s instanceof Ta)s.set("forceHidden",t);else{let e=s.get("tooltip");e&&e.set("forceHidden",t)}}function zf(s,t){let e,{chart:i}=t;if(i!==void 0){let r=xe(i.uid,"config"),{seriesConfig:a}=L0(t,r),{dataTooltipVisible:n}=r?.series[0]??{};if(n===!1||!a)e="",tI(s,!0);else switch(tI(s,!1),a.type){case L.ScatterSeries:t instanceof ri&&(e=Nz({seriesConfig:a,markerSeries:t,tooltip:s}));break;case L.BarSeries:case L.LineSeries:case L.RadarSeries:e=Lz({seriesConfig:a,series:t,tooltip:s,isRotated:r?.rotated??!1});break;case L.HistogramSeries:e=Bz({seriesConfig:a,series:t,tooltip:s});break;case L.PieSeries:t instanceof gs&&s instanceof Ta&&(e=Dz({pieSeries:t,tooltip:s}));break}}return e??""}function Iz(s){let{series:t,dateRange:e,xAxisValueFormat:i}=s,r,a=xe(t.chart?.uid??Number.NaN,"timeIntervalInfo");if(e!==void 0&&e.length>0){let n={};switch(a?.unit){case _t.Second:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};break;case _t.Minute:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};break;case _t.Hour:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};break;case _t.Day:case _t.Week:case _t.Month:case _t.Year:n={month:"numeric",day:"numeric",year:"numeric"};break}n.timeZone=i.intlOptions.timeZone;let o=new Date(e[0]),l=new Date(e[1]),{root:u}=t;if(!Number.isNaN(o.valueOf())&&t.chart!==void 0){let h=xe(t.chart.uid,"formatLocale"),c=Kl({root:u,type:L.DateAxisFormat,formatLocale:h,intlOptions:n}),A=c.format(o,n);if(r=A,!Number.isNaN(l.valueOf())){let d=c.format(l,n);d!==A&&(r=`${r} - ${d}`)}}}return r?.toString()??""}function $z(s){let{seriesConfig:t,xAxisValueFormat:e,setTimeBinningInfoWhenNotProvided:i,dataTooltipValueFormat:r,dataTooltipDateFormat:a,series:n,xValue:o,dateBinningRange:l}=s,{root:u}=n,h,c=xe(n.chart?.uid??0,"formatLocale");return Xa({seriesConfig:t,xAxisValueFormatType:e?.type,setTimeBinningInfoWhenNotProvided:i})&&l!==void 0&&e?.type===L.DateAxisFormat?h=Iz({series:n,dateRange:l,xAxisValueFormat:e}):qn(e)&&o!==void 0?h=Lf({root:u,value:o,valueFormat:a??e,formatLocale:c}):typeof o=="number"&&Tr(e)?h=Lf({root:u,value:o,valueFormat:r??e,formatLocale:c}):h=o,h?.toString()??""}function kz(s){let{isStacked100:t,series:e,statValue:i,percentValue:r,yAxisValueFormat:a,dataTooltipValueFormat:n,dataTooltipPercentFormat:o}=s,l=e.chart?.uid??0,{root:u}=e,h=n;h===void 0&&(Tr(a)&&a?(h=a,t&&(h.intlOptions.style="decimal")):h=yy());let c=xe(l,"formatLocale"),A=i!==void 0?Lf({root:u,value:i,valueFormat:h,formatLocale:c}):"",d="";if(t&&r!==void 0&&u!==void 0){let f=o;f===void 0&&(f=Qx(),f.intlOptions.minimumFractionDigits=2,f.intlOptions.maximumFractionDigits=2),d=Lf({root:u,value:r,valueFormat:f,formatLocale:c})}return{formattedStatValue:A,formattedPercentValue:d}}function Mz(s){let{commonStrings:t,fieldList:e,queryObject:i,series:r,seriesConfig:a,seriesIndex:n,setTimeBinningInfoWhenNotProvided:o}=s,{chart:l}=r,{dataTooltipDateFormat:u,dataTooltipPercentFormat:h,dataTooltipValueFormat:c}=a,A=()=>"";if(l!==void 0){let d=xe(l.uid,"config");if(d!==void 0){let{dataTooltipVisible:f}=a,p=r instanceof ri?a.markerVisible:void 0;if(f!==!1&&p!==!1){let m=d.axes,g=m[0].valueFormat,y=m[1].valueFormat,v=Ue(d.series),_=Wa(d)===ir.Stacked100,S=tr(i)?.objectIdField,F=yr(e,a.x),P=ql(F,m[0].title?.content.text),D=dM({config:d,fieldList:e,objectIdField:S,seriesIndex:n,commonStrings:t,isStacked100:_}),$=xe(l.uid,"rtl"),I=$n($??!1);A=R=>{let{seriesName:T,statValue:Q,percentValue:K,xValue:z,dateBinningRange:se}=R,ee=$z({seriesConfig:a,xAxisValueFormat:g,dataTooltipValueFormat:c,dataTooltipDateFormat:u,setTimeBinningInfoWhenNotProvided:o,series:r,xValue:z,dateBinningRange:se}),{formattedStatValue:ue,formattedPercentValue:G}=kz({isStacked100:_,yAxisValueFormat:y,dataTooltipValueFormat:c,dataTooltipPercentFormat:h,series:r,statValue:Q,percentValue:K}),q=[`[bold]${P}${I} [/]${ee}`];switch(v){case j.BarAndLineFromFields:{q.pop();let ge=cM({config:d,fieldName:yr(e,ee??""),commonStrings:t});q.push(`[bold]${ge}${I} [/]${ue}`);break}case j.BarAndLineMonoField:case j.BarAndLineNoAggregation:case j.BarAndLineMultiFields:q.push(`[bold]${D}${I} [/]${ue}`);break;case j.BarAndLineSplitByNoAggregation:case j.BarAndLineSplitBy:{let ge=jr(a.query?.where,!1),ne=qx({value:yr(e,ge)});q.push(`[bold]${ne}${I} [/]${T}
[bold]${D}${I} [/]${ue}`)}break}return _&&q.push(`[bold]${t.statistics.percent}${I} [/]${G}`),q.join(`
`)}}}}return A}function UB(s){let{series:t,tooltipFormatter:e}=s;_s(t.uid,{barAndLineTooltipFormatter:e??Mz(s)})}function Ez(s,t){switch(!0){case(s===L.HistogramSeries&&t instanceof Cr):{pM(t);break}case(s===L.PieSeries&&t instanceof gs):{t.events.once(Wi.DataValidated,()=>{gM(t)});break}case((s===L.ComboLineAndBarSeries||s===L.BarSeries)&&t instanceof Cr):{fM(t);break}case((s===L.ComboLineAndBarSeries||s===L.LineSeries)&&t instanceof ri):{let e=Pr(t.uid,"bulletTemplate");e&&eI(e,t);break}case(s===L.ScatterSeries&&t instanceof ri):{let e=Pr(t.uid,"bulletTemplate");e&&Vz(e,t);break}case(s===L.RadarSeries&&t instanceof ri):{let e=Pr(t.uid,"bulletTemplate");e&&eI(e,t);break}}}function Rz(s){let{axesConfig:t,seriesConfig:e,series:i,fieldList:r}=s,{dataTooltipVisible:a}=e,n,{chart:o}=i,l=o?.uid!==void 0?xe(o.uid,"rtl"):!1,u=$n(l??!1);return a===!1?n=(h,c,A)=>"":n=(h,c,A)=>{let d=yr(r,e.x),f=Li(t?.[0].title?.content?.text)?d:t?.[0].title?.content?.text,p=yr(r,e.y),m=Li(t?.[1]?.title?.content?.text)?p:t?.[1]?.title?.content?.text,g=Pr(i.uid,"tooltipValueXNumberFormatCallback"),y=g?g(h):h,v=Pr(i.uid,"tooltipValueYNumberFormatCallback"),_=v?v(c):c,S=l?`${y}[bold]${f}${u} [/]
${_}[bold]${m}${u} [/]`:`[bold]${f}${u} [/]${y}
[bold]${m}${u} [/]${_}`;if(A!==void 0&&e.sizePolicy?.field!==void 0){let F=yr(r,e.sizePolicy?.field),P=v?v(A):A;S+=l?`
${P}[bold]${F}${u} [/]`:`
[bold]${F}${u} [/]${P}`}return S},n}function Nz(s){let{seriesConfig:t,markerSeries:e,tooltip:i}=s,{x:r,y:a,sizePolicy:n,dataTooltipVisible:o}=t,{field:l}=n??{};if(o!==!1){let u=Pr(e.uid,"scatterplotTooltipFormatter");if(!i.isHidden()&&u){let{dataItem:h}=i;if(h){let c=h.dataContext;if(c){let A=r in c&&typeof c[r]=="number"?Number(c[r]):Number.NaN,d=a in c&&typeof c[a]=="number"?Number(c[a]):Number.NaN,f=l&&l in c&&typeof c[l]=="number"?Number(c[l]):void 0;return u(A,d,f)}}}}}function Vz(s,t){let e=xg(t);s.set("tooltip",e),s.setAll({tooltipText:" ",tooltipPosition:"fixed"}),s.adapters.add("tooltipText",(i,r)=>zf(r,t))}function Uz(s){let{axesConfig:t,series:e,seriesConfig:i,tooltipFormatter:r}=s;uM({axesConfig:t,currentSeries:e,tooltipValueFormat:i.dataTooltipValueFormat}),_s(e.uid,{scatterplotTooltipFormatter:r??Rz(s)})}function Qz(s){let{series:t,seriesConfig:e,newMin:i,newMax:r}=s,a=t.get("heatRules")?.[0],n=a===void 0&&e.sizePolicy!==void 0||a!==void 0&&e.sizePolicy===void 0;if(!n&&a!==void 0){let o=a.min===i&&a.max===r,l=t.get("valueField")===e.sizePolicy?.field,u=e.sizePolicy?.scaleType===hu.Linear&&a.logarithmic!==!0||e.sizePolicy?.scaleType===hu.Logarithmic&&a.logarithmic===!0;n=!(o&&l&&u)}return n}function Hz(s,t){let{sizePolicy:e}=s,i=t.get("heatRules")?.[0],r=Pr(t.uid,"bulletTemplate");if(r!==void 0)if(e!==void 0){let{scaleType:a,field:n,minSize:o,maxSize:l}=e,u=Wx(),h=s.markerSymbol?.size??vy().size??1,c=(o??u.minSize)/h,A=(l??u.maxSize)/h;i!==void 0?Qz({series:t,seriesConfig:s,newMin:c,newMax:A})&&(i.min=c,i.max=A,i.logarithmic=a===hu.Logarithmic,t.set("valueField",n)):t.setAll({valueField:n,calculateAggregates:!0,heatRules:[{target:r,key:"scale",min:c,max:A,dataField:"value",logarithmic:a===hu.Logarithmic}]})}else t.get("heatRules")?.pop(),t.setAll({valueField:void 0,calculateAggregates:!1})}function Hu(s){return s.get("id")===fe.overlayId.scatterplotTrendLine}function wM(s){return s.series.values.find(t=>!Hu(t))}function CM(s){return s.series.values.find(t=>Hu(t))}function jz(s){let{root:t,xAxis:e,yAxis:i,seriesConfig:r}=s,{x:a,y:n}=r,o=ri.new(t,{xAxis:e,yAxis:i,valueXField:a,valueYField:n,layer:fe.zIndexes.scatterplotTrendLine});return o.set("id",fe.overlayId.scatterplotTrendLine),_s(o.uid,{type:Or.Trendline}),o}function Wz(s,t){let e=Ut.new({});_s(s.uid,{bulletTemplate:e}),s.bullets.push(i=>{let r=St.new(i,{nonScalingStroke:!0,tooltip:VB(i,s),tooltipText:" "},e);return eu(r,t?.selectionTheme),tu(r,s),LM(r,s),Ga.new(i,{sprite:r})})}function Xz(s){let{root:t,seriesConfig:e,xAxis:i,yAxis:r,options:a}=s,{x:n,y:o,id:l}=e,u=[],h=ri.new(t,{xAxis:i,yAxis:r,valueXField:n,valueYField:o,id:l,opacity:0,valueField:"value",maskBullets:!1,layer:fe.zIndexes.bulletMarkers});h.strokes.template.set("forceHidden",!0),Wz(h,a),_g(h),u.push(h);let c=jz({root:t,xAxis:i,yAxis:r,seriesConfig:e});return sM(c),u.push(c),h.appear(),u}function zz(s){let{root:t,trendLineSeries:e,data:i,valueFormat:r,defaultR2Value:a,chartConfig:n}=s,{chart:o}=e,l=n.series[0],u=l.overlays?.trendLine,h=u?.symbol??{type:Zt.SLS},c=u?.created===!0&&u.visible!==!1;if(i!==void 0){let A=fe.scatterplotSeries,d=o!==void 0?xe(o.uid,"formatLocale"):void 0,{x:f,y:p}=l;e.setAll({valueXField:f,valueYField:p}),e.data.setAll(i.trendLinePoints??fe.scatterplotSeries.trendLinePoints);let m=Number.isFinite(i.r2)?Lf({root:t,value:i.r2??A.r2,valueFormat:r,formatLocale:d}):void 0,g=m!==void 0?`R\xB2 = ${m}`:a;e.set("name",g)}h.color===void 0&&(h.color=Mn({colorIndex:1})),Eu({element:e,lineSymbol:h,visible:c})}function Gz(s){let{root:t,chartConfig:e,markerSeries:i}=s,r=i.chart;if(r){let a=e.series[0],n=ao(e),o,l,u=vy(),h=new Set;i.dataItems.forEach(A=>{let d=A.bullets?.[0]?.get("sprite");if(d!==void 0){let f=tn({dataItem:A?.dataContext,seriesConfig:a,chartSubType:j.NonSpecific,colorMatch:n}),p=en({root:t,element:d,seriesSymbol:a.markerSymbol??u,rendererSymbol:f,colorMatch:n});o=p.symbolWithColorInfo,l=p.stylingInfo,sg(d,l),h.add(JSON.stringify(l))}}),o=h.size>1?void 0:o;let c=new Map;c.set(0,o),ll({data:c,htmlContainer:t.dom,chartId:i.chart?.get("id"),colorMatchApplied:I0(r)})}}function Yz(s){let{dataWasUpdated:t,seriesWereReinitialized:e,data:i,series:r,chartConfig:a,loaderHandle:n}=s;if((t===!0||e===!0)&&i){let{x:o,y:l}=a.series[0];r.setAll({valueXField:o,valueYField:l}),r.events.once(Wi.DataValidated,()=>{n.hideLoader()}),r.data.setAll(i.dataItems)}}function Kz(s){let{root:t,chartConfig:e,seriesConfig:i,options:r,fieldList:a,series:n,trendLineSeries:o,data:l,dataWasUpdated:u,seriesWereReinitialized:h,loaderHandle:c,commonStrings:A}=s,{axes:d}=e,{tooltipFormatter:f}=r??{};n.set("id",i.id),is(n.bulletsContainer,i.visible),zz({root:t,trendLineSeries:o,chartConfig:e,data:l,valueFormat:yp(),defaultR2Value:A.notAvailable}),Hz(i,n),ju(s)&&Wu({styleCallback:Gz,callbackProps:{root:t,chartConfig:e,markerSeries:n,dataWasUpdated:u},series:n,seriesConfig:i}),Uz({axesConfig:d,seriesConfig:i,series:n,fieldList:a,tooltipFormatter:f}),Yz({dataWasUpdated:u,seriesWereReinitialized:h,data:l,series:n,chartConfig:e,loaderHandle:c})}function qz(s){s.series.each(t=>{t instanceof ri?t.dataItems.forEach(e=>{let i=e.bullets?.[0];i&&Na({element:i.get("sprite"),selected:!1,backToDefaultState:!0})}):t instanceof Cr?t.columns.each(e=>{Na({element:e,selected:!1,backToDefaultState:!0})}):t instanceof gs&&t.slices.each(e=>{Na({element:e,selected:!1,backToDefaultState:!0})})})}function fc(s){let{chart:t,selectionSource:e}=s,i=xe(t.uid,"currentSelectionDataItems");nr(t.uid,{currentSelectionDataItems:void 0,currentSelectionOIDs:void 0,currentSelectionIndexes:void 0,computedSelectionDataItems:void 0,computedSelectionIndexes:void 0,pendingSelectionQueries:!1}),D0(t)&&qz(t),i&&Mf({data:{selectionSource:e??Hr.ClearSelection},htmlContainer:t.root.dom})}function tu(s,t){s.events.on(Wi.PointerUp,async e=>{let{chart:i}=t;if(i){let r=xe(t.chart?.uid??Number.NaN,"actionMode");if(!xe(t.chart?.uid??Number.NaN,"filterBySelection")&&r!==Wt.None&&r!==Wt.Zoom){let a=e.target,n=nz(e,t);Na({element:a,selected:Qu(a.uid,"selected")!==!0}),n&&i.series.each(o=>{o instanceof ri?o.dataItems.forEach(l=>{let u=l.bullets?.[0]?.get("sprite");u!==a&&Na({element:u,selected:!1})}):o instanceof Cr?o.columns.each(l=>{l!==a&&Na({element:l,selected:!1})}):o instanceof gs&&o.slices.each(l=>{l!==a&&Na({element:l,selected:!1})})}),await QB(i,Hr.SelectionByClick)}}})}function iI(s,t){let e=Number.NaN,i=Number.NaN,r=t.get("renderer")instanceof Ds,a=s.getPrivate(r?"downPositionX":"downPositionY"),n=s.getPrivate(r?"positionX":"positionY");return a!==void 0&&n!==void 0&&(e=a*(r?t.width():t.height()),i=n*(r?t.width():t.height())),{coord1:e,coord2:i}}function Zz(s){if(s instanceof di){let t=s.get("cursor");s.plotContainer.events.on(Wi.PointerUp,()=>{t?.selection.width()===2e7&&fc({chart:s})})}else s instanceof bn&&s.get("background")?.events.on(Wi.Click,()=>{fc({chart:s})})}function Jz(s){let{series:t,cursorBounds:e,multiSelect:i}=s;t.columns.each(r=>{let a=r.get("x"),n=r.get("y");if(typeof a=="number"&&typeof n=="number"){let o={left:a,right:a+r.width(),top:n,bottom:n+r.height()},l=!(o.left>e.right||o.right<e.left||o.top>e.bottom||o.bottom<e.top)||i&&Qu(r.uid,"selected")===!0;Na({element:r,selected:l})}})}function eG(s){let{series:t,cursorBounds:e,multiSelect:i}=s;t.dataItems.forEach(r=>{let a=r.bullets?.[0]?.get("sprite");if(a){let n=r.bullets?.[0]?.get("sprite").get("x"),o=r.bullets?.[0]?.get("sprite").get("y"),l=typeof n=="number"&&typeof o=="number"&&n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom||i&&Qu(a.uid,"selected")===!0;Na({element:a,selected:l})}})}function tG(s){let{cursor:t,xAxis:e,yAxis:i}=s,r=t.get("behavior"),{coord1:a,coord2:n}=iI(t,e),{coord1:o,coord2:l}=iI(t,i),u={left:a>n?n:a,right:a>n?a:n,top:o<l?o:l,bottom:o<l?l:o};return r==="selectX"?(u.top=Number.NEGATIVE_INFINITY,u.bottom=Number.POSITIVE_INFINITY):r==="selectY"&&(u.right=Number.POSITIVE_INFINITY,u.left=Number.NEGATIVE_INFINITY),u}function iG(s){s.get("cursor")?.events.on(Wi.SelectEnded,async t=>{let e=xe(s.uid,"actionMode");if(e===Wt.MultiSelection||e===Wt.MultiSelectionWithCtrlKey){let i=s.xAxes.getIndex(0),r=s.yAxes.getIndex(0);if(i&&r){let a=s.get("cursor"),n=tG({cursor:a,xAxis:i,yAxis:r}),o=Kk(t);s.series.each(l=>{!Hu(l)&&!wg(l)&&(l instanceof Cr||l instanceof ri)&&(l instanceof Cr?Jz({series:l,cursorBounds:n,multiSelect:o}):l instanceof ri&&eG({series:l,cursorBounds:n,multiSelect:o}))}),is(a.selection,!1),await QB(s,Hr.SelectionByRange)}}})}function rG(s){Zz(s),s instanceof di&&iG(s)}function _M(s){let{numberFormatter:t,dataLabelsConfigContent:e,stackedType:i,externalDataLabelFormatter:r}=s;return(a,n)=>{let o=i===ir.Stacked100&&n!==void 0?n:a;return t.get("numberFormat").style==="percent"&&(o/=100),rn({textSymbol:{...e,text:t.format(o)},format:r===void 0?"amChartsV5":"html"})}}function sG(s,t){let e=s.dataItem,i;switch(t){case L.LineSeries:case L.ScatterSeries:i=e.get("point");break;case L.HistogramSeries:case L.BarSeries:i=e.get("graphics");break}let r=i??s,a=i?.x??r?.get("x")??0,n=i?.y??r?.get("y")??0;return{x:a,y:n}}function SM(s){let{label:t,chart:e,seriesType:i}=s,r=n=>{if(e instanceof di){let o=sG(n,i),l=e.plotContainer,u=l.x(),h=l.y(),c=o.x<u||o.x>u+l.width()||o.y<h||o.y>h+l.height();n.setAll({visible:!c,forceHidden:c})}},a=ss((n,o)=>{o&&r(o)},fe.debounceTime);t.on("x",a),t.on("y",a)}function aG(s,t){t.adapters.add("y",(e,i)=>{let{chart:r}=s,a=r!==void 0?xe(r.uid,"isRotated"):!1,n=typeof e=="number"?e:e?.value,o=i.dataItem;if(o!==void 0&&n!==void 0&&n!==null){let l=o?.get("valueY"),u=i.localBounds().bottom;if(a!==!0){let h=fe.dataLabelNegative?.paddingTop??0;s.get("stacked")&&(l<0?n+=u-h:n+=u)}else{let h=fe.rotatedChartPadding?.paddingTop??0;n+=u/2+h}}return n}),t.adapters.add("x",(e,i)=>{let{chart:r}=s,a=r!==void 0?xe(r.uid,"isRotated"):!1,n=typeof e=="number"?e:e?.value,o=i.dataItem;if(o!==void 0&&n!==void 0&&n!==null&&a===!0){let l=o?.get("valueX"),u=i.width()/2,h=fe.rotatedChartPadding?.paddingRight??0,c=u+h;s.get("stacked")||(l<0?n-=c:n+=c)}return n})}function nG(s){let{series:t,isRotated:e,dataLabelsConfig:i,externalDataLabelFormatter:r,labelDefaults:a,seriesType:n}=s;t.bullets.push(()=>{let o=t.get("stacked"),l=Ga.new(t.root,{locationY:!o&&!e?1:void 0,locationX:!o&&e?1:void 0,sprite:hr.new(t.root,{text:e?"{valueX}":"{valueY}",populateText:!0,centerY:Be,centerX:Ps,paddingBottom:0,paddingTop:0,paddingRight:0,paddingLeft:0,fill:ts(i?.content.color).color,fontSize:i?.content.font?.size})}),u=l.get("sprite");if(u){let h=u;oG({dataLabel:h,series:t,externalDataLabelFormatter:r}),t.chart&&i?.visible&&SM({label:u,chart:t.chart,seriesType:n}),aG(t,u),O0({...s,dataLabel:h,labelDefaults:a,defaultDataLabelFormatter:_M,externalDataLabelFormatter:r})}return l})}function BM(s,t=1){s.bullets.removeIndex(t)}function oG(s){let{dataLabel:t,series:e,externalDataLabelFormatter:i}=s;t.adapters.remove("text"),t.adapters.remove("html");let r=i!==void 0?"html":"text";t.adapters.add(r,(a,n)=>{let o=a??"",l=n.dataItem,u=Pr(e.uid,e instanceof Cr?"barSeriesDataLabelFormatter":"lineSeriesDataLabelFormatter");if(u!==void 0&&e.chart&&l){let h=xe(e.chart.uid,"isRotated"),c=h===!0?l.get("valueX"):l.get("valueY"),A=h===!0?l.get("valueXTotalPercent"):l.get("valueYTotalPercent"),d=e.get("valueYShow")==="valueYTotalPercent"||e.get("valueXShow")==="valueXTotalPercent";o=u(d?A:c)}return r==="html"?ns(o):o})}function O0(s){let{series:t,seriesConfig:e,dataLabel:i,labelDefaults:r,dataLabelsConfig:a,yAxisValueFormat:n,stackedType:o,isRotated:l,seriesType:u,defaultDataLabelFormatter:h,externalDataLabelFormatter:c}=s,{chart:A}=t;if(i!==void 0){let d=c,f=a?.content??{type:Zt.TS};if(c===void 0&&h!==void 0&&n?.type===L.NumberAxisFormat&&A){let y=xe(A.uid,"formatLocale"),v=Kl({root:A.root,type:n.type,formatLocale:y,intlOptions:n.intlOptions});d=h({numberFormatter:v,dataLabelsConfigContent:f,stackedType:o,externalDataLabelFormatter:c})}let p;switch(u){case L.BarSeries:p="barSeriesDataLabelFormatter";break;case L.LineSeries:p="lineSeriesDataLabelFormatter";break;case L.HistogramSeries:p="histogramDataLabelFormatter";break;case L.ScatterSeries:p="scatterplotDataLabelFormatter";break}p!==void 0&&_s(t.uid,{[p]:d}),a!==void 0&&(a.content.text=l===!0?"{valueX}":"{valueY}",a.visible=a.visible!==!1),Yl({label:i,labelConfig:a,defaults:r??fe.dataLabel,skipSettingText:!0});let m=t.get("stacked"),g=m&&u===L.BarSeries&&e?.hideOversizedStackedLabels!==!1;!m&&u===L.BarSeries&&e?.hideOversizedSideBySideLabels===!0||g?i.setAll({oversizedBehavior:"hide",maxWidth:void 0}):i.setAll({oversizedBehavior:"none"})}}function lG(s){let{series:t,labelDefaults:e,externalDataLabelFormatter:i}=s;t.dataItems.forEach(r=>{let a=r.bullets?.[1];if(a){a.set("locationY",t.get("stacked")?void 0:1);let n=a.get("sprite");n&&O0({...s,dataLabel:n,labelDefaults:e,defaultDataLabelFormatter:_M,externalDataLabelFormatter:i})}})}function FM(s){let{series:t,dataLabelsConfig:e}=s,i=e?.visible,r=t.bullets.hasIndex(1);i!==!0?r&&BM(t):(r||nG(s),lG(s))}function uG(s){let{series:t,dataLabelsConfig:e,labelDefaults:i,externalDataLabelFormatter:r,seriesType:a}=s;t.bullets.push(()=>{let n=Ga.new(t.root,{locationY:1,sprite:hr.new(t.root,{populateText:!0,oversizedBehavior:"hide",centerY:Be,centerX:Ye,paddingBottom:0,paddingTop:0,paddingRight:0,paddingLeft:0,fill:ts(e?.content.color).color,fontSize:e?.content.font?.size})}),o=n.get("sprite");return o&&(hG({dataLabel:o,series:t,externalDataLabelFormatter:r}),t.chart&&e?.visible&&SM({label:o,chart:t.chart,seriesType:a}),O0({...s,dataLabel:o,labelDefaults:i,defaultDataLabelFormatter:PM})),n})}function hG(s){let{dataLabel:t,series:e,externalDataLabelFormatter:i}=s;t.adapters.remove("text"),t.adapters.remove("html");let r=i!==void 0?"html":"text";t.adapters.add(r,(a,n)=>{let o=a??"",l=Pr(e.uid,"histogramDataLabelFormatter"),u=n.dataItem;if(u&&"dataContext"in u&&u.dataContext!==void 0&&l!==void 0){let{count:h,minValue:c,maxValue:A}=u.dataContext;o=l(h,c,A)}return r==="html"?ns(o):o})}function PM(s){let{numberFormatter:t,dataLabelsConfigContent:e,externalDataLabelFormatter:i}=s;return(r,a,n)=>rn({textSymbol:{...e,text:t.format(r)},format:i===void 0?"amChartsV5":"html"})}function cG(s){let{series:t,labelDefaults:e,externalDataLabelFormatter:i}=s;t.dataItems.forEach(r=>{let a=r.bullets?.[0];if(a){let n=a.get("sprite");n&&O0({...s,dataLabel:n,labelDefaults:e,defaultDataLabelFormatter:PM,externalDataLabelFormatter:i})}})}function TM(s){let{series:t,dataLabelsConfig:e}=s,i=e?.visible,r=t.bullets.hasIndex(0);i!==!0?r&&BM(t,0):(r||uG(s),cG(s))}function wg(s){return[fe.overlayId.histogramMean,fe.overlayId.histogramMedian,fe.overlayId.histogramStdDev,fe.overlayId.histogramNormalDistribution].includes(s.get("id")??"")}function dG(s){let t="";switch(s){case Or.Mean:t=fe.overlayId.histogramMean;break;case Or.Median:t=fe.overlayId.histogramMedian;break;case Or.StdDev:t=fe.overlayId.histogramStdDev;break;case Or.Normal:t=fe.overlayId.histogramNormalDistribution;break}return t}function AG(s){let{series:t,seriesConfig:e,colorMatch:i,rendererSymbol:r}=s,{root:a}=t,n=t.chart;if(n){let o=e.fillSymbol??zx(),l=en({root:t.root,element:t.columns.template,seriesSymbol:o,rendererSymbol:r,colorMatch:i,isChartFillSymbol:!0}).symbolWithColorInfo;if(l!==void 0){let u=new Map;u.set(0,l),ll({data:u,htmlContainer:a.dom,chartId:n.get("id"),colorMatchApplied:I0(n)})}}}function fG(s){let{series:t,data:e,dataWasUpdated:i,seriesWereReinitialized:r,loaderHandle:a}=s;e&&(i===!0||r===!0)&&(t.events.once(Wi.DataValidated,()=>{a.hideLoader()}),t.data.setAll(e.bins))}function Rv(s){let{root:t,xAxis:e,yAxis:i,type:r,commonStrings:a}=s,n=ri.new(t,{id:dG(r),valueXField:"x",valueYField:"y",xAxis:e,yAxis:i,visible:!1});return r===Or.Normal&&Yf(n,a.overlays.normal),_s(n.uid,{isOverlay:!0,type:r}),n.set("connect",!1),n.appear(),n}function pG(s){let{root:t,seriesConfig:e,xAxis:i,yAxis:r,options:a,chartConfig:n}=s,{id:o,name:l}=e,u=Cr.new(t,{id:o,name:l,xAxis:i,yAxis:r,categoryXField:lA.Start,valueYField:lA.Count,maskBullets:!1});return eu(u.columns.template,a?.selectionTheme),tu(u.columns.template,u),u.columns.template.setAll({width:Be}),TM({yAxisValueFormat:n.axes?.[1]?.valueFormat,series:u,seriesConfig:e,seriesType:L.HistogramSeries,dataLabelsConfig:e.dataLabels,externalDataLabelFormatter:a?.dataLabelFormatter}),_g(u),u.appear(),u}function mG(s){let{root:t,seriesConfig:e,xAxis:i,xAxisForOverlaySeries:r,yAxis:a,commonStrings:n,options:o,chartConfig:l}=s,u=[],h=pG({root:t,seriesConfig:e,xAxis:i,yAxis:a,options:o,chartConfig:l});return u.push(h),pM(h),r&&(u.push(Rv({root:t,xAxis:r,yAxis:a,type:Or.Mean,commonStrings:n})),u.push(Rv({root:t,xAxis:r,yAxis:a,type:Or.Median,commonStrings:n})),u.push(Rv({root:t,xAxis:r,yAxis:a,type:Or.StdDev,commonStrings:n})),u.push(Rv({root:t,xAxis:r,yAxis:a,type:Or.Normal,commonStrings:n}))),u}function gG(s){let{lineSeries:t,overlayConfig:e,data:i,commonStrings:r}=s;if(!e)is(t,!1);else{let{symbol:a,created:n,visible:o}=e,l=Pr(t.uid,"type"),u=a??{type:Zt.SLS};if(e.symbol?.color===void 0&&(u.color=Mn({colorIndex:xp(l),histogramOverlays:!0})),Eu({element:t,lineSymbol:u,visible:n===!0&&o!==!1}),i&&"bins"in i){let c=i.bins.map(v=>v.count),A=Math.max(...c),{mean:d,stddev:f,median:p}=i,m=d-f,g=d+f,y=[];switch(l){case Or.Mean:y=[{x:d,y:0},{x:d,y:A}];break;case Or.Median:y=[{x:p,y:0},{x:p,y:A}];break;case Or.StdDev:y=[{x:m,y:0},{x:m,y:A},{x:null,y:null},{x:g,y:0},{x:g,y:A}];break}t.data.setAll(y)}let h=t.data.getIndex(0)?.x;if(l===Or.StdDev&&(h=i?.stddev??Pr(t.uid,"stddev"),_s(t.uid,{stddev:h})),typeof h=="number"){let c=l;switch(l){case Or.Mean:c=r.overlays.mean;break;case Or.Median:c=r.overlays.median;break;case Or.StdDev:c=r.overlays.stdDev;break}let A=xe(t.chart?.uid??Number.NaN,"formatLocale"),d=xe(t.chart?.uid??Number.NaN,"rtl"),f=`${c}`,p=Lf({root:t.root,value:h,valueFormat:yp(),formatLocale:A});d?f=`${p} :${c}`:f=`${c}: ${p}`,Yf(t,f)}}}function yG(s){let{lineSeries:t,overlayConfig:e,data:i,numberOfPoints:r}=s;if(!e)is(t,!1);else{let{symbol:a,created:n,visible:o}=e,l=a??{type:Zt.SLS};if(e?.symbol?.color===void 0&&(l.color=Mn({colorIndex:xp(Or.Normal),histogramOverlays:!0})),Eu({element:t,lineSymbol:l,visible:n===!0&&o!==!1}),i&&"bins"in i){let{mean:u,stddev:h,min:c,max:A}=i,d=Yk(i.bins),f=zk(c,A,r??fe.histogramSeries.normalDistribNumberOfPoints).map(p=>({x:p,y:Gk({x:p,mean:u,stddev:h,scalingFactor:d})}));t.data.setAll(f)}}}async function bG(s){let{series:t,chartConfig:e,seriesConfig:i,seriesWereReinitialized:r,dataWasUpdated:a,queryObject:n,chartRenderer:o,data:l,loaderHandle:u}=s;is(t,i.visible),Yf(t,i.name);let h=tr(n),c=LB({chartRenderer:o,queryObject:n}),A=o??h?.renderer,d=bg(o,h?.renderer),f;if(vc({chartConfig:e,queryObject:n})){let p=await IB({seriesConfig:[i],dataItem:{},renderer:A,rendererOrigin:o!==void 0?Gl.ChartRenderer:Gl.LayerRenderer,rendererType:d,chartSubType:j.NonSpecific,graphicTemplate:c});f=p.rendererSymbol,nr(t.chart?.uid??Number.NaN,{colorMatchApplied:p.colorMatchApplied})}ju(s)&&Wu({styleCallback:AG,callbackProps:{...s,rendererSymbol:f},series:t,seriesConfig:i}),fG({series:t,seriesWereReinitialized:r,dataWasUpdated:a,data:l,loaderHandle:u})}async function vG(s){let{allChartSeries:t,seriesConfig:e,data:i,commonStrings:r,fieldList:a,axes:n,options:o,dataLabelFormatter:l,chartConfig:u}=s,{tooltipFormatter:h}=o??{};for(let c=0;c<t.length;c++){let A=t[c];if(A instanceof ri&&Pr(A.uid,"isOverlay")){let d=Pr(A.uid,"type");if(d===Or.Normal)yG({lineSeries:A,overlayConfig:e.overlays?.comparisonDistribution,data:i});else{let f;switch(d){case Or.Mean:f=e.overlays?.mean;break;case Or.Median:f=e.overlays?.median;break;case Or.StdDev:f=e.overlays?.standardDeviation;break}gG({lineSeries:A,overlayConfig:f,data:i,commonStrings:r})}}else A instanceof Cr&&(A.set("id",e.id),await bG({...s,series:A}),TM({series:A,yAxisValueFormat:u.axes?.[1]?.valueFormat,seriesConfig:e,seriesType:L.HistogramSeries,dataLabelsConfig:e.dataLabels,externalDataLabelFormatter:l}),Fz({axes:n,series:A,seriesConfig:e,fieldList:a,tooltipFormatter:h,commonStrings:r,axesConfig:u.axes}))}}function xG(s){let t="";return s instanceof Da?t=s.get("categoryXField")??s.get("valueXField")??"":s instanceof gs&&(t=s.get("categoryField")??""),t}function wG(s){let t="";return s instanceof Da?t=s.get("categoryYField")??s.get("valueYField")??"":s instanceof gs&&(t=s.get("categoryField")??""),t}function Cg(s){let t="",{chart:e}=s;return e!==void 0&&(t=xe(e.uid,"isRotated")===!0?xG(s):wG(s)),t}function CG(s){_y(),s$(s.root.dom),fc({chart:s})}function _G(s){let{chart:t,chartType:e,showMean:i}=s;return t.series.values.filter(r=>!Hu(r)&&!wg(r)&&(e!==L.BoxPlotSeries||!i||i&&Pr(r.uid,"isBoxPlotMeanLineSeries"))).every(r=>Pr(r.uid,"isSelectionApplied")===!0)}function SG(s){s.series.each(t=>_s(t.uid,{isSelectionApplied:void 0}))}function BG(s){let t=[];if(!Hu(s)&&!wg(s))switch(!0){case s instanceof gs:t=s.slices.values;break;case s instanceof Cr:let{chart:e}=s;if(e){let i=xe(e.uid,"config");if(i){let r=Me(i?.series)===L.HistogramSeries?[lA.Count]:Fs(i?.series,[s.get("id")??""]);t=s.columns.values.filter(a=>{let n=!1,o=a.dataItem?.dataContext;return o&&(n=r.some(l=>l in o&&Number.isFinite(o[l]))),n})}}break;case s instanceof ri:t=Array.from(s.dataItems.values());break}return t}function DM(s,t){let e=xe(s.uid,"actionMode");(e===Wt.MonoSelection||e===Wt.None)&&t.length>1?fc({chart:s}):t.forEach(i=>{Na({element:i,selected:!0})})}function FG(s,t){let e=[],i=[],r=xe(s.uid,"config"),a=xe(s.uid,"queryObject"),n=rl(r),o=Fs(r?.series??[]),l=Ue(r?.series),u=Me(r?.series);return s.series.each((h,c)=>{if(r&&h.get("visible")===!0&&h.get("id")!==fe.overlayId.scatterplotTrendLine){let A=r.series[0].x,d=Cg(h),f=t.get(c);if(f!==void 0){let p;if(h instanceof ri&&(p=h.dataItems.map(m=>m?.bullets?.[0]?.get("sprite")).filter(m=>m!==void 0)),p!==void 0){let{indexesToSelect:m}=f;p.forEach((g,y)=>{if(m===void 0||m.includes(y)){let v=Vu({dataContext:g.dataItem?.dataContext,yList:o,yAxisField:d,xAxisField:A,chartType:u,chartSubType:l,showOutliers:n,isFeatureCollectionLayer:bl(a)});v!==void 0&&e.push(v),i.push(g)}else Na({element:g,selected:!1})})}}}}),DM(s,i),e}function PG(s){let{chart:t,chartConfig:e,options:i,elementsToApplySelectionTo:r,selectionDataItems:a,layerOidField:n,xAxisField:o,yAxisField:l,splitBy:u}=s,h=Me(e.series),c=Ue(e.series),A=rl(e),d=xe(t.uid,"queryObject"),f=[],p=[],m=[],g=Fs(e.series);return r.forEach((y,v)=>{let _=y instanceof kr||y instanceof pa?y:y.bullets?.[0]?.get("sprite");if(_!==void 0){let S=y instanceof kr||y instanceof pa?_.dataItem?.dataContext:y.dataContext;if(S!==void 0&&h===L.BoxPlotSeries&&S[fe.boxPlot.boxPlotOutlierId]!==!0&&(S=Vu({dataContext:S,yAxisField:l,yList:g,xAxisField:o,splitBy:u,chartType:h,chartSubType:c,showOutliers:A,isFeatureCollectionLayer:bl(d)})),T0({elementDataContext:S,options:i,selectionDataItems:a,layerOidField:n,xAxisField:o,yAxisField:l,chartType:h,chartSubType:c,showOutliers:A}))if(f.push(_),p.push(v),_?.dataItem instanceof Ma&&S!==void 0)m.push(S);else{let F=new Set;h===L.PieSeries&&hl(S)?(vg({groupOfSlicesDataContext:S})??[]).forEach(P=>{a.forEach(D=>{MB({layerOidField:n,sliceDataContext:P,selectionDataContext:D,xAxisField:o})&&F.add(P)})}):F.add(S),Array.from(F)?.forEach(P=>{let D=Vu({dataContext:P,yAxisField:l,yList:g,xAxisField:o,splitBy:u,chartType:h,chartSubType:c,showOutliers:A,isFeatureCollectionLayer:bl(d)});D!==void 0&&m.push(D)})}else Na({element:_,selected:!1})}}),DM(t,f),{selectedIndexes:p,newSelectionDataItems:m}}function TG(s){let{series:t,seriesIndex:e,queryObject:i,dataWasUpdated:r,sortChanged:a,groupOfSlicesWasUpdated:n,xAxisField:o,yAxisField:l,splitBy:u,rotationChanged:h}=s,{chart:c}=t;if(c instanceof Hs){let A=xe(c.uid,"options"),{filterBySelection:d,selectionData:f,returnSelectionIndexes:p,returnSelectionOIDs:m}=A??{},{selectionIndexes:g}=f??{},y=xe(c.uid,"config"),v=Ur(y),_=Me(y?.series),S=Ue(y?.series),F=BG(t);if(d!==!0&&y!==void 0){let P;i!==void 0&&(P=tr(i).objectIdField);let D=xe(c.uid,"currentSelectionDataItems"),$=!1,I=!1,R,T=!1;if(F?.[0]!==void 0){if(A?.viewExtentUpdated!==!0){R=A?.selectionData?.selectionItems??D;let Q=xe(c.uid,"currentSelectionIndexes");T=FB({itemsA:R,itemsB:D,isPieFromFields:S===j.PieFromFields});let K=!so(g,Q);$=a===!0||r===!0||n===!0||h===!0||R!==void 0&&T;let z=!0;if(g!==void 0&&g.size>0){let{indexesToSelect:se}=g.get(e??0)??{};z=se!==void 0&&se[0]===void 0}I=r===!0||n===!0||h===!0||!z&&K}if($&&R!==void 0&&R.length>0){let{selectedIndexes:Q,newSelectionDataItems:K}=PG({chart:c,chartConfig:y,options:A,elementsToApplySelectionTo:F,selectionDataItems:R,layerOidField:P,xAxisField:o,yAxisField:l,splitBy:u}),z=xe(c.uid,"computedSelectionDataItems")??[];if(z.push(...K),y.series.length>1&&S!==j.BarAndLineNoAggregation&&S!==j.BarAndLineSplitByNoAggregation&&(z=yg({data:z,x:y.series[0].x,splitByField:jr(y.series[0].query?.where)})),nr(c.uid,{computedSelectionDataItems:z}),p===!0){let se=Array.from(new Set(Q)),ee=xe(c.uid,"computedSelectionIndexes");ee===void 0&&(ee=new Map),se.length===F.length?ee.set(e??0,{}):ee.set(e??0,{indexesToSelect:se}),nr(c.uid,{computedSelectionIndexes:ee})}}else if(g!==void 0&&I)R=FG(c,g);else{let Q=K=>{let z=K.dataItem?.dataContext;return T0({elementDataContext:z,options:A,selectionDataItems:R??D??[],layerOidField:P,xAxisField:o,yAxisField:l,chartType:_,chartSubType:S})};F.forEach(K=>{let z=K instanceof kr||K instanceof pa?K:K.bullets?.[0]?.get("sprite");z!==void 0&&Na({element:z,selected:Qu(z.uid,"selected")===!0||Q(z)})})}}if(_s(t.uid,{isSelectionApplied:!0}),_G({chart:c,chartType:_,showMean:v})&&(SG(c),T||I)){let Q=xe(c.uid,"computedSelectionDataItems")??R;Q=Array.from(new Set(Q?.map(z=>JSON.stringify(z)))).map(z=>JSON.parse(z)),R!==void 0&&nr(c.uid,{currentSelectionDataItems:Q}),f?.selectionOIDs!==void 0&&nr(c.uid,{currentSelectionOIDs:f.selectionOIDs});let K;if(p===!0&&(K=xe(c.uid,"computedSelectionIndexes")??g,K!==void 0&&nr(c.uid,{currentSelectionIndexes:K})),Q===void 0||Q.length===0)fc({chart:c,selectionSource:Hr.ProgrammaticSelection});else{let z={selectionItems:Q,selectionSource:Hr.ProgrammaticSelection};p===!0&&(z.selectionIndexes=K),m!==!1&&(z.selectionOIDs=f?.selectionOIDs??xe(c.uid,"currentSelectionOIDs")),Mf({data:z,seriesConfig:y.series,htmlContainer:c.root.dom})}nr(c.uid,{computedSelectionIndexes:void 0,computedSelectionDataItems:void 0})}}}}async function DG(s){let{chart:t,options:e,dataWasUpdated:i,data:r,chartConfig:a,queryObject:n,errorStrings:o}=s,l=xe(t.uid,"currentSelectionOIDs"),u=xe(t.uid,"queryConfig");if(!xe(t.uid,"filterBySelection")){let h=await Wk({chartConfig:a,queryConfig:u,chartData:r,currentSelectionOIDs:l,dataWasUpdated:i,queryObject:n,options:e,errorStrings:o});h!==void 0&&e!==void 0&&(e.selectionData={...e?.selectionData,selectionItems:h}),t.series.values.filter(c=>!Hu(c)&&!wg(c)).forEach(c=>{let{seriesConfig:A,seriesIndex:d}=L0(c,a);if(A){let f=A.x,p=A.type===L.BoxPlotSeries?A.y.toString():Cg(c),m=A.query?.where??"";OG({callbackProps:{...s,series:c,seriesIndex:d,xAxisField:f,yAxisField:p,splitBy:m},series:c,seriesConfig:A})}})}}async function QB(s,t){let e=xe(s.uid,"config"),i=xe(s.uid,"queryObject");if(e){let r=xe(s.uid,"options"),a=Me(e.series),n=Ue(e.series),o=rl(e),l=Fs(e.series),u=e.series[0].x,h=e?.series[0].type===L.HistogramSeries?e?.series[0].dataTransformationType:void 0,c=sz(s),A;i!==void 0&&(A=(await Vs(i)).find(d=>d.name===u)?.type);try{let d=new Set,f=[],p=new Map,m=[],g=[],y=0;if(s.series.each(async(v,_)=>{let{seriesConfig:S}=L0(v,e),F=S?.query?.where??"",P=S?.type===L.BoxPlotSeries?S.y.toString():Cg(v),D;v instanceof ri?D=v.dataItems:v instanceof Cr?D=v.columns.values:v instanceof gs&&(D=v.slices.values),D?.forEach(($,I)=>{let R=$ instanceof kr||$ instanceof pa?$:$.bullets?.[0]?.get("sprite");if(R!==void 0&&Qu(R.uid,"selected")===!0){y+=1;let T=$ instanceof kr||$ instanceof pa?$.dataItem?.dataContext:$.dataContext;if(T!==void 0){if(T=Vu({dataContext:T,yAxisField:P,yList:l,xAxisField:u,splitBy:F,chartType:a,chartSubType:n,showOutliers:o,isFeatureCollectionLayer:bl(i)}),d.has(JSON.stringify(T))||(d.add(JSON.stringify(T)),f.push(T)),I!==void 0){let K=p.get(_)?.indexesToSelect??[];K.push(I),p.set(_,{indexesToSelect:Array.from(new Set(K))})}let Q=T[as.uniqueIdsName]!==void 0?[T[as.uniqueIdsName]].flat():[];if(Q.length>0)g.push(...Q);else if(r?.returnSelectionOIDs!==!1){let K=wk({chartType:a,dataContext:T,options:r,xAxisField:u,yAxisField:P??"",splitBy:F,dataTransformationType:h,isDateAxis:c,xAxisFieldType:A,chartSubType:n,showOutliers:rl(e)});m.push(K)}}}})}),y===0)fc({chart:s,selectionSource:t});else{if(r?.returnSelectionOIDs!==!1&&i!==void 0&&m.length>0){let _={...xe(s.uid,"queryConfig")};delete _.groupByFieldsForStatistics,delete _.orderByFields,delete _.outStatistics;let S=await Xk({whereList:m,queryObject:i,queryConfig:_});if(m.length===y)g=S;else for(let F=0;F<S.length;F+=1)g.push(S[F])}g=Array.from(new Set(g)),nr(s.uid,{currentSelectionDataItems:f,currentSelectionOIDs:g,currentSelectionIndexes:p});let v={selectionItems:f,selectionSource:t};r?.returnSelectionIndexes===!0&&(v.selectionIndexes=p),r?.returnSelectionOIDs!==!1&&(v.selectionOIDs=g),Mf({data:v,seriesConfig:e?.series,htmlContainer:s.root.dom})}}catch(d){nr(s.uid,{pendingSelectionQueries:!1});let{httpStatus:f}=d instanceof uh?d.details.details:d.details??{};if(f===429)CG(s);else throw d}nr(s.uid,{pendingSelectionQueries:!1})}}function Gf(s,t){let{y:e,query:i}=t,r=Ue(s.series)===j.BarAndLineSplitByNoAggregation?`${e.toString()}_${Ns({where:i?.where})}`:[e].flat()[0],a=fe.xAxisField,n=s.rotated===!0?"categoryYField":"categoryXField",o=s.rotated===!0?"valueYField":"valueXField",l=s.axes?.[0]?.valueFormat.type===L.CategoryAxisFormat?n:o,u=s.rotated===!0?"valueXField":"valueYField";return{xField:a,yField:r,xAxisField:l,yAxisField:u}}function ju(s){let{chartConfig:t,seriesWereReinitialized:e,dataWasUpdated:i,colorMatchChanged:r,seriesStyleChanged:a,sortChanged:n}=s,o=t.series.length===1,l=Me(t.series),u=(e||i||r||a)??!1,h=!1;switch(l){case L.BarSeries:h=(o&&n)??!1;break}return h||u}function OM(s){let{series:t,callbackInfo:e,seriesConfig:i}=s,r=n=>{let{type:o,callbackProps:l}=n;o==="selection"?TG(l):(is(t,i.visible),n.styleCallback(l))},a=xe(t.chart?.uid??Number.NaN,"config");switch(!0){case t instanceof Vo:case t instanceof gs:t.events.once(Wi.DataValidated,()=>r(e));break;case t instanceof Cr:{let n=t.root.events.on(Wi.FrameEnded,()=>{t.columns.length===t.dataItems.length&&(n.dispose(),r(e))})}break;case t instanceof ri:{let n=Pr(t.uid,"bulletTemplate");if(n)if(Me(a?.series??[i])===L.ScatterSeries){let o=t.root.events.on(Wi.FrameEnded,()=>{n.entities.length===t.data.length&&t.dataItems[t.dataItems.length-1]?.bullets?.[0]?.get("sprite")&&(o.dispose(),r(e))})}else{let o=t.root.events.on(Wi.FrameEnded,()=>{let l=Cg(t)??"",u=a?.series[0]?.x??"";t.dataItems.filter(h=>{let c=h.dataContext;return l in c&&u in c&&c[u]!==void 0}).every(h=>!Number.isFinite(h.dataContext[l])||h?.bullets?.[0]?.get("sprite"))&&(o.dispose(),r(e))});e.type==="style"&&r(e)}}break;default:r(e);break}}function OG(s){let{series:t,callbackProps:e,seriesConfig:i}=s;OM({callbackInfo:{callbackProps:e,type:"selection"},series:t,seriesConfig:i})}function Wu(s){let{series:t,styleCallback:e,callbackProps:i,seriesConfig:r}=s;OM({callbackInfo:{styleCallback:e,callbackProps:i,type:"style"},series:t,seriesConfig:r})}function LG(s){let t;return s&&s.series.length>0&&(t=s.series.values.map(e=>e.get("visible")!==!1?`${e.get("id")}`:"").filter(e=>e!=="")),t}function HB(s){let{series:t,chartConfig:e,isRotated:i}=s,r=Wa(e),a=e.series[0];switch(r){case ir.Stacked:{t.setAll({stacked:!0,valueYShow:"valueYWorking",valueXShow:"valueXWorking"}),t instanceof ri&&t.set("stackToNegative",a.stackNegativeValuesToBaseline??fe.lineSeries.stackNegativeValuesToBaseline);break}case ir.Stacked100:{if(t.setAll({stacked:!0}),i===!0){t.setAll({valueXShow:"valueXTotalPercent"});let n=t.chart?.xAxes.getIndex(0);n instanceof wi&&n.set("calculateTotals",!0)}else{t.setAll({valueYShow:"valueYTotalPercent"});let n=t.chart?.yAxes.getIndex(0);n instanceof wi&&n.set("calculateTotals",!0)}break}case ir.Side:default:{t.setAll({stacked:!1,valueYShow:"valueYWorking",valueXShow:"valueXWorking"});break}}}function Yf(s,t){s.set("name",t)}function IG(s){let{chart:t,chartType:e,rotated:i,assignToSecondValueAxis:r}=s,a=t.xAxes.getIndex(0),n=t.yAxes.getIndex(0),o=[a,n,t.xAxes.getIndex(1)??t.yAxes.getIndex(1)],l,u;i!==!0?(l=o[0],u=r===!0&&o[2]?o[2]:o[1]):(l=r===!0&&o[2]?o[2]:o[0],u=o[1]);let h=e===L.HistogramSeries?t.xAxes.getIndex(1):void 0;return{xAxis:l,xAxisForHistogramOverlaySeries:h,yAxis:u}}function _g(s){switch(!0){case s instanceof Cr:s.columns.template.setAll({focusable:!0,hoverOnFocus:!0}),s.columns.template.set("ariaLabel",Yv());break}}function $G(s,t){let e=!1,i=wM(s),r=t.series[0];if(i&&r.type===L.ScatterSeries){let a=i.get("heatRules")?.[0];e=a===void 0&&r.sizePolicy!==void 0||a!==void 0&&r.sizePolicy===void 0||i.get("valueField")!==r.sizePolicy?.field}return e}function kG(s){let{chart:t,chartConfig:e,updateNeededDetails:i,seriesFilteredOut:r}=s,a=!1;switch(Me(e.series)){case L.BarSeries:case L.LineSeries:case L.RadarSeries:case L.ComboLineAndBarSeries:case L.BoxPlotSeries:a=r||i?.common.numberOfSeriesChanged===!0||t.series.length!==e.series.length;break;case L.ScatterSeries:a=$G(t,e);break}return a}function jB(s){let{chartConfig:t,series:e,seriesIndex:i,subtypeInfo:r,fieldList:a}=s,n=t.series[i];if(n){let o=Ue(t.series),l=n.name;if(o===j.BarAndLineSplitBy||o===j.BarAndLineSplitByNoAggregation){let u=jr(n.query?.where);l=Bp({subtypeInfo:r,fieldList:a,fieldName:u,fieldValueToMatch:l})??l}Yf(e,l)}}function L0(s,t){let e=Me(t?.series),i,r;return t?.series.forEach((a,n)=>{let o=!1;e!==L.BoxPlotSeries||s instanceof xn?o=s.get("id")===a.id:s instanceof Vo?o=s.get("id")?.replace(`_${Ji.Top}`,"")===a.id||s.get("id")?.replace(`_${Ji.Median}`,"")===a.id||s.get("id")?.replace(`_${Ji.Bottom}`,"")===a.id:s instanceof ri&&(o=s.get("id")?.replace(`_${Ji.Outliers}`,"")===a.id),o&&(i=a,r=n)}),{seriesConfig:i,seriesIndex:r}}function MG(s,t){let{chart:e}=t;if(e instanceof di){let i={x:s.get("x")??0,y:s.get("y")??0},r=e.plotContainer,a=r.x(),n=r.y(),o=i.x<a||i.x>a+r.width()||i.y<n||i.y>n+r.height();s.set("forceHidden",o)}}function LM(s,t){let e=ss((i,r)=>{r!==void 0&&MG(r,t)},fe.debounceTime);s.on("x",e),s.on("y",e)}function I0(s,t){let e=t;e===void 0&&(e=xe(s.uid,"config"));let i=xe(s.uid,"colorMatchApplied")??!1;return(e?.colorMatch??!1)&&i}function IM(s){let{root:t,intlOptions:e,formatLocale:i,overridePercentMultiplication:r}=s,a=Kl({root:t,intlOptions:e,type:L.NumberAxisFormat,formatLocale:i});return n=>{let o=`${n}`;if(a!==void 0&&n!==null&&!(n instanceof Date)){let l=typeof n=="number"?n:Ux(n,a.get("intlLocales"));r===!0&&e.style==="percent"&&(l/=100),o=a.format(l)}else n instanceof Date&&(o=n.toLocaleString(void 0,e));return o}}function EG(s){let{axis:t,intlOptions:e,overridePercentMultiplication:i,valueAxisFormatter:r}=s,{chart:a,root:n}=t,o=a!==void 0?xe(a.uid,"formatLocale"):void 0,l=r??IM({root:n,intlOptions:e,formatLocale:o,overridePercentMultiplication:i});return Wf(t.uid,{numberFormatter:l}),l}function RG(s){let{chart:t,formatOptions:e,isNonAggregatedChart:i}=s,{root:r}=t;return a=>{let n=a??"",o=xe(t.uid,"formatLocale"),l=xe(t.uid,"config");if(typeof a=="number"&&e.type===L.NumberAxisFormat)n=IM({root:r,intlOptions:e.intlOptions,formatLocale:o})(a);else if(i===!0&&e.type===L.DateAxisFormat)n=Kl({root:r,type:L.DateAxisFormat,intlOptions:e.intlOptions,formatLocale:o}).format(n,e.intlOptions);else if(e.type===L.CategoryAxisFormat){let u=Ue(l?.series);if([j.BoxPlotMonoField,j.BoxPlotMultiFields,j.BoxPlotMonoFieldAndSplitBy,j.BoxPlotMultiFieldsAndSplitBy,j.BarAndLineFromFields].includes(u)&&typeof a=="string"){let c=xe(t.uid,"fieldList");a=yr(c,a)}let{characterLimit:h}=e;n=typeof a!="string"?a?.toString()??"":a,!Li(n)&&n!==fe.htmlEmptyContent&&(n=Pk({stringToTruncate:n,characterLimit:h}))}return n.toString()}}function rI(s){let{axis:t,valueFormat:e,chartType:i}=s,r=zB({isXAxis:!0,chartType:i,valueFormat:e}),a=qn(e)&&t instanceof wr,n=Tr(e)&&t instanceof wi&&!(t instanceof wr),o=r&&t instanceof ys;return!a&&!n&&!o}function $M(s){let{dataContext:t,defaultValue:e,chartUID:i}=s,r=sl(t),a=xe(i,"config"),n=xe(i,"rendererFieldNames"),o=Me(a?.series),l=Ue(a?.series);return o===L.BoxPlotSeries&&(l===j.BoxPlotMonoField||l===j.BoxPlotMultiFields||l===j.BoxPlotMonoFieldAndSplitBy||l===j.BoxPlotMultiFieldsAndSplitBy)?r=t?.[hA]:o===L.HistogramSeries?r=t?.[lA.Start]:r=Dn({value:e??"",dataContext:t,useRendererLabel:F0(a,n)}),{labelValue:r,originalLabelValue:sl(t)}}function NG(s,t){let{chart:e}=s;if(e!==void 0){let i=s.get("renderer").labels.template;i.adapters.remove("text"),i.adapters.remove("html");let r=t!==void 0?"html":"text";i.adapters.add(r,(a,n)=>{let o=a,l=Ac(s.uid,"labelFormatter");if(!On(n.uid,"isGuide")&&l!==void 0){let u,h;switch(!0){case s instanceof wr:case s instanceof wi:u=n.dataItem?._settings?.value;break;case s instanceof ys:{let c=n.dataItem?.dataContext,A=$M({dataContext:c,defaultValue:a,chartUID:e.uid});u=A.labelValue,h=A.originalLabelValue}break}u!==void 0&&(o=l(u,h),r==="html"&&(o=ns(o)))}return o}),i.adapters.add(r,(a,n)=>{let o=a,l=xe(e.uid,"config");if(!On(n.uid,"isGuide")&&l!==void 0){let u=l.rotated??!1,h=xc(s.get("renderer"),u),c=l.axes?.[h?0:1],A={type:Zt.TS,...c?.labels.content,text:a};o=rn({textSymbol:A,format:r==="text"?"amChartsV5":"html"})}return o}),r==="html"&&i.set("html",fe.htmlEmptyContent)}}function VG(s){let{axis:t,isRotated:e,chartConfig:i}=s;if(t instanceof ys||t instanceof wr){let r=i.orderOptions?.data?.orderBy===un.Descending,a=e===!0;r&&t instanceof wr&&(a=!a),t.get("renderer").set("inversed",a)}}async function UG(s){let{axis:t,isXAxis:e,chartType:i,formatOptions:r,isNonAggregatedChart:a,overridePercentMultiplication:n,externalAxisLabelFormatter:o,errorStrings:l}=s,{chart:u}=t;if(u!==void 0){let h=zB({isXAxis:e,chartType:i,valueFormat:r}),c=t instanceof wi&&!(t instanceof wr)&&Tr(r),A=t instanceof wr&&qn(r),d=t instanceof ys&&h;if(!(c||A||d))await pc("mismatchAxisAndValueFormat",l);else{NG(t,o);let f=o;o===void 0&&(d?f=RG({chart:u,formatOptions:r,isNonAggregatedChart:a}):c?f=EG({axis:t,intlOptions:r.intlOptions,overridePercentMultiplication:n,valueAxisFormatter:o}):A&&az(t,r)),Wf(t.uid,{labelFormatter:f})}}}function QG(s){let{chart:t,chartConfig:{axes:e,rotated:i,series:r},rotationChanged:a,axisLabelsBehaviorChanged:n,timeIntervalInfoWasReset:o}=s,l=Me(r),u=i===!0?1:0,h=i===!0?0:1,c=e?.[u]?.valueFormat,A=e?.[h]?.valueFormat,d=t.xAxes.getIndex(0),f=t.yAxes.getIndex(0),p=d===void 0||a||c!==void 0&&rI({axis:d,valueFormat:c,chartType:l}),m=f===void 0||a||A!==void 0&&rI({axis:f,valueFormat:A,chartType:l});return o||n?.[0]||n?.[1]||p||m}function xc(s,t){return s instanceof Ds&&t!==!0||s instanceof vn&&t===!0||s instanceof ga}function $0(s){return s instanceof Ds}function HG(s){return s instanceof vn}function jG(s){let t=!1;if(s!==void 0){let e=xe(s.uid,"config");if(e!==void 0){let i=fg({chartConfig:e}),{stackedMinY:r,stackedMaxY:a}=kT({seriesConfig:e.series,filteredData:s.series.getIndex(0)?.data.values??[],filteredSeriesIds:i});t=r<0||a<0}}return t}function kM(s){let{axis:t,isSecondValueAxis:e,data:i}=s,{chart:r}=t,a=!0;if(r!==void 0){let n=xe(r.uid,"config"),o=xe(r.uid,"isRotated");if(n!==void 0){let l=xc(t.get("renderer"),o),u=0;l||(u=e===!0?2:1);let{isLogarithmic:h}=n.axes?.[u]??{};if(h===!0){let c=fg({chartConfig:n,isSecondValueAxis:e}),A=i!==void 0&&"dataItems"in i?no(i):void 0,{minY:d,maxY:f,minX:p,maxX:m}=Cp({chartConfig:n,chartData:A??r.series.getIndex(0)?.data.values??[],filteredSeriesIds:c}),g=l?p:d,y=l?m:f;Number.isFinite(g)&&g!==Number.MAX_SAFE_INTEGER&&Number.isFinite(y)&&y!==Number.MIN_SAFE_INTEGER&&(a=g>0&&y>0)}}}return a}function WG(s){let{axis:t,isLogarithmic:e,isSecondValueAxis:i}=s;(t instanceof wr||t instanceof wi)&&t.setAll({logarithmic:e===!0&&kM({axis:t,isSecondValueAxis:i}),treatZeroAs:e===!0?.001:0,maxPrecision:e===!0?0:void 0})}function XG(s,t){if(s instanceof wi){let{integerOnlyValues:e,valueFormat:i}=t,r=ow(i)?i.intlOptions.maximumFractionDigits:void 0;s.set("maxPrecision",e===!0||r===0?0:Number.NaN)}}function MM(s,t){let{chart:e}=t,i=Ta.new(s,{forceHidden:!0});return t.set("tooltip",i),i.adapters.add("labelText",(r,a)=>{let n=r??"",o=Ac(t.uid,"labelFormatter");if(!a.isHidden()&&o&&e){let{label:l}=a,u=l.get("text")??"";if(t instanceof wi){let h=Number.parseFloat(u.replace(/,/gu,""));n=o(Number.isNaN(h)?u:h,r)}else if(t instanceof ys){let h=l.dataItem?.dataContext,c=$M({dataContext:h,defaultValue:r,chartUID:e.uid});n=o(c.labelValue??u,r??c.originalLabelValue)}}return n}),i}function zG(s){let{root:t,axis:e,displayCursorTooltip:i}=s;(e.get("tooltip")??MM(t,e)).set("forceHidden",i!==!0)}function GG(s){let{axis:t,timeIntervalInfo:e,dateBaseInterval:i}=s;if(t instanceof wr){let{size:r,unit:a}=e??{};if(a||({size:r,unit:a}=i??{}),r!==void 0&&a!==void 0){let n;switch(a){case _t.Second:n="second";break;case _t.Minute:n="minute";break;case _t.Hour:n="hour";break;case _t.Day:n="day";break;case _t.Week:n="week";break;case _t.Month:n="month";break;case _t.Year:n="year";break}n!==void 0&&t.set("baseInterval",{timeUnit:n,count:r})}}}function YG(s,t){let{buffer:e}=t??{};return e??=fe.buffer,s instanceof wi&&!(s instanceof wr)&&!e}function KG(s,t){let e=!1;return s instanceof wi&&!(s instanceof wr)&&(e=YG(s,t),s.set("strictMinMax",e)),e}function sI(s,t){let e;if(!s||s<=0)e=1;else{let i=(t?Math.ceil:Math.floor)(Math.log10(s));e=Math.pow(10,i)}return e}function qG(s){let{axis:t,minimumFromConfig:e,maximumFromConfig:i,data:r,isSecondValueAxis:a}=s,n=e,o=i,{chart:l}=t;if(l!==void 0){let u=xe(l.uid,"config"),h=u?.rotated;if(l instanceof di&&u!==void 0){let c=Me(u?.series),A=Wa(u),d=xc(t.get("renderer"),h),f=LG(l),p=fg({chartConfig:u,isSecondValueAxis:a,seriesIds:f}),m=no(r),g=Cp({chartConfig:u,chartData:m??l.series.getIndex(0)?.data.values??[],filteredSeriesIds:p}),{minX:y,maxX:v,minY:_,maxY:S}=g,[F,P]=d?[y??Number.NaN,v??Number.NaN]:[_,S];c===L.BarSeries||c===L.HistogramSeries&&!d||c===L.ComboLineAndBarSeries||(c===L.LineSeries||c===L.RadarSeries)&&A===ir.Stacked&&!d?(n=Math.min(F,0),o=Math.max(P,0)):(n=F,o=P)}n=e??n,o=i??o}return{min:n,max:o}}function ZG(s){let{axis:t,axisConfig:e,minimumFromConfig:i,maximumFromConfig:r,isLogarithmic:a,chartType:n,data:o,isSecondValueAxis:l}=s;if(t instanceof wi||t instanceof wr)if(KG(t,e)){let u=Number.isNaN(i)?void 0:i,h=Number.isNaN(r)?void 0:r;if(!Number.isFinite(i)||!Number.isFinite(r)){let c=qG({axis:t,data:o,minimumFromConfig:u,maximumFromConfig:h,isSecondValueAxis:l});u=!a||Number.isFinite(i)?c.min:sI(c.min,!1)??Number.NaN,h=!a||Number.isFinite(r)?c.max:sI(c.max,!0)??Number.NaN}u=u??Number.NaN,h=h??Number.NaN,Number.isNaN(u)||Number.isNaN(h)||u<h?t.setAll({min:u,max:h}):t.setAll({min:Number.NaN,max:Number.NaN}),n===L.GaugeSeries&&t.markDirty()}else t.setAll({min:Number.NaN,max:Number.NaN})}function u0(s,t){if(s!==void 0){let e=xe(s.uid,"config"),i=Wa(e),r=jG(s);if(e!==void 0&&(i!==ir.Stacked100||r)){let a=Me(e?.series),n=s.xAxes.getIndex(0),o=e.axes?.[0],l=e.axes?.[1],u=e.axes?.[2],h=s.yAxes.getIndex(0),c=s.xAxes.getIndex(1)??s.yAxes.getIndex(1);[{axis:n,axisConfig:o},{axis:h,axisConfig:l},{axis:c,axisConfig:a===L.HistogramSeries?o:u,isSecondValueAxis:a!==L.HistogramSeries}].forEach(A=>{let{axis:d,axisConfig:f,isSecondValueAxis:p}=A;if(d!==void 0){let{minimum:m,maximum:g,buffer:y,isLogarithmic:v}=f??{};ZG({axis:d,axisConfig:f,data:t,chartType:a,minimumFromConfig:m,maximumFromConfig:g,isLogarithmic:v,isSecondValueAxis:p})}})}else i===ir.Stacked100&&(hn(e)?s.xAxes:s.yAxes).each(a=>{a instanceof wi&&a.setAll({min:0,max:100})})}}function JG(s){s.get("renderer").grid.template.adapters.add("strokeWidth",(t,e)=>{let i=Ac(s.uid,"zeroGridLine"),r=i?.displayZeroLine===!0,a=i?.strokeWidth??fe.lineWidth;return e.get("themeTags")?.includes("base")&&r&&(a=(a===0?1:a)*1.5),a}),s.get("renderer").grid.template.adapters.add("strokeOpacity",(t,e)=>{let i=Ac(s.uid,"zeroGridLine"),r=i?.displayZeroLine===!0,a=i?.visible===!0?t:0;return e.get("themeTags")?.includes("base")&&r&&(a=1),a})}function WB(s){s.on("visible",()=>{s.chart instanceof di&&u0(s.chart)}),s.events.on(Wi.DataValidated,()=>{s.chart instanceof di&&u0(s.chart)})}function eY(s){let t=0;return s.dataItems.forEach(e=>{let i=e.get("label");i!==void 0&&On(i.uid,"isGuide")!==!0&&i.getText()!==void 0&&i.height()>t&&i.isVisible()&&(t=i.height())}),t}function aI(s,t){if(t){let{chart:e}=t;if(e){let i=xe(e.uid,"isRotated"),r=xe(e.uid,"config"),a=Me(r?.series),n=[],o=(l,u)=>{if(l instanceof wi){let h=l.get("renderer")instanceof ga;n.push({isXAxis:xc(l.get("renderer"),i),isSecondValueAxis:u===1&&a!==L.HistogramSeries,minimum:h?l.get("min"):l.getPrivate("min"),maximum:h?l.get("max"):l.getPrivate("max")})}};e.xAxes.each(o),e.yAxes.each(o),n.length>0&&n.every(l=>Number.isFinite(l.minimum)&&Number.isFinite(l.maximum))&&a$(n,e.root.dom)}}}function EM(s){s.ghostLabel.set("forceHidden",!0)}function nI(s){let{axis:t,start:e,end:i}=s;t.zoom(e??0,i??1)}function oI(s){s!==void 0&&s.setAll({start:0,end:1})}function tY(s){s instanceof di&&(s.xAxes.each(t=>nI({axis:t})),s.yAxes.each(t=>nI({axis:t})),oI(s.get("scrollbarX")),oI(s.get("scrollbarY")))}function iY(s){let{axis:t,guide:e,guideIndex:i}=s,{root:r,chart:a}=t,n=e.get("axisFill");n?.set("tooltip",Ta.new(r,{autoTextColor:!1}));let o=n?.get("tooltip");if(o!==void 0&&a!==void 0&&(o.label.setAll({oversizedBehavior:"wrap"}),o.label.adapters.add("maxWidth",()=>Math.min(fe.tooltipWidth,a.seriesContainer.width())),o.get("background")?.set("fillOpacity",Ic)),n!==void 0){n.adapters.add("tooltipText",(u,h)=>{let c=u,{dataItem:A}=h;if(!(t.get("renderer")instanceof ga)){let d=Ac(t.uid,"guideTooltipFormatter");if(d!==void 0&&A instanceof ms){let f,p;switch(!0){case t instanceof wr:case t instanceof wi:f=A.get("value"),p=A.get("endValue");break;case t instanceof ys:f=A.get("category"),p=A.get("endCategory");break}c=d({guideName:PX(A.uid,"name")??"",start:f??"",end:p,guideIndex:i})}}return c??""});let l=n.getTooltip();l&&(yM(l),l.adapters.add("x",(u,h)=>{let{chart:c}=t;if(c&&h){let A=xe(c.uid,"config"),d=xe(c.uid,"isRotated");if(A){let f=xc(t.get("renderer"),d)?0:1,p=A?.axes?.[f]?.guides?.[i];if(p){let{tooltipReverseColor:m}=p;bM(h,m)}}}return u}))}}function rY(s,t){return e=>{let{guideName:i,start:r,end:a}=e,{chart:n,root:o}=s,l="";if(n!==void 0){let u=xe(n.uid,"config"),h=xe(n.uid,"isRotated"),c=xc(s.get("renderer"),h)?0:1,A=u?.axes?.[c]?.guides,d=r,f=a;if(s instanceof wr){let v;if(n!==void 0){let _=xe(s.chart?.uid??Number.NaN,"formatLocale");v=Kl({root:s.root,type:L.DateAxisFormat,formatLocale:_});let S=u?.axes?.[0]?.valueFormat?.type===L.DateAxisFormat?u.axes[0].valueFormat.intlOptions:void 0;d=v.format(r,S),a!==void 0&&(f=v.format(a,S))}}else if(s instanceof wi&&!(r instanceof Date)&&!(a instanceof Date)){let v=A?.find(P=>P.name===i),{start:_,end:S}=RM(s,v);Number.isFinite(_)&&(d=_),Number.isFinite(S)&&(f=S);let F=Ac(s.uid,"numberFormatter")??(P=>wh.new(o,{}).format(P));d=F(d),f!==void 0&&(f=F(f))}else s instanceof ys&&(d=r,f=a);let p=d.toString(),m=f?.toString()??"";!Li(m)&&p!==m?l=Ha(t.guideTooltipLabel,{guideStart:p,guideEnd:m}):l=p;let g=xe(n.uid,"rtl"),y=$n(g??!1);l=`${i}${y} ${l}`}return l}}function sY(s){let{axis:t,guideTooltipFormatter:e,commonStrings:i}=s;Wf(t.uid,{guideTooltipFormatter:e??rY(t,i)})}function lI(s){let{inputValue:t,axis:e,axisMin:i,axisMax:r}=s,a=t;if(t!=null)switch(!0){case e instanceof wr:a=t;break;case e instanceof ys:a=t.toString();break;case e instanceof wi:if(typeof t!="number"){let n=t.toString().trim(),o=g0(n);o!==void 0?i!==void 0&&r!==void 0?a=o/100*(r-i)+i:a=null:a=Number.parseFloat(n)}break}return a}function XB(s,t){return s.axisRanges?.values?.filter(e=>{let i=e.get("label"),r=On(i?.uid??Number.NaN,"isGuide")??!1,a=On(i?.uid??Number.NaN,"isGaugeAxisLabel")??!1,n=!1;switch(t){case ki.Ticks:n=!r;break;case ki.Guides:n=r;break;case ki.GaugeTicksWithLabels:n=a&&"value"in e&&e.value!==void 0;break}return n})??[]}function aY(s){let{axis:t,guideConfig:e,above:i}=s,r=e!==void 0,a=t.axisRanges.length,n=t.axisRanges.insertIndex(a,t.makeDataItem({above:i}));r&&(i===!0&&n.get("axisFill")?.setAll({layer:fe.zIndexes.guide}),jX({guide:n,axis:t,guideLabelConfig:e?.label}));let o=n.get("axisFill");o!==void 0&&o.setAll({disabled:!0,fillOpacity:1});let l=n.get("grid");return l!==void 0&&r&&l.set("strokeOpacity",0),n}function nY(s){let{axis:t,guideIndex:e,guideConfig:i}=s,r=aY({axis:t,guideConfig:i,above:i?.above});iY({axis:t,guide:r,guideIndex:e});let a=r.get("tick"),n=r.get("label"),o=r.get("grid");a!==void 0&&a.set("disabled",!0),n!==void 0&&n.set("inside",!0),o!==void 0&&o.set("disabled",!0)}function oY(s,t){let e=XB(s,ki.Guides).length,i=(t?.length??e)-e;for(let r=0;r<i;r+=1)nY({axis:s,guideIndex:r,guideConfig:t?.[r]})}function lY(s,t){let{start:e,end:i}=t,r=e!==null?e:void 0,a=i!==null?i:void 0,{chart:n}=s,o=xe(n?.uid??Number.NaN,"config");if(o!==void 0){let l=pB(o),u=s.data.values,h=u.find(c=>c[fe.originalCategoryValue]===e)?.[l];if((typeof h=="string"||typeof h=="number"||h instanceof Date)&&(r=h),a!==void 0)for(let c=u.length-1;c>=0;c-=1){let A=u[c],d=A[l];if(A[fe.originalCategoryValue]===i&&(typeof d=="string"||typeof d=="number"||d instanceof Date)){a=d;break}}}return{modifiedStart:r,modifiedEnd:a}}function RM(s,t){let{start:e,end:i}=t??{},r;if(t!==void 0&&e!==void 0&&e!==null){let a=s instanceof wi?s.get("min"):void 0,n=s instanceof wi?s.get("max"):void 0,o=lI({inputValue:e,axis:s,axisMin:a,axisMax:n}),l=t.style?.type===Zt.SFS&&i!==null&&i!==void 0?lI({inputValue:i,axis:s,axisMin:a,axisMax:n}):o;r={isValidGuide:o!=null&&(i===void 0||l!=null),start:o,end:l}}else r={isValidGuide:!1,start:void 0,end:void 0};return r}function uY(s){let{axis:t,guide:e,guideConfig:i}=s,{start:r,end:a}=i;if(r!==void 0){let{chart:n}=t,o;if(t instanceof ys&&n instanceof di&&xe(n.uid,"isNonAggregatedChart")===!0){let{modifiedStart:l,modifiedEnd:u}=lY(t,i);o={isValidGuide:!0,start:l??r,end:u??a}}else o=RM(t,i);if(o.isValidGuide){let l,u;switch(!0){case t instanceof wr:case t instanceof wi:l="value",u="endValue";break;case t instanceof ys:l="category",u="endCategory";break}l!==void 0&&o.start!==void 0&&e.setAll({[l]:o.start}),u!==void 0&&o.end!==void 0&&e.setAll({[u]:o.end})}}}function hY(s){let{axis:t,guide:e,guideConfig:i}=s;if(e){let r=e.get("axisFill"),a=e.get("label");if(i!==void 0){TX(e.uid,{name:i.name}),is(e,i.visible),uY({axis:t,guide:e,guideConfig:i}),i.style.type===Zt.SLS?Of({element:r,fillSymbol:{type:Zt.SFS,color:i.style?.color,outline:i.style},visible:i.visible}):i.style.type===Zt.SFS&&Of({element:r,fillSymbol:i.style,visible:i.visible}),WX({axis:t,guide:e,guideConfig:i,guideType:i.style.type});let{chart:n}=t}else r!==void 0&&r.set("disabled",!0),a!==void 0&&a.set("disabled",!0)}}function cY(s){let{axis:t,guideConfigs:e,guideTooltipFormatter:i,commonStrings:r}=s;if(e!==void 0){let a=XB(t,ki.Guides);e.forEach((n,o)=>{hY({axis:t,guide:a[o],guideConfig:n})}),sY({axis:t,guideTooltipFormatter:i,commonStrings:r})}}function dY(s){let{axis:t,tickOrGuide:e,numberOfElementsToBeDeleted:i}=s,r=[],a=t.axisRanges.length-1,n=i;for(;n>0&&a>=0;){let o=t.axisRanges.getIndex(a);o!==void 0&&(On(o.get("label")?.uid??Number.NaN,"isGuide")??!1)===!0&&e===ki.Guides&&(r.push(o),n-=1),a-=1}for(let o=0;o<r.length;o+=1)t.axisRanges.removeValue(r[o])}function uI(s,t){let e=XB(s,ki.Guides).length,i=t?.length??0,r=e-i;dY({axis:s,numberOfElementsToBeDeleted:r,tickOrGuide:ki.Guides})}function AY(s){let{axis:t,guideConfigs:e,anyGuideAboveChanged:i}=s;i&&uI(t),oY(t,e),cY(s),uI(t,e)}function NM(s){return s.getCellWidthPosition()*s.width()}function fY(s,t){let e=s.get("renderer");if(s!==void 0){let i=Number.NaN;if(t===ur.Wrap){let r=Number.MAX_SAFE_INTEGER;e.labels.each(n=>{On(n.uid,"isGuide")!==!0&&n.width()>0&&(r=Math.min(r,n.innerWidth()))});let a=s instanceof wr?s.width()/fe.maxNumberOfXAxisLabelsInWrapModeForDateAxis:s.width()/fe.maxNumberOfXAxisLabelsInWrapMode;i=Math.max(r,a)}else if(t===ur.Hide){let r=Number.MIN_SAFE_INTEGER;e.labels.each(a=>{On(a.uid,"isGuide")!==!0&&a.width()>0&&(r=Math.max(r,a.innerWidth()))}),i=r+2}Number.isFinite(i)&&i>fe.shortestMinGridDistance&&e.set("minGridDistance",i)}}function pY(s){let{axis:t,chartType:e,labelConfig:i,isSecondValueAxis:r,tickSpacing:a}=s,{horizontalAxisLabelsBehavior:n}=s;n===void 0&&(n=e!==L.HistogramSeries?ur.Rotate:ur.Hide);let o=t.get("renderer"),l=o.get("minGridDistance");if(typeof a=="number"&&Number.isFinite(a))l=a;else if(e!==L.RadarSeries)if(o instanceof ga)l=fe.gauge.gaugeMinGridDistance;else if(t instanceof wi)l=o instanceof Ds?fe.xAxisMinGridDistance:fe.yAxisMinGridDistance;else if(o instanceof Ds)if(r===!0)l=fe.secondRotatedValueAxisMinGridDistance;else if(n===ur.Rotate){let u=i.content.font?.size??fe.generalFontSize,h=t instanceof ys?fe.categoryAxisLabelPadding:fe.axisLabelPadding;l=u*h}else if(n===ur.Wrap||n===ur.Hide){let u=Ac(t.uid,"minGridDistanceCallbackDisposer");u!==void 0&&u.dispose(),u=t.events.on(Wi.BoundsChanged,()=>{fY(t,n)}),Wf(t.uid,{minGridDistanceCallbackDisposer:u})}else n===ur.Stagger?l=fe.staggerMinGridDistance:l=t instanceof ys?fe.xCategoryAxisMinGridDistance:fe.xAxisMinGridDistance;else l=t instanceof ys?fe.yCategoryAxisMinGridDistance:fe.yAxisMinGridDistance;o.set("minGridDistance",l)}function hI(s=1,t){t.get("renderer").labels.template.set("maxWidth",NM(t)*s)}function cI(s,t=1){s.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",paddingLeft:.5,paddingRight:.5,textAlign:"center"}),s.events.on(Wi.BoundsChanged,()=>hI(t,s)),hI(t,s)}function mY(s){let t=s.get("renderer").labels.template;t.adapters.add("rotation",(e,i)=>{let r=On(i.uid,"isGuide")!==!0?Ac(s.uid,"rotation")??0:e??0;return t.set("centerX",r===0?Ye:Be),r})}function dI(s){if(s?.chart!==void 0){let t=s.get("renderer");if(xe(s.chart.uid,"config")?.axes?.[0].labels!==void 0&&t.labels.length>1){let e=t.labels.getIndex(0)?.get("rotation"),i=0;t.labels.each(a=>{if(On(a.uid,"isGuide")!==!0&&a.width()>0){let n=e===fe.rotatedAxisLabel.rotation?Math.sqrt(a.innerHeight()**2+a.innerWidth()**2):a.innerWidth();n>i&&(i=n)}});let r=NM(s)>=i+5;if(!r&&e===0||r&&e===fe.rotatedAxisLabel.rotation){let a=r?fe.axisLabel.rotation:fe.rotatedAxisLabel.rotation;t.labels.template.setAll({rotation:a,centerX:r?Ye:Be,centerY:Ps,paddingTop:r?fe.axisLabel.paddingTop:fe.rotatedAxisLabel.paddingTop,paddingLeft:r?fe.axisLabel.paddingLeft:fe.rotatedAxisLabel.paddingLeft,paddingRight:r?fe.axisLabel.paddingRight:fe.rotatedAxisLabel.paddingRight}),Wf(s.uid,{rotation:a})}}}}function AI(s){let t=s.get("renderer");mY(s),t.labels.template.setAll({oversizedBehavior:"hide"}),s.events.on(Wi.BoundsChanged,()=>dI(s)),dI()}function fI(s){if(s&&xe(s.chart?.uid??Number.NaN,"config")?.axes?.[0].labels?.visible!==!1){let t=0;s.dataItems.forEach((e,i)=>{let r=e.get("label");r!==void 0&&On(r.uid,"isGuide")!==!0&&r.getText()!==void 0&&r.width()>0&&i%2===0&&r.innerHeight()>t&&(t=r.innerHeight())}),t=Math.round(t),t>0&&(s.dataItems.filter(e=>{let i=e.get("tick"),r=e.get("label");return i!==void 0&&r!==void 0&&On(r.uid,"isGuide")!==!0&&r.getText()!==void 0&&r.width()>0}).forEach((e,i)=>{let r=e.get("tick"),a=e.get("label"),n=i%2===1;r&&r.set("length",n?t+5:fe.axisTickLength),a&&a.set("dy",n?t:0)}),t&&s.get("renderer").labels.template.get("paddingBottom")!==t+5&&s.get("renderer").labels.template.set("paddingBottom",t+5))}}function gY(s){s.get("renderer").labels.template.set("oversizedBehavior","wrap"),s.events.on(Wi.BoundsChanged,()=>fI(s)),fI(s)}function yY(s){s.get("renderer").labels.template.setAll({oversizedBehavior:"wrap",maxWidth:fe.yAxisLabelMaxWidth,textAlign:"end"})}function bY(s){let{axis:t,horizontalAxisLabelsBehavior:e,verticalAxisLabelsBehavior:i,axisLabelsBehaviorChanged:r,labelConfig:a,chartType:n}=s,o=t.get("renderer");if(!(o instanceof ga))if($0(o)&&r?.[0]===!0)switch(n===L.HistogramSeries&&e===void 0?ur.Hide:e){case ur.Hide:break;case ur.Stagger:gY(t),cI(t,1.5);break;case ur.Wrap:cI(t);break;case ur.Rotate:AI(t);break;default:a.content.angle!==null&&a.content.angle===void 0&&AI(t);break}else HG(o)&&i!==ur.Hide&&yY(t)}function vY(s){let{renderer:t,axisConfig:e,labelConfig:i}=s;switch(e.labelsOrientation){case Rx.Horizontal:t.labels.template.setAll({textType:"adjusted"}),t.labels.template.remove("radius");break;case Rx.Radial:t.labels.template.setAll({textType:"radial",radius:35}),i.content.verticalAlignment=si.Middle;break;default:t.labels.template.setAll({textType:"circular"}),t.labels.template.remove("radius")}}function xY(s){let{axis:t,axisConfig:{labels:e},horizontalAxisLabelsBehavior:i,verticalAxisLabelsBehavior:r,axisLabelsBehaviorChanged:a,chartType:n}=s,o={...e},l=t.get("renderer"),u=l?.get("opposite");$0(l)?(o.content.horizontalAlignment=Pi.Center,o.content.verticalAlignment=u?si.Bottom:si.Top):(o.content.horizontalAlignment=u?Pi.Left:Pi.Right,o.content.verticalAlignment=si.Middle),l instanceof ga?vY({renderer:l,axisConfig:s.axisConfig,labelConfig:e}):o.content.angle=o.content.angle??l.labels.template.get("rotation"),Yl({label:l.labels.template,labelConfig:o}),bY({axis:t,horizontalAxisLabelsBehavior:i,verticalAxisLabelsBehavior:r,labelConfig:e,axisLabelsBehaviorChanged:a,chartType:n})}function wY(s){let{axis:t,isHorizontalAxis:e,label:i}=s,{chart:r}=t;if(r){let a=e?"width":"height",n=e?yi.XAxisTitle:yi.YAxisTitle;Nu({chart:r,label:i,labelType:n}),t.onPrivate(a,ss(()=>Nu({chart:r,label:i,labelType:n}),fe.debounceTime))}}function ug(s){let{value:t,axisMin:e,axisMax:i}=s,r=Number.NaN,a=i-e;return a!==0&&(r=(t-e)/a),r}function ZS(s){return s!=null&&s!==0}function VM(s){let{minimum:t,maximum:e,labelsIncrement:i,minimumValueConversion:r,maximumValueConversion:a}=s,n=t??re.gauge.axisMinimum,o=e??re.gauge.axisMaximum;n=Zv(n,r),o=Zv(o,a);let l=ZS(i),u=ZS(i)?i:Math.abs(o-n)/re.gauge.numberOfLabelIntervals,h=l?Math.round(Math.abs(o-n)/u):re.gauge.numberOfLabelIntervals;if(l)if(h>re.gauge.maximumNumberOfLabelIntervals)u=Math.abs(o-n),h=1;else{let c=n+h*u;c<o?(h+=1,o=n+h*u):c>o&&(o=c)}return{min:n,max:o,labelsIncrement:u,numberOfIntervals:h}}function UM(s){let{axisConfig:t,axisMin:e,axisMax:i}=s;typeof e=="number"&&typeof i=="number"&&i-e!==0&&t.guides?.forEach(r=>{let{start:a,end:n}=r;typeof a=="number"&&(r.start=ug({value:a,axisMin:e,axisMax:i})),typeof n=="number"&&(r.end=ug({value:n,axisMin:e,axisMax:i}))})}function CY(s){let{featureIndex:t,chartData:e,chartConfig:i}=s,{minimumFromField:r,maximumFromField:a}=i?.axes?.[0]??{},n,o;if(t>=0&&t<e.length){let l=e[t];typeof r=="string"&&!Li(r)&&Number.isFinite(l[r])&&(n=l[r]),typeof a=="string"&&!Li(a)&&Number.isFinite(l[a])&&(o=l[a])}return{minimumFromData:n,maximumFromData:o}}function _Y(s){let{featureIndex:t,chartData:e,x:i}=s,r=-1;if(t>=0&&t<e.length){let a=e[t];i!==void 0&&!Li(i)&&Number.isFinite(a[i])&&(r=a[i])}return r}async function QM(s){let{featureIndex:t=0,chartData:e,queryConfig:i,chartConfig:r,queryObject:a}=s,{axes:n,series:o}=r,l=AA(r),{minimum:u,maximum:h}=n?.[0]??{},{x:c}=o?.[0]??{},A=re.gauge,d,f;l?{minimumFromData:d,maximumFromData:f}=CY({featureIndex:t,chartData:e,chartConfig:r}):a!==void 0&&i!==void 0&&({minimumFromData:d,maximumFromData:f}=await jW({queryObject:a,chartConfig:r,queryConfig:i}));let p=d??u??A.axisMinimum,m=f??h??A.axisMaximum,g=_Y({chartData:e,featureIndex:t,x:c});return{minimum:p,maximum:m,dataValue:g}}function SY(s){let{oldConfig:t,axisMax:e,min:i,max:r,labelsIncrement:a,numberOfIntervals:n,valueFormat:o,minimumFromField:l}=s,u=$f(o),h=!0;if(t!==void 0){let{minimum:c,minimumFromField:A,labelsIncrement:d,valueFormat:f}=t.axes[0],p=f?.intlOptions?.style!==o?.intlOptions?.style,m=ZS(d)?d!==a:n!==re.gauge.numberOfLabelIntervals;h=p||i!==c||l!==A||!u&&r!==e||m}return h}function BY(s){let{x:t,data:e,chart:i,valueFormat:r,minimum:a,maximum:n}=s,o=Number.NaN;if(e!==void 0&&t!==void 0){let l=e.find(h=>t in h),u=Number.parseFloat(l[t]);Number.isFinite(u)&&(o=u,nr(i.uid,{gaugeData:o}))}else{let l=xe(i.uid,"gaugeData");Number.isFinite(l)&&(o=l)}return $f(r)&&a!==void 0&&n!==void 0&&a!==null&&n!==null&&o!==null&&n-a!==0&&(o=ug({value:o,axisMin:a,axisMax:n})),o}function FY(s,t){let e=t??null;if(t!=null){let i=s.xAxes.getIndex(0),r=xe(s.uid,"config"),a=i.get("min")??r?.axes?.[0].minimum??fe.gauge.axisMinimum,n=i.get("max")??r?.axes?.[0].maximum??fe.gauge.axisMaximum;t<a?e=a:t>n&&(e=n)}return e??void 0}function PY(s){let{root:t}=s,e=Tl.new(t,{radius:ii(100)}),i=s.makeDataItem({value:0,bullet:Ih.new(t,{sprite:e})});return s.createAxisRange(i),i.get("grid")?.set("visible",!1),i.get("tick")?.set("visible",!1),e}function TY(s){let{chart:t,axis:e,needleConfig:i,gaugeValue:r}=s,a=e.axisRanges.values.find(o=>o.get("bullet")?.get("sprite")instanceof Tl),n=a?.get("bullet")?.get("sprite");if(a&&n instanceof Tl){let{startWidth:o,endWidth:l,innerRadius:u}=fe.gaugeNeedle;Of({element:n.hand,fillSymbol:i?.symbol}),Of({element:n.pin,fillSymbol:i?.symbol}),a.set("value",FY(t,r)),n.pin.set("visible",i?.displayPin===!0),n.setAll({visible:i?.visible??!0,innerRadius:ii(i?.innerRadius??u),bottomWidth:i?.startWidth??o,topWidth:i?.endWidth??l})}}function DY(s,t){let e=Number.isFinite(t?.innerRadius)?t?.innerRadius:fe.gauge.innerRadius;typeof e=="number"&&Number.isFinite(e)&&s.set("innerRadius",ii(e))}function OY(s,t){let e=Number.isFinite(t?.startAngle)?t?.startAngle:fe.gauge.startAngle,i=Number.isFinite(t?.endAngle)?t?.endAngle:fe.gauge.endAngle;typeof e=="number"&&Number.isFinite(e)&&s.set("startAngle",e),typeof i=="number"&&Number.isFinite(i)&&s.set("endAngle",i)}async function LY(s){let{chart:t,chartConfig:e,data:i,queryObject:r,xAxisLabelFormatter:a,commonStrings:n,errorStrings:o}=s,{axes:l,series:u}=e,h=AA(e),{featureIndex:c,x:A}=u[0],d=l?.[0],f=t.xAxes.getIndex(0),p={...d};if(f instanceof wi&&f.get("renderer")instanceof ga&&p!==void 0&&i&&"dataItems"in i){let{valueFormat:m,needle:g}=p;DY(t,e),OY(t,e);let y=await QM({featureIndex:c,chartData:i.dataItems,chartConfig:e,queryObject:r,queryConfig:xe(t.uid,"queryConfig")});p.minimum=y.minimum,p.maximum=y.maximum;let{min:v,max:_}=VM(p),S={...p};$f(m)?(S.minimum=0,S.maximum=1,UM({axisConfig:S,axisMin:p.minimum,axisMax:p.maximum})):(S.minimum=v,S.maximum=_),await GB({chartConfig:e,axis:f,axisConfig:S,externalAxisLabelFormatter:a,commonStrings:n,errorStrings:o});let F=h?y?.dataValue:BY({x:A,data:i.dataItems,chart:t,minimum:p.minimum,maximum:p.maximum,valueFormat:m});TY({chart:t,axis:f,needleConfig:g,gaugeValue:F})}}async function IY(s){let{chart:t,axesConfig:e,errorStrings:i}=s,{root:r}=t;await yc({chartType:L.GaugeSeries,axesConfig:e,errorStrings:i});let a=t.xAxes.push(wi.new(r,{min:0,max:100,renderer:ga.new(r,{})}));PY(a),EM(a)}async function $Y(s){let{chart:t,chartConfig:e,axisLabelsBehaviorChanged:i,data:r,yAxisLabelFormatter:a,guideTooltipFormatter:n,commonStrings:o,errorStrings:l}=s,{horizontalAxisLabelsBehavior:u,verticalAxisLabelsBehavior:h,axes:c}=e,A=L.HistogramSeries,d=t.xAxes.getIndex(0),f=t.yAxes.getIndex(0);await yc({chartType:A,axesConfig:c,errorStrings:l}),[{axis:d,axisConfig:c?.[0]},{axis:f,axisConfig:c?.[1]}].forEach(async p=>{let{axis:m,axisConfig:g}=p;m!==void 0&&g!==void 0&&await GB({axis:m,data:r,axisConfig:g,horizontalAxisLabelsBehavior:u,verticalAxisLabelsBehavior:h,axisLabelsBehaviorChanged:i,commonStrings:o,chartConfig:e,externalAxisLabelFormatter:a,guideTooltipFormatter:n,errorStrings:l})}),u0(t,r)}async function kY(s){let{chart:t,axesConfig:e,x:i,errorStrings:r}=s,{root:a}=t,n=L.HistogramSeries;await yc({chartType:n,axesConfig:e,errorStrings:r});let o={root:a,x:i,chartType:n},l=e?.[0]?.valueFormat,u=e?.[1]?.valueFormat;if(l!==void 0&&u!==void 0){let h=uc({...o,axes:t.xAxes,valueFormat:l,axisRenderer:Ds.new(a,{}),isXAxis:!0,x:i}),c=uc({...o,axes:t.xAxes,valueFormat:l,axisRenderer:Ds.new(a,{}),isAxisForHistogramOverlaySeries:!0,isXAxis:!0,x:i});uc({...o,axes:t.yAxes,valueFormat:u,axisRenderer:vn.new(a,{}),isXAxis:!1,x:i}),h&&(h.get("renderer").grid.template.set("location",0),h.get("renderer").ticks.template.set("location",0),h.get("renderer").labels.template.set("location",0)),c&&(c.set("visible",!1),c.get("renderer").grid.template.set("visible",!1),c.get("renderer").ticks.template.set("visible",!1),c.get("renderer").labels.template.set("visible",!1))}}function zB(s){let{isXAxis:t,chartType:e,valueFormat:i,isAxisForHistogramOverlaySeries:r}=s;return t&&(gc(i)||e===L.HistogramSeries&&!r||e===L.BarSeries&&Tr(i))}function HM(s,t){return t?`${KL}_x_${s.uid}`:`${KL}_y_${s.uid}`}function jM(s,t){let e=xe(s.chart?.uid??Number.NaN,"config"),i=hn(e)?1:0,r=e?.axes?.[i]?.title?.content?.verticalAlignment,a=eY(s),n=a;switch(r){case si.Baseline:case si.Middle:n=a/2;break;case si.Bottom:n=Math.min(a,0);break;case si.Top:}t?.set("dy",n)}function MY(s){s instanceof wi&&(s.onPrivate("min",aI),s.onPrivate("max",aI))}function EY(s){let{axis:t,isHorizontalAxis:e,isSecondValueAxis:i}=s,{root:r}=t,a=e?{...fe.xAxisTitleLabel,verticalCenter:si.Top}:fe.yAxisTitleLabel,n=og({root:r,id:HM(t,e),defaults:a});return t.get("renderer")instanceof vn&&i!==!0||t.get("renderer")instanceof Ds&&i===!0?t.children.unshift(n):t.children.push(n),e&&i!==!0&&t.events.on(Wi.BoundsChanged,ss(()=>{jM(t,n)},fe.debounceTime)),wY({axis:t,isHorizontalAxis:e,label:n}),n}function uc(s){let{root:t,axes:e,isXAxis:i,valueFormat:r,axisRenderer:a,isSecondValueAxis:n=!1,chartType:o,x:l,isAxisForHistogramOverlaySeries:u}=s,h;if(zB({isXAxis:i,chartType:o,valueFormat:r,isAxisForHistogramOverlaySeries:u})&&!n){let c=fe.xAxisField;o===L.HistogramSeries?c=lA.Start:o===L.BoxPlotSeries&&(c=l),h=e.push(ys.new(t,{categoryField:c,renderer:a}))}else if(qn(r))h=e.push(wr.new(t,{strictMinMax:!0,baseInterval:{timeUnit:"day",count:1},renderer:a}));else if(Tr(r)&&(h=e.push(wi.new(t,{strictMinMax:!0,renderer:a})),n&&h instanceof wi)){let c=e.getIndex(0);c instanceof wi&&h.set("syncWithAxis",c)}if(h!==void 0&&!u){JG(h),MM(t,h);let c=o===L.HistogramSeries?0:.1,A=o===L.HistogramSeries?1:.9;h.get("renderer").setAll({cellStartLocation:c,cellEndLocation:A}),EM(h),MY(h),$0(h.get("renderer"))?h.get("renderer").labels.template.set(n?"paddingBottom":"paddingTop",fe.axisLabelSpacing.horizontalAxisLabelPaddingTop):a instanceof vn&&h.get("renderer").labels.template.set(n?"paddingLeft":"paddingRight",fe.axisLabelSpacing.verticalAxisLabelSidePadding)}return h}function RY(s,t){if(t!==void 0){let e=no(t);s.data.setAll(e??[])}}function NY(s){let{axis:t,axisTitleConfig:e,isSecondValueAxis:i}=s,r=t.get("renderer"),{chart:a}=t,n=$0(r),o=es({childId:HM(t,n),parent:t,useChildId:!0})??EY({axis:t,isHorizontalAxis:n,isSecondValueAxis:i});if(o instanceof hr){let l=n?{...fe.xAxisTitleLabel,verticalCenter:si.Top}:fe.yAxisTitleLabel;if(Yl({label:o,labelConfig:e,defaults:l}),n&&i!==!0&&jM(t,o),a){let u={chart:a,label:o,labelType:n?yi.XAxisTitle:yi.YAxisTitle};Nu(u)}}}async function GB(s){let{axis:t,data:e,axisConfig:i,timeIntervalInfo:r,horizontalAxisLabelsBehavior:a,verticalAxisLabelsBehavior:n,axisLabelsBehaviorChanged:o,anyGuideAboveChanged:l,isNonAggregatedChart:u,isSecondValueAxis:h,chartConfig:c,externalAxisLabelFormatter:A,guideTooltipFormatter:d,commonStrings:f,errorStrings:p}=s,{visible:m,lineSymbol:g,title:y,labels:v,isLogarithmic:_,grid:S,displayCursorTooltip:F,displayZeroLine:P,valueFormat:D,guides:$,tickSpacing:I,dateBaseInterval:R}=i,{root:T}=t,Q=Me(c.series),K=Wa(c),z=c.rotated,se=t.get("renderer");Wf(t.uid,{zeroGridLine:{displayZeroLine:P,strokeWidth:S?.width??fe.lineWidth,visible:S!==void 0}}),WG({axis:t,isLogarithmic:_,isSecondValueAxis:h}),await UG({axis:t,isXAxis:xc(t.get("renderer"),z),chartType:Q,formatOptions:D,isNonAggregatedChart:u,overridePercentMultiplication:K===ir.Stacked100,externalAxisLabelFormatter:A,errorStrings:p}),VG({axis:t,isRotated:z,chartConfig:c}),GG({axis:t,timeIntervalInfo:r,dateBaseInterval:R}),Eu({element:se,lineSymbol:{color:[...fe.color],...g??gp()},visible:m}),Eu({element:se.ticks.template,lineSymbol:g,visible:m}),Eu({element:se.grid.template,lineSymbol:S,visible:m}),S===void 0&&(t.get("renderer").grid.template.set("strokeWidth",fe.lineWidth),t.markDirtyValues()),xY({axis:t,axisConfig:i,chartType:Q,horizontalAxisLabelsBehavior:a,verticalAxisLabelsBehavior:n,axisLabelsBehaviorChanged:o}),NY({axis:t,axisTitleConfig:y,isSecondValueAxis:h}),XG(t,i),pY({axis:t,chartType:Q,labelConfig:v,horizontalAxisLabelsBehavior:a,isSecondValueAxis:h,tickSpacing:I}),zG({root:T,axis:t,displayCursorTooltip:F}),AY({axis:t,guideConfigs:$,guideTooltipFormatter:d,anyGuideAboveChanged:l,commonStrings:f}),RY(t,e)}async function VY(s){let{chart:t,chartType:e,axesConfig:i,x:r,isRotated:a,errorStrings:n}=s,{root:o}=t;await yc({chartType:e,axesConfig:i,errorStrings:n});let l={root:o,x:r,chartType:e},u=a===!0?i?.[1]:i?.[0],h=a===!0?i?.[0]:i?.[1],c=u?.valueFormat,A=h?.valueFormat;if(c!==void 0&&A!==void 0&&(uc({...l,axes:t.xAxes,valueFormat:c,axisRenderer:Ds.new(o,{}),isXAxis:a!==!0,x:r}),uc({...l,axes:t.yAxes,valueFormat:A,axisRenderer:vn.new(o,{}),isXAxis:a===!0,x:r}),i?.[2]!==void 0)){let d=a===!0?Ds:vn;uc({...l,axes:a===!0?t.xAxes:t.yAxes,valueFormat:i[2]?.valueFormat,axisRenderer:d.new(o,{opposite:!0}),isSecondValueAxis:!0,isXAxis:a===!0,x:r})}}async function UY(s){let{chart:t,chartType:e,axesConfig:i,x:r,errorStrings:a}=s,{root:n}=t,o=i?.[0],l=i?.[1];if(await yc({chartType:e,axesConfig:i,errorStrings:a}),o?.valueFormat!==void 0&&l?.valueFormat!==void 0){let u={root:n,x:r,chartType:e};uc({...u,axes:t.xAxes,valueFormat:o.valueFormat,axisRenderer:ga.new(n,{}),isXAxis:!0,x:r}),uc({...u,axes:t.yAxes,valueFormat:l.valueFormat,axisRenderer:Oh.new(n,{}),isXAxis:!1,x:r})}}async function WM(s){let{chart:t,chartConfig:e,errorStrings:i}=s,{rotated:r,axes:a}=e,{x:n}=e.series[0],o=Me(e.series);switch(t.xAxes.clear(),t.yAxes.clear(),o){case L.GaugeSeries:t instanceof Ka&&await IY({chart:t,axesConfig:a,errorStrings:i});break;case L.HistogramSeries:await kY({chart:t,axesConfig:a,x:n,errorStrings:i});break;case L.BarSeries:case L.ComboLineAndBarSeries:case L.ScatterSeries:case L.LineSeries:case L.BoxPlotSeries:await VY({chart:t,axesConfig:a,chartType:o,x:n,isRotated:r,errorStrings:i});break;case L.RadarSeries:t instanceof Ka&&await UY({chart:t,axesConfig:a,chartType:o,x:n,errorStrings:i});break}}async function QY(s){let{chart:t,chartConfig:e,axisLabelsBehaviorChanged:i,anyGuideAboveChanged:r,data:a,timeIntervalInfo:n,xAxisLabelFormatter:o,yAxisLabelFormatter:l,secondaryYAxisLabelFormatter:u,guideTooltipFormatter:h,commonStrings:c,errorStrings:A}=s,{horizontalAxisLabelsBehavior:d,verticalAxisLabelsBehavior:f,axes:p,rotated:m}=e,g=Me(e.series),y=xe(t.uid,"isNonAggregatedChart"),v=t.xAxes.getIndex(0),_=t.yAxes.getIndex(0),S=t.xAxes.getIndex(1)??t.yAxes.getIndex(1);await yc({chartType:g,axesConfig:p,errorStrings:A});let F=p?.[m===!0?1:0],P=p?.[m===!0?0:1];[{axis:v,axisConfig:F,externalAxisLabelFormatter:m!==!0?o:l},{axis:_,axisConfig:P,externalAxisLabelFormatter:m!==!0?l:o},{axis:S,axisConfig:p?.[2],axisLabelFormatter:u,isSecondValueAxis:!0}].forEach(async D=>{let{axis:$,axisConfig:I,externalAxisLabelFormatter:R,isSecondValueAxis:T}=D;$!==void 0&&!$.isDisposed()&&I!==void 0&&await GB({axis:$,data:a,timeIntervalInfo:n,axisConfig:I,horizontalAxisLabelsBehavior:d,verticalAxisLabelsBehavior:f,axisLabelsBehaviorChanged:i,anyGuideAboveChanged:r,isNonAggregatedChart:y,isSecondValueAxis:T,commonStrings:c,chartConfig:e,externalAxisLabelFormatter:R,guideTooltipFormatter:h,errorStrings:A})}),u0(t,a)}async function XM(s){let{chart:t,chartConfig:e}=s,i=Me(e.series);i===L.GaugeSeries&&t instanceof Ka?await LY(s):i===L.HistogramSeries?await $Y(s):await QY(s)}function HY(s,t){let e=ts(fe.backgroundColor);t.set("background",xr.new(s,{fill:e.color,fillOpacity:e.opacity}))}function zM(s,t){let e=ts(t??fe.backgroundColor);s.get("background")?.setAll({fill:e.color,fillOpacity:e.opacity})}var qi={SelectXY:"selectXY",SelectX:"selectX",SelectY:"selectY",ZoomXY:"zoomXY",ZoomX:"zoomX",ZoomY:"zoomY",None:"none"};function GM(s){let{actionMode:t,cursorRange:e,isRotated:i}=s,r=qi.None;switch(e){case Ty.MultiAxes:t===Wt.MultiSelectionWithCtrlKey||t===Wt.MultiSelection?r=qi.SelectXY:t===Wt.Zoom&&(r=qi.ZoomXY);break;case Ty.XAxis:t===Wt.MultiSelectionWithCtrlKey||t===Wt.MultiSelection?r=i===!0?qi.SelectY:qi.SelectX:t===Wt.Zoom&&(r=i===!0?qi.ZoomY:qi.ZoomX);break;case Ty.YAxis:t===Wt.MultiSelectionWithCtrlKey||t===Wt.MultiSelection?r=i===!0?qi.SelectX:qi.SelectY:t===Wt.Zoom&&(r=i===!0?qi.ZoomX:qi.ZoomY);break}return r}function YM(s,t){let e=Me(t.series);return s instanceof di&&e!==L.GaugeSeries}function jY(s,t){let e=fe.cursorCrosshair.style,i={type:Zt.SLS,style:t?.style??e.style,color:t?.color??e.color,width:t?.width??e.width},r=s.get("cursor")?.lineX,a=s.get("cursor")?.lineY;Eu({element:r,lineSymbol:i}),Eu({element:a,lineSymbol:i})}function KM(s){let{root:t,chart:e,config:i}=s,r;if(YM(e,i)){let a=e instanceof Ka?_u:mo;r=e.set("cursor",a.new(t,{}))}return r}function qM(s){let{root:t,chart:e,cursorCrosshair:i,config:r}=s;if(YM(e,r)){let a=e.get("cursor")??KM({root:t,chart:e,config:r});a&&(jY(e,i?.style),a.lineX.set("visible",i?.verticalLineVisible??fe.cursorCrosshair.verticalLineVisible),a.lineY.set("visible",i?.horizontalLineVisible??fe.cursorCrosshair.horizontalLineVisible))}}function WY(s){let{chart:t,enabled:e}=s,i=e?"pointer":"default";t instanceof Hs&&t.series.each(r=>{switch(!0){case r instanceof Cr:r.columns.template.set("cursorOverStyle",i);break;case r instanceof ri:let a=Pr(r.uid,"bulletTemplate");a!==void 0&&!Hu(r)&&a.set("cursorOverStyle",i);break;case r instanceof gs:r.slices.template.setAll({cursorOverStyle:i});break}})}function XY(s){let{chart:t,actionMode:e,cursorRange:i}=s,r=xe(t.uid,"isRotated"),a=xe(t.uid,"config"),n=Me(a?.series),o=n===L.ScatterSeries,l=(n===L.LineSeries||n===L.RadarSeries)&&Tr(a?.axes?.[0]?.valueFormat),u=(n===L.LineSeries||n===L.RadarSeries)&&gc(a?.axes?.[0]?.valueFormat),h=(n===L.LineSeries||n===L.RadarSeries)&&qn(a?.axes?.[0]?.valueFormat),c,A=!1,d=e??xe(t.uid,"actionMode")??fe.actionMode;if(xe(t.uid,"filterBySelection")===!0)c=qi.None,A=!1;else if(i!==void 0)c=GM({actionMode:d,cursorRange:i,isRotated:r});else switch(d){case Wt.Zoom:o||l||h?c=qi.ZoomXY:c=r===!0?qi.ZoomY:qi.ZoomX,A=!1;break;case Wt.MultiSelection:case Wt.MultiSelectionWithCtrlKey:u?c=r===!0?qi.SelectY:qi.SelectX:c=qi.SelectXY,A=!0;break;case Wt.MonoSelection:c=qi.None,A=!0;break;case Wt.None:c=qi.None,A=!1;break}t instanceof di&&t.get("cursor")!==void 0&&c!==void 0&&t.get("cursor")?.set("behavior",c),WY({chart:t,enabled:A})}function zY(s,t){t!==void 0&&(t.width!==void 0&&s.set("width",zL(t.width)),t.height!==void 0&&s.set("height",zL(t.height)),t.paddingTop!==void 0&&s.set("paddingTop",t.paddingTop),t.paddingBottom!==void 0&&s.set("paddingBottom",t.paddingBottom))}function JS(s){let{root:t,defaults:e,parent:i,id:r,index:a}=s,n=Ke.new(t,{});return zY(n,e),i!==void 0&&i.children.insertIndex(a??i.children.length,n),r!==void 0&&n.set("id",r),n}function eB(s,t){t?s.hide():s.show()}function GY(s,t){let e=JS({root:s,defaults:fe.headerContainer,parent:t,id:tl(EB,t.uid),index:0}),i=JS({root:s,defaults:fe.headerContainer,parent:t,id:tl(RB,t.uid),index:1}),r=og({root:s,parent:e,defaults:fe.titleLabel,id:tl(Jk,e.uid)}),a=og({root:s,parent:i,defaults:fe.subtitleLabel,id:tl(eM,i.uid)});lg({chart:t,label:r,labelType:yi.ChartTitle}),lg({chart:t,label:a,labelType:yi.ChartSubTitle})}function ZM(s,t){let{title:e,subtitle:i}=t??{},r=es({childId:EB,parent:s});if(r!==void 0){let n=es({childId:Jk,parent:r});n!==void 0&&(Yl({label:n,labelConfig:e,defaults:fe.titleLabel}),Nu({chart:s,label:n,labelType:yi.ChartTitle}),eB(r,n.get("disabled")===!0||(e?.content.text??"")===""))}let a=es({childId:RB,parent:s});if(a!==void 0){let n=es({childId:eM,parent:a});n!==void 0&&(Yl({label:n,labelConfig:i,defaults:fe.subtitleLabel}),Nu({chart:s,label:n,labelType:yi.ChartSubTitle}),eB(a,n.get("disabled")===!0||(i?.content.text??"")===""))}}function YY(s){let{root:t}=s,e=JS({root:t,defaults:fe.footerContainer,parent:s,id:tl(NB,s.uid)}),i=og({root:t,parent:e,id:tl(tM,e.uid)});lg({chart:s,label:i,labelType:yi.ChartFooter})}function JM(s,t){let e=es({childId:NB,parent:s});if(e!==void 0){let i=es({childId:tM,parent:e});i!==void 0&&(Yl({label:i,labelConfig:t,defaults:fe.footer}),Nu({chart:s,label:i,labelType:yi.ChartFooter}),eB(e,i.get("disabled")||(t?.content.text??"")===""))}}function KY(s){let{root:t,parent:e,curtainColor:i}=s,r=ts(i??fe.backgroundColor),a=Ke.new(t,{id:tl(iM,e.uid),width:Be,height:Be,interactive:!0,layer:1e3,background:xr.new(t,{fill:r.color,fillOpacity:r.opacity})});return e.children.push(a),a}function qY(s){let{root:t,parent:e,spinnerColor:i}=s,r=ts(i??fe.loaderSpinnerColor),a=St.new(t,{id:tl(rM,e.uid),centerX:Ye,centerY:Ye,x:Ye,y:Ye,svgPath:"M2.2 16A13.81 13.81 0 0 1 14 2.362v1.01a12.8 12.8 0 1 0 4 0v-1.01A13.792 13.792 0 1 1 2.2 16z",stroke:r.color,strokeWidth:2});return e.children.push(a),a}function ZY(s){return s.animate({from:0,to:360,key:"rotation",loops:Number.MAX_SAFE_INTEGER,duration:fe.loaderRotationSpeed})}function JY(s,t){let e=KY({root:s,parent:s.container,curtainColor:t?.loaderColors?.curtainColor}),i=qY({root:s,parent:e,spinnerColor:t?.loaderColors?.spinnerColor}),r=ZY(i);return{loaderSpinner:i,loaderContainer:e,spinnerAnimation:r}}function eK(s){let{root:t,chart:e,options:i}=s,{loaderContainer:r,spinnerAnimation:a}=JY(t,i);function n(){a.stop(),r!==void 0&&(is(r,!1),e instanceof di&&e.zoomOutButton.set("disabled",!1))}n();function o(l){l&&(a.play(),r!==void 0&&(is(r),e instanceof di&&e.zoomOutButton.set("disabled",!0)))}return{hideLoader:n,showLoader:o}}function tK(s,t){let{root:e}=s,i=es({childId:iM,parent:e.container});if(i){let r=ts(t?.loaderColors?.curtainColor??fe.backgroundColor);i.get("background")?.setAll({fill:r.color,fillOpacity:r.opacity});let a=ts(t?.loaderColors?.spinnerColor??fe.loaderSpinnerColor);es({childId:rM,parent:i})?.set("stroke",a.color)}}function iK(s,t){s.events.once(Wi.FrameEnded,()=>{kf(s.dom),t()})}function eE(s){if(!(s instanceof Ka)&&s instanceof di){let{root:t}=s,e=Sl.new(t,{orientation:"horizontal",visible:!1,marginTop:0}),i=Sl.new(t,{orientation:"vertical",visible:!1});s.setAll({scrollbarX:e,scrollbarY:i})}}function rK(s,t){if(t!==void 0){let e=ts(t),i=t[3]/255,r=i/2;[{element:s.get("background"),specificOpacity:r},{element:s.startGrip.get("background")},{element:s.endGrip.get("background")},{element:s.thumb}].forEach(a=>{let{element:n,specificOpacity:o}=a;n!==void 0&&n.setAll({fill:e.color,fillOpacity:o??i})}),[{element:s.get("background"),stateName:"default",specificOpacity:r},{element:s.startGrip.get("background"),stateName:"default"},{element:s.startGrip.get("background"),stateName:"hover"},{element:s.startGrip.get("background"),stateName:"down"},{element:s.endGrip.get("background"),stateName:"default"},{element:s.endGrip.get("background"),stateName:"hover"},{element:s.endGrip.get("background"),stateName:"down"},{element:s.thumb,stateName:"default"},{element:s.thumb,stateName:"hover"},{element:s.thumb,stateName:"down"}].forEach(a=>{let{element:n,stateName:o,specificOpacity:l}=a;(n?.states.lookup(o)??n?.states.create(o,{}))?.setAll({fill:e.color,fillOpacity:l??i})})}}function sK(s,t){typeof t=="number"&&Number.isFinite(t)&&(s.get("orientation")==="horizontal"?s.setAll({height:t,minHeight:t}):s.setAll({width:t,minWidth:t}))}function aK(s,t){if(typeof t=="number"&&Number.isFinite(t)){let e=t/30;s.startGrip.set("scale",e),s.endGrip.set("scale",e)}}function pI(s,t){typeof t=="number"&&Number.isFinite(t)&&(s.get("orientation")==="horizontal"?s.set("marginBottom",t):s.set("marginLeft",t),s.markDirtyBounds())}function tE(s){let{chart:t,scrollbarXConfig:e,scrollbarYConfig:i}=s;if(!(t instanceof Ka)&&t instanceof di){let r=xe(t.uid,"isRotated");(t.get("scrollbarX")===void 0||t.get("scrollbarY")===void 0)&&eE(t);let a=t.get("scrollbarX"),n=t.get("scrollbarY");[a,n].forEach(o=>{if(o!==void 0){let l=o.get("orientation")==="horizontal"&&r!==!0||o.get("orientation")==="vertical"&&r===!0?e:i,u=l?.visible!==!0;if(is(o,!u),l!==void 0&&!u){let{width:h,color:c,gripSize:A,margin:d}=l;pI(o,d??h??fe.scrollbarPadding),rK(o,c),aK(o,A),sK(o,h)}else pI(o,0)}})}}function nK(s){FM(s)}function mI(s){return s.get("legendDataItem")?.get("marker").children.getIndex(0)}function oK(s,t){s.columns.each(e=>{(e.dataItem?.dataContext)[t]===0&&e.set("strokeOpacity",0)})}function lK(s){let{root:t,chartConfig:e,seriesConfig:i,xAxis:r,yAxis:a,options:n}=s,{id:o,name:l}=i,{xField:u,yField:h,xAxisField:c,yAxisField:A}=Gf(e,i),d=p4(e),f=Cr.new(t,{id:o,name:l,stacked:d,xAxis:r,yAxis:a,[c]:u,[A]:h,maskBullets:!1});eu(f.columns.template,n?.selectionTheme);let p=Ut.new({});return _s(f.uid,{bulletTemplate:p}),tu(f.columns.template,f),f.bullets.push(m=>{let g=St.new(m,{},p);return Ga.new(m,{sprite:g})}),f.columns.template.set("width",ii(100)),WB(f),fM(f),sM(f),_g(f),f.appear(),f}function uK(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,chartSubType:a,colorMatch:n,rendererType:o}=s,l=t.root,u=Cg(t),h=new Set,c,A,d=e.fillSymbol,f={root:l,seriesConfig:e,seriesIndex:i,seriesSymbol:d,isChartFillSymbol:!0},p={},m=Xx(i);if(t.columns.length===0?p=en({root:l,seriesIndex:i,colorMatch:n,seriesSymbol:d??m,element:St.new(l,{}),isChartFillSymbol:!0}):t.columns.each(g=>{let y=g.dataItem?.dataContext;Number.isFinite(y?.[u])&&(A=tn({dataItem:y,seriesConfig:e,chartSubType:a,colorMatch:n,rendererType:o}),p=en({...f,seriesSymbol:d??m,element:g,colorMatch:n,rendererSymbol:A}),sg(g,p.stylingInfo),h.add(JSON.stringify(p.symbolWithColorInfo)))}),r>1){let g=mI(t);if(g!==void 0)en({...f,seriesSymbol:d??m,element:g,colorMatch:n,rendererSymbol:A}),sg(g,p.stylingInfo);else if(t.chart instanceof di){let y=t.chart.children.values.find(v=>v instanceof xu);y!==void 0&&y.events.once(Wi.BoundsChanged,()=>{sg(mI(t),p.stylingInfo)})}en({...f,seriesSymbol:p.symbolWithColorInfo??d??m,element:t,colorMatch:n,rendererSymbol:A,keepCurrentVisibility:!0}),en({...f,seriesSymbol:p.symbolWithColorInfo??d??m,element:t.columns.template,colorMatch:n,rendererSymbol:A})}return h.size<=1&&(c=p.symbolWithColorInfo??d),oK(t,u),c}function hK(s){let{series:t,seriesSymbolMapForEvent:e,seriesIndexMapper:i,seriesIndex:r,colorMatch:a,rendererType:n}=s,o=s.seriesConfig,l=t.chart;if(l!==void 0){let u=xe(l.uid,"config"),h=u?.series.length??0,c=Ue(u?.series),A=uK({series:t,seriesConfig:o,seriesIndex:r,numberOfSeries:h,chartSubType:c,colorMatch:a,rendererType:n});e.set(i?.get(o.id)??r,A),e.size===h&&ll({data:e,htmlContainer:t.root.dom,chartId:l.get("id"),colorMatchApplied:I0(l)})}}function cK(s){let{columnSeries:t,data:e,seriesIndex:i,chartConfig:r,dataWasUpdated:a,seriesWereReinitialized:n,rotationChanged:o,timeZoneChanged:l,sortChanged:u,loaderHandle:h}=s,c=r.series[i];if(e&&c?.type===L.BarSeries&&(o===!0||a===!0||u===!0||l||n===!0)){let{xField:A,yField:d,xAxisField:f,yAxisField:p}=Gf(r,c);t.setAll({[f]:A,[p]:d}),t.events.once(Wi.DataValidated,()=>{h.hideLoader()}),t.data.setAll(e.dataItems)}}function dK(s){let{series:t,data:e,chartConfig:i,options:r,seriesIndex:a,dataWasUpdated:n,rotationChanged:o,timeZoneChanged:l,queryObject:u,commonStrings:h,seriesWereReinitialized:c,subtypeInfo:A,fieldList:d,sortChanged:f,loaderHandle:p}=s,m=i.series[a],g=i.rotated,y=i.axes,v;y?.[1]&&(v=y[1]),t.set("id",m.id),HB({series:t,chartConfig:i,isRotated:g}),nK({seriesType:L.BarSeries,series:t,seriesConfig:m,isRotated:g,dataLabelsConfig:m.dataLabels,yAxisValueFormat:v?.valueFormat,externalDataLabelFormatter:r?.dataLabelFormatter}),cK({columnSeries:t,data:e,seriesIndex:a,chartConfig:i,dataWasUpdated:n,timeZoneChanged:l,seriesWereReinitialized:c,rotationChanged:o,sortChanged:f,loaderHandle:p}),UB({series:t,seriesConfig:m,fieldList:d,queryObject:u,seriesIndex:a,tooltipFormatter:r?.tooltipFormatter,commonStrings:h}),ju(s)&&Wu({styleCallback:hK,callbackProps:s,series:t,seriesConfig:m}),jB({chartConfig:i,series:t,seriesIndex:a,subtypeInfo:A,fieldList:d})}function AK(s){let{chartConfig:t,seriesConfig:e}=s,i=hn(t),r=t.showOutliers,a=t.standardizeValues,n=Ur(t),{y:o}=e,l=b0(t),u=Ue(l.series),h=n?void 0:e?.query?.where,c={y:u===j.BoxPlotMultiFieldsAndCategory&&typeof o=="string"?o:void 0,chartSubType:u,splitBy:h,showOutliers:r,standardizeValues:kc(u)?a:!1},A=k0({chartConfig:t,seriesConfig:e,key:Ze.ThirdQuartile});return{properties:{...A.properties,low:Gt({...c,key:Ze.Min}),open:Gt({...c,key:Ze.FirstQuartile}),high:Gt({...c,key:Ze.Max})},dataFields:{...A.dataFields,low:i?"lowValueXField":"lowValueYField",open:i?"openValueXField":"openValueYField",high:i?"highValueXField":"highValueYField"}}}function fK(s){let{candleStickSeries:t,data:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:n,loaderHandle:o}=s;(i===!0||a===!0||r===!0||n===!0)&&(t.events.once(Wi.DataValidated,()=>{o.hideLoader()}),t.data.setAll(e?.dataItems??[]))}function pK(s){let{candleStickSeries:t,seriesConfig:e,seriesIndex:i,chartSubType:r,colorMatch:a,showMean:n,rendererType:o}=s,{root:l}=t,u=e.fillSymbol??by(i),h={},c={root:l,seriesConfig:e,seriesIndex:i,colorMatch:a,isChartFillSymbol:!0};t.columns.length===0?h=en({...c,seriesSymbol:u,element:St.new(l,{})}):t.columns.each(A=>{h=en({...c,seriesSymbol:u,element:A,rendererSymbol:n?void 0:tn({dataItem:A.dataItem?.dataContext,seriesConfig:e,chartSubType:r,colorMatch:a,rendererType:o})})}),en({...c,seriesSymbol:h?.symbolWithColorInfo??u,element:t.columns.template,colorMatch:a})}function mK(s){let{candleStickSeries:t,seriesConfig:e}=s;Yf(t,e.name),fK(s),ju(s)&&Wu({styleCallback:pK,callbackProps:s,series:t,seriesConfig:e})}function gK(s){let{root:t,xAxis:e,yAxis:i,chartConfig:r,seriesIndex:a,options:n}=s,o=r.series[a],l;if(o.type===L.BoxPlotSeries){let u=AK({chartConfig:r,seriesConfig:o});l=xn.new(t,{id:o.id,xAxis:e,yAxis:i,[u.dataFields.low]:u.properties.low,[u.dataFields.open]:u.properties.open,[u.dataFields.high]:u.properties.high,[u.dataFields.value]:u.properties.value,[u.dataFields.category]:u.properties.category}),l.columns.template.setAll({themeTags:[],width:ii(80)}),eu(l.columns.template,n?.selectionTheme),tu(l.columns.template,l)}return l}function yK(s){let{chartConfig:t,seriesConfig:e}=s,i=Ue(t.series),{showOutliers:r,standardizeValues:a}=t,{y:n}=e,o=e?.query?.where,l=b0(t),u=k0({chartConfig:l,seriesConfig:e,key:Ze.Average}),h=Gt({y:i===j.BoxPlotMultiFieldsAndCategory&&typeof n=="string"?n:void 0,chartSubType:i,splitBy:o,showOutliers:r,standardizeValues:kc(i)?a:!1,key:Ze.Average});return u.properties.value=h,u}function bK(s){let{meanLineSeries:t,data:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:n}=s;(i===!0||a===!0||r===!0||n===!0)&&t.data.setAll(e?.meanLines??[])}function vK(s){let{meanLineSeries:t,seriesConfig:e,data:i,dataWasUpdated:r,sortChanged:a,rotationChanged:n,seriesWereReinitialized:o}=s;Yf(t,e?.name),bK({meanLineSeries:t,data:i,dataWasUpdated:r,sortChanged:a,rotationChanged:n,seriesWereReinitialized:o})}function xK(s){let{root:t,xAxis:e,yAxis:i,chartConfig:r,seriesIndex:a,options:n}=s,o=r.series[a],l;if(o.type===L.LineSeries){let u=yK({chartConfig:r,seriesConfig:o});l=ri.new(t,{id:o.id,xAxis:e,yAxis:i,[u.dataFields.value]:u.properties.value,[u.dataFields.category]:u.properties.category}),l.appear();let h=Ut.new({});_s(l.uid,{bulletTemplate:h}),l.bullets.push(c=>{let A=St.new(c,{tooltipText:" ",focusable:!0},h),d=Ga.new(c,{sprite:A});return eu(A,n?.selectionTheme),l&&tu(A,l),d}),_s(l.uid,{isBoxPlotMeanLineSeries:!0})}return l}function wK(s,t){return s.get("id")===`${t}_${Ji.Outliers}`}function CK(s){let{chartConfig:t,seriesConfig:e}=s;return k0({chartConfig:t,seriesConfig:e,key:Ze.Outlier})}function _K(s){let{outlierSeries:t,data:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:n}=s;(i===!0||a===!0||r===!0||n===!0)&&t.data.setAll(e?.outliers??[])}function SK(s,t){return(s??fe.boxPlot.boxPlotOutliersVisibility)&&t!==!1}function BK(s){let{outlierSeries:t,chartSubType:e,seriesConfig:i,colorMatch:r,showOutliers:a}=s;if(Pr(t.uid,"bulletTemplate")&&i.type===L.BoxPlotSeries){let o=i.fillSymbol,l={type:Zt.SMS,style:Ua.Circle,color:o?.color,size:fe.boxPlot.boxPlotOutliersSize};t.dataItems.forEach(u=>{let h=u.bullets?.[0]?.get("sprite");if(h!==void 0){let c=tn({dataItem:u.dataContext,seriesConfig:i,chartSubType:e,colorMatch:r});en({root:t.root,seriesSymbol:l,element:h,colorMatch:r,rendererSymbol:c})}})}let n=SK(a,i.visible);is(t,n)}function FK(s){let{outlierSeries:t,data:e,seriesConfig:i,sortChanged:r,dataWasUpdated:a,rotationChanged:n,seriesWereReinitialized:o}=s;t&&i.type===L.BoxPlotSeries&&(_K({outlierSeries:t,data:e,rotationChanged:n,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:o}),ju(s)&&Wu({styleCallback:BK,callbackProps:s,series:t,seriesConfig:i}))}function PK(s){let{root:t,xAxis:e,yAxis:i,chartConfig:r,seriesIndex:a,options:n}=s,o=r.series[a],l;if(o.type===L.BoxPlotSeries){let u=CK({chartConfig:r,seriesConfig:o});l=ri.new(t,{id:`${o.id}_${Ji.Outliers}`,xAxis:e,yAxis:i,[u.dataFields.value]:u.properties.value,[u.dataFields.category]:u.properties.category}),l.strokes.template.set("forceHidden",!0);let h=Ut.new({});_s(l.uid,{bulletTemplate:h}),l.bullets.push(c=>{let A=St.new(c,{tooltipText:" ",focusable:!0},h),d=Ga.new(c,{sprite:A});return eu(A,n?.selectionTheme),l&&tu(A,l),$K({outlierSeries:l,bullet:d,seriesConfigId:o.id}),d}),_s(l.uid,{isBoxPlotOutliersSeries:!0}),l.appear()}return l}function iE(s){let{data:t,colorMatch:e,chartSubType:i,rendererType:r}=s;return t!==void 0&&e&&r!==void 0&&(i===j.BoxPlotMultiFields&&(r===Qa.UniqueValue||r===Qa.PieChart)||i===j.BoxPlotMonoFieldAndCategory&&r===Qa.UniqueValue)&&t.some(a=>Object.keys(a).some(n=>n.includes(re.rendererSymbolField)))}function TK(s){let{chartConfig:t,seriesConfig:e,type:i}=s,r="";switch(i){case Ji.Top:r=Ze.Max;break;case Ji.Median:r=Ze.Median;break;case Ji.Bottom:r=Ze.Min;break}return k0({chartConfig:t,seriesConfig:e,key:r})}function DK(s){let{stepLineSeries:t,data:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a,seriesWereReinitialized:n}=s;(i===!0||a===!0||r===!0||n===!0)&&t.data.setAll(e?.dataItems??[])}function OK(s){let{stepLineSeries:t,data:e,seriesConfig:i,seriesIndex:r,colorMatch:a,chartSubType:n,rendererType:o}=s;if(i.type===L.BoxPlotSeries){let{root:l}=t,u=iE({data:e.dataItems,colorMatch:a,chartSubType:n,rendererType:o}),h=(i.fillSymbol??by(r)).color,c={type:Zt.SLS,width:fe.boxPlot.boxPlotLineWidth,color:u?fe.boxPlot.boxPlotWhiskersColor:h};en({root:l,seriesIndex:r,seriesSymbol:c,element:t,colorMatch:a})}}function LK(s){let{stepLineSeries:t,data:e,seriesConfig:i,rotationChanged:r,sortChanged:a,dataWasUpdated:n,seriesWereReinitialized:o}=s,l=i.visible!==!1;t!==void 0&&i.type===L.BoxPlotSeries&&(is(t,l),ju(s)&&Wu({styleCallback:OK,callbackProps:s,series:t,seriesConfig:i}),DK({stepLineSeries:t,data:e,rotationChanged:r,sortChanged:a,dataWasUpdated:n,seriesWereReinitialized:o}))}function BS(s){let{root:t,xAxis:e,yAxis:i,chartConfig:r,seriesIndex:a,type:n,options:o}=s,l=r.series[a],u;if(l.type===L.BoxPlotSeries){let h=TK({chartConfig:r,seriesConfig:l,type:n});u=Vo.new(t,{id:`${l.id}_${n}`,xAxis:e,yAxis:i,noRisers:!0,[h.dataFields.value]:h.properties.value,[h.dataFields.category]:h.properties.category}),eu(u.strokes.template,o?.selectionTheme),tu(u.strokes.template,u)}return u}function k0(s){let{chartConfig:t,seriesConfig:e,key:i}=s,r=hn(t),a=t.showOutliers,n=t.standardizeValues,o=Ur(t),l=Ue(t.series),{x:u,y:h}=e,c=o?void 0:e?.query?.where,A={y:l===j.BoxPlotMultiFieldsAndCategory&&typeof h=="string"?h:void 0,chartSubType:l,splitBy:c,showOutliers:a,standardizeValues:kc(l)?n:!1},d=l===j.BoxPlotMonoField||l===j.BoxPlotMultiFields||l===j.BoxPlotMonoFieldAndSplitBy||l===j.BoxPlotMultiFieldsAndSplitBy?hA:u;return{dataFields:{value:r?"valueXField":"valueYField",category:r?"categoryYField":"categoryXField"},properties:{value:Gt({key:i,...A}),category:d}}}function IK(s,t){return s.series.values.find(e=>wK(e,t))}function rE(s,t){let e=s.series.values.find(a=>a.get("id")===`${t}_${Ji.Top}`),i=s.series.values.find(a=>a.get("id")===`${t}_${Ji.Median}`),r=s.series.values.find(a=>a.get("id")===`${t}_${Ji.Bottom}`);return{topStepLineSeries:e,medianStepLineSeries:i,bottomStepLineSeries:r}}function sE(s){return s!==j.BoxPlotMonoField&&s!==j.BoxPlotMultiFields&&s!==j.BoxPlotMonoFieldAndCategory}function aE(s){let{chart:t,candleSeriesIndex:e,numberOfCandleStickSeries:i}=s,r,a,n=xe(t.uid,"config");if(n){let o=hn(n),l=Ur(n),u=o?t.yAxes.getIndex(0)?.get("renderer"):t.xAxes.getIndex(0)?.get("renderer"),h=u?.get("cellStartLocation"),c=u?.get("cellEndLocation");if(h&&c){let A=h/(l?1:n.series.length);r=h+e/i*(c-h)+A,a=h+(e+1)/i*(c-h)-A}}return{startLocation:r,endLocation:a}}function $K(s){let{outlierSeries:t,bullet:e,seriesConfigId:i}=s;if(t){let{chart:r}=t;if(r){let a=xe(r.uid,"config");if(a){let n=Ue(a.series);if(sE(n)){let o=r.series.values.filter(u=>u instanceof xn),l=o?.findIndex(u=>u.get("id")===i);if(l&&l!==-1&&o[l]){let{startLocation:u,endLocation:h}=aE({chart:r,candleSeriesIndex:l,numberOfCandleStickSeries:o.length});u!==void 0&&h!==void 0&&e.set("locationX",(u+h)/2)}}}}}}function kK(s){let t=xe(s.uid,"config");if(t){let e=Ue(t.series),i=t.series.length,r=hn(t)?s.yAxes.getIndex(0)?.get("renderer"):s.xAxes.getIndex(0)?.get("renderer"),a=r?.get("cellStartLocation"),n=r?.get("cellEndLocation");if(a&&n){let o=s.series.values.filter(l=>l instanceof xn);o.forEach((l,u)=>{let{topStepLineSeries:h,medianStepLineSeries:c,bottomStepLineSeries:A}=rE(s,l.get("id")??"");if(sE(e)){let{startLocation:d,endLocation:f}=aE({chart:s,candleSeriesIndex:u,numberOfCandleStickSeries:o.length});[h,c,A].forEach(p=>{p!==void 0&&(p.set("stepWidth",ii(60/i)),d&&f&&p.set("locationX",(d+f)/2))})}else[h,c,A].forEach(d=>{d!==void 0&&d.setAll({stepWidth:ii(60/i)})})})}}}function MK(s){let{chartConfig:t,seriesIndex:e}=s,i=t.series[e],r=Me([i]),a=[];if(r===L.BoxPlotSeries)[gK(s),BS({...s,type:Ji.Top}),BS({...s,type:Ji.Median}),BS({...s,type:Ji.Bottom}),PK(s)].forEach(n=>{n&&a.push(n)});else if(r===L.LineSeries){let n=xK(s);n&&a.push(n)}return a}function EK(s){let{chart:t,chartConfig:e,series:i,seriesConfig:r}=s;if(t&&e)if(kK(t),i instanceof xn&&r.type===L.BoxPlotSeries){i.set("id",r.id);let a=i.get("id")??"";mK({...s,series:i,seriesConfig:r,candleStickSeries:i});let{topStepLineSeries:n,medianStepLineSeries:o,bottomStepLineSeries:l}=rE(t,a),u=[Ji.Top,Ji.Median,Ji.Bottom];[n,o,l].forEach((c,A)=>{c&&(c.set("id",`${r.id}_${u[A]}`),LK({...s,stepLineSeries:c}))});let h=IK(t,a);h&&(h.set("id",`${r.id}_${Ji.Outliers}`),FK({...s,outlierSeries:h}))}else i instanceof ri&&r.type===L.LineSeries&&vK({...s,meanLineSeries:i})}function nE(s){let{chart:t,chartData:e,chartConfig:i}=s;if(t&&e?.length>1&&i?.showMean===!0){let r=i.series[0].x??fe.originalCategoryValue,a=xe(t.uid,"boxPlotMeanLinesData");if(a!==void 0&&a.length>1){let n=[];for(let o of e){let l=a.find(u=>r in u&&u[r]===o[r]);l!==void 0&&n.push(l)}nr(t.uid,{boxPlotMeanLinesData:n})}}}function RK(s){FM(s)}function YB(s){let{isLineSmoothed:t,isRadarLineSeries:e,isRotated:i}=s,r=e?IC:Kc;return t&&(r=e?LC:i?DC:TC),r}function NK(s){let{series:t,seriesConfig:e,chartSubType:i,colorMatch:r,rendererType:a}=s,n;for(let o of t.dataItems){let l=o.dataContext;if(n=tn({seriesConfig:e,dataItem:l,chartSubType:i,colorMatch:r,rendererType:a}),n!==void 0)break}return n}function VK(s){let{series:t,seriesConfig:e,seriesIndex:i,chartSubType:r,colorMatch:a,rendererType:n}=s,o=t.root,l=NK({series:t,seriesConfig:e,chartSubType:r,colorMatch:a,rendererType:n}),u=en({root:o,seriesIndex:i,seriesSymbol:e.lineSymbol??jx(i),element:t,colorMatch:a,rendererSymbol:l});return is(t,e.visible),u.symbolWithColorInfo}function UK(s){let{series:t,seriesIndex:e,chartSubType:i,seriesConfig:r,colorMatch:a,lineColor:n}=s,o=!1,l,u=Pr(t.uid,"bulletTemplate");if(u!==void 0){r.markerVisible!==!1&&r.visible!==!1?t.bulletsContainer.show():t.bulletsContainer.hide();let{markerSymbol:h}=r;h===void 0&&(h=Hx(),h.color=n),a?h.color=n:h.color??=n;let c=tn({dataItem:t.dataItems[0]?.dataContext,seriesConfig:r,chartSubType:i,colorMatch:a});c&&c.outline&&(h.outline??=c.outline,h.outline.color=c.outline.color),jk({element:u,markerSymbol:h});let A=new Set,d;t.dataItems.forEach(f=>{let p=f.bullets?.[0]?.get("sprite");if(p!==void 0){let m=tn({dataItem:f?.dataContext,seriesConfig:r,chartSubType:i,colorMatch:a}),g=en({root:t.root,seriesIndex:e,seriesSymbol:h,element:p,colorMatch:a,rendererSymbol:m});l=g.symbolWithColorInfo,d=g.stylingInfo,sg(p,d),A.add(JSON.stringify(d))}}),o=A.size>1}return o?void 0:l}function QK(s,t){if(s.showArea===!0)if(s.areaColor!==void 0){let{color:e,opacity:i}=ts(s.areaColor);t.set("fill",e),t.fills.template.setAll({fillOpacity:i,visible:!0})}else t.set("fill",t.get("stroke")),t.fills.template.setAll({fillOpacity:fe.lineSeries.areaOpacity,visible:!0});else t.fills.template.set("visible",!1)}function oE(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,rendererType:n,chartSubType:o,seriesIndexMapper:l,seriesSymbolMapForEvent:u,isRotated:h}=s,c=t.root,A=t.chart;if(A){let d=t instanceof Dl;is(t,e.visible);let f=YB({isRadarLineSeries:d,isLineSmoothed:e.lineSmoothed,isRotated:h});t.set("curveFactory",f);let p=VK({series:t,seriesConfig:e,seriesIndex:i,chartSubType:o,colorMatch:a,rendererType:n}),m=UK({series:t,seriesConfig:e,seriesIndex:i,chartSubType:o,colorMatch:a,lineColor:p.color});u.set(l?.get(e.id)??i,{lineSymbol:p,markerSymbol:m}),QK(e,t),u.size===r&&(ll({data:gr(u),htmlContainer:c.dom,chartId:t.chart?.get("id"),colorMatchApplied:I0(A)}),u.clear())}}function HK(s){let{root:t,chartConfig:e,xAxis:i,yAxis:r,seriesConfig:a,options:n}=s,{id:o,name:l}=a,{xField:u,yField:h,xAxisField:c,yAxisField:A}=Gf(e,a),d=ri.new(t,{id:o,name:l,xAxis:i,yAxis:r,[c]:u,[A]:h,maskBullets:!1,curveFactory:YB({isRadarLineSeries:!1,isLineSmoothed:a.lineSmoothed,isRotated:e.rotated})});d.appear();let f=Ut.new({});return _s(d.uid,{bulletTemplate:f}),d.bullets.push(p=>{let m=St.new(p,{focusable:!0,role:fe.aria.defaultChartItemRole,ariaLabel:Yv(),hoverOnFocus:!0,tooltip:VB(p,d),tooltipText:" ",layer:fe.zIndexes.bulletMarkers},f);return eu(m,n?.selectionTheme),tu(m,d),LM(m,d),Ga.new(p,{sprite:m})}),WB(d),_g(d),d}function jK(s){let{lineSeries:t,data:e,seriesIndex:i,chartConfig:r,dataWasUpdated:a,seriesWereReinitialized:n,rotationChanged:o,timeZoneChanged:l,sortChanged:u,loaderHandle:h}=s,c=r.series[i];if(e!==void 0&&i>=0&&i<r.series.length&&c.type===L.LineSeries&&(o===!0||a===!0||l||n===!0||u===!0)){let{xField:A,yField:d,xAxisField:f,yAxisField:p}=Gf(r,c);t.setAll({[f]:A,[p]:d}),t.events.once(Wi.DataValidated,()=>{h.hideLoader()}),t.data.setAll(e.dataItems)}}function WK(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,rendererType:n,seriesIndexMapper:o,seriesSymbolMapForEvent:l}=s,{chart:u}=t;if(u!==void 0){let h=xe(u.uid,"config"),c=xe(u.uid,"isRotated")??!1,A=Ue(h?.series);oE({series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,chartSubType:A,rendererType:n,seriesIndexMapper:o,seriesSymbolMapForEvent:l,isRotated:c})}}function XK(s,t){let{connectLines:e,temporalBinning:i}=t,r=i?.nullPolicy;s.set("connect",e!==!1&&r!==ah.Null)}function zK(s){let{series:t,data:e,chartConfig:i,options:r,seriesIndex:a,dataWasUpdated:n,queryObject:o,subtypeInfo:l,fieldList:u,commonStrings:h,rotationChanged:c,seriesWereReinitialized:A,timeZoneChanged:d,sortChanged:f,loaderHandle:p}=s,m=i.series[a],g=i.rotated,y=i.axes,v;y?.[1]&&(v=y[1]),t.set("id",m.id),RK({seriesType:L.LineSeries,series:t,seriesConfig:m,isRotated:g,dataLabelsConfig:m.dataLabels,yAxisValueFormat:v?.valueFormat,externalDataLabelFormatter:r?.dataLabelFormatter}),HB({series:t,chartConfig:i,isRotated:g}),XK(t,m),jK({lineSeries:t,seriesIndex:a,data:e,chartConfig:i,dataWasUpdated:n,rotationChanged:c,seriesWereReinitialized:A,timeZoneChanged:d,sortChanged:f,loaderHandle:p}),UB({series:t,seriesConfig:m,fieldList:u,queryObject:o,seriesIndex:a,tooltipFormatter:r?.tooltipFormatter,commonStrings:h}),ju(s)&&Wu({styleCallback:WK,callbackProps:s,series:t,seriesConfig:m}),jB({chartConfig:i,series:t,seriesIndex:a,subtypeInfo:l,fieldList:u})}function GK(s){s.labels.template.adapters.add("text",(t,e)=>{let i=t,r=Pr(s.uid,"pieChartDataLabelFormatter");if(r){let a=e.dataItem;if(a){let n=a?.get("valuePercentTotal"),o=a?.get("value"),l=a?.get("category")??t??"";i=r(l,o,n)}}return i})}function YK(s){let t=s.labels.template;t.set("cursorOverStyle","pointer"),t.setAll({cursorOverStyle:"pointer",maxWidth:fe.pieChart.dataLabels.maxWidth??Number.NaN,oversizedBehavior:fe.pieChart.dataLabels.wrap??!0?"wrap":"none",centerX:Ye,centerY:Ye}),GK(s)}function KK(s,t){let{numericValueFormat:e,percentValueFormat:i,displayNumericValueOnDataLabel:r,displayCategoryOnDataLabel:a,displayPercentageOnDataLabel:n,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h,dataLabelsCharacterLimit:c}=t,{chart:A}=s,d;if(A){let f=mM({pieChart:A,valueIntlOptions:e?.intlOptions,percentageIntlOptions:i?.intlOptions,displayNumericValue:r??fe.pieChart.displayNumericValueOnDataLabel,displayPercentage:n??fe.pieChart.displayPercentageOnDataLabel,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h}),p=OB(c),m=$n(xe(s.chart?.uid??Number.NaN,"rtl")??!1," ");d=(g,y,v)=>{let _=f(g,y,v),S=a??fe.pieChart.displayCategoryOnDataLabel?p(g):"",F=Li(S)?"":`${S}${m}`;return F=`${F}${_}`,t.dataLabels?.content!==void 0&&(F=rn({textSymbol:{...t.dataLabels.content,text:F},format:"amChartsV5",defaults:{...fe.pieChart.dataLabels,wrap:t.optimizeDataLabelsOverlapping??fe.pieChart.dataLabels.wrap}})),F}}return d}function qK(s){let{pieSeries:t,seriesConfig:e,dataLabelFormatter:i}=s,{dataLabels:r}=e,a=e.dataLabelsOffset??fe.pieChart.dataLabelsOffset,n=e.dataLabelsInside??fe.pieChart.dataLabelsInside;_s(t.uid,{pieChartDataLabelFormatter:i??KK(t,e)}),Yl({label:t.labels.template,labelConfig:r,defaults:{...fe.pieChart.dataLabels,wrap:e.optimizeDataLabelsOverlapping??fe.pieChart.alignDataLabels}}),t.set("alignLabels",!n&&(e.alignDataLabels??fe.pieChart.alignDataLabels));let o=t.labels.template.get("radius"),l=t.labels.template.get("baseRadius");n&&l!==ii(60)?t.labels.template.setAll({radius:void 0,baseRadius:ii(60),textType:"regular"}):n||(t.labels.template.setAll({baseRadius:Be,textType:"adjusted"}),a!==void 0&&Number.isFinite(a)&&o!==a&&t.labels.template.set("radius",a))}function ZK(s){let{chartConfig:t,chartData:e}=s;if(t.orderOptions?.data!==void 0){ul({arrayToSort:e,chartConfig:t});let{slices:i}=t.series[0];i!==void 0&&i.sort((r,a)=>{let n=e.findIndex(l=>l[fe.pieChart.technicalFieldSliceId]===r.sliceId),o=e.findIndex(l=>l[fe.pieChart.technicalFieldSliceId]===a.sliceId);return n-o})}}function JK(s){let{root:t,dataContext:e,seriesConfig:i,isGroupOfSlices:r,sliceFromConfig:a,dataIndex:n,colorMatch:o}=s,l=Ue([i]),u=pa.new(t,{});u.dataItem={dataContext:e};let h=a?.fillSymbol,c=r?{...fe.pieChart.sliceGrouping.fillSymbol,...i.sliceGrouping?.fillSymbol}:gr(h??i.fillSymbol),A=tn({dataItem:e,seriesConfig:i,chartSubType:l,colorMatch:o}),{symbolWithColorInfo:d}=en({root:t,element:u,seriesSymbol:c??bp(),seriesIndex:n,rendererSymbol:A,colorMatch:o,isChartFillSymbol:!0});return d}function gI(s,t,e){let{root:i,x:r,isNonAggregatedChart:a,objectIdField:n,isPieFromFields:o,seriesConfig:l,fieldList:u,labelUpdateNeeded:h,colorMatch:c,commonStrings:A}=t,d=[],f,p;return s.forEach((m,g)=>{let y=Lk({dataContext:m,x:r,isNonAggregatedChart:a,dataIndex:g,objectIdField:n,isPieFromFields:o});m[fe.pieChart.technicalFieldSliceId]=y;let v=n0(l.slices,y),_=hl(m),S=JK({root:i,dataContext:m,seriesConfig:l,isGroupOfSlices:_,sliceFromConfig:v,dataIndex:g,colorMatch:c}),F=Ik({dataContext:m,sliceFromConfig:v,isGroupOfSlices:_,seriesConfig:l,fieldList:u,isPieFromFields:o,labelUpdateNeeded:h,colorMatch:c,commonStrings:A}),P={sliceId:y,label:F,fillSymbol:S};P.originalLabel=v?.originalLabel??(m?.[fe.originalCategoryValue]!==void 0?m?.[fe.originalCategoryValue]:P.label),ZK({chartConfig:e,chartData:s}),_?(p=m[fe.pieChart.technicalFieldGroupedSlices],l.sliceGrouping!==void 0&&(f={sliceId:l.sliceGrouping.sliceId,percentageThreshold:l.sliceGrouping.percentageThreshold,label:F,originalLabel:l.sliceGrouping.originalLabel??F,fillSymbol:S})):d.push(P)}),{slices:d,groupOfSlicesSymbols:f,groupOfSlices:p}}async function lE(s){let{data:t}=s,e=t&&"dataItems"in t?t.dataItems:[],{root:i,chartConfig:r,queryObject:a,usePopupTemplateFieldsInfo:n,labelUpdateNeeded:o,commonStrings:l}=s,u=r.series[0],{x:h}=u,c=!fB({chartConfig:r}),A=Ue([u])===j.PieFromFields,d=tr(a).objectIdField,f=await Vs(a,n),p={root:i,x:h,isNonAggregatedChart:c,objectIdField:d,isPieFromFields:A,seriesConfig:u,fieldList:f,labelUpdateNeeded:o,colorMatch:ao(r),commonStrings:l},{slices:m,groupOfSlicesSymbols:g,groupOfSlices:y}=gI(e,p,r),{slices:v}=gI(y??[],p,r);return{slices:m,groupedSlices:v,groupOfSlices:g}}function e6(s,t){let{ticks:e}=t,i=e?.visible===!1||t.dataLabelsInside===!0||t.dataLabels===void 0||t.dataLabels?.visible===!1||t.dataLabelsOffset!==void 0&&t.dataLabelsOffset<=0;s.ticks.template.set("visible",!i)}function t6(s){let{series:t,pieSlicesSymbols:e,seriesConfig:i}=s;t.slices.each((r,a)=>{let n=r.dataItem?.dataContext,o=$B({dataContext:n,pieSlicesSymbols:e,seriesConfig:i});Of({element:r,fillSymbol:o,defaultToColorFromRamp:!0,colorRampIndex:a,isChartFillSymbol:!0})})}function i6(s){let{series:t,data:e,seriesConfig:i,dataWasUpdated:r,sortChanged:a,seriesWereReinitialized:n,loaderHandle:o}=s,{x:l,y:u}=i;if(e&&(r===!0||n===!0||a===!0)){let h=Ue([i]);t.setAll({categoryField:h===j.PieFromFields?rs:l,valueField:h===j.PieFromFields?Fa:u}),t.events.once(Wi.DataValidated,()=>{o.hideLoader()}),t.data.setAll(e.dataItems)}}function r6(s,t){let{innerRadius:e}=t;s.set("innerRadius",e?ii(e):0)}function s6(s,t){let{startAngle:e,endAngle:i}=t;s.setAll({startAngle:e??fe.pieChart.min,endAngle:i??360+(s.get("startAngle")??0)})}function a6(s){let{root:t,seriesConfig:e,options:i}=s,{id:r,name:a,x:n,y:o}=e,l=Ue([e]),u=gs.new(t,{id:r,name:a,categoryField:l===j.PieFromFields?rs:n,valueField:l===j.PieFromFields?Fa:o});return YK(u),gM(u),u.slices.template.states.create("hover",{scale:1,stateAnimationDuration:0}),eu(u.slices.template,i?.selectionTheme),tu(u.slices.template,u),u.appear(),u}function n6(s){let{series:t,seriesConfig:e,seriesWereReinitialized:i,dataWasUpdated:r,sortChanged:a,data:n,options:o,loaderHandle:l}=s,{dataLabelFormatter:u,tooltipFormatter:h}=o??{};t.set("id",e.id),i6({series:t,seriesConfig:e,seriesWereReinitialized:i,dataWasUpdated:r,sortChanged:a,data:n,loaderHandle:l}),ju(s)&&Wu({styleCallback:t6,callbackProps:s,series:t,seriesConfig:e}),r6(t,e),s6(t,e),e6(t,e),Oz({series:t,seriesConfig:e,tooltipFormatter:h}),qK({pieSeries:t,seriesConfig:e,dataLabelFormatter:u})}function o6(s){let{root:t,chartConfig:e,xAxis:i,yAxis:r,seriesConfig:a,options:n}=s,{id:o,name:l}=a,{xField:u,yField:h,xAxisField:c,yAxisField:A}=Gf(e,a),d=Dl.new(t,{id:o,name:l,xAxis:i,yAxis:r,[c]:u,[A]:h,curveFactory:YB({isRadarLineSeries:!0,isLineSmoothed:a.lineSmoothed,isRotated:e.rotated}),layer:fe.zIndexes.bulletMarkers});d.appear();let f=Ut.new({});return _s(d.uid,{bulletTemplate:f}),d.bullets.push(p=>{let m=St.new(p,{tooltip:VB(p,d),tooltipText:" "},f);return eu(m,n?.selectionTheme),tu(m,d),Ga.new(p,{sprite:m})}),WB(d),_g(d),d}function l6(s){let{radarLineSeries:t,data:e,seriesIndex:i,chartConfig:r,dataWasUpdated:a,seriesWereReinitialized:n,timeZoneChanged:o,loaderHandle:l}=s,u=r.series[i];if(e!==void 0&&u?.type===L.RadarSeries&&(a||o||n)){let{xField:h,yField:c,xAxisField:A,yAxisField:d}=Gf(r,u);t.setAll({[A]:h,[d]:c}),t.events.once(Wi.DataValidated,()=>{l.hideLoader()}),t.data.setAll(e.dataItems)}}function u6(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,rendererType:n,seriesIndexMapper:o,seriesSymbolMapForEvent:l}=s,{chart:u}=t;if(u!==void 0){let h=xe(u.uid,"config"),c=xe(u.uid,"isRotated")??!1,A=Ue(h?.series);oE({series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,colorMatch:a,chartSubType:A,rendererType:n,seriesIndexMapper:o,seriesSymbolMapForEvent:l,isRotated:c})}}function h6(s){let{series:t,data:e,seriesWereReinitialized:i,chartConfig:r,options:a,seriesIndex:n,dataWasUpdated:o,timeZoneChanged:l,fieldList:u,queryObject:h,subtypeInfo:c,loaderHandle:A,commonStrings:d}=s,f=r.series[n];t.set("id",f.id),HB({series:t,chartConfig:r,isRotated:!1}),UB({series:t,seriesConfig:f,fieldList:u,queryObject:h,seriesIndex:n,tooltipFormatter:a?.tooltipFormatter,commonStrings:d}),ju(s)&&Wu({styleCallback:u6,callbackProps:s,series:t,seriesConfig:f}),jB({chartConfig:r,series:t,seriesIndex:n,subtypeInfo:c,fieldList:u}),l6({radarLineSeries:t,data:e,seriesIndex:n,chartConfig:r,dataWasUpdated:o,timeZoneChanged:l,seriesWereReinitialized:i,loaderHandle:A})}async function KB(s){let{chart:t,chartConfig:e,options:i,commonStrings:r}=s,{rotated:a}=e,{root:n}=t,o=Me(e.series);t.series.clear();let l=[],u={root:n,chartConfig:e,options:i,chart:t,commonStrings:r},h=[];for(let c=0;c<e.series.length;c+=1){let A=e.series[c],{assignToSecondValueAxis:d,type:f}=A,p=t instanceof di?IG({chart:t,chartType:o,rotated:a,assignToSecondValueAxis:d}):void 0,{xAxis:m,xAxisForHistogramOverlaySeries:g,yAxis:y}=p??{};switch(!0){case o===L.BoxPlotSeries:{m&&y&&(f===L.BoxPlotSeries||f===L.LineSeries)&&h.push(...MK({...u,xAxis:m,yAxis:y,seriesIndex:c,seriesConfig:A,chartConfig:e}));break}case f===L.HistogramSeries:{m&&y&&h.push(...mG({...u,seriesConfig:A,xAxis:m,xAxisForOverlaySeries:g,yAxis:y}));break}case f===L.PieSeries:{h.push(a6({...u,seriesConfig:A}));break}case(o===L.ComboLineAndBarSeries||o===L.BarSeries||o===L.LineSeries):{m&&y&&(f===L.BarSeries?h.push(lK({...u,seriesConfig:A,xAxis:m,yAxis:y})):f===L.LineSeries&&h.push(HK({...u,seriesConfig:A,xAxis:m,yAxis:y})));break}case f===L.RadarSeries:{m&&y&&h.push(o6({...u,seriesConfig:A,xAxis:m,yAxis:y}));break}case f===L.ScatterSeries:{m&&y&&h.push(...Xz({...u,seriesConfig:A,xAxis:m,yAxis:y}));break}}h=[...h,...await Promise.all(l)].flat()}h.forEach(c=>{c instanceof Da&&c.setPrivate("doNotUpdateLegend",!0)}),t.series.pushAll(h)}async function M0(s){let{chart:t,chartConfig:e,options:i,data:r,seriesIndexMapper:a,dataWasUpdated:n,sortChanged:o,seriesWereReinitialized:l,rotationChanged:u,colorMatchChanged:h,seriesStyleChanged:c,timeZoneChanged:A,pieSlicesSymbols:d,queryObject:f,loaderHandle:p,commonStrings:m,errorStrings:g}=s,{chartRenderer:y}=e,{root:v}=t,{series:_}=e,S=Me(e.series),F=Ue(e.series),P=t.series.values,D=ao(e),$=e.series.length,I=new Map,R=By(f),T=await Vs(f,i?.usePopupTemplateFieldsInfo),Q=tr(f),K=bg(y,Q.renderer),z=l||n||o||u,se={root:v,chartConfig:e,queryObject:f,options:i,colorMatch:D,dataWasUpdated:n,sortChanged:o,seriesWereReinitialized:l,subtypeInfo:R,fieldList:T,rendererType:K,dataLabelFormatter:i?.dataLabelFormatter,commonStrings:m,chartSubType:F,loaderHandle:p},ee={...se,numberOfSeries:$,rotationChanged:u,colorMatchChanged:h,seriesStyleChanged:c,seriesIndexMapper:a,seriesSymbolMapForEvent:I,timeZoneChanged:A};for(let ue=0;ue<_.length;ue++){let G=_[ue],q=P[ue],ge=G.type;switch(!0){case S===L.BoxPlotSeries:{q=P.find(ne=>ne.get("id")===G.id),t instanceof di&&(q instanceof xn||q instanceof ri)&&(ge===L.BoxPlotSeries||ge===L.LineSeries)&&EK({...ee,chart:t,series:q,data:r,seriesIndex:ue,seriesConfig:G,chartConfig:e,showMean:Ur(e),showOutliers:rl(e)});break}case ge===L.HistogramSeries:{q instanceof Cr&&t instanceof di&&JT(r)&&await vG({...ee,series:q,allChartSeries:P,data:r,seriesIndex:ue,seriesConfig:G,chartRenderer:y,axes:e.axes});break}case ge===L.PieSeries:{q instanceof gs&&t instanceof bn&&Py(r)&&n6({...se,series:q,seriesConfig:G,data:r,pieSlicesSymbols:d});break}case(S===L.ComboLineAndBarSeries||S===L.BarSeries||S===L.LineSeries):t instanceof di&&Py(r)&&(ge===L.BarSeries&&q instanceof Cr?dK({...ee,series:q,data:r,seriesIndex:ue,seriesConfig:G}):ge===L.LineSeries&&q instanceof ri&&zK({...ee,series:q,seriesIndex:ue,seriesConfig:G,data:r}));break;case ge===L.ScatterSeries:{q=wM(t);let ne=CM(t);q instanceof ri&&ne instanceof ri&&eD(r)&&Kz({...ee,series:q,seriesConfig:G,trendLineSeries:ne,data:r});break}case ge===L.RadarSeries:{q instanceof Dl&&t instanceof Ka&&Py(r)&&h6({...ee,series:q,data:r,seriesIndex:ue,seriesConfig:G,chartConfig:e});break}}z&&S&&q&&Ez(S,q)}await DG({chart:t,options:i,dataWasUpdated:n,data:r,chartConfig:e,queryObject:f,errorStrings:g})}function uE(s){let{data:t,seriesConfig:e,commonStrings:i}=s,r=e[0],a=t?.reduce((A,d)=>{let f=d[Fa]??d[r.y];return Number.isFinite(f)||(f=0),f+A},0),n=r?.sliceGrouping?.percentageThreshold??0,o=[],l,u=0,h=t?.find(A=>A[ja.defaultGroupOfSlicesId]===!0)?.[re.pieChart.technicalFieldGroupedSlices]??[],c=[...t,...h].filter(A=>{let d=!0,f=A[Fa]??A[r.y];if(Number.isFinite(f)){let p=f/a*100;A[re.pieChart.technicalFieldSlicePercent]=p,p<=n&&A[ja.defaultGroupOfSlicesId]!==!0&&(u+=f,o.push(A),d=!1)}else A[ja.defaultGroupOfSlicesId]!==!0&&(o.push(A),d=n===0||n===void 0);return A[ja.defaultGroupOfSlicesId]===!0&&(l=A,d=!1),d});if(n>0&&o.length>0){let A=u/a*100,d=Ue(e)===j.PieFromFields,f={...l,[ja.defaultGroupOfSlicesId]:!0,[d?rs:r.x]:r.sliceGrouping?.label??i?.pieChart.defaultSliceGroupingLabel,[d?Fa:r.y]:u,[re.pieChart.technicalFieldSlicePercent]:A,[re.pieChart.technicalFieldGroupedSlices]:o};c.push(f)}return c}function hE(s){let{chart:t,seriesConfig:e,commonStrings:i}=s,r=t.series.getIndex(0);if(r){let a=r?.data.values,n=uE({data:a,seriesConfig:e,commonStrings:i});r?.data.setAll(n)}}function c6(s){Hu(s)||s.dataItems.forEach(t=>{let e=t.bullets?.[0];if(e){let i=e.get("sprite"),r=Qu(i.uid,"selected")!==!0;Na({element:i,selected:r})}})}function d6(s){s.columns.each(t=>{let e=Qu(t.uid,"selected")!==!0;Na({element:t,selected:e})})}function A6(s){s.slices.each(t=>{let e=Qu(t.uid,"selected")!==!0;Na({element:t,selected:e})})}async function f6(s){if(D0(s)){let t=xe(s.uid,"actionMode");t!==Wt.MonoSelection&&t!==Wt.None&&(s.series.each(e=>{switch(!0){case e instanceof Cr:d6(e);break;case e instanceof ri:c6(e);break;case e instanceof gs:A6(e);break}}),await QB(s,Hr.ProgrammaticSelection))}}function p6(s){let t=Ch.new(s,{});return t.getPrivate("content").classList.add("arcgis-charts-modal"),t}function yI(s){let t="";for(let e=0;e<s.length;e+=1){let i=s[e];t+=`<li>${i.message}</li>`}return`<ol>${t}</ol>`}function tB(s){s.set("content",void 0),s.cancel()}function qB(s){let{chartModal:t,message:e,title:i,closable:r}=s;t.set("content",i!==void 0?`<div class="arcgis-charts-modal-header">${i}</div><br />${e}<br />`:`${e}`),r&&t.events.once(Wi.Opened,()=>{let a=document.createElement("input");a.type="button",a.value="OK",a.addEventListener("click",()=>{t.close()}),t.getPrivate("content").appendChild(a)}),t.open()}async function cE(s){let{chartModal:t,chartConfig:e,createMessage:i,status:r,errorStrings:a}=s,{schemaErrors:n,customErrors:o,warnings:l}=r;if(t!==void 0){let u,h;e===void 0?(h=i===void 0?a.modalHeaders.newChart:void 0,u=i??a.errors.newChartRequest):n.length>0?(h=a.modalHeaders.error,u=a.errors.simpleError):o.length>0?(h=a.modalHeaders.error,u=yI(o)):l.length>0&&(h=a.modalHeaders.warning,u=`<p>${a.errors.warningRequest}</p>${yI(l)}`),(u!==void 0||h!==void 0)&&qB({chartModal:t,message:u,title:h,closable:!1})}}async function E0(s){let{chart:t,chartModal:e,chartConfig:i,invalidType:r,elementCount:a,seriesCount:n,openModal:o,errorStrings:l}=s,u=xe(t.uid,"queryObject"),h=xe(t.uid,"options"),c=xe(t.uid,"formatLocale"),A=i!==void 0&&Xa({seriesConfig:i.series[0],xAxisValueFormatType:In(i)}),d=await d$({invalidType:r,elementCount:a,seriesCount:n,chartLimits:h?.chartLimits,filterBySelection:h?.filterBySelection,queryObject:u,formatLocale:c,isTemporalLineChart:A,errorStrings:l});n$(d,t.root.dom),e&&o!==!1&&D0(t)&&qB({chartModal:e,title:d.header,message:d.message,closable:!1})}async function dE(s){let{chart:t,chartModal:e,data:i,errorStrings:r}=s;if(t instanceof di){let a=xe(t.uid,"isRotated"),n=xe(t.uid,"options"),o=[];[{axis:t.xAxes.getIndex(0)},{axis:t.yAxes.getIndex(0)},{axis:t.xAxes.getIndex(1),isSecondValueAxis:!0},{axis:t.yAxes.getIndex(1),isSecondValueAxis:!0}].forEach(l=>{let{axis:u,isSecondValueAxis:h}=l;if(u!==void 0){let c=xc(u.get("renderer"),a);kM({axis:u,isSecondValueAxis:h,data:i})||o.push(E0({chart:t,chartModal:e,openModal:n?.messageOptions?.displayMessageWhenLogAxisNotPossible!==!1,invalidType:c?ci.NegativeValueInXAxisLogScale:ci.NegativeValueInYAxisLogScale,errorStrings:r}))}}),await Promise.all(o)}}async function AE(s){let{chart:t,chartModal:e,chartConfig:i,data:r,errorStrings:a}=s,n=xe(t.uid,"options"),o=no(r);(e?.get("content")===void 0||e?.get("content")==="")&&ew({chartConfig:i,nullAsValid:n?.messageOptions?.nullAsValid,dataSet:o})&&await E0({chart:t,chartModal:e,invalidType:ci.EmptyDataSet,openModal:n?.messageOptions?.displayMessageWhenNoData!==!1,chartConfig:i,errorStrings:a})}function m6(s){let{chart:t,chartModal:e,message:i,heading:r,options:a}=s;e!==void 0&&!t.isDisposed()&&(i!==void 0?qB({chartModal:e,message:i,title:r,closable:a?.closable??!1}):tB(e))}function fE(s){let{chart:t,data:e,config:i,hideEmptySeries:r}=s,a=i.series.length,n=gr(i),o=!1;if(r&&t instanceof di&&a>1){let l=Me(i?.series),u=Ue(i?.series),h=new Set;switch(l){case L.ComboLineAndBarSeries:case L.BarSeries:case L.RadarSeries:case L.LineSeries:{n.series.forEach(A=>{let d="";"y"in A&&(d=Array.isArray(A.y)?A.y[0]:A.y,u===j.BarAndLineSplitByNoAggregation&&(d=`${d}_${Ns({where:A.query?.where})}`),Array.isArray(e)&&e.some(f=>Cy({dataItem:f,x:A.x,y:d}))&&h.add(A))});break}case L.BoxPlotSeries:break}let c=Array.from(h.values());o=c.length>0&&c.length<a,o?(nr(t.uid,{unfilteredConfig:gr(i)}),n.series=c,nr(t.uid,{config:gr(n)})):nr(t.uid,{unfilteredConfig:void 0})}return nr(t.uid,{seriesFilteredOut:o}),{seriesFilteredOut:o,updatedConfig:n}}function g6(s,t){let e=!1,i=s.series,r=t.series,a=Me(r),n=(c,A)=>c.filter(d=>d.type===A).flatMap(d=>{let f=[];switch(A){case L.BarSeries:case L.HistogramSeries:f.push(d.fillSymbol);break;case L.LineSeries:case L.RadarSeries:f.push(d.lineSymbol,d.markerSymbol);break;case L.ScatterSeries:f.push(d.markerSymbol);break}return f}),o,l;a===L.ComboLineAndBarSeries?(o=n(i,L.BarSeries).concat(n(i,L.LineSeries)),l=n(r,L.BarSeries).concat(n(r,L.LineSeries))):(o=n(i,i[0].type),l=n(r,r[0].type));let u=!so(o,l),h=!1;switch(a){case L.LineSeries:case L.RadarSeries:case L.ComboLineAndBarSeries:h=r.filter(c=>c.type===L.LineSeries||c.type===L.RadarSeries).some(c=>{let A=i.find(d=>d.id===c.id);return(c.showArea??fe.lineSeries.showArea)!==(A?.showArea??fe.lineSeries.showArea)||(c.lineSmoothed??fe.lineSeries.lineSmoothed)!==(A?.lineSmoothed??fe.lineSeries.lineSmoothed)||(c.markerVisible??fe.lineSeries.markerVisible)!==(A?.markerVisible??fe.lineSeries.markerVisible)||c.showArea&&!so(c.areaColor,A?.areaColor)});break}return e=u||h,e}function y6(s,t){for(let e=0;e<t.length;e+=1){let i=t[e][0],r=t[e][1],a=s.length;i>=0&&i<a&&r>=0&&r<a&&s.swap(t[e][0],t[e][1])}}function b6(){Ew(BX)}function v6(s){s.dispose()}async function x6(s,t){let{root:e}=s,i=Io(t),r=await XX(i.locale);e.locale=r,nr(s.uid,{locale:i.locale,formatLocale:i.formatLocale,rtl:i.rtl})}function iB(s){let{chart:t,actionMode:e,cursorRange:i}=s;if(D0(t)){let r=e??xe(t.uid,"actionMode")??fe.actionMode;nr(t.uid,{actionMode:r}),r===Wt.None&&fc({chart:t,selectionSource:Hr.ClearSelection}),XY({chart:t,actionMode:r,cursorRange:i})}}function w6(s){return fn.rootElements.find(t=>t.dom===s)?.dispose(),Wc.new(s)}function C6(s,t){s.container.children.clear();let e=Me(t?.series),i;switch(e){case L.RadarSeries:case L.GaugeSeries:i=Ka;break;case L.PieSeries:i=bn;break;default:i=di}return s.container.children.push(i.new(s,{id:`${t?.id}`,layout:s.verticalLayout,paddingBottom:fe.chartPadding,paddingTop:fe.chartPadding,paddingRight:fe.chartPadding,paddingLeft:fe.chartPadding}))}async function _6(s){let{chart:t,chartConfig:e,data:i,dataWasUpdated:r,sortChanged:a,slicesConfigChangedSinceLastUpdate:n,chartRendererChanged:o,options:l,queryObject:u,loaderHandle:h,commonStrings:c,errorStrings:A}=s,d=await lE({root:t.root,data:i,chartConfig:e,queryObject:u,labelUpdateNeeded:r||n||o,usePopupTemplateFieldsInfo:l?.usePopupTemplateFieldsInfo,commonStrings:c});await M0({chart:t,chartConfig:e,options:l,data:i,dataWasUpdated:r,sortChanged:a,queryObject:u,pieSlicesSymbols:d,loaderHandle:h,commonStrings:c,errorStrings:A}),hE({chart:t,seriesConfig:e.series,commonStrings:c});let f=i&&"dataItems"in i?i.dataItems:[];P0({data:f,newChartConfig:e,pieSlicesSymbols:d})}async function S6(s){let{chart:t,chartConfig:e,data:i,anyGuideAboveChanged:r,dataWasUpdated:a,updateNeededDetails:n,seriesFilteredOut:o,sortChanged:l,options:u,queryObject:h,rotationChanged:c,colorMatchChanged:A,seriesStyleChanged:d,timeZoneChanged:f,timeIntervalInfoWasReset:p,loaderHandle:m,commonStrings:g,errorStrings:y}=s,{axisLabelsBehaviorChanged:v}=s,_=QG({chart:t,chartConfig:e,rotationChanged:c,axisLabelsBehaviorChanged:v,timeIntervalInfoWasReset:p}),S=_||kG({chart:t,chartConfig:e,updateNeededDetails:n,seriesFilteredOut:o});_&&(await WM({chart:t,chartConfig:e,errorStrings:y}),v=[!0,!0]),S&&(t.series.clear(),await KB({chart:t,chartConfig:e,options:u,commonStrings:g})),await XM({chart:t,chartConfig:e,queryObject:h,data:i,timeIntervalInfo:i?.timeIntervalInfo??xe(t.uid,"timeIntervalInfo"),axisLabelsBehaviorChanged:v,anyGuideAboveChanged:r,xAxisLabelFormatter:u?.xAxisLabelFormatter,yAxisLabelFormatter:u?.yAxisLabelFormatter,secondaryYAxisLabelFormatter:u?.secondaryYAxisLabelFormatter,guideTooltipFormatter:u?.guideTooltipFormatter,gaugeInnerLabelFormatter:u?.gaugeInnerLabelFormatter,commonStrings:g,errorStrings:y}),await M0({chart:t,chartConfig:e,options:u,data:i,dataWasUpdated:a,sortChanged:l,seriesIndexMapper:new Map,seriesWereReinitialized:S,rotationChanged:c,colorMatchChanged:A,seriesStyleChanged:d,timeZoneChanged:f,queryObject:h,loaderHandle:m,commonStrings:g,errorStrings:y}),tE({chart:t,scrollbarXConfig:e.axes?.[0]?.scrollbar,scrollbarYConfig:e.axes?.[1]?.scrollbar})}async function B6(s){let{chart:t,queryObject:e,legend:i,chartModal:r,loaderHandle:a,updateProps:n}=s,{newChartConfig:o,updateOptions:l,t9nStrings:u}=n,{commonStrings:h,errorStrings:c}=u,{root:A}=t,{createMessage:d,layer:f,view:p,usePopupTemplateFieldsInfo:m}=l??{};if(o===void 0)throw new Error;let g=o,y=xe(t.uid,"config"),v=xe(t.uid,"initialized");if(t.isDisposed()||v===!1||!qI(y,g))throw new uh(hh.ChartDisposed);g!==void 0&&!ko(g)&&(g=Sp({chartConfig:g,queryObject:f})),g=await gA(g,f);let _=y===void 0;y??=g;let S=await Fy({input:g,queryObject:f,allowUsingObjectIdStat:l?.messageOptions?.allowUsingObjectIdStat});if(S.valid){y!==void 0&&u$(y,g)&&(g=y0(g,A.dom));let F=Ue(g.series),P=Me(g.series),D=fA(xe(t.uid,"queryObject")),$=e;(f!==void 0||ko(g))&&($=await Mc({layer:f,view:p,chartConfig:g}),nr(t.uid,{queryObject:$})),tB(r);let I=hn(g),R=xe(t.uid,"filterBySelection"),T=xe(t.uid,"seriesFilteredOut"),Q=xe(t.uid,"unfilteredConfig");nr(t.uid,{config:gr(g),options:l,isNonAggregatedChart:!Id(F),isRotated:I,filterBySelection:l?.filterBySelection}),tK(t,l);let{dataUpdateNeeded:K,updateNeededDetails:z}=m0({forceDataUpdate:l?.dataUpdated||_,options:l,oldConfig:T?Q:y,newConfig:g,formerFilterBySelection:R,timeIntervalInfo:xe(t.uid,"data")?.timeIntervalInfo,currentSelectionDataItems:xe(t.uid,"currentSelectionDataItems"),currentSelectionOIDs:xe(t.uid,"currentSelectionOIDs"),currentSelectionIndexes:xe(t.uid,"currentSelectionIndexes")}),se=fA($);K=K||D!==se;let ee=f4(y,g),ue=l$(y,g),G=e$(y,g),q=g6(y,g),ge=mB(y,g),ne=y4(y,g),ye=o$(y,g),qe=gB({oldConfig:T?Q:y,newConfig:g,dataUpdateNeeded:K}),Ge=KI({oldConfig:y,newConfig:g,rotationChanged:ue}),it=y.series,dt=g.series,Re;if(K){a.showLoader(l?.hideLoaderAnimation!==!0);let oe=await Vs(e,m);Re=await Uf({chartConfig:g,queryObject:$,options:l,currentSelectionDataItems:xe(t.uid,"currentSelectionDataItems"),binnedServerData:xe(t.uid,"binnedServerData"),fieldList:oe,errorStrings:c,abortKey:AM(t)});let{data:Te,queryConfig:$e,valid:me,count:ke,invalidType:rt}=Re;nr(t.uid,{queryConfig:$e,initialized:me,elementCount:ke,boxPlotMeanLinesData:Te!==void 0&&"meanLines"in Te?Te.meanLines:void 0,timeIntervalInfo:Te!==void 0&&"timeIntervalInfo"in Te?Te.timeIntervalInfo:void 0}),me?($d({data:Te,seriesConfig:g.series,htmlContainer:A.dom}),tB(r)):(await E0({chart:t,chartModal:r,invalidType:rt,elementCount:ke,seriesCount:g.series.length,chartConfig:o,errorStrings:c}),a.hideLoader())}if(t instanceof Hs){let oe=h$(it,dt);oe.length>0&&(y6(t.series,oe),i&&aM({chart:t,legend:i,chartConfig:g,hideEmptySeries:l?.hideEmptySeries}))}let We=Re?.data??xe(t.uid,"data"),Rt=no(We),pi=await Vs($,l?.usePopupTemplateFieldsInfo),V=t instanceof bn?$k(it,dt):!1;(qe||V)&&(ul({arrayToSort:Rt,chartConfig:g,fieldList:pi,isTimeBinningSeries:Xa({seriesConfig:yl(o),xAxisValueFormatType:In(o),setTimeBinningInfoWhenNotProvided:l?.setTimeBinningInfoWhenNotProvided})}),P===L.BoxPlotSeries&&nE({chart:t,chartData:K?Rt:We,chartConfig:g}),nr(t.uid,{fieldList:pi}),We&&"dataItems"in We&&(We.dataItems=Rt)),(K||qe)&&$d({data:We,seriesConfig:g.series,htmlContainer:A.dom});let _e=$S({oldConfig:y,newConfig:g}),ve=vc({chartConfig:g,queryObject:$}),Z=Ur(g),Y=fE({chart:t,data:Z?We:Rt,config:g,hideEmptySeries:l?.hideEmptySeries??fe.options.hideEmptySeries});if(g=Y.updatedConfig,We&&"dataItems"in We&&(K||ge)){let oe=await Qf({data:Z&&"meanLines"in We&&We.meanLines!==void 0?We.meanLines:We.dataItems,chartConfig:g,queryObject:$,allowColorMatch:ve});We.dataItems=oe.dataItems,nr(t.uid,{colorMatchApplied:oe.colorMatchApplied,rendererFieldNames:oe.rendererFieldNames})}switch(nr(t.uid,{data:We}),zM(t,g.background),ZM(t,{title:g.title,subtitle:g.subtitle}),JM(t,g.footer),qM({root:A,chart:t,cursorCrosshair:g.cursorCrosshair,config:g}),Me(g.series)){case L.PieSeries:{t instanceof bn&&await _6({chart:t,chartConfig:g,options:l,data:We,dataWasUpdated:K,slicesConfigChangedSinceLastUpdate:_e,chartRendererChanged:ge,sortChanged:qe,queryObject:$,loaderHandle:a,commonStrings:h,errorStrings:c});break}case L.BarSeries:case L.LineSeries:case L.ComboLineAndBarSeries:case L.ScatterSeries:case L.RadarSeries:case L.GaugeSeries:case L.HistogramSeries:case L.BoxPlotSeries:t instanceof di&&await S6({chart:t,chartConfig:g,options:l,data:We,dataWasUpdated:K,updateNeededDetails:z,seriesFilteredOut:Y.seriesFilteredOut,sortChanged:qe,axisLabelsBehaviorChanged:Ge,anyGuideAboveChanged:ee,rotationChanged:ue,colorMatchChanged:G,seriesStyleChanged:q,timeZoneChanged:ne,timeIntervalInfoWasReset:ye,queryObject:$,loaderHandle:a,commonStrings:h,errorStrings:c});break}t instanceof Hs&&lM({chart:t,chartConfig:g,legend:i,hideEmptySeries:l?.hideEmptySeries}),iB({chart:t,actionMode:l?.actionMode,cursorRange:l?.cursorRange}),K||a.hideLoader(),await AE({chart:t,chartModal:r,chartConfig:g,data:We,errorStrings:c}),await dE({chart:t,chartModal:r,data:We,errorStrings:c})}else await cE({chartModal:r,chartConfig:g,createMessage:d,status:S,errorStrings:c});bc(S,A.dom)}async function F6(s){let{chart:t,data:e,chartConfig:i,options:r,queryObject:a,loaderHandle:n,commonStrings:o,errorStrings:l}=s;await KB({chart:t,chartConfig:i,options:r,commonStrings:o});let u=await lE({root:t.root,data:e,chartConfig:i,queryObject:a,labelUpdateNeeded:!0,usePopupTemplateFieldsInfo:r?.usePopupTemplateFieldsInfo,commonStrings:o});await M0({chart:t,chartConfig:i,options:r,data:e,dataWasUpdated:!0,pieSlicesSymbols:u,queryObject:a,loaderHandle:n,commonStrings:o,errorStrings:l}),hE({chart:t,seriesConfig:i.series,commonStrings:o});let h=e&&"dataItems"in e?e.dataItems:[];P0({data:h,newChartConfig:i,pieSlicesSymbols:u})}async function P6(s){let{chart:t,data:e,chartConfig:i,options:r,queryObject:a,loaderHandle:n,commonStrings:o,errorStrings:l}=s;eE(t),tE({chart:t,scrollbarXConfig:i.axes?.[0]?.scrollbar,scrollbarYConfig:i.axes?.[1]?.scrollbar}),await WM({chart:t,chartConfig:i,errorStrings:l}),await XM({chart:t,chartConfig:i,queryObject:a,axisLabelsBehaviorChanged:[!0,!0],data:e,timeIntervalInfo:e?.timeIntervalInfo,xAxisLabelFormatter:r?.xAxisLabelFormatter,yAxisLabelFormatter:r?.yAxisLabelFormatter,secondaryYAxisLabelFormatter:r?.secondaryYAxisLabelFormatter,guideTooltipFormatter:r?.guideTooltipFormatter,gaugeInnerLabelFormatter:r?.gaugeInnerLabelFormatter,commonStrings:o,errorStrings:l}),await KB({chart:t,chartConfig:i,options:r,commonStrings:o}),await M0({chart:t,chartConfig:i,seriesIndexMapper:new Map,options:r,data:e,dataWasUpdated:!0,timeZoneChanged:!0,queryObject:a,loaderHandle:n,commonStrings:o,errorStrings:l})}async function T6(s){let{chartContainer:t,chartConfig:e,options:i,globalOptions:r,t9nStrings:a}=s,{errorStrings:n,commonStrings:o}=a,{layer:l,view:u,createMessage:h}=i??{};b6(),t==null&&await pc("divNode",n);let c;e!==void 0&&(ko(e)?c=e:c=Sp({chartConfig:e,queryObject:l})),c=await gA(c,l);let A;(ko(c)||l!==void 0)&&(A=await Mc({chartConfig:c,layer:l,view:u}));let d=w6(t);DX(d,r?.enableResponsiveFeatures);let f=C6(d,c);await x6(f,t);let p,m=eK({root:d,chart:f,options:i}),g=p6(d);OX(d,r?.useAnimatedCharts);let y=await Fy({input:c,queryObject:A,allowUsingObjectIdStat:i?.messageOptions?.allowUsingObjectIdStat});if(y.valid&&!f.isDisposed()){c=y0(c,t),m.showLoader(i?.hideLoaderAnimation!==!0);let _=m.hideLoader,S=Ue(c.series),F=hn(c);nr(f.uid,{options:i,filterBySelection:i?.filterBySelection,config:c,queryObject:A,isNonAggregatedChart:!Id(S),isRotated:F}),KM({root:d,chart:f,config:c}),qM({root:d,chart:f,cursorCrosshair:c.cursorCrosshair,config:c});let{title:P,subtitle:D,footer:$}=c;GY(d,f),ZM(f,{title:P,subtitle:D}),YY(f),JM(f,$),HY(d,f),zM(f,c.background);let I=await Vs(A,i?.usePopupTemplateFieldsInfo);nr(f.uid,{fieldList:I});let{data:R,queryConfig:T,valid:Q,invalidType:K,count:z}=await Uf({chartConfig:c,queryObject:A,options:i,fieldList:I,errorStrings:n,abortKey:AM(f)});if(!Q)await E0({chart:f,chartModal:g,invalidType:K,elementCount:z,seriesCount:c.series.length,chartConfig:e,errorStrings:n}),m.hideLoader();else{nr(f.uid,{options:i,queryConfig:T,initialized:Q,elementCount:z,boxPlotMeanLinesData:R!==void 0&&"meanLines"in R?R.meanLines:void 0,timeIntervalInfo:R!==void 0&&"timeIntervalInfo"in R?R.timeIntervalInfo:void 0});let se=no(R),ee=Ur(c);if(c=fE({chart:f,hideEmptySeries:i?.hideEmptySeries??fe.options.hideEmptySeries,data:ee?R:se,config:c}).updatedConfig,R&&"dataItems"in R){let G=await Qf({data:ee&&"meanLines"in R&&R.meanLines!==void 0?R.meanLines:R.dataItems,queryObject:A,chartConfig:c,allowColorMatch:vc({chartConfig:c,queryObject:A})});R.dataItems=G.dataItems,nr(f.uid,{colorMatchApplied:G.colorMatchApplied,rendererFieldNames:G.rendererFieldNames})}nr(f.uid,{queryConfig:T,initialized:Q,elementCount:z,data:R});let ue=Ue(c.series);Me(c.series)===L.BoxPlotSeries&&ue!==j.BoxPlotMonoField&&ue!==j.BoxPlotMonoFieldAndSplitBy&&(ul({arrayToSort:se,chartConfig:c,fieldList:I}),nE({chart:f,chartData:se,chartConfig:c})),$d({data:R,seriesConfig:c.series,htmlContainer:t}),iK(d,_),f instanceof di?await P6({chart:f,data:{...R,dataItems:se,meanLines:xe(f.uid,"boxPlotMeanLinesData")},chartConfig:c,options:i,queryObject:A,loaderHandle:m,commonStrings:o,errorStrings:n}):f instanceof bn&&await F6({chart:f,data:R,chartConfig:c,options:i,queryObject:A,loaderHandle:m,commonStrings:o,errorStrings:n}),f instanceof Hs&&(p=ZL(f,c.series),lM({chart:f,chartConfig:c,legend:p,hideEmptySeries:i?.hideEmptySeries})),iB({chart:f,actionMode:i?.actionMode,cursorRange:i?.cursorRange}),rG(f)}await AE({chart:f,chartModal:g,chartConfig:c,data:R,errorStrings:n}),await dE({chart:f,chartModal:g,data:R,errorStrings:n})}else nr(f.uid,{initialized:!1}),f.isDisposed()||await cE({chartModal:g,chartConfig:c,createMessage:h,status:y,errorStrings:n});bc(y,d.dom);function v(){tY(f)}return{update:async _=>{p===void 0&&(p=ZL(f,_.newChartConfig.series)),await B6({chart:f,queryObject:A,legend:p,chartModal:g,loaderHandle:m,updateProps:_})},dispose:()=>v6(d),notify:(_,S,F)=>m6({chartModal:g,chart:f,message:_,heading:S,options:F}),resetZoom:v,clearSelection:()=>fc({chart:f}),switchSelection:async()=>await f6(f),exportImage:async _=>await lz({root:d,exportOptions:_}),setActionMode:(_,S)=>iB({chart:f,actionMode:_,cursorRange:S})}}var h0=new Map;function So(s){s!==void 0&&h0.delete(s)}function Hd(s,t){let e=h0.get(s)??{};h0.set(s,{...e,...t})}function jd(s,t){return h0.get(s)?.[t]}function D6(s,t){return jd(s,t)}function O6(s,t){Hd(s,t)}function L6(s,t){return jd(s,t)}function I6(s,t){Hd(s,t)}function Ae(s,t){return jd(s,t)}function kt(s,t){Hd(s,t)}function Ht(s,t){return jd(s,t)}function cs(s,t){Hd(s,t)}function na(s,t){return jd(s,t)}function Ks(s,t){Hd(s,t)}function $6(s,t){return jd(s,t)}function k6(s,t){Hd(s,t)}function $s(s,t){return jd(s,t)}function Zl(s,t){Hd(s,t)}var J={...re};async function M6(s=Io().locale){let t=await import("./T3Y6BCIG.js"),e=await import("./MYKWJRWD.js");switch(s){case ze.Arabic:t=await import("./H653LVLZ.js"),e=await import("./QG4QJ5HW.js");break;case ze.Bosnian:t=await import("./6Q6TYUQO.js"),e=await import("./4ILK7DHI.js");break;case ze.Bulgarian:t=await import("./73RQFOF6.js"),e=await import("./EAC4SRCL.js");break;case ze.Catalan:t=await import("./5Q5LYF5L.js"),e=await import("./YXBXDCWY.js");break;case ze.Czech:t=await import("./ET4JXGHL.js"),e=await import("./6CRROFPH.js");break;case ze.Danish:break;case ze.German:t=await import("./N7OBIL3N.js"),e=await import("./IRSW7A2C.js");break;case ze.Greek:t=await import("./DMLAZA54.js"),e=await import("./XHQMTE7X.js");break;case ze.EnglishUSA:t=await import("./T3Y6BCIG.js"),e=await import("./MYKWJRWD.js");break;case ze.Spanish:t=await import("./7KPZETJY.js"),e=await import("./FTTAOS47.js");break;case ze.Estonian:t=await import("./DZLYW7B3.js"),e=await import("./S6P3A4C5.js");break;case ze.Finnish:t=await import("./HR2GJPOL.js"),e=await import("./NWXJKHQN.js");break;case ze.French:t=await import("./QQWSIGJN.js"),e=await import("./YCIGPXP2.js");break;case ze.Hebrew:t=await import("./IWH5DAFR.js"),e=await import("./A2ALHL5G.js");break;case ze.Croatian:t=await import("./7H3IR6QP.js"),e=await import("./XBGRXU7H.js");break;case ze.Hungarian:t=await import("./MSQZEVXZ.js"),e=await import("./TPJFBWAJ.js");break;case ze.Indonesian:t=await import("./EOLNZWUU.js"),e=await import("./IQRTOXB2.js");break;case ze.Italian:t=await import("./JFQKNWAC.js"),e=await import("./PTLD7S2P.js");break;case ze.Japanese:t=await import("./KMPNGHWS.js"),e=await import("./JYTQFNRB.js");break;case ze.Korean:t=await import("./LPEA67FS.js"),e=await import("./2GXDTATF.js");break;case ze.Lithuanian:t=await import("./OFWKGVTV.js"),e=await import("./RGAUTVT3.js");break;case ze.Latvian:t=await import("./KGOLF5PQ.js"),e=await import("./XQKWYNV7.js");break;case ze.NorwegianBokml:t=await import("./GZI7T66M.js");break;case ze.Dutch:t=await import("./PMNT6MGO.js"),e=await import("./HEG7NKOF.js");break;case ze.Polish:t=await import("./WRVMKWHJ.js"),e=await import("./N3M5ZQED.js");break;case ze.PortugueseBrazil:t=await import("./EHBWOBH4.js"),e=await import("./RMI74IV3.js");break;case ze.PortuguesePortugal:t=await import("./ZP4NNB7Q.js"),e=await import("./XNTNTJMS.js");break;case ze.Romanian:t=await import("./5X3FF7NA.js"),e=await import("./MWLMMRPI.js");break;case ze.Russian:t=await import("./6JD3HGT2.js"),e=await import("./YD6LXEBY.js");break;case ze.Serbian:t=await import("./45SWUNSL.js"),e=await import("./ESETPPZQ.js");break;case ze.Slovak:t=await import("./KBONGK5M.js"),e=await import("./SO4637NG.js");break;case ze.Slovenian:t=await import("./XTYWSHB4.js"),e=await import("./CLB6PV6F.js");break;case ze.Swedish:t=await import("./F2QE5PCB.js"),e=await import("./WJVVT73T.js");break;case ze.Thai:t=await import("./7FWPVJ66.js"),e=await import("./TUBSMXHL.js");break;case ze.Turkish:break;case ze.Ukrainian:t=await import("./QUTSI75N.js"),e=await import("./NG4TTLFK.js");break;case ze.Vietnamese:t=await import("./NRR6C25V.js"),e=await import("./5B45YTTP.js");break;case ze.ChineseChina:t=await import("./CQ7NY2EB.js"),e=await import("./WZGT5SMF.js");break;case ze.ChineseHongKong:t=await import("./3J7AZKEF.js"),e=await import("./BEDED46D.js");break;case ze.ChineseTaiwan:t=await import("./3J7AZKEF.js"),e=await import("./JVIA3PFY.js");break;case ze.English:}return{...t.default,...e.default}}function Yn(s){let{type:t,iLocale:e,formatLocale:i=Io().formatLocale}=s,r;switch(t){case L.NumberAxisFormat:{r=new Du,r.language.locale=e,r.intlLocales=i;break}case L.DateAxisFormat:{r=new Qn,r.language!==void 0&&(r.language.locale=e),r.intlLocales=i;break}}return r}function E6(s){let t=!1;return s instanceof $t&&(t=Ae(s.uid,"isRotated")===!0?s.yAxes.getIndex(0)instanceof Pt:s.xAxes.getIndex(0)instanceof Pt),t}function rB(s){let{axis:t,valueFormat:e,chartType:i}=s,r=p0({isXAxis:!0,chartType:i,valueFormat:e}),a=qn(e)&&t instanceof Pt,n=Tr(e)&&t instanceof je&&!(t instanceof Pt),o=r&&t instanceof Vt;return!a&&!n&&!o}function ZB(s,t){let e=typeof t=="number"?`${t}`:t,i=na(s.uid,"numberFormatter");return i!==void 0&&(e=i(t)),Li(e)&&(e=J.htmlEmptyContent),ns(e)}function R6(s){s.renderer.labels.template.html=J.htmlEmptyContent,s.renderer.labels.template.adapter.add("htmlOutput",(t,e)=>ZB(s,e?.dataItem?.value??t),0)}function pE(s){let{axis:t,defaultOutput:e,dataItem:i}=s,r=e,a=na(t.uid,"categoryFormatter"),n=na(t.uid,"numberFormatter");if((n!==void 0||a!==void 0)&&i instanceof Xl){let o=Ae(t.chart.uid,"config"),l=Ae(t.chart.uid,"rendererFieldNames"),u=Dn({value:i.category,dataContext:i.dataContext,useRendererLabel:F0(o,l)});if(typeof u=="number"&&n!==void 0)r=n(u);else if(a!==void 0){let h=Ue(o?.series);if([j.BoxPlotMonoField,j.BoxPlotMultiFields,j.BoxPlotMonoFieldAndSplitBy,j.BoxPlotMultiFieldsAndSplitBy,j.BarAndLineFromFields].includes(h)&&typeof u=="string"){let A=Ae(t.chart.uid,"fieldList");u=yr(A,u)}let c=sl(i.dataContext);c===void 0&&(c=u),r=a(u,c)}}return Li(r)&&(r=J.htmlEmptyContent),ns(r)}function N6(s){s.renderer.labels.template.html=J.htmlEmptyContent,s.renderer.labels.template.adapter.add("htmlOutput",(t,e)=>pE({axis:s,defaultOutput:t,dataItem:e?.dataItem}),0)}function V6(s){let{axis:t,defaultOutput:e,dataItem:i}=s,r=e,a=na(t.uid,"dateFormatter");return a!==void 0&&i instanceof Kh&&(r=a(i.value??e)),Li(r)&&(r=J.htmlEmptyContent),ns(r)}function U6(s){s.renderer.labels.template.adapter.add("htmlOutput",(t,e)=>V6({axis:s,dataItem:e?.dataItem,defaultOutput:t}),0),s.renderer.labels.template.adapter.disableKey("htmlOutput")}function Q6(s){s.renderer.labels.template.adapter.add("htmlOutput",t=>{let e=t,i=na(s.uid,"fontStyleCallback");return i!==void 0&&(e=i(e)),ns(e)},1)}function H6(s){s instanceof je&&!(s instanceof Pt)?R6(s):s instanceof Vt?N6(s):s instanceof Pt&&U6(s),Q6(s)}function j6(s){let{axis:t,formatOptions:e,dateAxisFormatter:i}=s;if(Ks(t.uid,{dateFormatter:i}),i===void 0){t.renderer.labels.template.adapter.isEnabled("htmlOutput")&&(t.renderer.labels.template.adapter.disableKey("htmlOutput"),t.renderer.labels.each(n=>{n.element instanceof Fm&&n.element.removeChildren()}));let r={...mc(e)},a=["year","month","day","hour","minute","second"];t.timezone!==r.timeZone&&(t.setPropertyValue("timezone",r.timeZone),t.chart.validateData()),t.dateFormatter.timezone=r.timeZone,delete r.timeZone;for(let n=0;n<a.length;n+=1){let o=a[n],l=n===0?o:a[n-1],u=e?.formatPerDateTimeUnit?.[o]??r,h=e?.formatPerDateTimeUnit?.[l];oh(u)||(t.dateFormats.setKey(o,u),t.periodChangeDateFormats.setKey(o,h??u))}t.dateFormats.getKey("day")||t.dateFormats.setKey("day",J.dayDefaultFormat),t.periodChangeDateFormats.getKey("day")||t.periodChangeDateFormats.setKey("day",J.dayDefaultFormat),t.dateFormats.getKey("week")||t.dateFormats.setKey("week",t.dateFormats.getKey("day")??J.weekDefaultFormat),t.periodChangeDateFormats.getKey("week")||t.periodChangeDateFormats.setKey("week",t.periodChangeDateFormats.getKey("day")??J.weekDefaultFormat),t.invalidateLabels()}else t.renderer.labels.template.html=J.htmlEmptyContent,t.renderer.labels.template.adapter.enableKey("htmlOutput")}function W6(s,t,e,i){let r=Yn({type:L.NumberAxisFormat,iLocale:t,formatLocale:e});return r.numberFormat=s,a=>{let n=0;return a instanceof Date?a.toLocaleString(void 0,s):(n=typeof a!="string"?a??0:Ux(a,r.intlLocales),i===!0&&s.style==="percent"&&(n/=100),r.format(n))}}function bI(s){let{axis:t,formatOptions:e,overridePercentMultiplication:i,valueAxisFormatter:r}=s,a=mc(e),n=Ae(t.chart.uid,"formatLocale");Ks(t.uid,{numberFormatter:r??W6(a,t.chart.language.locale,n,i)})}function X6(s){let{axis:t,formatOptions:e,categoryAxisFormatter:i}=s,r=i!==void 0?i:OB(e.characterLimit);Ks(t.uid,{categoryFormatter:r})}function z6(s){let{axis:t,labelsTextSymbol:e,axisValueFormatter:i}=s,r=Ae(t.chart.uid,"config")?.horizontalAxisLabelsBehavior;if(Ks(t.uid,{axisLabelsBehavior:r}),i!==void 0)Ks(t.uid,{fontStyleCallback:void 0});else if(na(t.uid,"fontStyleCallback")===void 0){let a=n=>{let o=na(t.uid,"axisLabelsBehavior");return rn({textSymbol:e,placeholderString:n,format:"html",axisLabelsBehavior:o,defaults:{maxWidth:t.renderer.labels.template.maxWidth}})};Ks(t.uid,{fontStyleCallback:a})}}async function G6(s){let{axis:t,isXAxis:e,formatOptions:i,labelsTextSymbol:r,overridePercentMultiplication:a,chartType:n,axisValueFormatter:o,errorStrings:l}=s,u=p0({isXAxis:e,chartType:n,valueFormat:i}),h=!1;!(t instanceof Pt)&&Tr(i)?bI({axis:t,formatOptions:i,overridePercentMultiplication:a,valueAxisFormatter:o}):t instanceof Pt&&qn(i)?j6({axis:t,formatOptions:i,dateAxisFormatter:o}):t instanceof Vt?gc(i)||u?(X6({axis:t,formatOptions:i,categoryAxisFormatter:o}),Ks(t.uid,{numberFormatter:void 0})):Tr(i)?(bI({axis:t,formatOptions:i,overridePercentMultiplication:a,valueAxisFormatter:o}),Ks(t.uid,{categoryFormatter:void 0})):h=!0:h=!0,h&&await pc("mismatchAxisAndValueFormat",l),z6({axis:t,labelsTextSymbol:r,axisValueFormatter:o}),t.invalidateLabels()}var Ie={Ready:"ready",Hidden:"hidden",Shown:"shown",Hit:"hit",DoubleHit:"doublehit",Up:"up",SelectEnded:"selectended",Over:"over",Out:"out",SizeChanged:"sizechanged",VisibilityChanged:"visibilitychanged",PositionChanged:"positionchanged",Validated:"validated",DataItemsValidated:"dataitemsvalidated",Inited:"inited",Opened:"opened",Closed:"closed",ChildAdded:"childadded",DataRangeChanged:"datarangechanged",LayoutValidated:"layoutvalidated"};function ti(s,t){t===!1&&!s.isHiding?(s.visible=!1,s.hide()):s.isShowing||(s.visible=!0,s.show())}function Y6(s,t){for(let e=0;e<t.length;e+=1){let i=t[e][0],r=t[e][1],a=s.length;i>=0&&i<a&&r>=0&&r<a&&s.swap(t[e][0],t[e][1])}}function mE(s,t){let e;if(s!==void 0&&"rgb"in s&&s.rgb!==void 0){let i=s.rgb;if(i!==void 0){let{r,g:a,b:n}=i;e=[r,a,n,255]}}return e}function Ed(s){let t=s??[0,0,0,255];return new Ft({a:t[3]/255,b:t[2],g:t[1],r:t[0]})}function Mr(s){return s.bullets.values.find(t=>$6(t.uid,"isBulletMarker"))}function Sg(s){return FA(s.uid.toString(),kk)}function Zn(s){return s!=null&&!s.isDisposed()}function hg(s){return(s.isShowing||s.visible)&&!s.isHidden&&!s.isHiding&&!s.disabled&&!s.__disabled}function gE(s,t){return s.pixelX<0||s.pixelX>t?.plotContainer?.measuredWidth||s.pixelY<0||s.pixelY>t?.plotContainer?.measuredHeight}function K6(s){let t;return s.baseSprite instanceof $t||s.baseSprite instanceof Ki?t=s.baseSprite:(s instanceof zh||s instanceof of)&&(t=s.axis.chart),t}function q6(s){return mE(s.background.fill)}function Rd(s){let{value:t,valueFormat:e,iLocale:i,formatLocale:r}=s,a=t?.toString(),n=Yn({type:e.type,iLocale:i,formatLocale:r});return(typeof t=="number"&&e.type===L.NumberAxisFormat||(typeof t=="number"||t instanceof Date)&&e.type===L.DateAxisFormat)&&(a=n.format(t,mc(e))),a}function Kn(s){let{chart:t,config:e}=s,i=e;return e===void 0&&t!==void 0&&(i=Ae(t.uid,"config")),hn(i)}function Z6(s){s instanceof Lu&&s.series.each(t=>{So(t.uid),t instanceof li&&So(Mr(t)?.uid),t.bullets.each(e=>{So(e.uid)}),t instanceof $i&&t.columns.template.children.each(e=>{So(e.uid)})}),s instanceof $t&&[s.xAxes.getIndex(0),s.xAxes.getIndex(1),s.yAxes.getIndex(0),s.yAxes.getIndex(1)].forEach(t=>{t!==void 0&&(So(t.uid??""),t.axisRanges.each(e=>{So(e.label?.uid)}))}),s instanceof ra&&s.radarContainer.children.each(t=>{So(t.uid)}),s instanceof Ki&&s.series.getIndex(0)?.slices.each(t=>{So(t.uid)}),"cursor"in s&&s.cursor instanceof pf&&So(s.cursor?.uid),"legend"in s&&s.legend!==void 0&&(So(s.legend.uid),So(s.legend.valueLabels?.template?.uid)),So(s.uid)}function Nv(s){return typeof s=="number"?s:s.value}async function J6(s){let{chart:t,exportOptions:e}=s,{format:i,quality:r=1,...a}=e,n=r<0||r>1?1:r,o=await t.exporting.getImage(i,{quality:n,...a}),l=qk(o),u=i==="jpg"?"image/jpeg":"image/png";return new File([l],`chart.${i}`,{type:u})}function e9(s){let{fill:t,rotation:e,isLinePattern:i,chartBackgroundColor:r}=s,a;return i!==!1?(a=new Fd,a.width=J.patternLineProperties.width??Number.NaN,a.height=J.patternLineProperties.height??Number.NaN,a.strokeWidth=J.patternLineProperties.strokeWidth??Number.NaN,a.stroke=t,a.rotation=e??Number.NaN):(a=new Pd,a.rectWidth=J.patternRectProperties.rectWidth??Number.NaN,a.rectHeight=J.patternRectProperties.rectHeight??Number.NaN,a.width=J.patternRectProperties.width??Number.NaN,a.height=J.patternRectProperties.height??Number.NaN,a.fillOpacity=J.patternRectProperties.fillOpacity??Number.NaN,a.strokeWidth=J.patternRectProperties.strokeWidth??Number.NaN,a.fill=Ed(r),a.stroke=t,a.rotation=e??Number.NaN),a}function vI(s){let t=Number.NaN;if(typeof s=="number")t=s;else if(s.includes("%")){let e=Number.parseFloat(s.trim().replace("%","").trim());Number.isFinite(e)&&(t=he(e))}return t}function t9(s){let{fill:t,style:e,chartBackgroundColor:i}=s,r,a,n=!0;switch(e){case ha.Horizontal:{a=0;break}case ha.Vertical:{a=90;break}case ha.ForwardDiagonal:{a=45;break}case ha.BackwardDiagonal:{a=135;break}case ha.DiagonalCross:case ha.Cross:{a=0,n=!1;break}case ha.Solid:}return a!==void 0&&(r=e9({fill:t,rotation:a,isLinePattern:n,chartBackgroundColor:i})),r}function Ca(s,t){let e;t!==void 0&&(e=Ed(t));let i=e??new Ft({r:0,g:0,b:0,a:0});if(s!=null){let[r,a,n,o]=s;i=new Ft({r,g:a,b:n,a:o/255})}return i}function yE(s,t=0){return(s??t)%360}function i9(s,t){return t!==!0||s?.includes("Dot")===!0?"round":"square"}function r9(s,t){let e="",i=(t??0)/2,r=0-i,a=0+i,n=0-i,o=0+i;switch(s){case Ua.Circle:e=`M ${r},0 a ${i},${i} 0 1,0 ${i*2},0 a ${i},${i} 0 1,0 ${-i*2},0`;break;case Ua.Cross:e=`M ${r},0 L ${a},0 M 0,${n} L 0,${o} E`;break;case Ua.Diamond:e=`M ${r},0 L 0,${n} L ${a},0 L 0,${o} L ${r},0 Z`;break;case Ua.Square:e=`M ${r},${o} L ${r},${n} L ${a},${n} L ${a},${o} L ${r},${o} Z`;break;case Ua.Triangle:e=`M ${r},${o} L 0,${n} L ${a},${o} L ${r},${o} Z`;break;case Ua.X:e=`M ${r},${o} L ${a},${n} M ${r},${n} L ${a},${o} E`;break}return e}function bE(s,t){let e="none";switch(s??t){case Pi.Justify:case Pi.Center:e="center";break;case Pi.Left:e="left";break;case Pi.Right:e="right";break}return e}function JB(s,t){let e="middle";switch(s??t){case Pi.Right:e="left";break;case Pi.Left:e="right";break;case Pi.Center:case Pi.Justify:}return e}function s9(s,t){let e="none";switch(s??t){case si.Baseline:case si.Middle:e="middle";break;case si.Top:e="top";break;case si.Bottom:e="bottom";break}return e}function vE(s,t){let e=si.Middle;switch(s??t){case si.Top:e="bottom";break;case si.Bottom:e="top";break;case si.Baseline:case si.Middle:default:e="middle";break}return e}function a9(s,t){let e=s??Rs.Solid,i=t??J.lineWidth,r={[Rs.Solid]:"none",[Rs.Dot]:[1,i],[Rs.DashDotDot]:[4*i,i,1,i,1,i],[Rs.Dash]:[4*i,3*i],[Rs.DashDot]:[4*i,3*i,1,3*i],[Rs.Null]:"none"};return(r[e]??r[Rs.Null]).toString()}function xE(s,t){let e={stroke:Ca(),strokeWidth:J.lineWidth,strokeDasharray:"",strokeLinecap:t!==!0?"round":"square",strokeOpacity:uA};return s!=null&&(e.stroke=Ca(s.color),e.strokeOpacity=1,s.width!==void 0&&(e.strokeWidth=s.width),s.style!==void 0&&s.style!==Rs.Null&&(e.strokeDasharray=a9(s.style,e.strokeWidth),e.strokeLinecap=i9(s.style,t))),e}function wE(s,t){let e=s,[i,r,a,n]=s?.color??t??J.color,o=[i,r,a,n];return e==null?e={type:Zt.SLS,color:o}:e.color===void 0&&(e.color=o),xE(e,!1)}function n9(s,t){let{color:e,outline:i,style:r}=s,a=Ca(e);return{pattern:t9({fill:a,style:r,chartBackgroundColor:t}),fill:a,outline:wE(i,e)}}function o9(s){let{color:t,outline:e,xoffset:i,yoffset:r,style:a,size:n,angle:o}=s,l=a!==void 0?r9(a,n):"",u=yE(o);return{path:l,fill:Ca(t),outline:wE(e,t),xOffset:i??0,yOffset:r??0,angle:u}}function eF(s){let{symbol:t,defaultToColorFromRamp:e,colorRampIndex:i,isChartFillSymbol:r=!1,chartBackgroundColor:a}=s,n;if(e===!0){let o=r?Ic:uA;if(t.color=t.color??Mn({colorIndex:i,opacity:o}),Fp(t)||Ec(t)){let{outline:l}=t;l!==void 0&&(l.color=l?.color??Mn({colorIndex:i}),t.outline={...l})}}return Ec(t)&&(t.style??=J.lineMarker.markerStyle,t.size??=J.lineMarker.markerSize),nw(t)?n=xE(t,!0):Ec(t)?n=o9(t):Fp(t)&&(n=n9(t,a)),n}function c0(s,t,e){let i=JB(s.horizontalAlignment,e?.horizontalCenter),r=bE(s.horizontalAlignment,e?.align),a=vE(s.verticalAlignment,e?.verticalCenter),n=s9(s.verticalAlignment,e?.valign);return{fill:Ca(s.color,J.color),fontFamily:s.font?.family??"Arial, Helvetica, sans-serif",fontSize:s.font?.size??J.generalFontSize,fontWeight:s.font?.weight??"400",textDecoration:s.font?.decoration??"none",align:r,valign:n,verticalCenter:a,horizontalCenter:i,text:rn({textSymbol:s,format:"amChartsV4"}),angle:yE(s.angle,e?.rotation),xOffset:s.xoffset??e?.dx??0,yOffset:s.yoffset??e?.dy??0,backgroundFill:Ca(s.backgroundColor),borderFill:Ca(s.borderLineColor),borderWidth:s.borderLineSize??1,haloSize:s.haloSize??-1,haloColor:Ca(s.haloColor),rtl:s.rightToLeft??t,wrap:e?.wrap??!1,maxWidth:e?.maxWidth??Number.NaN}}function R0(s,t){t!==void 0&&(t.marginBottom!==void 0&&(s.marginBottom=t.marginBottom),t.marginTop!==void 0&&(s.marginTop=t.marginTop),t.marginRight!==void 0&&(s.marginRight=t.marginRight),t.marginLeft!==void 0&&(s.marginLeft=t.marginLeft),t.verticalCenter!==void 0&&(s.verticalCenter=vE(t.verticalCenter)),t.horizontalCenter!==void 0&&(s.horizontalCenter=JB(t.horizontalCenter)),t.strokeWidth!==void 0&&(s.strokeWidth=t.strokeWidth),t.wrap!==void 0&&(s.wrap=t.wrap),t.truncate!==void 0&&(s.truncate=t.truncate),t.maxWidth!==void 0&&(s.maxWidth=t.maxWidth),t.applyOnClones!==void 0&&(s.applyOnClones=t.applyOnClones,s.background.applyOnClones=t.applyOnClones))}function Do(s,t){let e=t?.createChild(Ni)??new Ni;return R0(e,s),e}function l9(s){let t=s.push(new sf);t.dx=1,t.dy=1,t.opacity=1}function u9(s,t,e){if(e.alpha>0&&t>=0){s.length===0&&l9(s);let i=s.getIndex(0);i.blur=t,i.color=e}else s.clear()}function h9(s,t){let e=$s(s.uid,"isGuide"),i=t.visible===!1;return!i&&(e===!0||!(s instanceof Hl))&&t.content.text===""&&(i=!0),i}function xI(s){let{label:t,offset:e,offsetProperty:i}=s,r=99;if(t.adapter.remove(i,r),typeof e=="string"&&!Number.isFinite(Number(e))){let a=g0(e);a!==void 0&&(a/=100,t.adapter.add(i,()=>(t.parent?.[i==="dx"?"measuredWidth":"measuredHeight"]??0)*a,r))}else t[i]=e}function Ln(s){let{label:t,labelConfig:e,defaults:i,skipSettingText:r}=s;if(e!==void 0){let a=c0(e.content,t.rtl,i);t.fill=a.fill,t.fontFamily=a.fontFamily,t.fontWeight=a.fontWeight,t.fontSize=a.fontSize,t.textDecoration=a.textDecoration,t.align=a.align,t.valign=a.valign,t.verticalCenter=a.verticalCenter,t.horizontalCenter=a.horizontalCenter,t.background.fill=a.backgroundFill,t.background.stroke=a.borderFill,t.background.strokeWidth=a.borderWidth,t.rotation=a.angle,xI({label:t,offset:a.xOffset,offsetProperty:"dx"}),xI({label:t,offset:a.yOffset,offsetProperty:"dy"}),t.rtl=a.rtl,t.wrap=a.wrap,t instanceof Hl||(t.maxWidth=a.maxWidth),r||(t.text=a.text),u9(t.filters,a.haloSize,a.haloColor);let n=h9(t,e);t.disabled=n,ti(t,e.visible!==!1&&!n)}else t.disabled=!0}function tF(s,t){t!==void 0&&(s===L.BarSeries||s===L.LineSeries||s===L.HistogramSeries)&&t.adapter.add("dy",(e,i)=>{let r=i.dataItem,{chart:a}=r?.component??{};return a instanceof $t&&(i.visible=!gE(i,a)),e??0})}function CE(s,t){t!==void 0&&(s===L.BarSeries&&t.adapter.add("dx",(e,i)=>{let r=e??0,a=i.dataItem,{chart:n}=a?.component??{};return(n!==void 0?Ae(n.uid,"isRotated"):!1)===!0&&(a.valueX??a.valueY)<0&&(r-=i.measuredWidth+J.dataLabelNegative.paddingRight),r}),(s===L.BarSeries||s===L.LineSeries)&&t.adapter.add("dy",(e,i)=>{let r=e??0,a=i.dataItem,{chart:n}=a?.component??{};return(n!==void 0?Ae(n.uid,"isRotated"):!1)!==!0&&(a.valueX??a.valueY)<0&&(r+=i.measuredHeight+J.dataLabelNegative.paddingTop),r}))}function sB(s){s.bulletsContainer.invalidateLabels(),s instanceof $i&&s.columns?.template.invalidateLabels()}function aB(s){let{dataValue:t,series:e,seriesType:i,stackedType:r,axisMin:a}=s,n=t===void 0;return t!==void 0&&(a!==void 0&&t<a?n=!0:e instanceof $i&&(i===L.BarSeries||i===L.ComboLineAndBarSeries)&&(n=t===0&&r!==void 0&&r!==ir.Side)),n}function cg(s,t){let e,i=r=>$s(r.uid,"isDataLabel")??!1;return t==="bullets"?e=s.bullets.values.find(i):s instanceof $i&&(e=s.columns.template.children.values.find(i)),e}function nB(s,t){s.adapter.add("htmlOutput",(e,i)=>{let r=e,{dataItem:a}=i;if(hg(s)&&(t instanceof $i&&a instanceof Cs||t instanceof li&&a instanceof Ma)){let n=Ht(t.uid,t instanceof $i?"barSeriesDataLabelFormatter":"lineSeriesDataLabelFormatter");if(n!==void 0){let o=Ae(t.chart.uid,"isRotated"),l=Ht(t.uid,"stackedType"),u=o===!0?a.valueX:a.valueY,h=o===!0?a.values?.valueX?.totalPercent:a.values?.valueY?.totalPercent,c=o===!0?(a.component?.xAxis).min:(a.component?.yAxis).min;r=aB({dataValue:u,series:t,seriesType:t instanceof $i?L.BarSeries:L.LineSeries,stackedType:l,axisMin:c})?"":n(u,h)}}return ns(r)},0)}function _E(s){let{numberFormatter:t,dataLabelsConfigContent:e,stackedType:i}=s;return(r,a)=>{let n=i===ir.Stacked100&&a!==void 0?a:r;return t.numberFormat.style==="percent"&&(n/=100),rn({textSymbol:{...e,text:t.format(n)},format:"html"})}}function iF(s){s.tabindex=-1}function N0(s){let{series:t,seriesType:e,dataLabel:i,labelDefaults:r,dataLabelsConfig:a,yAxisValueFormat:n,stackedType:o,isRotated:l,defaultDataLabelFormatter:u,customDataLabelFormatter:h}=s;if(i!==void 0){let c=h,A=a?.content??{type:Zt.TS};if(h===void 0&&u!==void 0&&n?.type===L.NumberAxisFormat){let f=Ae(t.chart.uid,"formatLocale"),p=Yn({type:n.type,iLocale:t.chart.language.locale,formatLocale:f});p.numberFormat=n.intlOptions,c=u({numberFormatter:p,dataLabelsConfigContent:A,stackedType:o})}let d;switch(e){case L.BarSeries:d="barSeriesDataLabelFormatter";break;case L.LineSeries:d="lineSeriesDataLabelFormatter";break;case L.HistogramSeries:d="histogramDataLabelFormatter";break;case L.ScatterSeries:d="scatterplotDataLabelFormatter";break}d!==void 0&&cs(t.uid,{[d]:c}),a!==void 0&&(a.content.text=l===!0?"{valueX}":"{valueY}",a.visible=a.visible!==!1),Ln({label:i,labelConfig:a,defaults:r??J.dataLabel}),sB(t)}}function Wd(s,t){let e=t;e===void 0&&(e=Ae(s.uid,"config"));let i=Ae(s.uid,"colorMatchApplied")??!1;return(e?.colorMatch??!1)&&i}function SE(s,t){let e;return s instanceof Pt?e=t===!0?"dateY":"dateX":s instanceof Vt?e=t===!0?"categoryY":"categoryX":e=t===!0?"valueY":"valueX",e}function cl(s,t){s.name=t}function BE(s){let{axes:t,currentSeries:e,tooltipValueFormat:i}=s,r=t[1].valueFormat,a=t[0].valueFormat,n=Ae(e.chart.uid,"formatLocale");if(r?.type===L.NumberAxisFormat){let o=Yn({type:r.type,iLocale:e.chart.language.locale,formatLocale:n});o.numberFormat=r.intlOptions,cs(e.uid,{tooltipValueYNumberFormatCallback:l=>o.format(l,i?.intlOptions)})}if(a?.type===L.NumberAxisFormat){let o=Yn({type:a.type,iLocale:e.chart.language.locale,formatLocale:n});o.numberFormat=a.intlOptions,cs(e.uid,{tooltipValueXNumberFormatCallback:l=>o.format(l,i?.intlOptions)})}}function V0(s){let{chart:t,lineSeries:e,applyPropertiesToClones:i}=s,r=e.bullets.push(new Ee);return k6(r.uid,{isBulletMarker:!0}),i!==!1&&(r.applyOnClones=!0),e.bulletsContainer.parent=t.seriesContainer,r}function rF(s){let{series:t,seriesConfig:e,rotationChanged:i,stackedType:r,isRotated:a}=s;switch(r){case ir.Stacked:{t.stacked=!0,t instanceof li&&(t.stackToNegative=e.stackNegativeValuesToBaseline??J.lineSeries.stackNegativeValuesToBaseline),i===a?t.dataFields.valueYShow=void 0:t.dataFields.valueXShow=void 0,t.updateStacking();break}case ir.Stacked100:{t.stacked=!0,a?t.dataFields.valueXShow="totalPercent":t.dataFields.valueYShow="totalPercent",t.updateStacking();break}case ir.Side:default:{t.stacked=!1,i===a?t.dataFields.valueYShow=void 0:t.dataFields.valueXShow=void 0;break}}}function c9(s){return()=>{let{chart:t,marker:e}=s;e.clones.each(i=>{ti(i,!gE(i,t))})}}function FE(s){let{chart:t,series:e,seriesType:i,marker:r,numberOfChartSeries:a,ignoreSmoothRenderingLimit:n}=s,o=c9({marker:r,chart:t}),l=a??1,u=t.data.length*l+l;n!==!0&&u>J.elementLimitForSmoothRendering&&(o=ss(o,J.debounceTime)),t.xAxes.getIndex(0)?.events.on(Ie.Validated,o),t.yAxes.getIndex(0)?.events.on(Ie.Validated,o),i===L.LineSeries&&(t.xAxes.getIndex(0)?.events.on(Ie.Validated,()=>{sB(e)}),t.yAxes.getIndex(0)?.events.on(Ie.Validated,()=>{sB(e)}))}function PE(s,t){s.series.each(e=>{let i=Ht(e.uid,t);i!==void 0&&!i.isDisposed()&&i.dispose()})}function d9(s){let t;return s!==void 0&&s.series.length>0&&(t=s.series.values.map(e=>e.visible?e.id:"").filter(e=>e!=="")),t}function FS(s){let{dataItem:t,y:e,splitBy:i,showOutliers:r}=s,a=Gt({key:Ze.Min,y:e,splitBy:i,showOutliers:r}),n=Gt({key:Ze.Max,y:e,splitBy:i,showOutliers:r}),o=Gt({key:Ze.FirstQuartile,y:e,splitBy:i,showOutliers:r}),l=Gt({key:Ze.ThirdQuartile,y:e,splitBy:i,showOutliers:r});return Number.isFinite(t[a])&&Number.isFinite(t[n])&&Number.isFinite(t[o])&&Number.isFinite(t[l])}function A9(s,t){let e=!1;if(t!==void 0){let i=Gt({key:Ze.Average,splitBy:t});e=Number.isFinite(s[i])}return e}function f9(s,t){let e=0;if(s!==void 0&&t!==void 0){let i=Fs(t.series),r=Ue(t.series),a=rl(t);s.data.forEach(n=>{switch(r){case j.BoxPlotMonoField:case j.BoxPlotMultiFields:case j.BoxPlotMonoFieldAndCategory:FS({dataItem:n,showOutliers:a})&&(e+=1);break;case j.BoxPlotMultiFieldsAndCategory:i.forEach(o=>{FS({dataItem:n,y:o,showOutliers:a})&&(e+=1)});break;case j.BoxPlotMonoFieldAndSplitBy:case j.BoxPlotMultiFieldsAndSplitBy:case j.BoxPlotMonoFieldAndCategoryAndSplitBy:t.series.forEach(o=>{FS({dataItem:n,splitBy:o.query?.where,showOutliers:a})&&(e+=1)});break}})}return e}function wI(){return s=>{let t=Ae(s.chart.uid,"config"),e=!1;if(t!==void 0&&s instanceof hs){let i=f9(s.chart,t),r=0,a=0,n=0,o=0,l=0;s.chart.series.values.forEach(c=>{if(c instanceof Vr)r+=c.columns.length;else if(c instanceof li&&!(c instanceof xa)){let A=Mr(c);if(A!==void 0&&!A.disabled){let d=A.clones.values.filter(f=>!(f.dataItem instanceof Ko))?.length??0;if(Ht(c.uid,"isBoxPlotMeanLineSeries")===!0){o+=d;let f=c.data.filter(p=>Number.isFinite(p[c.dataFields.valueX??c.dataFields.valueY??""])).length;l+=f}else{let f=c.data.filter(p=>Number.isFinite(p[c.dataFields.valueX??c.dataFields.valueY??""])).length;n+=f,a+=d}}}});let u=n===0||a>=n,h=l===0||o>=l;e=r>=i&&u&&h&&s.chart.appeared&&s.isReady()&&s.chart.isReady()}return e}}function p9(s,t){let e;switch(s){case L.BarSeries:e=(i,r)=>{if(i instanceof $i){let a=Kn({chart:i.chart}),n=0;if(r.type===L.BarSeries){let o=(a?i.dataFields.valueX:i.dataFields.valueY)??r.y;n=i.chart?.data?.filter(l=>Number.isFinite(l[o])).length}return i.chart.isReady()&&i.columns.length===n}return!1};break;case L.LineSeries:t===!0?e=wI():e=(i,r)=>{if(i instanceof li){let a=Kn({chart:i.chart}),n=Mr(i),o=0;if(r.type===L.LineSeries){let{y:l}=r,u=(a?i.dataFields.valueX:i.dataFields.valueY)??[l].flat()[0];o=i.chart?.data?.filter(h=>Number.isFinite(h[u])).length}return i.chart.appeared&&i.chart.isReady()&&n!==void 0&&n.clones.values.length>=o}return!1};break;case L.PieSeries:e=i=>i instanceof zs&&i.slices.length>0;break;case L.ScatterSeries:e=i=>{let r=i instanceof li?Mr(i):void 0,a=Ht(i.uid,"isOverlay")===!0;return i.chart.appeared&&i.chart.isReady()&&(a||r!==void 0&&i.chart.data.length===r.clones.length)};break;case L.HistogramSeries:e=i=>i instanceof $i&&i.columns.length>0;break;case L.BoxPlotSeries:e=wI();break}return e}function TE(s){let{series:t,callbackInfo:e,seriesConfig:i,onReadyEvent:r}=s,{type:a}=e,n=Me([i]),o=Ht(t.uid,"isBoxPlotMeanLineSeries"),l=a==="style"?"updateStyleCallbackDisposer":"updateSelectionCallbackDisposer",u=async A=>{let{type:d,callbackProps:f}=A;d==="selection"?iq(f):A.styleCallback!==void 0&&(ti(t,i.visible),await A.styleCallback(f))};r===!0&&t.events.once(Ie.Ready,async()=>await u(e));let h=Ht(t.uid,l);h!==void 0&&h.dispose();let c=p9(n,o);h=(n===L.PieSeries?t.chart:t).events.on(Ie.Validated,async()=>{c!==void 0&&c(t,i)&&(h!==void 0&&h.dispose(),await u(e))}),t.dispatchImmediately(Ie.Validated),cs(t.uid,{[l]:h})}function Nd(s){let{series:t,styleCallback:e,callbackProps:i,onReadyEvent:r,seriesConfig:a}=s;TE({callbackInfo:{styleCallback:e,callbackProps:i,type:"style"},series:t,seriesConfig:a,onReadyEvent:r})}function m9(s){let{series:t,callbackProps:e,seriesConfig:i,onReadyEvent:r}=s;TE({callbackInfo:{callbackProps:e,type:"selection"},series:t,seriesConfig:i,onReadyEvent:r})}function Xu(s){let{defaultChartItemRole:t}=J.aria;s instanceof Vr||s instanceof $i?(s.columns.template.properties.role=t,s.columns.template.focusable=!0,s.columns.template.hoverOnFocus=!0,s.itemReaderText=Yv()):s instanceof xa?s.segments.template.properties.role=t:s instanceof li?s.bullets.values.forEach(e=>{e.focusable=!0,e.properties.role=t,e.readerTitle=Yv(),e.hoverOnFocus=!0}):s instanceof zs&&(s.slices.template.properties.role=t,s.slices.template.hoverOnFocus=!0,s.itemReaderText="{category} {value.formatNumber('#.#')} {value.percent.formatNumber('#.#')}%")}function g9(s){let t=Ae(s.uid,"config");s.series.each(e=>{let i=t?.series?.find(r=>r.id===e.id);i!==void 0&&i.visible!==!1&&!e.visible&&ti(e)})}function U0(s,t){let e=Me(t?.series);return t?.series.find(i=>{let r=!1;return e!==L.BoxPlotSeries||s instanceof Vr?r=s.id===i.id:s instanceof xa?r=s.id.replace(`_${Ji.Top}`,"")===i.id||s.id.replace(`_${Ji.Median}`,"")===i.id||s.id.replace(`_${Ji.Bottom}`,"")===i.id:s instanceof li&&(r=s.id.replace(`_${Ji.Outliers}`,"")===i.id),r})}function DE(s){let t="";return s instanceof hs?t=s.dataFields?.categoryX??s.dataFields?.dateX??s.dataFields?.valueX??"":s instanceof zs&&(t=s.dataFields?.category??""),t}function OE(s){let t="";return s instanceof hs?t=s.dataFields?.categoryY??s.dataFields?.dateY??s.dataFields?.valueY??"":s instanceof zs&&(t=s.dataFields?.value??""),t}function LE(s){return Ae(s.chart.uid,"isRotated")===!0?OE(s):DE(s)}function wc(s){return Ae(s.chart.uid,"isRotated")===!0?DE(s):OE(s)}function Bg(s,t=0){let e=Ae(s.chart.uid,"config");return Me(e?.series,t)}function IE(s,t,e){e!==void 0&&s.tooltip!==void 0&&(s.tooltip.getFillFromObject=!1,s.tooltip.background.fill=t),s.fill=e??t,s.fillOpacity=He(s.fill.toString()).alpha===0?0:1}function Sf(s,t){s.stroke=t.stroke,s.strokeOpacity=t.stroke.alpha===0?0:1,s.strokeDasharray=t.strokeDasharray,s.strokeLinecap=t.strokeLinecap,s.strokeWidth=t.strokeWidth}function sF(s){let{element:t,markerSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a}=s,n;return e!==void 0?(n=eF({symbol:{...e,size:t.minWidth??e.size},defaultToColorFromRamp:r,colorRampIndex:a}),n!==void 0&&(t.path=n.path,t.rotation=n.angle,t.dx=n.xOffset,t.dy=n.yOffset,IE(t,n.fill),Sf(t,n.outline)),ti(t,i),t.disabled=i===!1):t.disabled=!0,n}function il(s){let{element:t,lineSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a}=s,n;return e!==void 0?(n=eF({symbol:e,defaultToColorFromRamp:r,colorRampIndex:a}),n!==void 0&&Sf(t,n),ti(t,i)):ti(t,!1),n}function dg(s){let{element:t,fillSymbol:e,visible:i,defaultToColorFromRamp:r,colorRampIndex:a,isChartFillSymbol:n}=s,o,l;if(e!==void 0){if(e.style===ha.Cross||e.style===ha.DiagonalCross){let u=K6(t);u!==void 0&&(l=q6(u))}o=eF({symbol:e,defaultToColorFromRamp:r,colorRampIndex:a,isChartFillSymbol:n,chartBackgroundColor:l}),o!==void 0&&(IE(t,o.fill,o.pattern),Sf(t,o.outline)),t.disabled=i===!1}else t.disabled=!0;return o}function Uu(s){let{element:t,seriesIndex:e,colorMatch:i,seriesSymbol:r,isChartFillSymbol:a,rendererSymbol:n,seriesConfig:o}=s,l,u;i===!0&&n&&(l=Ok({rendererSymbol:n,seriesSymbol:r,colorIndex:e}));let h={element:t,defaultToColorFromRamp:!0,colorRampIndex:e,seriesConfig:o},c=l??{...r};switch(r.type){case Zt.SLS:u=il({...h,lineSymbol:c});break;case Zt.SFS:u=dg({...h,fillSymbol:c,isChartFillSymbol:a});break;case Zt.SMS:u=sF({...h,markerSymbol:c});break}return{symbolWithColorInfo:c,stylingInfo:u}}function CI(s,t){if(t!==void 0){let e=s.properties,{elementColor:i,elementOutlineColor:r,elementOutlineWidth:a,rotation:n,transformation:o}=t,{opacity:l,scale:u}=o??{};i!==void 0&&(e.fill=Ed(i),e.fillOpacity=He(e.fill.toString()).alpha===0?0:1),r!==void 0&&(e.stroke=Ed(r)),a!==void 0&&(e.strokeWidth=a),n!==void 0&&(e.rotation=n),u!==void 0&&(e.scale=u),l!==void 0&&(e.fillOpacity=(e.fillOpacity??1)*l,e.strokeOpacity=(e.strokeOpacity??1)*l)}}function y9(s,t){let e=!1;if(t!==void 0&&hg(s)){let i=It.spriteRectToSvg(s.bbox,s),r=t.x,a=t.y,n=t.x+t.width,o=t.y+t.height,l=i.x,u=i.y,h=i.x+i.width,c=i.y+i.height;e=!(l>n||h<r||u>o||c<a)}return e}function zu(s){let{element:t,customSelectionTheme:e,useNativeState:i}=s,r=i===!0?wa.Active:wa.CustomActive,a=t.states.getKey(r)??t.states.create(r),n=t.states.getKey(wa.CustomInactive)??t.states.create(wa.CustomInactive),{selectedElementsTheme:o,nonSelectedElementsTheme:l}=e??J.selectionTheme??{};CI(a,o),CI(n,l)}function Oo(s){let{element:t,selected:e,multiSelect:i,isDateOrCategoryAxis:r,useNativeState:a,backToDefaultState:n}=s;if(t!==void 0){let o=t.isActive;i!==!0?r===!0?o=t.isActive?!1:t.isActive!==e:o=e:o=t.isActive!==e,o!==t.isActive&&(t.isActive=o);let l=a===!0?wa.Active:wa.CustomActive,u=n===!0?wa.Default:wa.CustomInactive;t.setState(t.isActive?l:u,0)}return t?.isActive??!1}function Q0(s,t){let e=!1;if(t instanceof $t||t instanceof Ki){let i=Ae(t.uid,"actionMode");i!==void 0&&(e=i===Wt.MultiSelection||i===Wt.MultiSelectionWithCtrlKey&&(s?.event?.ctrlKey||s?.event?.metaKey))}return e}function $E(s){let t=Ae(s.uid,"config"),e=Ur(t),i=s instanceof $t&&s.zoomOutButton.isHover,r=s.legend.isHover,a=!1,n=!1,o=!1,l=!1;return s instanceof $t&&(a=s.xAxes.values.some(u=>u.renderer.labels.template.events.has(Ie.Hit)&&u.renderer.isHover),n=s.yAxes.values.some(u=>u.renderer.labels.template.events.has(Ie.Hit)&&u.renderer.isHover),o=a||n,e&&(l=s.series.values.find(u=>u instanceof Vr)?.isHover??!1)),!i&&!r&&!o&&!l}function aF(s,t){return s.values.filter(e=>{let i=!1,r=!e.isActive;if(!(e.dataItem instanceof Ko)){e.isActive=!e.isActive;let a=Ae(t.uid,"filterBySelection")!==!0&&r;Oo({element:e,selected:a}),i=r}return i})}function _I(s,t){let e=[],{columns:i,chart:r}=s,a=Ae(r.uid,"config");if(a&&i!==void 0&&s.visible){let n=a?.series[0].x,o=s?.dataFields?.customValue??"",l=Bg(s,t),u=U0(s,a),h=l===L.BoxPlotSeries?u?.y:wc(s),c={element:{},yAxisField:h,xAxisField:n,splitBy:o,chartType:l,seriesIndex:t};l===L.HistogramSeries&&t===0&&(c.xAxisField=o,c.dataTransformationType=(a?.series[0]).dataTransformationType),e=aF(i,r).map(A=>({...c,element:A,elementDataContext:A.dataItem?.dataContext,elementIndex:A.dataItem?.index}))}return e}function SI(s,t){let e=[];if(s.visible){let i=Mr(s)?.clones;if(i!==void 0){let{chart:r}=s,a=Ae(r.uid,"config"),n=Me(a?.series,t),o=a?.series[0].x??"",l=wc(s),u=s?.dataFields?.customValue??"",h={element:{},xAxisField:o,yAxisField:l,splitBy:u,chartType:n,uniqueFeature:n===L.ScatterSeries,seriesIndex:t};e=aF(i,r).map(c=>({...h,element:c,elementDataContext:c.dataItem?.dataContext,elementIndex:c.dataItem?.index}))}}return e}function b9(s){let t=[];if(s.visible){let{chart:e}=s,i=LE(s),r=wc(s),a={element:{},xAxisField:i,yAxisField:r,chartType:L.PieSeries,seriesIndex:0},n;t=aF(s.slices,e).map(o=>{let l=o.dataItem?.dataContext??{};return hl(l)&&(n=vg({groupOfSlicesDataContext:l})),{...a,element:o,elementIndex:o.dataItem?.index,elementDataContext:l}}),n!==void 0&&n.forEach((o,l)=>{t.push({...a,elementIndex:l,elementDataContext:o})})}return t}function v9(s){let{chart:t,selectionSource:e,chartConfig:i}=s,r=Ur(i),a=[];if(Me(i?.series)===L.BoxPlotSeries){if(a=t.series.values.filter(n=>!(n instanceof xa)),e===Hr.SelectionByClick){let n=new Set,o=a.find(l=>l instanceof Vr&&l.isHover);o===void 0?a.forEach(l=>{l instanceof li&&(l.id.includes(Ji.Outliers)&&l.tooltip?.visible===!0||Ht(l.uid,"isBoxPlotMeanLineSeries"))&&n.add(l)}):n.add(o),a=Array.from(n)}}else a=t.series.values;return a=a.filter(n=>n.visible&&Ht(n.uid,"isOverlay")!==!0&&(!r||!(n instanceof Vr||Ht(n.uid,"isBoxPlotOutliersSeries")))),a}async function kE(s){let{chart:t,cursorSelectionRectangle:e,multiSelect:i,selectionSource:r,hitElement:a}=s,n=Ae(t.uid,"config"),o=Me(n?.series),l=n?.series[0]?.x??"",u=[];kt(t.uid,{pendingSelectionQueries:!0});let h=[],c=!0;v9({chart:t,selectionSource:r,chartConfig:n}).forEach((A,d)=>{let f=U0(A,n);if(A.visible&&Ht(A.uid,"isOverlay")!==!0&&A instanceof hs){let p=Bg(A,d),m=p===L.BoxPlotSeries?f?.y:wc(A),g=A.dataFields?.customValue??"",y={element:{},yAxisField:m,xAxisField:l,splitBy:g,chartType:o,seriesIndex:d},v;A instanceof $i||A instanceof Vr?(v=A.columns?.values,p===L.HistogramSeries&&(y.xAxisField=g,y.dataTransformationType=(n?.series[0]).dataTransformationType)):A instanceof xa?v=A.segments.values:A instanceof li&&(v=Mr(A)?.clones?.values,y.uniqueFeature=!0),v!==void 0&&(h=[...h,...v],v.forEach((_,S)=>{if(!(_.dataItem instanceof Ko)){let F=_.isActive,P=_===a||y9(_,e);P&&(c=!1);let D=!1;F?P?D=r!==Hr.SelectionByClick:D=i===!0:D=P,D&&u.push({...y,element:_,elementDataContext:_.dataItem?.dataContext,elementIndex:S}),Oo({element:_,selected:D})}}))}}),c&&(u=[]),await Dg({chart:t,listSelectedElements:u,selectionSource:r})}function x9(s){let t=async e=>{let i=e.target.cursor;if(i.xRange!==void 0){i.selection.isMeasured=!0,i.validate(),i.selection.validate();let r=It.spriteRectToSvg(i.selection.bbox,i.selection);if(i.selection.hide(),r.width>0||r.height>0){let a=Q0(e,s);await kE({chart:s,cursorSelectionRectangle:r,multiSelect:a,selectionSource:Hr.SelectionByRange})}}i.selection.hide()};Zn(s)&&s.events.on(Ie.Up,async e=>{let i=e.target.cursor,r=D6(s.uid,"selectEndedCallbackDisposer");if(r!==void 0&&r.dispose(),i.xRange!==void 0&&e.event instanceof TouchEvent)await t(e);else{let a=i.events.once(Ie.SelectEnded,async()=>{await t(e)});O6(s.uid,{selectEndedCallbackDisposer:a})}})}async function d0(s,t){let{target:e}=s,i=Ae(t.uid,"actionMode");if(t!==void 0&&$E(t)&&i!==Wt.None&&i!==Wt.Zoom&&(e instanceof $t||s.point===void 0)){let r=s.svgPoint?{x:s.svgPoint.x,y:s.svgPoint.y,width:0,height:0}:void 0,a=Q0(s,t);await kE({chart:t,cursorSelectionRectangle:r,multiSelect:a,selectionSource:Hr.SelectionByClick,hitElement:e})}}function w9(s){Zn(s)&&(s.zoomOutButton.hoverable=!0,s.events.on(Ie.Hit,async t=>await d0(t,s)),s.events.on(Ie.DoubleHit,async t=>await d0(t,s)))}function Xd(s,t){t.events.on(Ie.Hit,async e=>await d0(e,s)),t.events.on(Ie.DoubleHit,async e=>await d0(e,s))}async function C9(s){let{series:t}=s;if(t.length>0){kt(s.uid,{pendingSelectionQueries:!0});let e=Ae(s.uid,"config"),i=t.values.map((r,a)=>{let n=[];if(r.visible&&Ht(r.uid,"isOverlay")!==!0){let o=Me(e?.series,a);o===L.BarSeries||o===L.HistogramSeries?n=_I(r,a):o===L.LineSeries||o===L.ScatterSeries&&Ht(r.uid,"isOverlay")!==!0?n=SI(r,a):o===L.PieSeries?n=b9(r):o===L.BoxPlotSeries&&(r instanceof Vr?n=_I(r,a):r instanceof li&&!(r instanceof xa)&&(n=SI(r,a)))}return n}).flat();await Dg({chart:s,listSelectedElements:i,selectionSource:Hr.ProgrammaticSelection}),s instanceof Ki&&s.feedLegend()}}function PS(s){if(Zn(s))if(s.events.disableType(Ie.Hit),s.events.disableType(Ie.DoubleHit),s instanceof Ki){let t=s.series.getIndex(0);t!==void 0&&(t.slices.template.clickable=!1,t.slices.template.togglable=!1,t.slices.template.events.disableType(Ie.Hit),t.slices.template.events.disableType(Ie.DoubleHit),t.labels.template.clickable=!1,t.labels.template.togglable=!1,t.labels.template.events.disableType(Ie.Hit),t.labels.template.events.disableType(Ie.DoubleHit))}else s instanceof $t&&(s.xAxes.each(t=>A0(t,!0)),s.yAxes.each(t=>A0(t,!0)),s.events.disableType(Ie.Up))}function _9(s){if(Zn(s))if(s.events.enableType(Ie.Hit),s.events.enableType(Ie.DoubleHit),s instanceof Ki){let t=s.series.getIndex(0);t!==void 0&&(t.slices.template.clickable=!0,t.slices.template.togglable=!0,t.slices.template.events.enableType(Ie.Hit),t.slices.template.events.enableType(Ie.DoubleHit),t.labels.template.clickable=!0,t.labels.template.togglable=!0,t.labels.template.events.enableType(Ie.Hit),t.labels.template.events.enableType(Ie.DoubleHit))}else s instanceof $t&&(s.xAxes.each(t=>A0(t,!1)),s.yAxes.each(t=>A0(t,!1)),s.events.enableType(Ie.Up))}function Jl(s){let{element:t,stylingInfo:e,stateKey:i="default"}=s;if(t!==void 0&&e!==void 0){let r=t.states.getKey(i)?.properties??t.defaultState.properties;if(r.fill=e.pattern??e.fill,r.fillOpacity=He(r.fill.toString()).alpha===0?0:1,e.outline!==void 0){let{outline:a}=e;r.stroke=a.stroke,r.strokeOpacity=a.stroke.alpha===0?0:1,r.strokeDasharray=a.strokeDasharray,r.strokeLinecap=a.strokeLinecap,r.strokeWidth=a.strokeWidth}}}function S9(s,t){let e=new Oe;return e.width=he(100),e.height=he(100),e.background.fill=Ca(t??J.loaderBackground),e.parent=s,e}function B9(s){let t=new Ni;return t.valign=si.Middle,t.align=Pi.Center,t.fontSize=J.loaderLabelFontSize,t.dy=40,t.text="",t.parent=s,t}function F9(s,t){let e=new Jm;return e.parent=s,e.align=Pi.Center,e.valign=si.Middle,e.path="M2.2 16A13.81 13.81 0 0 1 14 2.362v1.01a12.8 12.8 0 1 0 4 0v-1.01A13.792 13.792 0 1 1 2.2 16z",e.stroke=Ca(t??J.loaderSpinnerColor),e.strokeWidth=2,e}function P9(s){return window.setInterval(()=>{s.animate({from:0,to:360,property:"rotation"},J.loaderRotationSpeed)},J.loaderIntervalTimeout)}function T9(s,t){let e=S9(s,t?.loaderColors?.curtainColor);return B9(e),{loaderPolygon:F9(e,t?.loaderColors?.spinnerColor),loaderContainer:e}}function D9(s,t){s.preloader!==void 0&&(s.preloader.disabled=!0);let e,i,r;if(s.tooltipContainer!==void 0){let o=T9(s.tooltipContainer,t);e=o.loaderContainer,i=o.loaderPolygon}function a(){r!==void 0&&(window.clearInterval(r),r=void 0),e!==void 0&&(ti(e,!1),s instanceof $t&&(s.zoomOutButton.disabled=!1))}function n(o){o&&(r===void 0&&i!==void 0&&(r=P9(i)),e!==void 0&&(ti(e),s instanceof $t&&(s.zoomOutButton.disabled=!0)))}return a(),{loaderElements:{loaderContainer:e??new Oe,loaderPolygon:i??new Jm},loaderHandle:{hideLoader:a,showLoader:n}}}function O9(s,t){let{loaderContainer:e,loaderPolygon:i}=s;e!==void 0&&(e.background.fill=Ca(t?.loaderColors?.curtainColor??J.loaderBackground)),i!==void 0&&(i.stroke=Ca(t?.loaderColors?.spinnerColor??J.loaderSpinnerColor))}function Fg(s){return s.values.every(t=>t.isReady())}function dl(s,t){s.events.on(Ie.Ready,()=>{let{chart:e}=s;e!==void 0&&Fg(s.chart.series)&&(g9(e),t(),kf(s.chart.htmlContainer))})}function ME(s,t){let{dataTooltipStyle:e,dataTooltipStyleReversed:i}=J;if(t===!0){let r=s.background.fill;if(r!==void 0){s.background.stroke=r,s.background.strokeWidth=i?.outline?.width??Number.NaN,s.background.fill=Ca(i?.color);let a=s.background.fill.rgb;if(a!==void 0){let n=s.label.fill;s.label.fill=$b(a)?n?.darkColor:n?.lightColor}}}else s.getStrokeFromObject=!0,s.getFillFromObject=!0,s.background.strokeWidth=e?.outline?.width??Number.NaN,s.background.stroke=Ca(e?.outline?.color)}function Bf(s){let{series:t,callbackName:e,value:i}=s,r=Ht(t.uid,e);return r!==void 0?r(i):i.toString()}function L9(s){let t=s.tooltip??new Go;t.pointerOrientation="vertical",s instanceof Vr||s instanceof xa?t.label.maxWidth=J.boxPlot.boxPlotTooltipLabelWidth:t.label.maxWidth=J.tooltipWidth,t.label.wrap=!0,t.events.on(Ie.Shown,e=>{let i=Ae(s.chart.uid,"config");if(i!==void 0){let r=U0(s,i),{dataTooltipReverseColor:a}=r??{};ME(e.target,a)}})}function I9(s){s instanceof ra||s.series.each(t=>{Ht(t.uid,"isOverlay")!==!0&&L9(t)})}function EE(s,t){s.tooltipHTML=J.htmlEmptyContent,s.adapter.add("tooltipHTML",(e,i)=>{let r=e??"",{chart:a}=t;if(a!==void 0){let n=Ae(a.uid,"config"),{dataTooltipVisible:o}=n?.series[0]??{};if(o===!1)r="";else{let l=Ht(t.uid,"barAndLineTooltipFormatter");if(l!==void 0&&t.isReady()){let{dataItem:u}=i;if(u instanceof Cs||u instanceof Ma){let h=n?.series.find(c=>c.id===t.id);if(h!==void 0){let c=Kn({config:n}),A=c?u.valueX:u.valueY,d=(c?u.values.valueX.totalPercent:u.values.valueY.totalPercent)/100,f=u.dataContext??{};if(f!==void 0){let p=Ae(a.uid,"rendererFieldNames"),m=Dn({value:f[h.x],dataContext:f,useRendererLabel:F0(n,p)}),g=sl(f);g===void 0&&(g=m);let y=f[J.dateBinningRange];r=l({seriesName:t.name,xValue:m,originalXValue:g,dateBinningRange:y,statValue:A,percentValue:d})}}}}}}return ns(r)}),s.tooltipPosition=t instanceof li?J.markerTooltipPosition:J.columnTooltipPosition,t.cursorTooltipEnabled=!1}function $9(s){let{isStacked100:t,series:e,statValue:i,percentValue:r,yAxisValueFormat:a,dataTooltipValueFormat:n,dataTooltipPercentFormat:o}=s,l=n;l===void 0&&(Tr(a)&&a?(l=a,t&&(l.intlOptions.style="decimal")):l=yy());let u=Ae(e.chart.uid,"formatLocale"),h=i!==void 0?Rd({value:i,valueFormat:l,iLocale:e.chart.language.locale,formatLocale:u}):"",c="";if(t&&r!==void 0){let A=o;A===void 0&&(A=Qx(),A.intlOptions.minimumFractionDigits=2,A.intlOptions.maximumFractionDigits=2),c=Rd({value:r,valueFormat:A,iLocale:e.chart.language.locale,formatLocale:u})}return{formattedStatValue:h,formattedPercentValue:c}}function k9(s){let{series:t,dateRange:e,xAxisValueFormat:i}=s,r,a=Ae(t.chart.uid,"timeIntervalInfo");if(e!==void 0&&e.length>0){let n={};switch(a?.unit){case _t.Second:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};break;case _t.Minute:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};break;case _t.Hour:n={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};break;case _t.Day:case _t.Week:case _t.Month:case _t.Year:n={month:"numeric",day:"numeric",year:"numeric"};break}n.timeZone=i.intlOptions.timeZone;let o=new Date(e[0]),l=new Date(e[1]);if(!Number.isNaN(o.valueOf())){let u=Ae(t.chart.uid,"formatLocale"),h=Yn({type:L.DateAxisFormat,iLocale:t.chart.language.locale,formatLocale:u}),c=h.format(o,n);if(r=c,!Number.isNaN(l.valueOf())){let A=h.format(l,n);A!==c&&(r=`${r} - ${A}`)}}}return r?.toString()??""}function RE(s){let{seriesConfig:t,xAxisValueFormat:e,setTimeBinningInfoWhenNotProvided:i,dataTooltipValueFormat:r,dataTooltipDateFormat:a,series:n,xValue:o,dateBinningRange:l}=s,u,h=Ae(n.chart.uid,"formatLocale");return Xa({seriesConfig:t,xAxisValueFormatType:e?.type,setTimeBinningInfoWhenNotProvided:i})&&l!==void 0&&e?.type===L.DateAxisFormat?u=k9({series:n,dateRange:l,xAxisValueFormat:e}):qn(e)&&o!==void 0?u=Rd({value:o,valueFormat:a??e,iLocale:n.chart.language.locale,formatLocale:h}):typeof o=="number"&&Tr(e)?u=Rd({value:o,valueFormat:r??e,iLocale:n.chart.language.locale,formatLocale:h}):u=o,u?.toString()??""}function M9(s){let{series:t,fieldList:e,queryObject:i,setTimeBinningInfoWhenNotProvided:r,seriesIndex:a,seriesConfig:n,commonStrings:o}=s,{dataTooltipValueFormat:l,dataTooltipPercentFormat:u,dataTooltipDateFormat:h}=n,c=()=>"",{chart:A}=t;if(A!==void 0){let d=Ae(A.uid,"config");if(d!==void 0){let{dataTooltipVisible:f}=n,p=t instanceof li?n.markerVisible:void 0;if(f===!1||p===!1)c=()=>"";else{let m=d.axes,g=m[0].valueFormat,y=m[1].valueFormat,v=Ue(d.series),_=Wa(d)===ir.Stacked100,S=tr(i)?.objectIdField,F=yr(e,n.x),P=ql(F,m[0].title?.content.text),D=dM({config:d,fieldList:e,objectIdField:S,seriesIndex:a,commonStrings:o,isStacked100:_}),$=$n(A.rtl);c=I=>{let{statValue:R,percentValue:T,xValue:Q,dateBinningRange:K}=I,z=RE({seriesConfig:n,xAxisValueFormat:g,dataTooltipValueFormat:l,dataTooltipDateFormat:h,setTimeBinningInfoWhenNotProvided:r,series:t,xValue:Q,dateBinningRange:K}),{formattedStatValue:se,formattedPercentValue:ee}=$9({isStacked100:_,yAxisValueFormat:y,dataTooltipValueFormat:l,dataTooltipPercentFormat:u,series:t,statValue:R,percentValue:T}),ue=[`<b>${P}${$} </b>${z}`];switch(v){case j.BarAndLineFromFields:{ue.pop();let G=cM({config:d,fieldName:yr(e,z??""),commonStrings:o});ue.push(`<b>${G}${$} </b>${se}`);break}case j.BarAndLineMonoField:case j.BarAndLineNoAggregation:case j.BarAndLineMultiFields:ue.push(`<b>${D}${$} </b>${se}`);break;case j.BarAndLineSplitByNoAggregation:case j.BarAndLineSplitBy:{let G=jr(n.query?.where,!1),q=qx({value:yr(e,G)});ue.push(`<b>${q}${$} </b>${t.name}<br /><b>${D}${$} </b>${se}`)}break}return _&&ue.push(`<b>${o.statistics.percent}${$} </b>${ee}`),ue.join("<br />")}}}}return c}function NE(s){let{series:t,tooltipFormatter:e}=s;cs(t.uid,{barAndLineTooltipFormatter:e??M9(s)})}function nF(s){let{target:t,defaultTooltipHTML:e,candleStickSeries:i,meanLineSeries:r,outliersSeries:a,tooltipCallback:n}=s,o=e,l=i??r;if(l!==void 0){let{chart:u}=l;if(u!==void 0){let h=Ae(u.uid,"config"),{dataTooltipVisible:c}=h?.series[0]??{};if(c===!1)o="";else{let A=Ht(l.uid,"boxPlotTooltipFormatter");A!==void 0&&l.isReady()&&h&&(o=n({target:t,defaultTooltipHTML:e,config:h,candleStickSeries:i,meanLineSeries:r,outliersSeries:a,boxPlotTooltipFormatter:A}))}}}return ns(o)}function E9(s){let{target:t,defaultTooltipHTML:e,config:i,candleStickSeries:r,outliersSeries:a,boxPlotTooltipFormatter:n}=s,o=e;if(r!==void 0&&a!==void 0){let l=r.dataItems.values.find(h=>(h.categories.categoryX??h.categories.categoryY)===(t.dataItem?.categories.categoryX??t.dataItem?.categories.categoryY)),u=i.series.find(h=>h.id===r.id);if(u!==void 0){let h=l?.dataContext??{};if(h!==void 0){let c=Dn({value:h[u.x],dataContext:h,useRendererLabel:ao(i)}),A=sl(h);A===void 0&&(A=c),o=n({seriesName:a.name,xValue:c,originalXValue:A,dataContext:h})}}}return o}function R9(s){let{target:t,defaultTooltipHTML:e,config:i,meanLineSeries:r,boxPlotTooltipFormatter:a}=s,n=e;if(r!==void 0){let o=r.dataItems.values.find(l=>(l.categories.categoryX??l.categories.categoryY)===(t.dataItem?.categories.categoryX??t.dataItem?.categories.categoryY));if(o instanceof Ma){let l=i.series.find(u=>u.id===r.id);if(l!==void 0){let u=o.dataContext??{};if(u!==void 0){let h=Dn({value:u[l.x],dataContext:u,useRendererLabel:ao(i)}),c=sl(u);c===void 0&&(c=h),n=a({seriesName:r.name,xValue:h,originalXValue:c,dataContext:u})}}}}return n}function N9(s){let{target:t,defaultTooltipHTML:e,config:i,candleStickSeries:r,boxPlotTooltipFormatter:a}=s,n=e;if(r!==void 0){let o=t.dataItem;if(o instanceof Sd){let l=i.series.find(u=>u.id===r.id);if(l!==void 0){let u=o.dataContext??{};if(u!==void 0){let h=Dn({value:u[l.x],dataContext:u,useRendererLabel:ao(i)}),c=sl(u);c===void 0&&(c=h),n=a({seriesName:r.name,xValue:h,originalXValue:c,dataContext:u})}}}}return n}function V9(s){s.cursorTooltipEnabled=!1,s.tooltipPosition=J.columnTooltipPosition,s.columns.template.tooltipHTML=J.htmlEmptyContent,s.columns.template.adapter.add("tooltipHTML",(t,e)=>nF({target:e,defaultTooltipHTML:t??"",candleStickSeries:s,tooltipCallback:N9}))}function U9(s,t){let e=Mr(s);e!==void 0&&(e.tooltipPosition=J.markerTooltipPosition,e.tooltipHTML=J.htmlEmptyContent,s.cursorTooltipEnabled=!1,e.adapter.add("tooltipHTML",(i,r)=>nF({target:r,defaultTooltipHTML:i??"",candleStickSeries:t,outliersSeries:s,tooltipCallback:E9})))}function Q9(s){let t=Mr(s);t!==void 0&&(s.cursorTooltipEnabled=!1,t.tooltipPosition=J.markerTooltipPosition,t.tooltipHTML=J.htmlEmptyContent,t.adapter.add("tooltipHTML",(e,i)=>nF({target:i,defaultTooltipHTML:e??"",meanLineSeries:s,tooltipCallback:R9})))}function rc(s){let{label:t,value:e,strongColon:i,useTable:r}=s,a=`<b>${t}${i}</b> ${e}`;return r!==!1?`<tr><td>${a}</td></tr>`:a}function H9(s){let{dataContext:t,series:e,dataTooltipValueFormat:i,y:r,splitBy:a,commonStrings:n,useTable:o}=s,l=i??yy(),u=Object.values(Ze),h=$n(e.rtl),c=o!==!1?['<tr><td colspan="2"><hr style="border-top: solid black;"></td></tr>']:[""];return u.forEach(A=>{let d=Gt({key:A,y:r,splitBy:a}),f=t[d];if(f!=null&&typeof f=="number"){let p=Ae(e.chart.uid,"formatLocale"),m=Rd({value:f,valueFormat:l,iLocale:e.chart.language.locale,formatLocale:p}),g="";switch(A){case Ze.Min:g=n.statistics.minimum;break;case Ze.FirstQuartile:g=n.statistics.firstQuartile;break;case Ze.Median:g=n.statistics.median;break;case Ze.ThirdQuartile:g=n.statistics.thirdQuartile;break;case Ze.Max:g=n.statistics.maximum;break;case Ze.IQR:g=n.statistics.iqr;break;case Ze.Average:g=n.statistics.mean;break;case Ze.StandardDeviation:}oh(g)||c.push(rc({label:g,value:m,strongColon:h,useTable:o}))}}),c}function j9(s){let{series:t,fieldList:e,seriesConfig:i,commonStrings:r}=s,{dataTooltipValueFormat:a}=i,n=()=>"",{chart:o}=t;if(o!==void 0){let l=Ae(o.uid,"config");if(l!==void 0){let u=l.axes,h=u?.[0].valueFormat,{showMean:c}=l,A=Ue(l.series),d=jr(i.query?.where),f=yr(e,d),p=Ns({where:i.query?.where,escape:!1}),m=yr(e,i.x),g;i.x!==hA&&(g=ql(m,u?.[0].title?.content.text));let y=$n(o.rtl);n=v=>{let{dataContext:_,xValue:S}=v,F=RE({seriesConfig:i,xAxisValueFormat:h,series:t,xValue:S}),P=[],D=F!==void 0&&!oh(F)?yr(e,F):"",$=c===!0?[l.series[0].y].flat()[0]:[i.y].flat()[0],I=yr(e,$);switch(A){case j.BoxPlotMonoField:case j.BoxPlotMultiFields:case j.BoxPlotMonoFieldAndSplitBy:case j.BoxPlotMultiFieldsAndSplitBy:{if(F!==void 0&&!oh(F)){let z=A===j.BoxPlotMonoField?i.name??D:D;P.push(rc({label:r.field,strongColon:y,value:z}))}Li(f)||P.push(rc({label:f,strongColon:y,value:i.name??p?.toString()}));break}case j.BoxPlotMonoFieldAndCategory:case j.BoxPlotMultiFieldsAndCategory:{P.push(rc({label:r.field,strongColon:y,value:i.name??I})),F!==void 0&&!oh(F)&&P.push(rc({label:g,strongColon:y,value:D}));break}case j.BoxPlotMonoFieldAndCategoryAndSplitBy:P.push(rc({label:r.field,strongColon:y,value:I})),F!==void 0&&!oh(F)&&P.push(rc({label:g,strongColon:y,value:D})),Li(f)||P.push(rc({label:f,strongColon:y,value:i.name??p?.toString()}));break}let R=[j.BoxPlotMultiFieldsAndCategory],T=_[J.boxPlot.boxPlotMeanLineMarkerId]!==void 0,Q=P.length>0&&!T,K=H9({dataContext:_,series:t,dataTooltipValueFormat:a,splitBy:i.query?.where,y:R.includes(A)?[i.y].flat()[0]:void 0,commonStrings:r,useTable:Q});return Q?`${P.join("<br>")}<table>${K.join("")}</table>`:`${P.join("<br>")}${K.join("<br>")}`}}}return n}function W9(s){let{series:t,tooltipFormatter:e}=s;cs(t.uid,{boxPlotTooltipFormatter:e??j9(s)})}function X9(s){let t=Do(J.dataLabelInitialize);return Zl(t.uid,{isDataLabel:!0}),s.bullets.push(t),iF(t),tF(L.LineSeries,t),CE(L.LineSeries,t),nB(t,s),t.html="{valueX}",t}function z9(s){let{series:t}=s,e=cg(t,"bullets");N0({...s,dataLabel:e,defaultDataLabelFormatter:_E,seriesType:L.LineSeries})}function G9(s,t){t!==void 0&&(t.layout!==void 0&&(s.layout=t.layout),t.width!==void 0&&(s.width=vI(t.width)),t.height!==void 0&&(s.height=vI(t.height)),t.paddingTop!==void 0&&(s.paddingTop=t.paddingTop),t.paddingBottom!==void 0&&(s.paddingBottom=t.paddingBottom))}function Y9(s){let t=!1,e=s.legend?.visible,i=s.legend?.title?.content.text,r=s.legend?.title?.visible;return t=e!==!1&&r!==!1&&i!==void 0&&i.length>0,t}function VE(s,t){let e=new Oe;return G9(e,s),e.parent=t,e}function UE(s,t){s.disabled=t}function K9(s,t){s.toBack()}function q9(s){if(s instanceof ra){let{paddingTop:t,paddingRight:e,paddingBottom:i,paddingLeft:r}=J.gauge;s.padding(t,e,i,r)}else{let{paddingMinSize:t,marginMinSize:e,chartPaddingMinSize:i,chartContainer:r}=J;s.padding(i,i,i,i),s.chartAndLegendContainer.margin(e,e,e,e),s.chartAndLegendContainer.padding(t,t,t,t),s.chartContainer.margin(e,e,e,e),s.chartContainer.padding(r.paddingTop,t,t,t)}}function Z9(s,t){let e=(i,r)=>{let{chartContainer:a,chartAndLegendContainer:n}=J,o=Ae(i.uid,"config");if(o!==void 0){let l=Y9(o),u=o.legend?.position;if(l)switch(u){case hi.Top:i.chartAndLegendContainer.paddingTop=r.bbox.height??0,i.chartContainer.paddingBottom=a.paddingBottom??0;break;case hi.Bottom:i.chartContainer.paddingBottom=r.bbox.height??0,i.chartAndLegendContainer.paddingTop=n.paddingTop??0;break;default:i.chartAndLegendContainer.paddingTop=n.paddingTop??0,i.chartContainer.paddingBottom=a.paddingBottom??0;break}else i.chartAndLegendContainer.paddingTop=n.paddingTop??0,i.chartContainer.paddingBottom=a.paddingBottom??0}};t.events.on(Ie.PositionChanged,()=>{e(s,t)})}function oF(s){let{iLocale:t,pieChart:e,valueIntlOptions:i,percentageIntlOptions:r,displayNumericValue:a,displayPercentage:n,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h}=s,c=Ae(e.uid,"formatLocale"),A=Yn({type:L.NumberAxisFormat,iLocale:t,formatLocale:c}),d=Yn({type:L.NumberAxisFormat,iLocale:t,formatLocale:c});A.numberFormat={...i},d.numberFormat={...r,style:"percent"};let f=$n(e.rtl," ");return(p,m,g)=>{let y="";if(m!==void 0&&g!==void 0){let v=`${o??""}${A.format(m)}${l??""}`,_=`${u??""}${d.format(Math.abs(g/100))}${h??""}`;Number.isFinite(m)?a===!0&&n===!0?y=`${_}${f}(${v})`:a===!0?y=v:n===!0&&(y=_):y=""}return y}}function QE(s){let t=!1;if(s.position===hi.Right||s.position===hi.Left)t=!0;else{let e=s.labels.getIndex(0)?.parent?.x;e!==void 0&&(t=!s.labels.values.some(i=>i.parent?.x!==e))}return t}function J9(s){let t=!1,e=s.labels.getIndex(0)?.parent?.y;return e!==void 0&&(t=!s.labels.values.some(i=>i.parent?.y!==e)),t}function e8(s){s.events.on(Ie.LayoutValidated,()=>{let t=QE(s),e=J9(s),i=t||!e?Pi.Right:Pi.Center;s.valueLabels.template.horizontalCenter=JB(i),s.valueLabels.template.align=bE(i)})}function t8(s){Zl(s.valueLabels.template.uid,{isLegendValueLabel:!0}),s.valueLabels.template.adapter.add("htmlOutput",(t,e)=>{let i=t,r=L6(s.uid,"pieChartLegendValueLabelsFormatter");if(r!==void 0&&(i=r(e.dataItem?.values?.value?.value??0,e.dataItem?.values?.value?.percent??0)),Li(i)&&(i=J.htmlEmptyContent),s.baseSprite instanceof Lu){let a=Ae(s.baseSprite.uid,"config");a?.legend?.body!==void 0&&(i=rn({textSymbol:{...a.legend.body,text:i},format:"html"}))}return ns(i)}),s.valueLabels.template.html=J.htmlEmptyContent,e8(s)}function i8(s){let{legendElements:{legend:t},seriesConfig:e,webChartLegend:i,pieChartLegendValueLabelFormatter:r}=s,{visible:a,body:n,displayNumericValue:o,displayPercentage:l,displayCategory:u}=i??{};if(Me(e)===L.PieSeries){let{numericValueFormat:h,percentValueFormat:c,valuePrefix:A,valueSuffix:d,percentagePrefix:f,percentageSuffix:p}=e[0],m=u??J.pieChart.displayCategoryOnLegend,g=o??J.pieChart.displayNumericValueOnLegend,y=l??J.pieChart.displayPercentageOnLegend,v=r;if(r===void 0){let F=oF({iLocale:t.language.locale,pieChart:t.baseSprite,valueIntlOptions:h?.intlOptions,percentageIntlOptions:c?.intlOptions,displayNumericValue:g,displayPercentage:y,valuePrefix:A,valueSuffix:d,percentagePrefix:f,percentageSuffix:p});v=(P,D)=>F("",P,D)}I6(t.uid,{pieChartLegendValueLabelsFormatter:v});let _=QE(t),S={type:L.Text,visible:a,content:{...n,type:Zt.TS,text:".",verticalAlignment:si.Middle,horizontalAlignment:_?Pi.Right:Pi.Center}};Ln({label:t.valueLabels.template,labelConfig:S,defaults:J.legendProperties.valueLabels}),t.labels.template.disabled=m===!1,t.valueLabels.template.disabled=g===!1&&y===!1}}function r8(s){let{dataContext:t}=s.target.dataItem??{};if(t instanceof Ra){let{component:e}=t;e instanceof zs&&e.showTooltip()}}function s8(s){let t=()=>{let e=s.children.values.find(i=>i.className==="Container");if(e?.children.length===3){let i=e.children.values.findIndex(r=>r.className==="Container");if(i!==-1){let r=i!==0?0:2,a=e.children.getIndex(r)?.clonedFrom;a!==void 0&&$s(a.uid,"isLegendValueLabel")!==!0&&s.children.each(n=>{n.className==="Container"&&n.children.swap(1,r)})}}};s.events.on(Ie.Validated,t),t()}function BI(s,t){let{legendLabelReducedOpacity:e}=J.legendProperties;s!==void 0&&(s.fillOpacity=t===!1?e:1)}function vf(s){let{labels:t,seriesId:e,sliceCategory:i}=s;t.each(r=>{i!==void 0?i===r.dataItem.category&&BI(r,r.dataItem.slice.visible??!0):e===r.dataItem?.component?.id&&BI(r,r.dataItem?.component?.visible??!0)})}function Pg(s){s instanceof zs?(s.slices.template.events.on(Ie.Shown,t=>{let e=t.target.dataItem.category;vf({labels:s.chart?.legend?.labels,sliceCategory:e}),vf({labels:s.chart?.legend?.valueLabels,sliceCategory:e})}),s.slices.template.events.on(Ie.Hidden,t=>{let e=t.target.dataItem.category;vf({labels:s.chart?.legend?.labels,sliceCategory:e}),vf({labels:s.chart?.legend?.valueLabels,sliceCategory:e})})):s.events.on(Ie.VisibilityChanged,t=>{let e=t.target.id;vf({labels:s.chart?.legend?.labels,seriesId:e})})}function HE(s){let{title:t,visible:e}=s;return t!==void 0&&e!==!1&&t?.visible!==!1}function a8(s,t){let{legendProperties:e}=J;if(s.position===hi.Bottom)s.marginTop=e.marginTop??0,s.marginBottom=0,s.dy=0;else if(s.position===hi.Top)s.marginBottom=e.marginBottom??0,s.marginTop=0,s.dy=0;else if(s.marginTop=0,s.marginBottom=0,!(s.baseSprite instanceof Ki)){let i=HE(t),r=t.title?.content?.font?.size??J.generalFontSize;s.dy=-(i?r:15)}}function n8(s){let t=s.baseSprite,e;if(t!==void 0){let i=Ae(t?.uid,"config");e=t?.rtl&&(i?.legend?.position===hi.Top||i?.legend?.position===hi.Bottom)}return e??!1}function o8(s){let t=s.baseSprite,e="";if(t instanceof $t){let i=Ae(t.uid,"config"),r=hn(i),a=r?B.Rotated:B.NonRotated,n=Wa(i),o=B.SideBySide;n===ir.Stacked?o=B.Stacked:n===ir.Stacked100&&(o=B.Stacked100);let l=t.rtl?B.RTL:B.LTR,u;switch(i?.legend?.position){case hi.Left:u=B.LegendLeft;break;case hi.Top:u=B.LegendTop;break;case hi.Bottom:u=B.LegendBottom;break;case hi.Right:default:u=B.LegendRight;break}let h=r?t.yAxes.getIndex(0):t.xAxes.getIndex(0),c;h instanceof Pt?c=B.DateAxis:h instanceof je?c=B.ValueAxis:c=B.CategoryAxis;let A=i?.orderOptions?.data?.orderBy===un.Descending?B.OrderByFieldsDESC:B.OrderByFieldsASC;e=`${a}-${l}-${o}-${u}-${c}-${A}`}return e}function l8(s){let t=o8(s);return Zk.has(t)}function jE(s,t){let{legend:e,legendTitle:i}=s??{};switch(t){case L.HistogramSeries:case L.PieSeries:e.reverseOrder=n8(e);break;case L.BarSeries:case L.LineSeries:case L.ComboLineAndBarSeries:e.reverseOrder=l8(e);break}let r=e.reverseOrder===!0?e.children.length-1:0;e.children.moveValue(i,r)}function u8(s){if(s.visible){let t=Ae(s.chart.uid,"config")?.series.find(e=>e.id===s.id);if(t!==void 0&&Me([t])===L.LineSeries){let{markerVisible:e}=t;e!==!1&&s.bulletsContainer.show()}}}function h8(s,t){let e=s.target.dataItem,i=s.target.isActive;if(e?.dataContext!==void 0){let{dataContext:r}=e,a={visible:i};if(Ht(r.uid,"isOverlay")===!0)a.overlayType=Ht(r.uid,"type");else if(r instanceof Ra)Ae(t.uid,"isNonAggregatedChart")===!0?a.sliceData=r.dataContext:a.sliceId=r.category;else if(r instanceof Vr){let o=r.id,l=Tg(t,o);if(l!==void 0){let A=Ae(t.uid,"config"),d=uF(A?.showOutliers,i),f=Mr(l);f!==void 0&&(f.disabled=!d),ti(l,d)}let{topStepLineSeries:u,medianStepLineSeries:h,bottomStepLineSeries:c}=H0(t,o);u!==void 0&&ti(u,i),h!==void 0&&ti(h,i),c!==void 0&&ti(c,i),a.seriesId=r.id}else a.seriesId=r.id;let n=r instanceof Ra?r.component:r;(n instanceof hs||n instanceof zs)&&Ht(n.uid,"isOverlay")!==!0&&n.events.once(Ie.Validated,()=>{n instanceof hs&&(aR(n),n.events.dispatchImmediately(Ie.Validated,{type:Ie.Validated,target:n}));let o=n instanceof zs,l=Ae(t.uid,"currentSelectionDataItems"),u=l!==void 0&&l.length>0,h=Ae(t.uid,"actionMode")??J.actionMode,c;n instanceof $i?c=n.columns:o?c=n.slices:n instanceof li&&(u8(n),c=Mr(n)?.clones),c?.each(A=>{A.dataItem instanceof Ko||(Oo({element:A,selected:A.isActive,useNativeState:o,backToDefaultState:!u}),o&&h===Wt.None&&(A.clickable=!1))})}),r$(a,t.htmlContainer)}}function c8(s){let{legendProperties:t,legendProperties:e}=J;s.adapter.add("paddingRight",()=>s.scrollbar.visible?e.legendPaddingRightWithScrollbarVisible:t.paddingRight),s.adapter.add("paddingLeft",()=>t.paddingLeft),s.adapter.add("paddingTop",()=>t.paddingTop),s.adapter.add("paddingBottom",()=>t.paddingBottom)}function d8(s){s.scrollable=!0}function A8(s){let t=Do(void 0,s);return t.adapter.add("paddingTop",e=>{let i=e,r=t.bbox.height;return r>0&&(i=-r),i}),t.adapter.add("x",e=>{let i=e,{marginLeft:r,marginRight:a}=J.legendProperties.legendTitle;switch(Ae(s.baseSprite.uid,"config")?.legend?.title?.content?.horizontalAlignment){case Pi.Left:i=t.measuredWidth+(r??0);break;case Pi.Right:i=s.measuredWidth-t.measuredWidth-(a??0);break;case Pi.Center:case Pi.Justify:default:i=s.measuredWidth/2;break}return i}),t.adapter.add("disabled",e=>(e===!1&&t.validate(),e)),t}function f8(s){let{legendConfig:t,legendTitle:e}=s,{title:i,position:r}=t,{legendTitle:a}=J.legendProperties,n=HE(t);if(i!==void 0){let o={...i,visible:n};Ln({label:e,labelConfig:o,defaults:a}),e.marginLeft=a.marginLeft??0}r===hi.Top||r===hi.Bottom?(e.maxWidth=Number.NaN,e.isMeasured=!1):(e.maxWidth=a.maxWidth??Number.NaN,e.marginTop=n?e.bbox?.height??i?.content?.font?.size??J.generalFontSize:0,e.isMeasured=!0)}function p8(s){let t=J.legendProperties;s.labels.template=Do(t.legendLabels),s.valueLabels.template=Do(t.legendLabels),s.markers.template.width=t.legendMarkersSize,s.markers.template.height=t.legendMarkersSize,s.labels.template.adapter.add("wrap",()=>!0),s.labels.template.adapter.add("maxWidth",e=>{let i=e,r;if(s.baseSprite instanceof Ki&&(r=Ae(s.baseSprite.uid,"config")?.legend?.labelMaxWidth),s.position===hi.Right||s.position===hi.Left)i=r??J.legendProperties.legendLabels.maxWidth;else if(r!==void 0)i=r;else{let a=0;s.valueLabels.template.disabled||s.valueLabels.each(n=>{a=Math.max(a,n.measuredWidth)}),i=s.measuredWidth-a-45}return i}),s.labels.template.adapter.add("textOutput",(e,i)=>{let r=i.dataItem?.label?.currentText,a,n=Ae(s.baseSprite.uid,"config");if(n!==void 0){let{series:o}=n;if(Me(o)===L.PieSeries){let l=Ue(o)===j.PieFromFields?rs:o[0].x,u=i.dataItem?.dataContext?.[l];typeof u=="string"?a=u:u&&typeof u!="object"&&(a=u.toString())}else i.dataItem?.component instanceof Ul&&(a=i.dataItem.component.name)}return(a!==void 0&&!Li(a)?B0(a):a)??r}),s.valueLabels.template.adapter.add("maxWidth",e=>{let i=e,r;return s.baseSprite instanceof Ki&&(r=Ae(s.baseSprite.uid,"config")?.legend?.valueLabelMaxWidth),s.position===hi.Right||s.position===hi.Left?i=r??J.legendProperties.valueLabels.maxWidth:i=r??Number.NaN,i})}function m8(s,t){s.itemContainers.template.events.on(Ie.Hit,e=>h8(e,t)),t instanceof Ki&&s.itemContainers.template.events.on(Ie.Over,e=>r8(e))}function g8(s){s.itemContainers.template.reverseOrder=s.rtl}function Vv(s,t){s.adapter.keys().includes(t)||s.adapter.add(t,e=>{let i=e,r=s.dataItem?.dataContext;if(r!==void 0){let a=r instanceof Ra?r.component?.chart:r.chart;if(a!==void 0){let n=Ae(a.uid,"config"),{rectangleMarkerRadius:o,roundedMarkerRadius:l}=J.legendProperties;i=n?.legend?.roundMarkers===!0?l:o}}return i})}function FI(s){s.markers.each(t=>{let e=t.children.getIndex(0);e instanceof us&&(Vv(e,"cornerRadiusBottomLeft"),Vv(e,"cornerRadiusBottomRight"),Vv(e,"cornerRadiusTopLeft"),Vv(e,"cornerRadiusTopRight"),e.validate())})}function y8(s){s.markers.template.events.on(Ie.Inited,()=>{FI(s)}),s.events.once(Ie.Validated,()=>{FI(s)})}function b8(s){let{legendElements:{legend:t},seriesConfig:e,webChartLegend:i}=s,{visible:r,body:a}=i??{},n=Me(e),o={type:L.Text,visible:r,content:{...a,type:Zt.TS,text:" "}};Ln({label:t.labels.template,labelConfig:o,defaults:J.legendProperties.legendLabels}),t.labels.template.valign=si.Middle,t.valueLabels.template.valign=si.Middle,n===L.PieSeries&&i8(s),t.valueLabels.template.width=Number.NaN}function v8(s,t){t.chartContainer.events.on(Ie.SizeChanged,ss(()=>{let e=Ae(t.uid,"config")?.legend?.maxHeight??Number.NaN;Number.isFinite(e)||(s.position===hi.Top||s.position===hi.Bottom?e=J.legendProperties.maxHeight:e=t instanceof Ki?t.chartContainer.measuredHeight:t.seriesContainer.measuredHeight),s.maxHeight=e,s.invalidateLayout()}),J.debounceTime)}function x8(s,t){let{position:e}=t;e===hi.Top||e===hi.Bottom?s.contentAlign=Pi.Center:s.contentAlign="none"}function w8(s,t){let{legend:e}=s;e.events.on(Ie.DataItemsValidated,()=>{e.dataItems.length>0&&jE(s,t)})}function C8(s,t){t===hi.Right||t===hi.Left?s.width=Number.NaN:s.maxWidth=Number.MAX_SAFE_INTEGER}function WE(s,t){let e=fi.pointer;t===!0?(s.itemContainers.template.clickable=!1,s.itemContainers.template.focusable=!1,e=fi.default):(s.itemContainers.template.clickable=!0,s.itemContainers.template.focusable=!0),s.itemContainers.values.forEach(i=>{i.cursorOverStyle=e})}function _8(s,t){let e=new pd;s.legend=e,d8(e);let i=A8(e);return p8(e),t8(e),m8(e,s),g8(e),c8(e),w8({legend:e,legendTitle:i},Me(t)),v8(e,s),Z9(s,i),s8(e),s.legend.events.on(Ie.ChildAdded,()=>{let r=Ae(s.uid,"options");WE(e,r?.disableTogglingLegendItems)}),{legend:e,legendTitle:i}}function lF(s){let{legendElements:t,seriesConfig:e,webChartLegend:i}=s,{legend:r,legendTitle:a}=t,n=r.baseSprite,o=(n===void 0?!0:Zx(e))&&i?.visible!==!1;if(n!==void 0&&i!==void 0&&o){let{position:l=J.legendProperties.position}=i;ti(r,!0),f8({legendConfig:i,legendTitle:a}),y8(r),b8(s),x8(r,i),jE(t,Me(e)),r.position=l,C8(r,l),a8(r,i);let u=Ae(n.uid,"options");WE(r,u?.disableTogglingLegendItems),r.events.once(Ie.Validated,()=>{r.baseSprite instanceof Ki&&r.invalidateDataItems()})}else r.position=hi.Right,r.width=0,ti(r,!1)}function S8(s){let{chart:t,chartConfig:e,seriesIndex:i,axisList:r=[],hideLoaderHandle:a,selectionTheme:n,ignoreSmoothRenderingLimit:o}=s,l=e.series.length,{rotated:u}=e,h=e.series[i],{y:c,name:A,id:d,assignToSecondValueAxis:f}=h,p=new li;p.id=d,dl(p,a),cl(p,A);let m,g;u!==!0?(m=r[0],g=f===!0&&r[2]?r[2]:r[1]):(m=f===!0&&r[2]?r[2]:r[0],g=r[1]),m!==void 0&&(p.xAxis=m),g!==void 0&&(p.yAxis=g);let y=Kn({chart:t}),v=Ue(e.series)===j.BarAndLineSplitByNoAggregation?`${c.toString()}_${Ns({where:h.query?.where})}`:[c].flat()[0];y?p.dataFields.valueX=v:p.dataFields.valueY=v;let _=y?r[1]:r[0];if(_!==void 0){let F=SE(_,y);p.dataFields[F]=J.xAxisField}p.dataFields.customValue=h?.query?.where;let S=V0({chart:t,lineSeries:p,applyPropertiesToClones:!1});return EE(S,p),X9(p),zu({element:S,customSelectionTheme:n}),Xd(t,S),FE({chart:t,numberOfChartSeries:l,series:p,seriesType:L.LineSeries,marker:S,ignoreSmoothRenderingLimit:o}),Pg(p),Xu(p),p}function B8(s){let{series:t,seriesIndex:e,chartSubType:i,seriesConfig:r,colorMatch:a,lineColor:n,rendererType:o}=s,l=Mr(t),u=!1,h;if(l!==void 0){r.markerVisible!==!1&&r.visible!==!1?t.bulletsContainer.show():t.bulletsContainer.hide();let{markerSymbol:c}=r,A=Hx();c===void 0&&(c=A,c.color=n),a?c.color=n:c.color??=n;let d=new Set,f;sF({element:l,markerSymbol:c}),l.clones.each(p=>{if(p.dataItem instanceof Ko)p.states.getKey(wa.CustomActive)?.reset(),p.states.getKey(wa.CustomInactive)?.reset();else{let m=p.dataItem?.dataContext,g=tn({seriesConfig:r,dataItem:m,chartSubType:i,colorMatch:a,rendererType:o}),y=Uu({seriesConfig:r,seriesIndex:e,seriesSymbol:c,element:p,colorMatch:a,rendererSymbol:g});h=y.symbolWithColorInfo,f=y.stylingInfo,Jl({element:p,stylingInfo:f}),d.add(JSON.stringify(f))}}),u=d.size>1,u||Jl({element:l,stylingInfo:f})}return u?void 0:h}function F8(s){let{series:t,seriesConfig:e,chartSubType:i,colorMatch:r,rendererType:a}=s,n;return t.dataItems?.values.every(o=>{let l=!0,u=o.dataContext;return n=tn({seriesConfig:e,dataItem:u,chartSubType:i,colorMatch:r,rendererType:a}),n!==void 0&&(l=!1),l}),n}function P8(s){let{series:t,seriesIndex:e,seriesConfig:i,chartSubType:r,colorMatch:a,rendererType:n}=s,o=t,l=F8({series:o,seriesConfig:i,chartSubType:r,colorMatch:a,rendererType:n}),u=Uu({seriesConfig:i,seriesIndex:e,seriesSymbol:i.lineSymbol??jx(e),element:o,colorMatch:a,rendererSymbol:l});return ti(o,i.visible),u.symbolWithColorInfo}function T8(s,t){s.showArea===!0?s.areaColor!==void 0?(t.fill=Ca(s.areaColor),t.fillOpacity=t.fill.alpha===0?0:1):(t.fill=He(t.stroke.hex,1),t.fillOpacity=J.lineSeries.areaOpacity):t.fillOpacity=0}function XE(s){let{series:t,seriesIndexMapper:e,seriesSymbolMapForEvent:i,seriesIndex:r,colorMatch:a,rendererType:n}=s,o=s.seriesConfig,l=Ae(t.chart.uid,"config"),u=l?.series.length??0,h=Ue(l?.series);ti(t,o.visible);let c=P8({series:t,seriesConfig:o,seriesIndex:r,chartSubType:h,colorMatch:a,rendererType:n}),A=B8({series:t,seriesIndex:r,seriesConfig:o,chartSubType:h,colorMatch:a,lineColor:c.color,rendererType:n});i.set(e.get(o.id)??r,{lineSymbol:c,markerSymbol:A}),T8(o,t),i.size===u&&(ll({data:i,htmlContainer:t.chart.htmlContainer,chartId:t.chart.id,colorMatchApplied:Wd(t.chart)}),t.chart.feedLegend())}function D8(s){let{seriesConfig:t,lineSeries:e,isRotated:i}=s;t.lineSmoothed===!0?e.smoothing=i?Ex.MonotoneY:Ex.MonotoneX:e.smoothing=J.lineSeries.lineSmoothedKind}function PI(s,t){let{connectLines:e,temporalBinning:i}=t,r=i?.nullPolicy;s.connect=e!==!1&&r!==ah.Null}function O8(s){let{seriesConfig:t,series:e,axes:i,rotationChanged:r,seriesIndex:a,subtypeInfo:n,fieldList:o,stackedType:l,queryObject:u,options:h,commonStrings:c}=s,{visible:A,name:d}=t,f=i[1].valueFormat,p=Ae(e.chart.uid,"config"),m=Kn({config:p}),g=Ue(p?.series);e.id=t.id,ti(e,A);let y=d,v=e.dataFields?.customValue??"";(g===j.BarAndLineSplitBy||g===j.BarAndLineSplitByNoAggregation)&&(y=Bp({subtypeInfo:n,fieldList:o,fieldName:jr(v),fieldValueToMatch:y})??y),cl(e,y),PI(e,t),rF({series:e,seriesConfig:t,rotationChanged:r,stackedType:l,isRotated:m}),PI(e,t),Nd({styleCallback:XE,callbackProps:s,series:e,seriesConfig:t,onReadyEvent:!0}),D8({seriesConfig:t,lineSeries:e,isRotated:m}),NE({series:e,seriesConfig:t,fieldList:o,queryObject:u,seriesIndex:a,setTimeBinningInfoWhenNotProvided:h?.setTimeBinningInfoWhenNotProvided,commonStrings:c,tooltipFormatter:h?.tooltipFormatter}),z9({series:e,seriesType:L.LineSeries,stackedType:l,dataLabelsConfig:t.dataLabels,yAxisValueFormat:f,customDataLabelFormatter:h?.dataLabelFormatter})}function H0(s,t){let e=s.series.values.find(a=>a.id===`${t}_${Ji.Top}`),i=s.series.values.find(a=>a.id===`${t}_${Ji.Median}`),r=s.series.values.find(a=>a.id===`${t}_${Ji.Bottom}`);return{topStepLineSeries:e,medianStepLineSeries:i,bottomStepLineSeries:r}}function Tg(s,t){return s.series.values.find(e=>e.id===`${t}_${Ji.Outliers}`)}function uF(s,t){return(s??J.boxPlot.boxPlotOutliersVisibility)&&t!==!1}function L8(s){let{chart:t,axisList:e=[],chartConfig:i,seriesIndex:r,hideLoaderHandle:a,selectionTheme:n}=s,o=Ur(i),l=i.series[r],[u,h]=e,c=new Vr;return c.hoverable=!0,dl(c,a),o||(zu({element:c.columns.template,customSelectionTheme:n}),Xd(t,c.columns.template)),c.id=l.id,u!==void 0&&(c.xAxis=u),h!==void 0&&(c.yAxis=h),c.simplifiedProcessing=!0,c.columns.template.applyOnClones=!0,c.riseFromOpenState.reset(),c.riseFromPreviousState.reset(),c.dropFromOpenState.reset(),c.dropFromPreviousState.reset(),cl(c,l.name),Xu(c),c}function TS(s){let{axisList:t=[],chartConfig:e,seriesIndex:i,type:r,hideLoaderHandle:a,selectionTheme:n}=s,o=e.series[i],[l,u]=t,h=new xa;return h.hoverable=!0,dl(h,a),h.id=`${o.id}_${r}`,l!==void 0&&(h.xAxis=l),u!==void 0&&(h.yAxis=u),h.noRisers=!0,h.simplifiedProcessing=!0,zu({element:h.segments.template,customSelectionTheme:n}),h.hiddenInLegend=!0,Xu(h),h}function I8(s){let{chart:t,axisList:e=[],chartConfig:i,hideLoaderHandle:r,seriesIndex:a,selectionTheme:n}=s,o=i.series[a],l=Ur(i),[u,h]=e,c=new li;cs(c.uid,{isBoxPlotOutliersSeries:!0}),dl(c,r),c.id=`${o.id}_${Ji.Outliers}`,u!==void 0&&(c.xAxis=u),h!==void 0&&(c.yAxis=h),c.simplifiedProcessing=!0,c.hiddenInLegend=!0,c.strokeOpacity=0;let A=V0({chart:t,lineSeries:c});return l||(zu({element:A,customSelectionTheme:n}),Xd(t,A)),Xu(c),c}function Kf(s){let{chartConfig:t,seriesConfig:e,meanLineSeries:i,candleStickSeries:r,topStepLineSeries:a,medianStepLineSeries:n,bottomStepLineSeries:o,outliersSeries:l,creation:u=!1,rotationChanged:h,outliersVisibilityChanged:c,standardizeValuesVisibilityChanged:A}=s,{x:d,y:f}=e,p=u||h===!0||A===!0,m=p||c===!0,g=p,y=p;if(t!==void 0){let{showOutliers:v,standardizeValues:_,showMean:S}=t,F=Kn({config:t});if(i instanceof li&&y){let T=Ue(t.series),Q=e?.query?.where,K=Gt({y:T===j.BoxPlotMultiFieldsAndCategory?f:void 0,chartSubType:T,splitBy:Q,showOutliers:v,standardizeValues:kc(T)?_:!1,key:Ze.Average});F?(i.dataFields.valueX=K,i.dataFields.categoryY=d):(i.dataFields.valueY=K,i.dataFields.categoryX=d),i.dataFields.customValue=Q}let P=b0(t),D=Ue(P.series),$=S===!0?void 0:e?.query?.where,I={y:D===j.BoxPlotMultiFieldsAndCategory?f:void 0,chartSubType:D,splitBy:$,showOutliers:v,standardizeValues:kc(D)?_:!1};if(m){if(r instanceof Vr){let T=Gt({...I,key:Ze.Min}),Q=Gt({...I,key:Ze.FirstQuartile}),K=Gt({...I,key:Ze.Max}),z=Gt({...I,key:Ze.ThirdQuartile});F?(r.dataFields.lowValueX=T,r.dataFields.openValueX=Q,r.dataFields.highValueX=K,r.dataFields.valueX=z,r.dataFields.categoryY=d):(r.dataFields.lowValueY=T,r.dataFields.openValueY=Q,r.dataFields.highValueY=K,r.dataFields.valueY=z,r.dataFields.categoryX=d),r.dataFields.customValue=$}if(a instanceof xa&&n instanceof xa&&o instanceof xa){let T=Gt({key:Ze.Max,...I}),Q=Gt({key:Ze.Median,...I}),K=Gt({key:Ze.Min,...I});F?(a.dataFields.valueX=T,n.dataFields.valueX=Q,o.dataFields.valueX=K,a.dataFields.categoryY=d,n.dataFields.categoryY=d,o.dataFields.categoryY=d):(a.dataFields.valueY=T,n.dataFields.valueY=Q,o.dataFields.valueY=K,a.dataFields.categoryX=d,n.dataFields.categoryX=d,o.dataFields.categoryX=d),a.dataFields.customValue=$,o.dataFields.customValue=$,n.dataFields.customValue=$}}if(l instanceof li&&g){let T=Gt({...I,key:Ze.Outlier});F?(l.dataFields.valueX=T,l.dataFields.categoryY=d):(l.dataFields.valueY=T,l.dataFields.categoryX=d),l.dataFields.customValue=$,l.invalidateRawData()}let R=i?.chart??r?.chart;R!==void 0&&(m||y)&&R.invalidateRawData()}}function $8(s){let{chart:t,axisList:e=[],chartConfig:i,hideLoaderHandle:r,seriesIndex:a,selectionTheme:n}=s,o=i.series[a],[l,u]=e,h=new li;cs(h.uid,{isBoxPlotMeanLineSeries:!0}),dl(h,r),h.id=o.id,l!==void 0&&(h.xAxis=l),u!==void 0&&(h.yAxis=u),h.simplifiedProcessing=!0;let c=V0({chart:t,lineSeries:h});return zu({element:c,customSelectionTheme:n}),Xd(t,c),Xu(h),Q9(h),Kf({chartConfig:i,seriesConfig:o,meanLineSeries:h,creation:!0}),h}function k8(s){let{chartConfig:t,seriesIndex:e}=s,i=t.series[e],r=Me([i]),a=[];if(r===L.BoxPlotSeries){let n=L8(s),o=TS({...s,type:Ji.Top}),l=TS({...s,type:Ji.Median}),u=TS({...s,type:Ji.Bottom}),h=I8(s);V9(n),U9(h,n),Kf({chartConfig:t,seriesConfig:i,candleStickSeries:n,topStepLineSeries:o,medianStepLineSeries:l,bottomStepLineSeries:u,outliersSeries:h,creation:!0}),a.push(n,o,l,u,h)}else if(r===L.LineSeries){let n=$8(s);a.push(n)}return a}function zE(s){let{chart:t,chartData:e,chartConfig:i}=s;if(t&&e?.length>1&&i?.showMean===!0){let r=i.series[0].x??J.originalCategoryValue,a=Ae(t.uid,"boxPlotMeanLinesData");if(a!==void 0&&a.length>1){let n=[];for(let o of e){let l=a.find(u=>r in u&&u[r]===o[r]);l!==void 0&&n.push(l)}kt(t.uid,{boxPlotMeanLinesData:n})}}}function M8(s){let{candleStickSeries:t,seriesConfig:e,stylingInfo:i,chartSubType:r,colorMatch:a,rendererType:n}=s;if(i!==void 0){let o={...i},l=iE({data:t.chart.data,colorMatch:a,chartSubType:r,rendererType:n});i?.outline!==void 0&&l&&(o.outline.stroke=Ed(J.boxPlot.boxPlotWhiskersColor));let{topStepLineSeries:u,medianStepLineSeries:h,bottomStepLineSeries:c}=H0(t.chart,t.id);if(u!==void 0&&h!==void 0&&c!==void 0&&o.outline!==void 0){o.outline.strokeWidth=J.boxPlot.boxPlotLineWidth,Sf(u,o.outline),Sf(h,o.outline),Sf(c,o.outline);let A=e.visible!==!1;ti(u,A),ti(h,A),ti(c,A)}}}function E8(s){let{candleStickSeries:t,seriesConfig:e,showOutliers:i,seriesSymbol:r}=s;if(r!==void 0){let a=Tg(t.chart,t.id);if(a!==void 0){let n=Mr(a);if(n!==void 0){let o=uF(i,e.visible),l={type:Zt.SMS,style:Ua.Circle,color:r.color,size:J.boxPlot.boxPlotOutliersSize};n.clones.each(u=>{let h=t.dataItems.values.find(c=>(c.categories.categoryX??c.categories.categoryY)===(u.dataItem?.categories.categoryX??u.dataItem?.categories.categoryY))?.column.fill;sF({element:u,markerSymbol:{...l,color:mE(h)??l.color},visible:o})})}}}}function R8(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,chartSubType:a,colorMatch:n,showMean:o,rendererType:l}=s,u,h,c,A=new Set,d=!1,f=e.fillSymbol??by(i);if(t.columns.length===0?(c=Uu({seriesConfig:e,seriesIndex:i,seriesSymbol:f,element:new Ee,colorMatch:n,isChartFillSymbol:!0}),u=c.symbolWithColorInfo,h=c.stylingInfo):t.columns.each(p=>{c=Uu({seriesConfig:e,seriesIndex:i,seriesSymbol:f,element:p,colorMatch:n,isChartFillSymbol:!0,rendererSymbol:o?void 0:tn({dataItem:p.dataItem?.dataContext,seriesConfig:e,chartSubType:a,colorMatch:n,rendererType:l})}),u=c.symbolWithColorInfo,h=c.stylingInfo,A.add(JSON.stringify(u))}),d=A.size>1,r>1){let p=t.legendDataItem?.marker.children.getIndex(0);p!==void 0?Jl({element:p,stylingInfo:h}):t.chart.legend.events.once(Ie.Validated,()=>{Jl({element:t.legendDataItem?.marker.children.getIndex(0),stylingInfo:h}),t.chart.legend.invalidate()})}return{multipleSymbolsForOneSeries:d,seriesSymbol:u,stylingInfo:h}}function N8(s){let{series:t,showOutliers:e,colorMatch:i,seriesIndex:r,seriesIndexMapper:a,seriesSymbolMapForEvent:n,seriesConfig:o,rendererType:l}=s,u=Ae(t.chart.uid,"config"),h=Ur(u),c=u?.series.length??0,A=Ue(u?.series),d=!1,f;if(t instanceof Vr&&o.type===L.BoxPlotSeries){let p=R8({series:t,seriesConfig:o,seriesIndex:r,numberOfSeries:c,chartSubType:A,colorMatch:i,showMean:h,rendererType:l}),{stylingInfo:m}=p;({multipleSymbolsForOneSeries:d,seriesSymbol:f}=p),n.set(a.get(o.id)??r,d?void 0:{fillSymbol:f??o.fillSymbol}),M8({candleStickSeries:t,seriesConfig:o,colorMatch:i,stylingInfo:m,chartSubType:A,rendererType:l}),E8({candleStickSeries:t,seriesConfig:o,showOutliers:e,seriesSymbol:f})}else t instanceof li&&o.type===L.LineSeries&&XE({series:t,seriesConfig:o,seriesIndexMapper:a,seriesSymbolMapForEvent:n,seriesIndex:r,colorMatch:i,rendererType:l});n.size===c&&ll({data:n,htmlContainer:t.chart.htmlContainer,chartId:t.chart.id,colorMatchApplied:Wd(t.chart)})}function V8(s){let{numberOfSeries:t,chart:e,showMean:i}=s,r=Kn({chart:e}),a=r?e.yAxes.getIndex(0)?.renderer:e.xAxes.getIndex(0)?.renderer;if(a!==void 0){let{cellStartLocation:n,cellEndLocation:o}=a,l=n/(i===!0?1:t),u=e.series.values.filter(h=>h instanceof Vr);u.forEach((h,c)=>{let A=n+c/u.length*(o-n)+l,d=n+(c+1)/u.length*(o-n)-l,{topStepLineSeries:f,medianStepLineSeries:p,bottomStepLineSeries:m}=H0(e,h.id);f!==void 0&&(f.startLocation=A,f.endLocation=d),p!==void 0&&(p.startLocation=A,p.endLocation=d),m!==void 0&&(m.startLocation=A,m.endLocation=d);let g=Tg(e,h.id);if(g!==void 0){let y=(A+d)/2;r?g.dataItems.template.locations.categoryY=y:g.dataItems.template.locations.categoryX=y}})}}function U8(s){let{outliersSeries:t,chartData:e,dataWasUpdated:i,rotationChanged:r}=s;(r===!0||i===!0)&&(t.data=e?.outliers??[])}function Q8(s){let{meanLineSeries:t,chartData:e,rotationChanged:i,sortChanged:r,dataWasUpdated:a}=s;(i===!0||a===!0||r===!0)&&(t.data=e?.meanLines??[],t.invalidateData())}function H8(s){let{chart:t,chartConfig:e,seriesConfig:i,chartData:r,candleStickSeriesId:a,showOutliers:n,dataWasUpdated:o,rotationChanged:l,outliersVisibilityChanged:u,standardizeValuesVisibilityChanged:h}=s,c=Tg(t,a);if(c!==void 0){let A=Mr(c);if(A!==void 0){let d=uF(n,i.visible);A.disabled=!d,U8({outliersSeries:c,chartData:r,dataWasUpdated:o,rotationChanged:l})}Kf({chartConfig:e,seriesConfig:i,outliersVisibilityChanged:u,standardizeValuesVisibilityChanged:h,rotationChanged:l,outliersSeries:c})}}function j8(s){let{meanLineSeries:t,seriesConfig:e,chartData:i,dataWasUpdated:r,sortChanged:a,rotationChanged:n,chartConfig:o,outliersVisibilityChanged:l,standardizeValuesVisibilityChanged:u}=s;cl(t,e?.name),Kf({chartConfig:o,seriesConfig:e,meanLineSeries:t,outliersVisibilityChanged:l,standardizeValuesVisibilityChanged:u,rotationChanged:n}),Q8({meanLineSeries:t,chartData:i,dataWasUpdated:r,sortChanged:a,rotationChanged:n})}function W8(s){let{series:t,chartConfig:e,seriesConfig:i,rotationChanged:r,outliersVisibilityChanged:a,standardizeValuesVisibilityChanged:n}=s;cl(t,i?.name),t.hiddenInLegend=Ur(e),Kf({chartConfig:e,seriesConfig:i,candleStickSeries:t,outliersVisibilityChanged:a,standardizeValuesVisibilityChanged:n,rotationChanged:r})}function X8(s){let{chart:t,chartConfig:e,seriesConfig:i,candleStickSeriesId:r,outliersVisibilityChanged:a,standardizeValuesVisibilityChanged:n,rotationChanged:o}=s,l=i.visible!==!1,{topStepLineSeries:u,medianStepLineSeries:h,bottomStepLineSeries:c}=H0(t,r);u!==void 0&&ti(u,l),h!==void 0&&ti(h,l),c!==void 0&&ti(c,l),Kf({chartConfig:e,seriesConfig:i,outliersVisibilityChanged:a,standardizeValuesVisibilityChanged:n,rotationChanged:o,topStepLineSeries:u,medianStepLineSeries:h,bottomStepLineSeries:c})}function z8(s){let{chart:t,series:e,chartData:i,commonStrings:r,dataWasUpdated:a,sortChanged:n,fieldList:o,outliersVisibilityChanged:l,showMean:u,seriesConfig:h,showOutliers:c,standardizeValuesVisibilityChanged:A,rotationChanged:d,options:f}=s,{tooltipFormatter:p}=f??{};V8({numberOfSeries:s.numberOfSeries,chart:t,showMean:u});let m=Ae(t.uid,"config");if(m!==void 0){if(e instanceof Vr&&h.type===L.BoxPlotSeries){let{id:g}=e;W8({series:e,chartConfig:m,seriesConfig:h,rotationChanged:d,outliersVisibilityChanged:l,standardizeValuesVisibilityChanged:A}),X8({chart:t,chartConfig:m,seriesConfig:h,candleStickSeriesId:g,outliersVisibilityChanged:l,standardizeValuesVisibilityChanged:A,rotationChanged:d}),H8({chart:t,chartConfig:m,seriesConfig:h,chartData:i,showOutliers:c,candleStickSeriesId:g,dataWasUpdated:a,rotationChanged:d,outliersVisibilityChanged:l,standardizeValuesVisibilityChanged:A})}else e instanceof li&&h.type===L.LineSeries&&j8({chartConfig:m,chartData:i,meanLineSeries:e,seriesConfig:h,dataWasUpdated:a,sortChanged:n,rotationChanged:d,outliersVisibilityChanged:l,standardizeValuesVisibilityChanged:A});Nd({styleCallback:N8,callbackProps:s,series:e,seriesConfig:h,onReadyEvent:!0}),W9({series:e,seriesConfig:h,fieldList:o,tooltipFormatter:p,commonStrings:r})}}function G8(s){let t=s.series.getIndex(0);t!==void 0&&(t.slices.each(e=>{Oo({element:e,selected:!1,backToDefaultState:!0})}),s.feedLegend())}function Y8(s,t=!0){let e;s.series.each((i,r)=>{if((!t||i.visible)&&(e===void 0||e!==L.HistogramSeries&&e!==L.ScatterSeries)){e=Bg(i,r);let a=[];if(e===L.HistogramSeries||e===L.BarSeries)a=i.columns?.values;else if(e===L.ScatterSeries||e===L.LineSeries)a=Mr(i)?.clones?.values;else if(e===L.BoxPlotSeries){if(i instanceof Vr)a.push(...i.columns.values);else if(i instanceof xa)a.push(...i.segments.values);else if(i instanceof li){let n=Mr(i)?.clones?.values;n!==void 0&&a.push(...n)}}a!==void 0&&a.forEach(n=>{Oo({element:n,selected:!1,backToDefaultState:!0})})}})}function qf(s){let{chart:t,selectionSource:e,clearOnlyVisibleSeries:i,disposeStyleAndSelection:r}=s,a=Ae(t.uid,"currentSelectionDataItems");r!==!1&&PE(t,"updateSelectionCallbackDisposer"),kt(t.uid,{currentSelectionDataItems:void 0,currentSelectionOIDs:void 0,currentSelectionIndexes:void 0,computedSelectionDataItems:void 0,computedSelectionIndexes:void 0,pendingSelectionQueries:!1}),Zn(t)&&(t instanceof $t?Y8(t,i??!0):t instanceof Ki&&G8(t)),a&&Mf({data:{selectionSource:e??Hr.ClearSelection},htmlContainer:t.htmlContainer})}function K8(s){_y(),s$(s.htmlContainer),qf({chart:s})}function q8(s){let{chart:t,chartType:e,showMean:i}=s;return t.series.values.filter(r=>Ht(r.uid,"isOverlay")!==!0&&(e!==L.BoxPlotSeries||!i&&r instanceof Vr||i&&Ht(r.uid,"isBoxPlotMeanLineSeries"))).every(r=>Ht(r.uid,"isSelectionApplied")===!0)}function Z8(s){s.series.each(t=>cs(t.uid,{isSelectionApplied:void 0}))}function GE(s,t){let e=Ae(s.uid,"actionMode");if((e===Wt.MonoSelection||e===Wt.None)&&t.length>1)qf({chart:s});else{let i=s instanceof Ki;t.forEach(r=>{Oo({element:r,useNativeState:i,selected:!0})})}}function J8(s){let{chart:t,chartConfig:e,series:i,options:r,elementsToApplySelectionTo:a,selectionDataItems:n,layerOidField:o,xAxisField:l,yAxisField:u}=s,h=Me(e.series),c=Ue(e.series),A=rl(e),d=Ae(t.uid,"queryObject"),f=[],p=[],m=[],g=Fs(e.series),y=i instanceof hs?i.dataFields?.customValue??"":"";return a.forEach(v=>{if(!(v instanceof Ko)){let _=v.dataItem?.dataContext;if(_!==void 0&&(h===L.BoxPlotSeries&&_[J.boxPlot.boxPlotOutlierId]!==!0||c===j.BarAndLineMultiFields)&&(_=Vu({dataContext:_,yAxisField:u,yList:g,xAxisField:l,splitBy:y,chartType:h,chartSubType:c,showOutliers:A,isFeatureCollectionLayer:bl(d)})),T0({elementDataContext:_,options:r,selectionDataItems:n,layerOidField:o,xAxisField:l,yAxisField:u,chartType:h,chartSubType:c,showOutliers:A}))if(f.push(v),v.dataItem!==void 0&&p.push(v.dataItem.index),v?.dataItem instanceof Ma&&_!==void 0)m.push(_);else{let S=new Set;h===L.PieSeries&&hl(_)?(vg({groupOfSlicesDataContext:_})??[]).forEach(F=>{n.forEach(P=>{MB({layerOidField:o,sliceDataContext:F,selectionDataContext:P,xAxisField:l})&&S.add(F)})}):S.add(_),Array.from(S)?.forEach(F=>{let P=Vu({dataContext:F,yAxisField:u,yList:g,xAxisField:l,splitBy:y,chartType:h,chartSubType:c,showOutliers:A,isFeatureCollectionLayer:bl(d)});P!==void 0&&m.push(P)})}else Oo({element:v,useNativeState:t instanceof Ki,selected:!1})}}),GE(t,f),{selectedIndexes:p,newSelectionDataItems:m}}function eq(s,t){let e=[],i=[],r=Ae(s.uid,"config"),a=Ae(s.uid,"queryObject"),n=rl(r),o=Fs(r?.series??[]),l=Ue(r?.series);return s.series.each((u,h)=>{if(r&&u.visible&&Ht(u.uid,"isOverlay")!==!0){let c=r.series[0].x,A=wc(u),d=u instanceof hs?u.dataFields?.customValue??"":"",f=Bg(u,h),p=t.get(h);if(p!==void 0){let m;if(u instanceof $i?m=u.columns:u instanceof zs?m=u.slices:m=Mr(u)?.clones,m!==void 0){let{indexesToSelect:g}=p;m.each((y,v)=>{if(y&&(g===void 0||g.includes(v))){let _;f===L.BoxPlotSeries&&y.dataItem instanceof Ma?_=y.dataItem.dataContext:y.dataItem instanceof Ko||(_=Vu({dataContext:y.dataItem?.dataContext,yList:o,yAxisField:A,xAxisField:c,splitBy:d,chartType:f,chartSubType:l,showOutliers:n,isFeatureCollectionLayer:bl(a)})),_!==void 0&&e.push(_),i.push(y)}else Oo({element:y,useNativeState:s instanceof Ki,selected:!1})})}}}}),GE(s,i),e}function tq(s){let{series:t,chartType:e,showMean:i}=s,r;switch(e){case L.ComboLineAndBarSeries:if(t instanceof $i)r=t.columns.values;else if(t instanceof li){let a=Mr(t);a!==void 0&&(r=a.clones.values)}break;case L.BarSeries:case L.HistogramSeries:t instanceof $i&&(r=t.columns.values);break;case L.LineSeries:case L.ScatterSeries:if(t instanceof li){let a=Mr(t);a!==void 0&&(r=a.clones.values)}break;case L.PieSeries:r=t.slices.values;break;case L.BoxPlotSeries:if(t.chart instanceof $t){if(t instanceof Vr&&i!==!0){r=[...t.columns.values];let a=Tg(t.chart,t.id);if(a!==void 0&&a.visible){let n=Mr(a);n!==void 0&&r.push(...n.clones.values)}}else if(i===!0&&t instanceof li&&Ht(t.uid,"isBoxPlotMeanLineSeries")){let a=Mr(t);a!==void 0&&(r=a.clones.values)}}break}return r}function iq(s){let{series:t,seriesIndex:e,queryObject:i,options:r,dataWasUpdated:a,sortChanged:n,groupOfSlicesWasUpdated:o,xAxisField:l,yAxisField:u,rotationChanged:h}=s,{filterBySelection:c,selectionData:A,returnSelectionIndexes:d,returnSelectionOIDs:f}=r??{},{selectionIndexes:p}=A??{},{chart:m}=t,g=Ae(m.uid,"config"),y=g&&"showOutliers"in g&&typeof g.showOutliers=="boolean"?g.showOutliers:!1,v=Ur(g),_=Me(g?.series);if(c!==!0&&g!==void 0){let S=tq({series:t,chartType:_,showMean:v}),F=Ue(g?.series),P;i!==void 0&&(P=tr(i).objectIdField);let D=Ae(m.uid,"currentSelectionDataItems"),$=!1,I=!1,R,T=!1;if(S?.[0]!==void 0){if(r?.viewExtentUpdated!==!0){R=r?.selectionData?.selectionItems??D;let Q=Ae(m.uid,"currentSelectionIndexes");T=FB({itemsA:R,itemsB:D,isPieFromFields:F===j.PieFromFields});let K=!so(p,Q);$=n===!0||a===!0||o===!0||h===!0||R!==void 0&&T;let z=!0;if(p!==void 0&&p.size>0){let{indexesToSelect:se}=p.get(e??0)??{};z=se!==void 0&&se[0]===void 0}I=a===!0||o===!0||h===!0||!z&&K}if($&&R!==void 0&&R.length>0){let{selectedIndexes:Q,newSelectionDataItems:K}=J8({chart:m,chartConfig:g,options:r,series:t,elementsToApplySelectionTo:S,selectionDataItems:R,layerOidField:P,xAxisField:l,yAxisField:u}),z=Ae(m.uid,"computedSelectionDataItems")??[];if(z.push(...K),g.series.length>1&&F!==j.BarAndLineNoAggregation&&F!==j.BarAndLineSplitByNoAggregation&&(z=yg({data:z,x:g.series[0].x,splitByField:jr(g.series[0].query?.where)})),kt(m.uid,{computedSelectionDataItems:z}),d===!0){let se=Array.from(new Set(Q)),ee=Ae(m.uid,"computedSelectionIndexes");ee===void 0&&(ee=new Map),se.length===S.length?ee.set(e??0,{}):ee.set(e??0,{indexesToSelect:se}),kt(m.uid,{computedSelectionIndexes:ee})}}else if(p!==void 0&&I)R=eq(m,p);else{let Q=R===void 0||R.length===0,K=t instanceof hs?t.dataFields?.customValue??"":"",z=se=>{let ee=se.dataItem?.dataContext;return ee!==void 0&&_===L.BoxPlotSeries&&ee[J.boxPlot.boxPlotOutlierId]!==!0&&(ee=Vu({dataContext:ee,yAxisField:u,yList:Fs(g.series),xAxisField:l,splitBy:K,chartType:_,chartSubType:F,showOutliers:y,isFeatureCollectionLayer:bl(i)})),T0({elementDataContext:ee,options:r,selectionDataItems:R??D??[],layerOidField:P,xAxisField:l,yAxisField:u,chartType:_,chartSubType:F,showOutliers:y})};S.forEach(se=>{let ee=se.isActive||z(se);Oo({element:se,selected:ee,useNativeState:m instanceof Ki,backToDefaultState:Q})})}}if(cs(t.uid,{isSelectionApplied:!0}),q8({chart:m,chartType:_,showMean:v})&&(Z8(m),T||I)){let Q=Ae(m.uid,"computedSelectionDataItems")??R;Q=Array.from(new Set(Q?.map(z=>JSON.stringify(z)))).map(z=>JSON.parse(z)),R!==void 0&&kt(m.uid,{currentSelectionDataItems:Q}),A?.selectionOIDs!==void 0&&kt(m.uid,{currentSelectionOIDs:A.selectionOIDs});let K;if(d===!0&&(K=Ae(m.uid,"computedSelectionIndexes")??p,K!==void 0&&kt(m.uid,{currentSelectionIndexes:K})),Q===void 0||Q.length===0)qf({chart:m,selectionSource:Hr.ProgrammaticSelection});else{let z={selectionItems:Q,selectionSource:Hr.ProgrammaticSelection};d===!0&&(z.selectionIndexes=K),f!==!1&&(z.selectionOIDs=A?.selectionOIDs??Ae(m.uid,"currentSelectionOIDs")),Mf({data:z,seriesConfig:g.series,htmlContainer:m.htmlContainer})}kt(m.uid,{computedSelectionIndexes:void 0,computedSelectionDataItems:void 0})}}}async function rq(s){let{chart:t,options:e,dataWasUpdated:i,chartData:r,chartConfig:a,queryObject:n,rotationChanged:o,errorStrings:l}=s,u=Ae(t.uid,"currentSelectionOIDs"),h=Ae(t.uid,"queryConfig"),c=await Wk({chartConfig:a,queryConfig:h,chartData:r,currentSelectionOIDs:u,dataWasUpdated:i,queryObject:n,options:e,errorStrings:l});c!==void 0&&e!==void 0&&(e.selectionData={...e?.selectionData,selectionItems:c});for(let A=0;A<t.series.length;A+=1){let d=t.series.getIndex(A);if(d){let f=U0(d,a);if(f){let p=Me([f]);if(p===L.ScatterSeries?d=t.series.values.find(m=>Ht(m.uid,"isOverlay")!==!0):p===L.BoxPlotSeries&&(d=t.series.values.find(m=>m.id===f.id)),d!==void 0){let m=f.x,g=p===L.BoxPlotSeries?f.y.toString():wc(d);m9({callbackProps:{...s,series:d,seriesIndex:A,xAxisField:m,yAxisField:g},series:d,seriesConfig:f,onReadyEvent:o===!0})}}}}}async function Dg(s){let{chart:t,listSelectedElements:e,selectionSource:i}=s,r=Ae(t.uid,"options"),a=Ae(t.uid,"config"),n=Ae(t.uid,"queryObject");if(e.length===0)qf({chart:t,selectionSource:i,clearOnlyVisibleSeries:!1,disposeStyleAndSelection:!1});else try{PE(t,"updateSelectionCallbackDisposer");let o=rl(a),l=[],u=[],h=[],c=new Map,{xAxisField:A}=e[0]??{},d=Ue(a?.series),f=Fs(a?.series??[]),p=E6(t),m;if(n!==void 0&&(m=(await Vs(n)).find(y=>y.name===A)?.type),e.forEach(y=>{let{elementDataContext:v,yAxisField:_,chartType:S,splitBy:F,dataTransformationType:P}=y,D=Vu({dataContext:v,yAxisField:_,yList:f,xAxisField:A,splitBy:F,chartType:S,chartSubType:d,showOutliers:o,isFeatureCollectionLayer:bl(n)});D!==void 0&&u.push(D);let{seriesIndex:$,elementIndex:I}=y;if(I!==void 0){let R=c.get($)?.indexesToSelect??[];R.push(I),c.set($,{indexesToSelect:Array.from(new Set(R))})}if(v!==void 0){let R=v[as.uniqueIdsName]!==void 0?[v[as.uniqueIdsName]].flat():[];if(R.length>0)h.push(...R);else if(r?.returnSelectionOIDs!==!1){let T=wk({chartType:S,dataContext:v,options:r,xAxisField:A,yAxisField:_??"",splitBy:F,dataTransformationType:P,isDateAxis:p,xAxisFieldType:m,chartSubType:d,showOutliers:a?.showOutliers});l.push(T)}}}),r?.returnSelectionOIDs!==!1&&n!==void 0&&l.length>0){let y={...Ae(t.uid,"queryConfig")};delete y.groupByFieldsForStatistics,delete y.orderByFields,delete y.outStatistics;let v=await Xk({whereList:l,queryObject:n,queryConfig:y});if(l.length===e.length)h=v;else for(let _=0;_<v.length;_+=1)h.push(v[_])}kt(t.uid,{currentSelectionDataItems:u,currentSelectionOIDs:h,currentSelectionIndexes:c});let g={selectionItems:u,selectionSource:i};r?.returnSelectionIndexes===!0&&(g.selectionIndexes=c),r?.returnSelectionOIDs!==!1&&(g.selectionOIDs=h),Mf({data:g,seriesConfig:a?.series,htmlContainer:t.htmlContainer})}catch(o){kt(t.uid,{pendingSelectionQueries:!1});let{httpStatus:l}=o instanceof uh?o.details.details:o.details??{};if(l===429)K8(t);else throw o}kt(t.uid,{pendingSelectionQueries:!1})}function sq(s,t){let e=J.cursorCrosshair.style,i={type:Zt.SLS,style:t.style??e.style,color:t.color??e.color,width:t.width??e.width};il({element:s.cursor.lineX,lineSymbol:i}),il({element:s.cursor.lineY,lineSymbol:i})}function YE(s){!(s instanceof ra)&&!(s instanceof Ki)&&(s.cursor=new Bd)}function KE(s,t){if(!(s instanceof ra)&&!(s instanceof Ki)){let e=s,i=e.cursor??new Bd;t?.style!==void 0&&sq(e,t.style);let r=J.cursorCrosshair;i.lineX.disabled=r.verticalLineVisible?t?.verticalLineVisible===!1:t?.verticalLineVisible!==!0,i.lineY.disabled=r.horizontalLineVisible?t?.horizontalLineVisible===!1:t?.horizontalLineVisible!==!0,e.cursor=i}}function aq(s){return!(s instanceof ra)&&s.cursor===void 0&&YE(s),s.cursor}function oB(s,t){let e=s.renderer.labels.template;e.events.hasListenersByType(Ie.Hit)&&(e.cursorOverStyle=t),s.renderer.labels.each(i=>{i.cursorOverStyle=t})}function nq(s){let{chart:t,chartType:e,showMean:i,enabled:r}=s,a=r?fi.pointer:fi.default;switch(e){case L.HistogramSeries:case L.ComboLineAndBarSeries:case L.BarSeries:case L.PieSeries:t.series.each(n=>{(n instanceof $i||n instanceof zs)&&(n.cursorOverStyle=a)});break;case L.BoxPlotSeries:t.series.each(n=>{let o=a;if(n instanceof li){let l=Mr(n);l!==void 0&&(i&&Ht(n.uid,"isBoxPlotOutliersSeries")&&(o=fi.default),l.cursorOverStyle=o,l.clones.each(u=>{u.cursorOverStyle=o}))}else n.cursorOverStyle=i?fi.default:a});break;case L.LineSeries:case L.ScatterSeries:t.series.each(n=>{if(n instanceof li&&Ht(n.uid,"isOverlay")!==!0){let o=Mr(n);o!==void 0&&(o.cursorOverStyle=a,o.clones.each(l=>{l.cursorOverStyle=a}))}});break}}function oq(s){let{chart:t,actionMode:e,cursorRange:i}=s,r=Ae(t.uid,"isRotated"),a=Ae(t.uid,"config"),n=Ur(a),o=Me(a?.series),l=o===L.ScatterSeries,u=o===L.LineSeries&&Tr(a?.axes?.[0]?.valueFormat),h=o===L.LineSeries&&gc(a?.axes?.[0]?.valueFormat),c=o===L.LineSeries&&qn(a?.axes?.[0]?.valueFormat),A,d=!1,f=e??Ae(t.uid,"actionMode")??J.actionMode;if(Ae(t.uid,"filterBySelection")===!0)A=qi.None,d=!1;else if(i!==void 0)A=GM({actionMode:f,cursorRange:i,isRotated:r});else switch(f){case Wt.Zoom:l||u||c?A=qi.ZoomXY:A=r===!0?qi.ZoomY:qi.ZoomX,d=!1;break;case Wt.MultiSelection:case Wt.MultiSelectionWithCtrlKey:h?A=r===!0?qi.SelectY:qi.SelectX:A=qi.SelectXY,d=!0;break;case Wt.MonoSelection:A=qi.None,d=!0;break;case Wt.None:A=qi.None,d=!1;break}t instanceof $t&&t.cursor!==void 0&&A!==void 0&&(t.cursor.behavior=A),nq({chart:t,chartType:o,enabled:d,showMean:n})}function lq(s){let{axis:t}=s,e=t.chart;return{axis:t,chart:e}}async function uq(s){let t=s.target,{axis:e,chart:i}=lq(t),r=[],{seriesDataItems:a}=s.target.dataItem;Object.keys(a).forEach(h=>{if(Object.hasOwn(a,h)){let c=a[h];for(let A of c)if(A instanceof Cs)r.push(A.column);else{let d=A.sprites.find(f=>!(f instanceof Ni));d!==void 0&&r.push(d)}}});let n=Q0(s,i),o=e instanceof Pt||e instanceof Vt,l=[],u=Ae(i.uid,"config")?.series[0].x??"";i.series.each((h,c)=>{let A;if(h instanceof $i?A=h.columns:A=Mr(h)?.clones,h.visible){let d=wc(h),f=h.dataFields?.customValue??"",p=Bg(h,c);A?.each((m,g)=>{let y=r.includes(m);Oo({element:m,selected:y,multiSelect:n,isDateOrCategoryAxis:o})&&l.push({element:m,elementDataContext:m.dataItem?.dataContext,yAxisField:d,xAxisField:u,splitBy:f,chartType:p,seriesIndex:c,elementIndex:g})})}}),await Dg({chart:i,listSelectedElements:l,selectionSource:Hr.SelectionByClick})}function hq(s){if(Zn(s.renderer.labels.template)){s.renderer.labels.template.events.on(Ie.Hit,async e=>{s.renderer.labels.template.events.isEnabled(Ie.Hit)&&await uq(e)});let t=Ae(s.chart.uid,"filterBySelection")===!0?fi.default:fi.pointer;oB(s,t)}}function A0(s,t){if(Zn(s?.renderer?.labels?.template)&&(s instanceof Vt||s instanceof Pt))if(t)s.renderer.labels.template.events.disableType(Ie.Hit),oB(s,fi.default);else{s.renderer.labels.template.events.enableType(Ie.Hit);let e=Ae(s.chart.uid,"filterBySelection")===!0?fi.default:fi.pointer;oB(s,e)}}function Vd(s){let{chart:t,label:e,labelType:i}=s,r=Number.NaN;switch(i){case yi.GuideLabel:!(t instanceof ra)&&t instanceof $t&&(e.rotation===90||e.rotation===270?r=t.seriesContainer.measuredHeight:r=t.seriesContainer.measuredWidth);break;case yi.XAxisTitle:t instanceof $t&&(r=t.seriesContainer.measuredWidth);break;case yi.YAxisTitle:t instanceof $t&&(r=t.seriesContainer.measuredHeight);break;case yi.ChartTitle:case yi.ChartSubTitle:case yi.ChartFooter:r=t.measuredWidth-20;break}r>0&&(e.maxWidth=r,t.invalidateLabels(),t instanceof $t&&(t.xAxes.getIndex(0)?.invalidateLabels(),t.xAxes.getIndex(1)?.invalidateLabels(),t.yAxes.getIndex(0)?.invalidateLabels(),t.yAxes.getIndex(1)?.invalidateLabels()))}function Ag(s){let{chart:t,labelType:e}=s;Vd(s);let i=e===yi.YAxisTitle?1:0;t.events.on(Ie.Validated,ss(()=>Vd(s),J.debounceTime),i)}function cq(s,t){s.chart instanceof ra||(t.adapter.add("dx",e=>{let i=e;return(t.rotation===90||t.rotation===270)&&(i=t.bbox.height,t.dataItem.value!==t.dataItem.endValue&&(i/=2)),i}),t.padding(0,10,0,10))}function dq(s,t){let e=s.renderer instanceof ku?new Co:new Hl;return e.disabled=!0,e.axis=s,R0(e),Zl(e.uid,{isGuide:t}),Ag({chart:s.chart,label:e,labelType:yi.GuideLabel}),t&&cq(s,e),e}function Aq(s){let{label:t,labelConfig:e,guideType:i}=s,r=t.axis.renderer instanceof Fr,a;t instanceof Co||(r?i===Zt.SFS?a=J.verticalSurfaceGuideLabels:a=J.verticalLineGuideLabels:i===Zt.SFS?a=J.horizontalSurfaceGuideLabels:a=J.horizontalLineGuideLabels);let n={...e};n.content.rightToLeft=t.axis.rtl,Ln({label:t,labelConfig:n,defaults:a}),t.axis.invalidateLabels()}function fq(s,t,e){let i=e.chart;s.axisFill.tooltip=new Go,s.axisFill.interactionsEnabled=!0,s.axisFill.tooltipPosition=J.columnTooltipPosition,s.axisFill.tooltip.label.wrap=!0,s.axisFill.tooltip.adapter.add("maxWidth",()=>Math.min(J.tooltipWidth,i.seriesContainer.maxWidth)),s.axisFill.tooltip.boundingContainer=i.chartAndLegendContainer,s.axisFill.adapter.add("tooltipHTML",(r,a)=>{let n=r,{dataItem:o,axis:l}=a;if(!(l.renderer instanceof ku)){let u=na(l.uid,"guideTooltipFormatter");if(u!==void 0){let h="",c;o instanceof Zo?(h=o.value,c=o.endValue):o instanceof Xl?(h=o.category,c=o.endCategory):o instanceof Kh&&(h=o.date,c=o.endDate),n=u({guideName:o.id??"",start:h,end:c,guideIndex:t})}}return n}),s.axisFill.tooltip.events.on(Ie.Shown,r=>{let a=Ae(s.axisFill.axis.chart.uid,"config");if(a!==void 0){let n=Ae(s.axisFill.axis.chart.uid,"isRotated"),o=zd(s.axisFill.axis.renderer,n)?0:1,l=a.axes?.[o]?.guides,{tooltipReverseColor:u}=l?.[t]??{};ME(r.target,u)}})}function pq(s,t){return e=>{let{guideName:i,start:r,end:a,guideIndex:n}=e,{chart:o}=s,l="";if(o!==void 0){let u=Ae(o.uid,"config"),h=Ae(o.uid,"isRotated"),c=zd(s.renderer,h)?0:1,A=u?.axes?.[c]?.guides,d=r,f=a;if(s instanceof Pt){let y=new Qn,v;if(o!==void 0){let _=Ae(s.chart.uid,"formatLocale");y=Yn({type:L.DateAxisFormat,iLocale:o.language.locale,formatLocale:_}),v=u?.axes?.[0]?.valueFormat?.intlOptions}d=y.format(r,v),a!==void 0&&(f=y.format(a,v))}else if(s instanceof je&&!(r instanceof Date)&&!(a instanceof Date)){let{start:y,end:v}=hF(s,A?.[n]);Number.isFinite(y)&&(d=y),Number.isFinite(v)&&(f=v);let _=na(s.uid,"numberFormatter")??(S=>new Du().format(S));d=_(d),f!==void 0&&(f=_(f))}else s instanceof Vt&&(d=r,f=a);let p=d.toString(),m=f?.toString()??"";!Li(m)&&p!==m?l=Ha(t.guideTooltipLabel,{guideStart:p,guideEnd:m}):l=p;let g=$n(o.rtl);l=`${i}${g} ${l}`}return l}}function mq(s){let{axis:t,guideTooltipFormatter:e,commonStrings:i}=s;Ks(t.uid,{guideTooltipFormatter:e??pq(t,i)})}function gq(s){let t=Oc.Value;return s instanceof Pt?t=Oc.Date:s instanceof Vt&&(t=Oc.Category),t}function TI(s){let{inputValue:t,axisType:e,axisMin:i,axisMax:r}=s,a=t;if(t!=null)switch(e){case Oc.Date:a=t instanceof Date?t:new Date(t);break;case Oc.Category:a=t.toString();break;case Oc.Value:if(typeof t!="number"){let n=t.toString().trim(),o=g0(n);o!==void 0?i!==void 0&&r!==void 0?a=o/100*(r-i)+i:a=null:a=Number.parseFloat(n)}break}return a}function hF(s,t){let{start:e,end:i}=t??{},r;if(t!==void 0&&e!==void 0&&e!==null){let a=gq(s),n=s instanceof je?s.min:void 0,o=s instanceof je?s.max:void 0,l=TI({inputValue:e,axisType:a,axisMin:n,axisMax:o}),u=t.style?.type===Zt.SFS&&i!==null&&i!==void 0?TI({inputValue:i,axisType:a,axisMin:n,axisMax:o}):l;r={isValidGuide:l!=null&&u!=null,start:l,end:u}}else r={isValidGuide:!1,start:void 0,end:void 0};return r}function qE(s){let{axis:t,tickOrGuide:e,numberOfElementsToBeDeleted:i}=s,r=[],a=t.axisRanges.length-1,n=i;for(;n>0&&a>=0;){let o=t.axisRanges.getIndex(a);if(o!==void 0){let l=$s(o.label?.uid,"isGuide")??!1;(l!==!0&&e===ki.Ticks||l===!0&&e===ki.Guides)&&(r.push(o),n-=1)}a-=1}for(let o=0;o<r.length;o+=1)t.axisRanges.removeValue(r[o])}function ks(s,t){return s.axisRanges?.values?.filter(e=>{let i=$s(e.label?.uid,"isGuide")??!1,r=$s(e.label?.uid,"isGaugeAxisLabel")??!1,a=!1;switch(t){case ki.Ticks:a=i===!1;break;case ki.Guides:a=i===!0;break;case ki.GaugeTicksWithLabels:a=r===!0&&e.value!==void 0;break;case ki.GaugeFirstAndLastGuides:a=i===!0&&(e.id===J.gaugeFirstLabelId||e.id===J.gaugeLastLabelId);break}return a})??[]}function ZE(s,t){let e=s.axisRanges.length;if(t){let r=s.axisRanges.values.findIndex(a=>a.id===J.gaugeFirstLabelId);r!==-1&&(e=r)}let i;return s instanceof Vt?i=new Xl:s instanceof Pt?i=new Kh:i=new Zo,s.axisRanges.insertIndex(e,i),i.label=dq(s,t),i.axisFill.fillOpacity=1,i.axisFill.disabled=!0,i.grid.strokeOpacity=1,i}function yq(s,t){let e=ZE(s,!0);fq(e,t,s),e.tick!==void 0&&(e.tick.disabled=!0),e.label!==void 0&&(e.label.inside=!0),e.grid!==void 0&&(e.grid.disabled=!0)}function bq(s,t){let{start:e,end:i}=t,r=Ae(s.uid,"config"),a=pB(r),n=e!==null?e:void 0;n=s.data.find(l=>l[J.originalCategoryValue]===e)?.[a]??n;let o=i!==null?i:void 0;if(o!==void 0)for(let l=s.data.length-1;l>=0;l-=1){let u=s.data[l];if(u[J.originalCategoryValue]===i){o=u[a];break}}return{modifiedStart:n,modifiedEnd:o}}function vq(s,t){let{start:e,end:i}=t;if(e!==void 0){let{chart:r}=s?.component??{},a;if(s instanceof Xl&&r instanceof $t&&Ae(r.uid,"isNonAggregatedChart")===!0){let{modifiedStart:n,modifiedEnd:o}=bq(r,t);a={isValidGuide:!0,start:n??e,end:o??i}}else a=hF(s.axisFill.axis,t);a.isValidGuide&&(s instanceof Xl?(s.category=`${a.start?.toString()}`,s.endCategory=`${a.end?.toString()}`):s instanceof Kh?(s.date=a.start,s.endDate=a.end):(s.value=a.start,s.endValue=a.end))}}function xq(s,t){s.axisFill.above=t??J.guideAbove,s.grid.above=t??J.guideAbove}function wq(s,t){let{axisFill:e,label:i}=s;if(t!==void 0){if(s.id=t.name,s.visible=t.visible!==void 0?t.visible:s.visible,vq(s,t),t.style.type===Zt.SLS?dg({element:e,fillSymbol:{type:Zt.SFS,color:t.style?.color,outline:t.style},visible:t.visible}):t.style.type===Zt.SFS&&dg({element:e,fillSymbol:t.style,visible:t.visible}),xq(s,t.above),t.label!==void 0){let a={type:L.Text,visible:t.visible,content:t.label};Aq({label:i,labelConfig:a,guideType:t.style.type})}let r=s.component?.chart;r!==void 0&&Vd({chart:r,label:i,labelType:yi.GuideLabel})}else e.disabled=!0,i.disabled=!0}function Cq(s,t){let e=ks(s,ki.Guides).length,i=t?.length??e;for(let r=e;r<i;r+=1)yq(s,r)}function _q(s){let{axis:t,guides:e,guideTooltipFormatter:i,commonStrings:r}=s;if(e!==void 0){for(let a=0;a<e.length;a+=1){let n=ks(t,ki.Guides)[a];n!==void 0&&wq(n,e[a])}mq({axis:t,guideTooltipFormatter:i,commonStrings:r})}}function Sq(s,t){let e=ks(s,ki.Guides).length,i=t?.length??0,r=e-i;qE({axis:s,numberOfElementsToBeDeleted:r,tickOrGuide:ki.Guides})}function Bq(s){let{axis:t,guides:e}=s;Cq(t,e),_q(s),Sq(t,e)}function Fq(s){let t=ZE(s,!1);t.label.inside=!1,t.grid.disabled=!0,t.label.html=J.htmlEmptyContent,t.label.adapter.add("htmlOutput",(e,i)=>ZB(s,i?.dataItem?.value??e))}function Pq(s){let{axisTick:t,value:e,axisConfig:i,numberFormatter:r}=s;t.value=e,i.labels.content.text=r.format(e),il({element:t.tick,lineSymbol:i.lineSymbol,visible:i.visible})}function Tq(s,t){let e=ks(s,ki.Ticks).length,i=(t?.length??e)-e;for(let r=0;r<i;r+=1)Fq(s)}function Dq(s){let{valueAxis:t,axisConfig:e,ticks:i}=s,r=Ae(t.chart.uid,"formatLocale"),a=Yn({type:e.valueFormat.type,iLocale:t.chart.language.locale,formatLocale:r});if(a.numberFormat=mc(e.valueFormat),i!==void 0){let n=ks(t,ki.Ticks);for(let o=0;o<i.length;o+=1){let l=n[o];if(l!==void 0){let u=i[o];Pq({axisTick:l,value:u,axisConfig:e,numberFormatter:a})}}}}function Oq(s,t){let e=ks(s,ki.Ticks).length,i=t?.length??0,r=e-i;qE({axis:s,numberOfElementsToBeDeleted:r,tickOrGuide:ki.Ticks})}function Lq(s){let{valueAxis:t,axisConfig:e,ticks:i}=s;Tq(t,i),Dq({valueAxis:t,axisConfig:e,ticks:i}),Oq(t,i)}function JE(s){let{axis:t,labels:e,restoreLabelsVisibility:i=!0}=s,r,a=0;if((e??t.renderer.labels.values).forEach(n=>{let o=n.x instanceof nt?n.x.value:n.x;o>a&&(a=o,r=n),i&&ti(n,!0)}),r?.visible===!0){let n=Math.max(1,r.measuredWidth)/2,o=t.chart.leftAxesContainer.measuredWidth;if(Number.isFinite(a)&&Number.isFinite(n)&&Number.isFinite(o)){let l=a+n+o>t.chart.measuredWidth&&r.rotation===0;ti(r,!l)}}}function eR(s){let t=s.renderer.labels.values.filter(e=>$s(e.uid,"isGuide")!==!0&&e.measuredWidth>0).length;return s.pixelWidth/t}function Iq(s){let{target:t}=s;if((Ae(t.chart.uid,"config")?.horizontalAxisLabelsBehavior??ur.Rotate)===ur.Wrap){let e=Number.MAX_SAFE_INTEGER;t.renderer.labels.each(r=>{$s(r.uid,"isGuide")!==!0&&r.measuredWidth>0&&(e=Math.min(e,r.bbox.width))});let i=t instanceof Pt?t.pixelWidth/J.maxNumberOfXAxisLabelsInWrapModeForDateAxis:t.pixelWidth/J.maxNumberOfXAxisLabelsInWrapMode;t.renderer.minGridDistance=Math.max(e+1,i)}}function $q(s){let{axis:t,labelsConfig:e,horizontalAxisLabelsBehavior:i,isSecondValueAxis:r,tickSpacing:a}=s,n=t.renderer.minGridDistance;if(typeof a=="number"&&Number.isFinite(a))n=a;else if(t.renderer instanceof ku)n=J.gauge.gaugeMinGridDistance;else if(t instanceof je)n=t.renderer instanceof Fr?J.xAxisMinGridDistance:J.yAxisMinGridDistance;else if(t.renderer instanceof Fr)if(r===!0)n=J.secondRotatedValueAxisMinGridDistance;else if(i===void 0||i===ur.Rotate){let o=e.content.font?.size??J.generalFontSize,l=t instanceof Vt?J.categoryAxisLabelPadding:J.axisLabelPadding;n=o*l}else if(i===ur.Wrap){let o=ss(Iq,J.debounceTime);Ks(t.uid,{debouncedUpdateMinGridDistanceForWrapBehavior:o}),t.events.on(Ie.SizeChanged,o),t.dispatchImmediately(Ie.SizeChanged)}else i===ur.Stagger?n=J.staggerMinGridDistance:n=t instanceof Vt?J.xCategoryAxisMinGridDistance:J.xAxisMinGridDistance;else n=t instanceof Vt?J.yCategoryAxisMinGridDistance:J.yAxisMinGridDistance;t.renderer.minGridDistance=n}function kq(s){let t=s.renderer.labels.template;Zn(t)&&(t.adapter.add("rotation",(e,i)=>$s(i.uid,"isGuide")!==!0?na(s.uid,"labelsSymbol")?.angle??e:e),t.adapter.add("verticalCenter",(e,i)=>$s(i.uid,"isGuide")!==!0?na(s.uid,"labelsSymbol")?.verticalCenter??e:e),t.adapter.add("horizontalCenter",(e,i)=>$s(i.uid,"isGuide")!==!0?na(s.uid,"labelsSymbol")?.horizontalCenter??e:e),t.adapter.add("dy",(e,i)=>{let r=J.axisLabel.dy??e??0;return i.dataItem?.tick?.length>J.axisTickLength?r=e??0:r=Number($s(i.uid,"isGuide")!==!0?na(s.uid,"labelsSymbol")?.yOffset??r:r),r}))}function Mq(s){let{target:t}=s;if(t.chart!==void 0){let e=Ae(t.chart.uid,"config")?.axes?.[0].labels;if((e?.visible??!0)&&e!==void 0&&t.renderer.labels.length>1){let i=0;t.renderer.labels.each(n=>{if($s(n.uid,"isGuide")!==!0&&n.measuredWidth>0){let o=n.bbox.width;o>i&&(i=o)}});let r=na(t.uid,"labelsSymbol")?.angle??0,a=eR(t)>=i+5;if(!a&&r===0||a&&r===J.rotatedAxisLabel.rotation){let n=a?c0(e.content,t.rtl,J.axisLabel):c0({type:Zt.TS},t.rtl,J.rotatedAxisLabel);Ks(t.uid,{labelsSymbol:n}),t.renderer.invalidateLabels()}}}}function Eq(s,t=1){let{target:e}=s,i=eR(e);Number.isFinite(i)&&(e.renderer.labels.template.maxWidth=Math.min(i*t,e.renderer.minGridDistance))}function Rq(s){let{target:t}=s;if(Ae(t.chart.uid,"config")?.axes?.[0].labels?.visible!==!1){let e=0;t.dataItems.each(i=>{let{label:r,itemIndex:a}=i;$s(r.uid,"isGuide")!==!0&&r.currentText!==void 0&&r.measuredWidth>0&&a%2===0&&r.bbox.height>e&&(e=r.bbox.height)}),t.dataItems.each(i=>{let{tick:r,label:a,itemIndex:n}=i;if($s(a.uid,"isGuide")!==!0&&a.currentText!==void 0&&a.measuredWidth>0){let o=n%2===1;r.length=o?e+5:J.axisTickLength,r.dataItem.label.dy=J.axisLabel.dy+(o?e:0)}}),e!==void 0&&(t.renderer.labels.template.paddingBottom=e+5),t.validate()}}function Nq(s){let{chart:t}=s;s.renderer.labels.template.paddingLeft=Number.NaN,s.renderer.labels.template.paddingRight=Number.NaN;let e=na(s.uid,"debouncedAxisLabelRotationCallback");if(e!==void 0&&(s.events.off(Ie.Validated,e),Ks(s.uid,{debouncedAxisLabelRotationCallback:void 0})),t!==void 0){let i=Ae(t.uid,"config")?.axes?.[0].labels;if(i!==void 0){let r=c0(i.content,t.rtl,J.axisLabel),a=s.renderer.labels.template;a.rotation=r.angle,a.verticalCenter=r.verticalCenter,a.horizontalCenter=r.horizontalCenter,Number.isFinite(r.yOffset)&&(a.dy=r.yOffset)}Ks(s.uid,{labelsSymbol:void 0})}}function tR(s){s.renderer.labels.template.wrap=!1,s.renderer.labels.template.textAlign="start"}function Vq(s){tR(s),s.renderer.labels.template.paddingLeft=Number.NaN,s.renderer.labels.template.paddingRight=Number.NaN;let t=na(s.uid,"debouncedAxisLabelWrapCallback");t!==void 0&&(s.events.off(Ie.DataRangeChanged,t),Ks(s.uid,{debouncedAxisLabelWrapCallback:void 0}))}function Uq(s){tR(s);let t=na(s.uid,"debouncedUpdateMinGridDistanceForWrapBehavior");t!==void 0&&(s.events.off(Ie.SizeChanged,t),Ks(s.uid,{debouncedUpdateMinGridDistanceForWrapBehavior:void 0}))}function Qq(s){let t=na(s.uid,"debouncedAxisLabelStaggerCallback");t!==void 0&&(s.events.off(Ie.DataRangeChanged,t),Ks(s.uid,{debouncedAxisLabelStaggerCallback:void 0})),s.renderer.ticks.each(e=>{e.length=J.axisTickLength,e.dataItem?.label&&(e.dataItem.label.dy=J.axisLabel.dy??0)})}function Hq(s){Nq(s),Vq(s),Qq(s)}function DI(s){kq(s),s.renderer.labels.template.paddingLeft=0,s.renderer.labels.template.paddingRight=0,s.renderer.labels.template.maxWidth=Number.NaN;let t=ss(Mq,J.debounceTime,{leading:!0});Ks(s.uid,{debouncedAxisLabelRotationCallback:t}),s.events.on(Ie.Validated,t),s.dispatchImmediately(Ie.Validated)}function OI(s,t=1){s.renderer.labels.template.wrap=!0,s.renderer.labels.template.paddingLeft=.5,s.renderer.labels.template.paddingRight=.5,s.renderer.labels.template.textAlign="middle";let e=ss(i=>Eq(i,t),J.debounceTime);Ks(s.uid,{debouncedAxisLabelWrapCallback:e}),s.events.on(Ie.DataRangeChanged,e)}function jq(s){s.renderer.labels.template.maxWidth=J.yAxisLabelMaxWidth,s.renderer.labels.template.wrap=!0,s.renderer.labels.template.textAlign="end"}function Wq(s){let t=ss(Rq,J.debounceTime);Ks(s.uid,{debouncedAxisLabelStaggerCallback:t}),s.events.on(Ie.DataRangeChanged,t)}function Xq(s){let{axis:t,horizontalAxisLabelsBehavior:e,verticalAxisLabelsBehavior:i,labelsConfig:r,axisLabelsBehaviorChanged:a,isSecondValueAxis:n}=s;if(t.renderer instanceof Fr&&a?.[0]!==!1){if(Hq(t),n!==!0)switch(e){case ur.Hide:break;case ur.Stagger:Wq(t),OI(t,1.5);break;case ur.Wrap:OI(t);break;case ur.Rotate:DI(t);break;default:r.content.angle!==null&&r.content.angle===void 0&&DI(t);break}}else t.renderer instanceof Nr&&(i!==ur.Hide?jq(t):Uq(t))}function zq(s){let{axis:t,axisConfig:e,chartType:i,horizontalAxisLabelsBehavior:r,verticalAxisLabelsBehavior:a,axisLabelsBehaviorChanged:n,isSecondValueAxis:o}=s;if(t.renderer instanceof Nr||i!==L.HistogramSeries){let l=t.renderer.labels.template;l.axis=t;let{labels:u}=e,h=t.renderer instanceof Fr&&l.rotation===J.rotatedAxisLabel.rotation,c=u,A;h?(c.content.angle=void 0,c.content.horizontalAlignment=void 0,c.content.verticalAlignment=void 0,c.content.yoffset=void 0,A=J.rotatedAxisLabel):t.renderer instanceof Fr&&(r===ur.Stagger||r===ur.Wrap)&&(A={wrap:!0,dy:J.axisLabel.dy}),t.renderer instanceof Nr&&a!==ur.Hide&&(A={wrap:!0}),Ln({label:l,labelConfig:c,defaults:A}),t.renderer.labels.template.paddingTop=t.renderer instanceof Fr?0:J.axisLabel.dy,l.align="none",l.valign="none",Xq({axis:t,horizontalAxisLabelsBehavior:r,verticalAxisLabelsBehavior:a,labelsConfig:u,axisLabelsBehaviorChanged:n,isSecondValueAxis:o}),l.axis.invalidateLabels()}}function cF(s){return(s??Gx())===ir.Side}function iR(s,t){let e,i,r=cg(s,"bullets"),a=cg(s,"columns"),n=cF(t);return n&&r!==void 0?(e=r,i=a):n||(e=a,i=r),{labelToRender:e,labelToHide:i}}function Gq(s,t=!0){s.hideOversized=t}function Yq(s,t){let e,i,r=Do(J.dataLabelInitialize);Zl(r.uid,{isDataLabel:!0}),s.bullets.push(r);let a=Do(J.dataLabelInitialize,s.columns.template);return Zl(a.uid,{isDataLabel:!0}),nB(a,s),nB(r,s),s.events.on(Ie.Validated,ss(()=>{hg(a)&&a.clones.each(n=>{hg(n)&&n.validate()})},J.debounceTime)),a.html="{valueX}",r.html="{valueX}",iF(r),cF(t)?(e=r,i=a):(e=a,i=r),tF(L.BarSeries,r),CE(L.BarSeries,e),{newLabelToRender:e,newLabelToHide:i}}function Kq(s){let{series:t,stackedType:e,isRotated:i,hideOversizedStackedLabels:r,hideOversizedSideBySideLabels:a}=s,{labelToRender:n,labelToHide:o}=iR(t,e);if(n===void 0){let{newLabelToRender:h,newLabelToHide:c}=Yq(t,e);n=h,o=c}let l=J.dataLabel,u=!0;cF(e)?(l=i===!0?J.dataLabelRotated:J.dataLabel,u=a===!0):(l=i===!0?J.dataLabelStackedRotated:J.dataLabelStackedNonRotated,u=r!==!1),Gq(n,u),o!==void 0&&(o.visible=!1,o.disabled=!0),n.html="{valueX}",N0({...s,dataLabel:n,labelDefaults:l,defaultDataLabelFormatter:_E,seriesType:L.BarSeries})}function qq(s){let t=s.tooltip;t!==void 0&&!(s instanceof Pt)&&(t.label.adapter.add("html",(e,i)=>{let r=e??"";return s instanceof je?r=ZB(s,i.properties?.text??e??""):s instanceof Vt&&(r=pE({axis:s,defaultOutput:e??"",dataItem:t.dataItem})),ns(r)}),t.label.html=J.htmlEmptyContent)}function lB(s){let{axis:t,start:e,end:i}=s;t.zoom({start:e??0,end:i??1})}function LI(s){s!==void 0&&(s.start=0,s.end=1)}function dF(s){s!==void 0&&(s.xAxes!==void 0&&s.xAxes.each(t=>lB({axis:t})),s.yAxes!==void 0&&s.yAxes.each(t=>lB({axis:t})),LI(s.scrollbarX),LI(s.scrollbarY),ti(s.zoomOutButton,!1))}function zd(s,t){return s instanceof Fr&&t!==!0||s instanceof Nr&&t===!0}function Zq(s){Zn(s.labels.template)&&(s.labels.template.events.on(Ie.Over,t=>{let{axisLabelOveredOpacity:e}=J;t.target.fillOpacity=(t.target.fillOpacity??1)*e}),s.labels.template.events.on(Ie.Out,t=>{let{axisLabelOveredOpacity:e}=J;t.target.fillOpacity=(t.target.fillOpacity??.5)/e}))}function Jq(s){let{axis:t,valueFormat:e,axisRenderer:i,chartType:r}=s;i.grid.template.applyOnClones=!0,i.ticks.template.applyOnClones=!0,i.labels.template.applyOnClones=!0,i.hoverable=!0,i.line.strokeOpacity=1,i.grid.template.strokeOpacity=1,i.ticks.template.strokeOpacity=1,R0(i.labels.template,J.axisLabel),i.ticks.template.disabled=!1,i.labels.template.disabled=!0,qq(t),gc(e)&&(Zq(i),hq(t)),Ag({chart:t.chart,label:t.title,labelType:t.renderer instanceof Fr?yi.XAxisTitle:yi.YAxisTitle}),t.renderer instanceof Fr&&r!==L.HistogramSeries&&t.events.on(Ie.Validated,ss(()=>{JE({axis:t,restoreLabelsVisibility:!0})},J.debounceTime))}function eZ(s){let t=s.target;t.maxZoomFactor=1;let e=Ae(t.chart.uid,"isRotated"),i=[];if(t instanceof je){if(t.renderer instanceof ku)i.push({isXAxis:!0,minimum:t.min,maximum:t.max});else if(t.renderer instanceof(e!==!0?Nr:Fr)){let r=s.target,a=r.chart,n=e!==!0?a.xAxes.getIndex(0):a.yAxes.getIndex(0),o=a.yAxes.getIndex(1)??a.xAxes.getIndex(1);i=[{isXAxis:!1,minimum:r.min,maximum:r.max},{isXAxis:!0,minimum:n instanceof je?n.min:void 0,maximum:n instanceof je?n.max:void 0}],o instanceof je&&i.push({isXAxis:!1,isSecondValueAxis:!0,minimum:o.min,maximum:o.max})}i.length>0&&i.every(r=>Number.isFinite(r.minimum)&&Number.isFinite(r.maximum))&&a$(i,t.chart.htmlContainer)}}function tZ(s){s.events.on(Ie.Validated,ss(eZ,J.debounceTime))}function iZ(s){let{axis:t,isNonAggregatedChart:e}=s,i,r,a,n=t.dataItems.values,o=t.axisRanges.values;if(t instanceof Vt)for(let l=0;l<o.length;l+=1){i=!1,r=!1,a=!1;let u=o[l],{category:h,endCategory:c,axisFill:A,grid:d,label:f}=u;if(u instanceof Xl&&u.visible)for(let p=0;p<n.length;p+=1){let m;e===!0?m=Dn({value:n[p].category,dataContext:n[p].dataContext}):m=n[p].category.toString(),h===m&&(r=!0),c===m&&(a=!0)}r&&a&&(i=!0),ti(A,i),ti(d,i),ti(f,i)}}function II(s){let{axis:t,axisMinimum:e,axisMaximum:i}=s,r;if(t instanceof je&&i!==void 0&&e!==void 0){let a=t.axisRanges.values,n=Ae(t.chart.uid,"config"),o=Ae(t.chart.uid,"isRotated"),l=zd(t.renderer,o)?0:1,u=n?.axes?.[l]?.guides;for(let h=0;h<a.length;h+=1){let c=a[h],{value:A,endValue:d,axisFill:f,grid:p,label:m}=c;if($s(m?.uid,"isGuide")===!0){if(r=c.visible,r&&c instanceof Zo){let{start:g,end:y}=hF(t,u?.[h]),v=Math.min(A,d,g??A,y??d),_=Math.max(A,d,g??A,y??d);v<e&&_<e||v>i&&_>i?r=!1:(c.value=v<e?e:v,c.endValue=_>i?i:_)}ti(f,r),ti(p,r),ti(m,r)}}}}function rZ(s){s instanceof je?(s.adapter.add("min",t=>(II({axis:s,axisMinimum:t,axisMaximum:s.max}),t)),s.adapter.add("max",t=>(II({axis:s,axisMinimum:s.min,axisMaximum:t}),t))):s instanceof Vt&&s.events.on(Ie.Validated,()=>{let t=Ae(s.chart.uid,"isNonAggregatedChart");iZ({axis:s,isNonAggregatedChart:t})})}function ag(s){let{axes:t,isSecondValueAxis:e=!1,isXAxis:i,valueFormat:r,chartType:a}=s,n;if(p0({isXAxis:i,chartType:a,valueFormat:r})&&!e)n=t.push(new Vt);else if(qn(r))n=t.push(new Pt);else if(Tr(r)){n=t.push(new je);let o=Ae(n.chart.uid,"formatLocale");n.numberFormatter=Yn({type:L.NumberAxisFormat,iLocale:n.chart.language.locale,formatLocale:o}),n.numberFormatter.numberFormat="#",e?(n.renderer.opposite=!0,n.renderer.grid.template.disabled=!0):tZ(n)}n!==void 0&&(H6(n),Jq({axis:n,valueFormat:r,axisRenderer:n.renderer,chartType:a}),rZ(n))}function j0(s){let{chart:t,axesConfig:e,isRotated:i,chartType:r}=s;kt(t.uid,{isRotated:i===!0});let a=i===!0?e?.[1]:e?.[0],n=i===!0?e?.[0]:e?.[1],o=a?.valueFormat,l=n?.valueFormat;o!==void 0&&l!==void 0&&(t.xAxes.clear(),t.yAxes.clear(),ag({chartType:r,isXAxis:i!==!0,axes:t.xAxes,valueFormat:o}),ag({chartType:r,isXAxis:i===!0,axes:t.yAxes,valueFormat:l}),e?.[2]!==void 0&&ag({chartType:r,isXAxis:i===!0,axes:i===!0?t.xAxes:t.yAxes,valueFormat:e[2].valueFormat,isSecondValueAxis:!0}))}function rR(s,t){let{chart:e}=s,i=!0;if(e!==void 0){let r=Ae(e.uid,"config"),a=Ae(e.uid,"isRotated");if(r!==void 0){let n=zd(s.renderer,a),o=0;n||(o=t===!0?2:1);let{isLogarithmic:l}=r.axes?.[o]??{};if(l===!0){let u=fg({chartConfig:r,isSecondValueAxis:t}),{minY:h,maxY:c,minX:A,maxX:d}=Cp({chartConfig:r,chartData:e.data,filteredSeriesIds:u}),f=n?A:h,p=n?d:c;Number.isFinite(f)&&f!==Number.MAX_SAFE_INTEGER&&Number.isFinite(p)&&p!==Number.MIN_SAFE_INTEGER&&(i=f>0&&p>0)}}}return i}function sZ(s){let{axis:t,isLogarithmic:e,isSecondValueAxis:i}=s;(t instanceof Pt||t instanceof je)&&(t.logarithmic=e===!0&&rR(t,i))}function aZ(s,t){let{minimum:e,maximum:i,isLogarithmic:r}=t??{},{buffer:a}=t??{};return a??=J.buffer,s instanceof je&&!(s instanceof Pt)&&!a&&(r!==!0||i!=null||e!=null)}function nZ(s,t){let e=!1;return s instanceof je&&!(s instanceof Pt)&&(e=aZ(s,t),s.strictMinMax=e),e}function oZ(s){let t;return s>=1?t=10**(s.toFixed(0).length-1):s<1&&s>0&&(t=10**-Math.abs(Math.floor(Math.log10(s)))),t}function lZ(s){let{axis:t,axisConfig:e,chartType:i,isSecondValueAxis:r}=s,a=e?.minimum,n=e?.maximum,o=e?.isLogarithmic??!1,l=a,u=n,{chart:h}=t,c=Ae(h.uid,"isRotated"),A=Ae(h.uid,"config"),d=0;if(h instanceof $t&&A!==void 0){let f=Wa(A),p=zd(t.renderer,c),m=d9(h),g=fg({chartConfig:A,isSecondValueAxis:r,seriesIds:m}),y=Cp({chartConfig:A,chartData:h.data,filteredSeriesIds:g}),{minX:v,maxX:_,minY:S,maxY:F}=y,[P,D]=p?[v??Number.NaN,_??Number.NaN]:[S,F];d=P,i===L.BarSeries||i===L.HistogramSeries||i===L.ComboLineAndBarSeries||i===L.LineSeries&&f===ir.Stacked&&!p?(l=Math.min(P,0),u=Math.max(D,0)):(l=P,u=D)}return l=a??l,u=n??u,o&&l!==void 0&&l!==null&&l<=0&&(l=oZ(d)),{min:l,max:u}}function sR(s){let{axis:t,axisConfig:e,chartType:i,isSecondValueAxis:r}=s,{minimum:a,maximum:n,isLogarithmic:o}=e??{};if(t instanceof je||t instanceof Pt)if(nZ(t,e)){let l=a,u=n;if(i!==L.HistogramSeries&&(a!=null&&a<=0&&o===!0||t.strictMinMax&&(!Number.isFinite(a)||!Number.isFinite(n)))){let h=lZ({axis:t,axisConfig:e,chartType:i,isSecondValueAxis:r});l=h.min,u=h.max}l=l??Number.NaN,u=u??Number.NaN,Number.isNaN(l)||Number.isNaN(u)||l<u?(t.min=l,t.max=u):(t.min=Number.NaN,t.max=Number.NaN),i===L.GaugeSeries&&t.validate()}else t.min=Number.NaN,t.max=Number.NaN}function uZ(s){let{axis:t,timeIntervalInfo:e,dateBaseInterval:i}=s;if(t instanceof Pt){let{size:r,unit:a}=e??{};if(a||({size:r,unit:a}=i??{}),r!==void 0&&a!==void 0){let n;switch(a){case _t.Second:n="second";break;case _t.Minute:n="minute";break;case _t.Hour:n="hour";break;case _t.Day:n="day";break;case _t.Week:n="week";break;case _t.Month:n="month";break;case _t.Year:n="year";break}n!==void 0&&(t.baseInterval={timeUnit:n,count:r})}}}function hZ(s,t){s instanceof je&&(s.renderer.baseGrid.disabled=t!==!0)}function cZ(s,t){s.cursorTooltipEnabled=t===!0}function dZ(s,t){let e=s.renderer instanceof Fr;s.events.once(Ie.Validated,()=>{let i=s.renderer instanceof Nr?J.yAxisTitleLabel:J.xAxisTitleLabel;e&&(i={...i,dy:i.dy??0}),Ln({label:s.title,labelConfig:t,defaults:i}),Vd({chart:s.chart,label:s.title,labelType:s.renderer instanceof Fr?yi.XAxisTitle:yi.YAxisTitle})})}function AZ(s,t){let e=!0;switch(t){case L.ScatterSeries:case L.HistogramSeries:e=Ht(s.uid,"isOverlay")!==!0;break;case L.BoxPlotSeries:e=s instanceof Vr;break}return e}function aR(s){let t=ss(()=>{let{chart:e}=s,i=Ae(e.uid,"config");if(e!==void 0&&i!==void 0){let r=Me(i?.series);if(AZ(s,r)){let a=Ae(e.uid,"isRotated"),n=Ht(s.uid,"stackedType");n===ir.Stacked100&&!s.visible&&ti(s,!1);let o=e.xAxes.getIndex(0),l=e.yAxes.getIndex(0),u=e.yAxes.getIndex(1),h=a===!0?1:0,c=i.axes?.[h],A=a===!0?0:1,d=i.axes?.[A],f=i.axes?.[2];[{axis:o,axisConfig:c,updateLabels:!1},{axis:l,axisConfig:d,updateLabels:!0},{axis:u,axisConfig:f,updateLabels:!0,isSecondValueAxis:!0}].forEach(p=>{let{axis:m,axisConfig:g,updateLabels:y,isSecondValueAxis:v}=p;m!==void 0&&(sR({axis:m,chartType:r,axisConfig:g,isSecondValueAxis:v}),y!==void 0&&m.events.once(Ie.Validated,()=>{let{labelToRender:_}=iR(s,n);_&&(_.html=a===!0?"{valueX}":"{valueY}")}))})}}},J.debounceTime);s.events.once(Ie.Validated,t)}function fZ(s,t){if(s instanceof je){let{integerOnlyValues:e,valueFormat:i}=t,r=ow(i)?i.intlOptions.maximumFractionDigits:void 0;s.maxPrecision=e===!0||r===0?0:Number.NaN}}async function Gv(s){let{axis:t,axisConfig:e,timeIntervalInfo:i,chartType:r,horizontalAxisLabelsBehavior:a,verticalAxisLabelsBehavior:n,axisLabelsBehaviorChanged:o,guideTooltipFormatter:l,stackedType:u,axisValueFormatter:h,isSecondValueAxis:c,isRotated:A,commonStrings:d,errorStrings:f}=s,{visible:p,isLogarithmic:m,title:g,grid:y,lineSymbol:v,labels:_,guides:S,valueFormat:F,displayZeroLine:P,displayCursorTooltip:D,tickSpacing:$,dateBaseInterval:I}=e;uZ({axis:t,timeIntervalInfo:i,dateBaseInterval:I}),il({element:t.renderer.grid.template,lineSymbol:y,visible:p}),il({element:t.renderer.line,lineSymbol:{color:[...J.color],...v??gp()},visible:p}),il({element:t.renderer.ticks.template,lineSymbol:v,visible:p}),zq({axis:t,axisConfig:e,chartType:r,horizontalAxisLabelsBehavior:a,verticalAxisLabelsBehavior:n,axisLabelsBehaviorChanged:o,isSecondValueAxis:c}),fZ(t,e),$q({axis:t,labelsConfig:_,horizontalAxisLabelsBehavior:a,isSecondValueAxis:c,tickSpacing:$}),await G6({axis:t,isXAxis:zd(t.renderer,A),chartType:r,labelsTextSymbol:e.labels.content,formatOptions:F,overridePercentMultiplication:u===ir.Stacked100,axisValueFormatter:h,errorStrings:f}),sR({axis:t,axisConfig:e,chartType:r,isSecondValueAxis:c}),sZ({axis:t,isLogarithmic:m,isSecondValueAxis:c}),dZ(t,g),cZ(t,D),c!==!0&&(Bq({axis:t,guides:S,guideTooltipFormatter:l,commonStrings:d}),hZ(t,P))}async function AF(s){let{chart:t,axesConfig:e,rotationChanged:i,isRotated:r,dualAxisChanged:a,timeIntervalInfoWasReset:n,timeIntervalInfo:o,guideTooltipFormatter:l,xAxisLabelFormatter:u,yAxisLabelFormatter:h,secondaryYAxisLabelFormatter:c,commonStrings:A,errorStrings:d}=s,{axisLabelsBehaviorChanged:f}=s,p=Ae(t.uid,"config"),{horizontalAxisLabelsBehavior:m,verticalAxisLabelsBehavior:g}=p,y=Me(p.series),v=Wa(p),_=r===!0?1:0,S=r===!0?0:1,F=e?.[_],P=e?.[S],D=t.xAxes.getIndex(0);nR({chart:t,dualAxisChanged:a,rotationChanged:i,timeIntervalInfoWasReset:n,axisLabelsBehaviorChanged:f})&&(j0({chart:t,axesConfig:e,isRotated:r,chartType:y}),f=[!0,!0]),D=t.xAxes.getIndex(0);let $=t.yAxes.getIndex(0),I=t.xAxes.getIndex(1)??t.yAxes.getIndex(1),R=D?.start,T=D?.end,Q=$?.start,K=$?.end,z=I?.start,se=I?.end,ee={timeIntervalInfo:o,chartType:y,horizontalAxisLabelsBehavior:m,verticalAxisLabelsBehavior:g,axisLabelsBehaviorChanged:f,guideTooltipFormatter:l,stackedType:v,isRotated:r,commonStrings:A,errorStrings:d};D!==void 0&&F!==void 0&&await Gv({...ee,axis:D,axisConfig:F,axisValueFormatter:_===0?u:h}),$!==void 0&&P!==void 0&&await Gv({...ee,axis:$,axisConfig:P,axisValueFormatter:S===1?h:u}),I!==void 0&&e?.[2]!==void 0&&await Gv({...ee,axis:I,axisConfig:e[2],axisValueFormatter:c,isSecondValueAxis:!0}),i===!0&&[{axis:D,start:R,end:T},{axis:$,start:Q,end:K},{axis:I,start:z,end:se}].forEach(ue=>{let{axis:G,start:q,end:ge}=ue;G!==void 0&&G.events.once(Ie.Validated,()=>{lB({axis:G,start:q,end:ge})})}),D!==void 0&&D.ghostLabel.setPropertyValue("disabled",!0),$!==void 0&&$.ghostLabel.setPropertyValue("disabled",!0),I!==void 0&&I.ghostLabel.setPropertyValue("disabled",!0)}function nR(s){let{chart:t,dualAxisChanged:e,rotationChanged:i,timeIntervalInfoWasReset:r,axisLabelsBehaviorChanged:a}=s,n=Ae(t.uid,"config"),{rotated:o,series:l}=n,u=n.axes,h=Me(l),c=o===!0?1:0,A=o===!0?0:1,d=u?.[c]?.valueFormat,f=u?.[A]?.valueFormat,p=t.xAxes.getIndex(0),m=t.yAxes.getIndex(0),g=p===void 0||i||d!==void 0&&rB({axis:p,valueFormat:d,chartType:h}),y=m===void 0||i||f!==void 0&&rB({axis:m,valueFormat:f,chartType:h});return e===!0||i===!0||r===!0||a?.[0]||a?.[1]||g||y}function pZ(s){j0(s)}async function mZ(s){let{chart:t,chartConfig:e,rotationChanged:i,axisLabelsBehaviorChanged:r,isRotated:a,dualAxisChanged:n,timeIntervalInfoWasReset:o,timeIntervalInfo:l,guideTooltipFormatter:u,xAxisLabelFormatter:h,yAxisLabelFormatter:c,secondaryYAxisLabelFormatter:A,commonStrings:d,errorStrings:f}=s,p=e.axes,m=Wa(e);await AF({chart:t,axesConfig:p,rotationChanged:i,axisLabelsBehaviorChanged:r,isRotated:a,dualAxisChanged:n,timeIntervalInfoWasReset:o,timeIntervalInfo:l,guideTooltipFormatter:u,xAxisLabelFormatter:h,yAxisLabelFormatter:c,secondaryYAxisLabelFormatter:A,commonStrings:d,errorStrings:f});let g=a===!0?t.yAxes.getIndex(0):t.xAxes.getIndex(0);if(g!==void 0){g instanceof Vt&&(g.dataFields.category=pB(e));let _=g.renderer,S=_.grid.template;S.location=0,_.cellStartLocation=.1,_.cellEndLocation=.9;let F=e.orderOptions?.data?.orderBy===un.Descending,P=a===!0;F&&g instanceof Pt&&(P=!P),_.inversed=P}let y=a===!0?t.xAxes.getIndex(0):t.yAxes.getIndex(0),v=a===!0?t.xAxes.getIndex(1):t.yAxes.getIndex(1);m===ir.Stacked100?(y instanceof je&&(y.calculateTotals=!0),v instanceof je&&(v.calculateTotals=!0)):(y instanceof je&&(y.calculateTotals=!1),v instanceof je&&(v.calculateTotals=!1))}var Ys={InnerLabel:0,InnerLabelSecondary:1,AxisLabels:2,FirstAndLastLabels:3};function hc(s,t){let e;switch(t){case Ys.InnerLabel:e="gaugeAutoResizeInnerLabelFirstDisposer";break;case Ys.InnerLabelSecondary:e="gaugeAutoResizeInnerLabelSecondDisposer";break;case Ys.AxisLabels:e="gaugeAutoResizeAxisLabelsDisposer";break;case Ys.FirstAndLastLabels:e="gaugeAutoResizeFirstAndLastLabelsDisposer";break}if(e!==void 0){let i=Ae(s.uid,e);i!==void 0&&(i.dispose(),i=void 0,kt(s.uid,{[e]:void 0}))}}function gZ(s){let{chart:t,labelList:e,scaleToAdjust:i,fontSize:r,type:a,axisConfig:n}=s,o=Number.NaN,l=Number.NaN,u=i;if(a===Ys.InnerLabel){let c=e[0],A=n?.innerLabel?.content?.verticalAlignment??si.Middle,d=c.dy??0,f=Math.round(t.chartContainer.measuredHeight-t.radarContainer.pixelY-d),p=c.bbox.height*i,m=0;switch(A){case si.Bottom:m=p;break;case si.Top:m=-p;break;case si.Middle:case si.Baseline:m=p*.5;break}m>f&&(u=i*(f/m)),o=J.gauge.innerLabelAutoMinFontSize,l=J.gauge.innerLabelAutoMaxFontSize}else o=J.gauge.axisLabelAutoMinFontSize,l=J.gauge.axisLabelAutoMaxFontSize;let h=r*u;return h<o?u*=o/h:h>l&&(u*=l/h),u}function fF(s){let{chart:t,type:e,labelList:i,currentScale:r,currentFontSize:a,axisConfig:n}=s,o=Number.NaN,l=Number.NaN;if(e===Ys.InnerLabel){let u=typeof t.innerRadius=="number"?t.innerRadius:t.innerRadius.value;l=(t.xAxes.getIndex(0)?.measuredWidth!==0?t.xAxes.getIndex(0)?.measuredWidth??1:1)*u}else l=t.xAxes.getIndex(0)?.measuredHeight??1;if(l>1){let u=e===Ys.InnerLabel?i[0]?.measuredWidth??0:i.find(h=>h.measuredWidth>0&&h.measuredHeight>0)?.measuredHeight??0;if(u>0){let h=u/l;if(h>0){let{axisLabelToInnerChartRatio:c,innerLabelToInnerChartRatio:A}=J.gauge,d=e===Ys.InnerLabel?A:c;o=r*(d/h),o=gZ({chart:t,labelList:i,axisConfig:n,scaleToAdjust:o,fontSize:a,type:e}),o=Number(o.toFixed(2))}}}return Number.isFinite(o)||(o=r),o}function W0(s){return s.some(t=>Pp(t)&&t.value!==void 0)}function yZ(s){let{chart:t,axisConfig:e,axis:i}=s;if(e.labels.content.font?.size===void 0&&e.onlyShowFirstAndLastLabels!==!0){hc(t,Ys.AxisLabels),hc(t,Ys.FirstAndLastLabels);let r=()=>{i.events.once(Ie.Validated,()=>{let n=ks(i,ki.GaugeTicksWithLabels);if(W0(n)){let o=n.map(A=>A.label),l=o[0].scale,u=o[0].fontSize,h=fF({chart:t,type:Ys.AxisLabels,labelList:o,currentScale:l,currentFontSize:u,axisConfig:e}),c=h/l;Number.isFinite(h)&&h>0&&(c<=.98||c>1.02)&&o.forEach(A=>{A.scale=h})}}),i.validate()};t.events.once(Ie.Validated,r);let a=t.events.on(Ie.SizeChanged,r);kt(t.uid,{gaugeAutoResizeAxisLabelsDisposer:a}),r()}else{hc(t,Ys.AxisLabels);let r=ks(i,ki.GaugeTicksWithLabels);r.length>0&&r.map(a=>a.label).forEach(a=>{a.scale=1})}}function bZ(s,t){hc(s,Ys.InnerLabel),hc(s,Ys.InnerLabelSecondary);let e=()=>{let a=Ae(s.uid,"config")?.axes?.[0];if(a?.innerLabel?.visible!==!1&&a?.innerLabel?.content?.font?.size===void 0){let n=s.xAxes.getIndex(0)?.measuredWidth;if(n!==void 0&&n>0){let o=fF({chart:s,type:Ys.InnerLabel,labelList:[t],currentScale:t.scale,currentFontSize:t.fontSize,axisConfig:a});Number.isFinite(o)&&Math.abs(t.scale-o)>.25&&(t.scale=o,t.validate())}}else t.scale=1},i=s.events.on(Ie.Validated,e),r=s.events.on(Ie.SizeChanged,e);kt(s.uid,{gaugeAutoResizeInnerLabelFirstDisposer:r,gaugeAutoResizeInnerLabelSecondDisposer:i}),e()}function vZ(s){let{chart:t,axisConfig:e,axis:i}=s;if(e.labels.content.font?.size===void 0&&e.onlyShowFirstAndLastLabels===!0){hc(t,Ys.AxisLabels),hc(t,Ys.FirstAndLastLabels);let r=()=>{let n=ks(i,ki.GaugeFirstAndLastGuides);if(W0(n)){let o=n.map(A=>A.label),l=o[0].scale,u=o[0].fontSize,h=fF({chart:t,type:Ys.FirstAndLastLabels,labelList:o,currentScale:l,currentFontSize:u,axisConfig:e}),c=h/l;Number.isFinite(h)&&h>0&&(c<=.98||c>1.02)&&o.forEach(A=>{Zl(A.uid,{originalWidth:A.measuredWidth/A.scale,originalHeight:A.measuredHeight/A.scale}),A.scale=h})}};t.events.once(Ie.Validated,r);let a=t.events.on(Ie.SizeChanged,r);kt(t.uid,{gaugeAutoResizeFirstAndLastLabelsDisposer:a}),r()}else hc(t,Ys.FirstAndLastLabels),ks(i,ki.GaugeFirstAndLastGuides).map(r=>r.label).forEach(r=>{r.scale=1})}function uB(s,t){let e=s.xAxes.getIndex(0);if(e!==void 0){let i=t??Ae(s.uid,"config"),{onlyShowFirstAndLastLabels:r}=i?.axes?.[0]??{};if(!e.renderer.labels.template.visible||r===!0)s.radius=new nt(J.gauge.radius);else{let a=ks(e,ki.GaugeTicksWithLabels),{furthestLabelX:n,furthestLabelY:o}=a.reduce(({furthestLabelX:l,furthestLabelY:u,furthestPixelX:h,furthestPixelY:c},{label:A})=>{if(A?.visible&&A.bbox.width>0&&A.bbox.height>0){let d=A.pixelX,f=A.bbox.width*A.scale,p=0;d<0?p=Math.abs(d):p=d+f,p>h&&(h=p,l=A);let m=A.pixelY,g=A.bbox.height*A.scale,y=0;m<0?y=Math.abs(m):y=m+g,y>c&&(c=y,u=A)}return{furthestLabelX:l,furthestLabelY:u,furthestPixelX:h,furthestPixelY:c}},{furthestLabelX:void 0,furthestPixelX:0,furthestLabelY:void 0,furthestPixelY:0});if(n!==void 0&&o!==void 0){let l=(n.bbox.width+5)*n.scale,u=(o.bbox.height+5)*o.scale,h=typeof e.renderer.labels.template.radius=="number"?e.renderer.labels.template.radius:e.renderer.labels.template.radius.value,c=(l+h)*2+s.radarContainer.measuredWidth+Nv(s.paddingLeft)+Nv(s.paddingRight),A=80,d=170,f=s.htmlContainer?.clientHeight??0,p=Math.max(0,Math.min(1,(f-A)/(d-A))),m=s.radarContainer.measuredHeight+(u+h*p)*2+Nv(s.paddingTop)+Nv(s.paddingBottom),g=s.measuredWidth,y=s.measuredHeight,v=g/c,_=y/m,S=(typeof s.radius=="number"?s.radius:s.radius.value)*100,F=Number((S*v).toFixed(2)),P=Number((S*_).toFixed(2)),D=F/S,$=P/S,I=s.radarContainer.measuredWidth*D,R=s.radarContainer.measuredWidth*$,[T,Q]=I<R?[F,D]:[P,$];Number.isFinite(T)&&T>=10&&T<=J.gauge.radius&&(Q<.98||Q>1.02)&&(s.radius=new nt(T))}}}}function xZ(s){let t=s.xAxes.getIndex(0);t!==void 0&&(t.events.on(Ie.SizeChanged,()=>uB(s)),t.events.on(Ie.Validated,ss(()=>uB(s),J.debounceTime)))}function oR(s){let t=s.hands.push(new uf),e=J.gaugeNeedle,{startWidth:i,endWidth:r,innerRadius:a}=e;t.pin.disabled=!0,t.startWidth=i??Number.NaN,t.endWidth=r??Number.NaN,t.innerRadius=he(a??Number.NaN);let n=s.xAxes.getIndex(0);return n!==void 0&&(t.axis=n),t}function wZ(s){let{x:t,data:e,chart:i,valueFormat:r,minimum:a,maximum:n}=s,o=Number.NaN;if(e!==void 0&&t!==void 0){let l=e.find(h=>t in h),u=Number.parseFloat(l[t]);Number.isFinite(u)&&(o=u,kt(i.uid,{gaugeData:o}))}else{let l=Ae(i.uid,"gaugeData");Number.isFinite(l)&&(o=l)}return $f(r)&&a!==void 0&&n!==void 0&&a!==null&&n!==null&&o!==null&&n-a!==0&&(o=ug({value:o,axisMin:a,axisMax:n})),o}function CZ(s,t){let e=t??null;if(t!=null){let i=s.xAxes.getIndex(0),r=Ae(s.uid,"config"),a=i.min??r?.axes?.[0].minimum??J.gauge.axisMinimum,n=i.max??r?.axes?.[0].maximum??J.gauge.axisMaximum;t<a?e=a:t>n&&(e=n)}return e}function _Z(s){let{chart:t,needle:e,gaugeValue:i}=s,r=t.hands.getIndex(0)??oR(t);if(r!==void 0){dg({element:r,fillSymbol:e?.symbol});let{startWidth:a,endWidth:n,innerRadius:o}=J.gaugeNeedle;r.value=CZ(t,i),r.pin.disabled=e?.displayPin!==!0,r.visible=e?.visible??!0,r.startWidth=e?.startWidth??a,r.endWidth=e?.endWidth??n,r.innerRadius=he(e?.innerRadius??o)}}function SZ(s){let t=Do(void 0,s.radarContainer);t.isMeasured=!1,Zl(t.uid,{isGaugeAxisInnerLabel:!0}),bZ(s,t)}function BZ(s){let{chart:t,innerLabelConfig:e,valueFormat:i,gaugeValue:r,gaugeInnerLabelFormatter:a}=s,n=t.radarContainer.children.values.find(o=>$s(o.uid,"isGaugeAxisInnerLabel")===!0);if(n!==void 0){Ln({label:n,labelConfig:e,defaults:J.gaugeInnerLabel});let o=Ae(t.uid,"formatLocale");n.html=EZ({valueFormat:i,iLocale:t.language.locale,formatLocale:o,gaugeValue:r,innerLabelConfigContent:e?.content,gaugeInnerLabelFormatter:a}),t.radarContainer.invalidateLabels()}}function FZ(s){let t=s.axisRanges.create();return t.axisFill.fillOpacity=1,t.axisFill.disabled=!0,t.grid.strokeOpacity=1,t.grid.disabled=!1,t.tick.length=J.gaugeTicksLength,t}function PZ(s){let t=new Co;return t.disabled=!0,t.axis=s,R0(t),t.padding(10,10,10,10),Zl(t.uid,{isGaugeAxisLabel:!0}),t}function TZ(s){let{axis:t,min:e,max:i,labelsIncrement:r,numberOfIntervals:a,valueFormat:n}=s,o=$f(n),l=1,u=ks(t,ki.Ticks);u.length>0&&(l=u[0].label?.scale,u.forEach(A=>{if(Pp(A)){let d=t.axisRanges.values.indexOf(A);d>=0&&t.axisRanges.removeIndex(d)}}));let h=J.gauge.numberOfTicksBetweenTwoLabels+1,c=a*h+1;for(let A=0;A<c;A+=1){let d=A===c-1,f=FZ(t),p=d?i:e+A/h*r;f.value=o?ug({value:p,axisMin:e,axisMax:i}):p,A%h===0&&(f.label=PZ(t),f.label.text=String(p),f.grid.disabled=!0,Number.isFinite(l)&&(f.label.scale=l))}}function DZ(s){let{chart:t,axis:e,onlyShowFirstAndLastLabels:i,valueFormat:r,axisLabelConfigContent:a,axisValueFormatter:n}=s;if(!i){let o=ks(e,ki.GaugeTicksWithLabels);if(W0(o)){let l=Ae(t.uid,"formatLocale");o.forEach(u=>{Ln({label:u.label,labelConfig:a}),Pp(u)&&(u.label.html=lR({valueFormat:r,iLocale:t.language.locale,formatLocale:l,gaugeLabelConfigContent:a?.content,itemLabelValue:u.value,axisValueFormatter:n}))})}}}function OZ(s,t){let e=t?.ticks?.visible??!0,i=ks(s,ki.Ticks);for(let r=0;r<i.length;r+=1){let a=i[r];ti(a.tick,e)}}function LZ(s,t){if(s instanceof je&&s.chart instanceof ra){let e=ks(s,ki.GaugeTicksWithLabels);if(W0(e)){let{onlyShowFirstAndLastLabels:i,labels:r}=t,a=(r?.visible??!0)&&i!==!0;e.forEach(n=>{ti(n.label,a)})}}}function IZ(s){let{labels:t,guides:e,onlyShowFirstAndLastLabels:i}=s,r=e??[];if(i===!0){let a={type:L.Guide,start:Number.NaN,style:{type:"esriSLS"},name:""};r.push({...a,start:s.minimum??Number.NaN,name:J.gaugeFirstLabelId,label:{...t.content,text:`${s.minimum}`}},{...a,start:s.maximum??Number.NaN,name:J.gaugeLastLabelId,label:{...t.content,text:`${s.maximum}`}})}s.guides=r}function $Z(s){ks(s,ki.GaugeFirstAndLastGuides).forEach(t=>{t.label.adapter.keys().includes("dx")||t.label.adapter.add("dx",e=>{let i=e;return t.label.measuredWidth>0&&(i=t.label.measuredWidth/2,(t.id===J.gaugeLastLabelId||t.id===J.gaugeFirstLabelId)&&t.label.scale&&t.label.scale!==1&&t.label.measuredWidth===$s(t.label.uid,"originalWidth")&&(i*=t.label.scale),t.id===J.gaugeLastLabelId&&(i*=-1)),i}),t.label.adapter.keys().includes("dy")||t.label.adapter.add("dy",e=>{let i=e;return t.label.measuredWidth>0&&(i=t.label.measuredHeight/2,(t.id===J.gaugeLastLabelId||t.id===J.gaugeFirstLabelId)&&t.label.scale&&t.label.scale!==1&&t.label.measuredHeight===$s(t.label.uid,"originalHeight")&&(i*=t.label.scale)),i})})}function kZ(s){let{chart:t,axis:e,onlyShowFirstAndLastLabels:i,valueFormat:r,gaugeLabelConfigContent:a,axisValueFormatter:n}=s;if(i){let o=ks(e,ki.GaugeFirstAndLastGuides),l=Ae(t.uid,"formatLocale");o.forEach(u=>{u?.label!==void 0&&Pp(u)&&(u.label.html=lR({valueFormat:r,iLocale:t.language.locale,formatLocale:l,gaugeLabelConfigContent:a?.content,itemLabelValue:u.value,axisValueFormatter:n}))}),$Z(e)}}function MZ(s,t){s.xAxes.clear(),ag({isXAxis:!0,axes:s.xAxes,valueFormat:t});let e=s.xAxes.getIndex(0);e instanceof je&&(e.renderer.labels.template.disabled=!0,e.renderer.ticks.template.disabled=!0,oR(s),SZ(s),xZ(s),e.maxZoomFactor=1)}function EZ(s){let{valueFormat:t,iLocale:e,formatLocale:i,innerLabelConfigContent:r,gaugeValue:a,gaugeInnerLabelFormatter:n}=s,o="";if(Number.isFinite(a))if(n!==void 0)o=n(a);else{let l=mc(t),u=Yn({type:L.NumberAxisFormat,iLocale:e,formatLocale:i});u.numberFormat=l,o=u.format(`${a}`),o=rn({textSymbol:{type:Zt.TS,...r,text:o},format:"html"}),o=ns(o)}return o}function lR(s){let{valueFormat:t,iLocale:e,formatLocale:i,gaugeLabelConfigContent:r,itemLabelValue:a,axisValueFormatter:n}=s,o="";if(Number.isFinite(a))if(n!==void 0)o=n(a);else{let l=mc(t),u=Yn({type:L.NumberAxisFormat,iLocale:e,formatLocale:i});u.numberFormat=l,o=u.format(`${a}`),o=rn({textSymbol:{type:Zt.TS,...r,text:o},format:"html"}),o=ns(o)}return o}async function RZ(s){let{chart:t,chartConfig:e,data:i,queryObject:r,axisValueFormatter:a,gaugeInnerLabelFormatter:n,commonStrings:o,errorStrings:l}=s,{axes:u,series:h}=e,c=AA(e),A=Me(e.series),{featureIndex:d,x:f}=h[0],p=u?.[0],m=t.xAxes.getIndex(0),g={...p};if(m!==void 0&&g!==void 0){let{valueFormat:y,needle:v,innerLabel:_,onlyShowFirstAndLastLabels:S}=g;rB({axis:m,valueFormat:y,chartType:A})&&ag({isXAxis:!0,axes:t.xAxes,valueFormat:y});let F=await QM({featureIndex:d,chartData:t.data,chartConfig:e,queryObject:r,queryConfig:Ae(t.uid,"queryConfig")});g.minimum=F.minimum,g.maximum=F.maximum;let{min:P,max:D,labelsIncrement:$,numberOfIntervals:I}=VM(g);SY({oldConfig:Ae(m.chart.uid,"config"),axisMax:m.max,min:P,max:D,labelsIncrement:$,numberOfIntervals:I,valueFormat:y})&&TZ({axis:m,min:P,max:D,labelsIncrement:$,numberOfIntervals:I,valueFormat:y});let R={...g};$f(y)?(R.minimum=0,R.maximum=1,UM({axisConfig:R,axisMin:g.minimum,axisMax:g.maximum})):(R.minimum=P,R.maximum=D),IZ(R),await Gv({axis:m,axisConfig:R,chartType:L.GaugeSeries,axisValueFormatter:a,commonStrings:o,errorStrings:l}),m.renderer.labels.template.disabled||(m.renderer.labels.template.disabled=!0),m.renderer.ticks.template.disabled||(m.renderer.ticks.template.disabled=!0),yZ({chart:m.chart,axis:m,axisConfig:g}),vZ({chart:t,axis:m,axisConfig:g}),OZ(m,g),DZ({chart:t,axis:m,onlyShowFirstAndLastLabels:S??!1,valueFormat:y,axisLabelConfigContent:g.labels,axisValueFormatter:a}),kZ({chart:t,axis:m,onlyShowFirstAndLastLabels:S??!1,valueFormat:y,gaugeLabelConfigContent:g.labels,axisValueFormatter:a});let T=c?F?.dataValue:wZ({x:f,data:i,chart:t,minimum:g.minimum,maximum:g.maximum,valueFormat:y});_Z({chart:t,needle:v,gaugeValue:T}),BZ({chart:t,innerLabelConfig:_,valueFormat:y,gaugeValue:T,gaugeInnerLabelFormatter:n}),LZ(m,g),uB(t,e),t.validateData()}}function NZ(s){let t=[];if(s.length>0){t=s.map(i=>i.minValue);let e=s[s.length-1].maxValue;t.push(e)}return t}function VZ(s){let t=0;return s.forEach(e=>{let{label:i}=e;t=Math.max(t,i?.bbox.width,i.measuredWidth)}),t}function UZ(s){let t=s.axisRanges.length-1;if(s.isReady()){let e=ks(s,ki.Ticks),i=e[0]?.point?.x??0,r=(e[1]?.point?.x??0)-i,a=VZ(e);if(a!==0){let n=J.histogramAxisLabel.paddingRight??0;for(let o=0;o<e.length;o+=1)if(o*r-a-n>0){t=o;break}}}return t}function hB(s){let t=Ae(s.chart.uid,"config"),{axes:e}=t,i=e?.[0];if(i!==void 0){let{visible:r,labels:a,guides:n}=i,{visible:o}=a,l=UZ(s),u=ks(s,ki.Ticks);for(let c=0;c<u.length;c+=1){let{tick:A,label:d}=u[c],f=c%l===0&&r===!0,p=c%l===0&&o===!0,m={...i.labels};m.content.angle=void 0,m.content.yoffset=void 0,m.content.horizontalAlignment=void 0,m.content.verticalAlignment=void 0,Ln({label:d,labelConfig:m,defaults:J.histogramAxisLabel}),ti(A,f),ti(d,p)}JE({axis:s,labels:u.map(c=>c.label),restoreLabelsVisibility:!1});let h=ks(s,ki.Guides);for(let c=0;c<h.length;c+=1){let A=n?.[c]?.visible??!0;ti(h[c].label,A),h[c].label.disabled=!A}s.invalidateLabels()}}function QZ(s){let{chart:t,axesConfig:e}=s;j0({chart:t,axesConfig:e});let i=t.xAxes.getIndex(0);if(i!==void 0){i.renderer.ticks.template.disabled=!0;let r=()=>hB(i);i.events.once(Ie.DataItemsValidated,r),t.chartContainer.events.on(Ie.SizeChanged,ss(r,J.debounceTime))}}function HZ(s,t){if(s.renderer.labels.template.disabled=!0,t.length!==0){s.strictMinMax=!0;let{0:e,[t.length-1]:i}=t;s.min=e,s.max=i}else s.min=Number.NaN,s.max=Number.NaN,s.strictMinMax=!1}async function jZ(s){let{chart:t,axesConfig:e,histogramBins:i,guideTooltipFormatter:r,xAxisLabelFormatter:a,yAxisLabelFormatter:n,commonStrings:o,errorStrings:l}=s,u=NZ(i),h=e?.[0];await AF({chart:t,axesConfig:e,guideTooltipFormatter:r,xAxisLabelFormatter:a,yAxisLabelFormatter:n,commonStrings:o,errorStrings:l});let c=t.xAxes.getIndex(0);c instanceof je&&(HZ(c,u),h!==void 0&&Lq({valueAxis:c,axisConfig:h,ticks:u}),hB(c),c.events.once(Ie.DataItemsValidated,()=>hB(c)))}function WZ(s,t){j0({chart:s,axesConfig:t})}async function XZ(s){await AF(s)}function zZ(s){s.background.fill=Ca(J.backgroundColor)}function X0(s,t){s.background.fill=Ca(t??J.backgroundColor)}function GZ(s){let t=VE(J.headerContainer,s),e=Do(J.title,t),i=Do(J.subtitle,t);return Ag({chart:s,label:e,labelType:yi.ChartTitle}),Ag({chart:s,label:i,labelType:yi.ChartSubTitle}),K9(t),{headerContainer:t,title:e,subtitle:i}}function z0(s,t){let{title:e,subtitle:i,headerContainer:r}=s;Ln({label:e,labelConfig:t?.title,defaults:J.titleLabel}),Ln({label:i,labelConfig:t?.subtitle,defaults:J.titleLabel}),UE(r,e.disabled&&i.disabled),Vd({chart:e.parent,label:e,labelType:yi.ChartTitle}),Vd({chart:i.parent,label:i,labelType:yi.ChartSubTitle})}function YZ(s){let t=VE(J.footerContainer,s),e=Do(J.footer,t);return Ag({chart:s,label:e,labelType:yi.ChartFooter}),{footerContainer:t,footer:e}}function G0(s,t){let{footer:e,footerContainer:i}=s;Ln({label:e,labelConfig:t,defaults:J.footer}),UE(i,e.disabled||t?.content.text===""),Vd({chart:e.parent,label:e,labelType:yi.ChartFooter})}function uR(s){if(s instanceof $t){let t=new Yo,e=new Yo;t.disabled=!0,e.disabled=!0,t.marginTop=-10,e.marginRight=0,s.scrollbarX=t,s.scrollbarY=e}}function KZ(s,t){let e=t?0:-1;s.thumb.tabindex=e,s.startGrip.tabindex=e,s.endGrip.tabindex=e}function qZ(s,t){if(t!==void 0){let e=Ed(t);[s.background,s.startGrip.background,s.endGrip.background,s.thumb.background,s.background.states.getKey("default")?.properties,s.startGrip.background.states.getKey("default")?.properties,s.endGrip.background.states.getKey("default")?.properties,s.thumb.background.states.getKey("default")?.properties,s.startGrip.background.states.getKey("hover")?.properties,s.endGrip.background.states.getKey("hover")?.properties,s.thumb.background.states.getKey("hover")?.properties,s.startGrip.background.states.getKey("down")?.properties,s.endGrip.background.states.getKey("down")?.properties,s.thumb.background.states.getKey("down")?.properties].forEach(i=>{i!==void 0&&(i.fill=e)})}}function ZZ(s,t){typeof t=="number"&&Number.isFinite(t)&&(s.orientation==="horizontal"?(s.height=t,s.minHeight=t):(s.width=t,s.minWidth=t))}function JZ(s,t){if(typeof t=="number"&&Number.isFinite(t)){let e=t/30;s.startGrip.scale=e,s.endGrip.scale=e}}function e7(s,t){typeof t=="number"&&Number.isFinite(t)&&(s.orientation==="horizontal"?s.marginBottom=t:s.marginLeft=t,s.parent?.invalidateLayout())}function hR(s){let{chart:t,scrollbarXConfig:e,scrollbarYConfig:i}=s;if(t instanceof $t){let r=Ae(t.uid,"isRotated");(t.scrollbarX===void 0||t.scrollbarY===void 0)&&uR(t);let{scrollbarX:a,scrollbarY:n}=t;[a,n].forEach(o=>{let l=o.orientation==="horizontal"&&r!==!0||o.orientation==="vertical"&&r===!0?e:i,u=l?.visible!==!0;if(o.disabled=u,KZ(o,!u),l!==void 0&&!u){let{width:h,color:c,gripSize:A,margin:d}=l;e7(o,d),qZ(o,c),JZ(o,A),ZZ(o,h)}})}}function t7(s,t){s.columns.each(e=>{(e.dataItem?.dataContext)[t]===0&&(e.strokeOpacity=0)})}function i7(s,t){s.chart.legend.events.once(Ie.Validated,()=>{Jl({element:s.legendDataItem?.marker.children.getIndex(0),stylingInfo:t}),s.chart.legend.invalidate()})}function r7(s){let{series:t,seriesConfig:e,seriesIndex:i,numberOfSeries:r,chartSubType:a,colorMatch:n,rendererType:o}=s,l=t.dataFields.valueY??t.dataFields.valueX??e.y,u=!1,h=new Set,c,A=e.fillSymbol,d={seriesConfig:e,seriesIndex:i,seriesSymbol:A,colorMatch:n,isChartFillSymbol:!0},f={},p=Xx(i);if(t.columns.length===0?f=Uu({seriesConfig:e,seriesIndex:i,seriesSymbol:A??p,element:new Ee,colorMatch:n,isChartFillSymbol:!0}):t.columns.each(m=>{let g=m.dataItem?.dataContext;if(Number.isFinite(g?.[l])){let y=tn({dataItem:g,seriesConfig:e,chartSubType:a,colorMatch:n,rendererType:o});f=Uu({...d,seriesSymbol:A??p,element:m,rendererSymbol:y}),Jl({element:m,stylingInfo:f.stylingInfo}),h.add(JSON.stringify(f.symbolWithColorInfo))}}),r>1){let m=t.chart.legend.markers.values;m.length!==0?m.forEach(g=>{if(g.dataItem instanceof Ko){let y=g.dataItem.marker.children.getIndex(0);y!==void 0&&y.baseSprite?.parent instanceof $i?Jl({element:y,stylingInfo:f.stylingInfo}):u=!0}}):u=!0}return u&&i7(t,f.stylingInfo),h.size<=1&&(c=f.symbolWithColorInfo??A),t7(t,l),c}function s7(s){let{series:t,seriesSymbolMapForEvent:e,seriesIndexMapper:i,seriesIndex:r,colorMatch:a,rendererType:n}=s,o=s.seriesConfig,l=Ae(t.chart.uid,"config"),u=l?.series.length??0,h=Ue(l?.series),c=r7({series:t,seriesConfig:o,seriesIndex:r,numberOfSeries:u,chartSubType:h,colorMatch:a,rendererType:n});e.set(i.get(o.id)??r,c),e.size===u&&ll({data:e,htmlContainer:t.chart.htmlContainer,chartId:t.chart.id,colorMatchApplied:Wd(t.chart)})}function cR(s){let{seriesConfig:t,series:e,seriesIndexMapper:i,rotationChanged:r,subtypeInfo:a,colorMatch:n,stackedType:o,rendererType:l,fieldList:u,seriesIndex:h,seriesSymbolMapForEvent:c}=s,{name:A}=t,d=Ae(e.chart.uid,"config"),f=Kn({config:d}),p=Ue(d?.series);ti(e,t.visible);let m=A,g=e.dataFields?.customValue??"";(p===j.BarAndLineSplitBy||p===j.BarAndLineSplitByNoAggregation)&&(m=Bp({subtypeInfo:a,fieldList:u,fieldName:jr(g),fieldValueToMatch:m})??m),cl(e,m),rF({series:e,seriesConfig:t,rotationChanged:r,stackedType:o,isRotated:f}),s7({series:e,seriesConfig:t,seriesIndex:h,seriesIndexMapper:i,colorMatch:n,rendererType:l,seriesSymbolMapForEvent:c}),cs(e.uid,{barSeriesLastUpdate:{numberOfColumnsUpdated:e.columns.length,updateProps:s}})}function a7(s){s.events.on(Ie.Validated,()=>{let t=Ht(s.uid,"barSeriesLastUpdate");if(t!==void 0){let{numberOfColumnsUpdated:e,updateProps:i}=t;s.columns.length>e&&cR(i)}})}function n7(s){let{chart:t,chartConfig:e,seriesIndex:i,axisList:r=[],hideLoaderHandle:a,selectionTheme:n}=s,{rotated:o}=e,l=e.series[i],{y:u,assignToSecondValueAxis:h}=l,c=new $i;dl(c,a),c.id=l.id;let A,d;o!==!0?(A=r[0],d=h===!0&&r[2]?r[2]:r[1]):(A=h===!0&&r[2]?r[2]:r[0],d=r[1]),A!==void 0&&(c.xAxis=A),d!==void 0&&(c.yAxis=d);let f=t instanceof $t?Kn({chart:t}):!1,p=Ue(e.series)!==j.BarAndLineSplitByNoAggregation?u:`${u}_${Ns({where:l.query?.where})}`;f?c.dataFields.valueX=p:c.dataFields.valueY=p;let m=f?r[1]:r[0];if(m!==void 0){let g=SE(m,f);c.dataFields[g]=J.xAxisField,c.baseAxis=m}return rF({series:c,seriesConfig:l,rotationChanged:!1,stackedType:e.stackedType,isRotated:f}),c.dataFields.customValue=l?.query?.where,EE(c.columns.template,c),c.columns.template.width=he(100),zu({element:c.columns.template,customSelectionTheme:n}),Xd(t,c.columns.template),Pg(c),a7(c),Xu(c),c}function o7(s){let{seriesConfig:t,series:e,seriesIndex:i,axes:r,commonStrings:a,fieldList:n,queryObject:o,stackedType:l,options:u}=s;e.id=t.id;let h=Kn({chart:e.chart});Kq({series:e,seriesType:L.BarSeries,isRotated:h,stackedType:l,hideOversizedSideBySideLabels:t.hideOversizedSideBySideLabels,hideOversizedStackedLabels:t.hideOversizedStackedLabels,dataLabelsConfig:t.dataLabels,yAxisValueFormat:r[1].valueFormat,customDataLabelFormatter:u?.dataLabelFormatter}),Nd({styleCallback:cR,callbackProps:s,series:e,seriesConfig:t,onReadyEvent:!0}),NE({series:e,seriesConfig:t,fieldList:n,queryObject:o,commonStrings:a,seriesIndex:i,tooltipFormatter:u?.tooltipFormatter})}function l7(s,t){s.adapter.add("htmlOutput",(e,i)=>{let r=e,a=Ht(t.uid,"histogramDataLabelFormatter"),{dataItem:n}=i;if(a!==void 0&&n instanceof Cs){let{valueY:o,openValueX:l,valueX:u}=n;r=a(o,l,u)}return ns(r)},0)}function u7(s){let t=Do(J.dataLabelInitialize);return Zl(t.uid,{isDataLabel:!0}),s.bullets.push(t),iF(t),tF(L.HistogramSeries,t),l7(t,s),t.html="{valueX}",t}function h7(s){let{numberFormatter:t,dataLabelsConfigContent:e}=s;return(i,r,a)=>rn({textSymbol:{...e,text:t.format(i)},format:"html"})}function c7(s){let{series:t}=s,e=cg(t,"bullets");N0({...s,dataLabel:e,defaultDataLabelFormatter:h7,seriesType:L.HistogramSeries})}function d7(s){let{axes:t,seriesConfig:e,series:i,fieldList:r,commonStrings:a}=s,{dataTooltipVisible:n}=e,o,l=$n(i.rtl);return n===!1?o=(u,h,c)=>"":o=(u,h,c)=>{let A=yr(r,e.x),d=ql(A,t?.[0].title?.content?.text),f=ql(a.statistics.count,t?.[1].title?.content?.text),p=Bf({series:i,callbackName:"tooltipValueYNumberFormatCallback",value:u}),m=Bf({series:i,callbackName:"tooltipValueXNumberFormatCallback",value:h}),g=Bf({series:i,callbackName:"tooltipValueXNumberFormatCallback",value:c});return`<b>${d}${l} </b>${m} - ${g}<br /><b>${f}${l} </b>${p}`},o}function A7(s){let t=s.columns.template;t.tooltipPosition=J.columnTooltipPosition,t.tooltipHTML=J.htmlEmptyContent,t.adapter.add("tooltipHTML",(e,i)=>{let r=e??"",{chart:a}=s;if(a!==void 0){let n=Ae(a.uid,"config"),{dataTooltipVisible:o}=n?.series[0]??{};if(o===!1)r="";else{let l=Ht(s.uid,"histogramTooltipFormatter");if(l!==void 0){let{dataItem:u}=i;if(u instanceof Cs){let{valueY:h,openValueX:c,valueX:A}=u;r=l(h,c,A)}}}}return ns(r)})}function f7(s){let{series:t,tooltipFormatter:e}=s;cs(t.uid,{histogramTooltipFormatter:e??d7(s)})}var DS={Count:"count",Start:"minValue",End:"maxValue"},Gs={Mean:"Mean",Median:"Median",StdDev:"Standard Deviation",Normal:"Normal Distribution",Trendline:"Trendline"};async function Uv(s){let{xAxis:t,yAxis:e,type:i,hideLoaderHandle:r}=s,a=new li;return a.id=i,dl(a,r),cs(a.uid,{isOverlay:!0,type:i}),a.dataFields.valueX="x",a.dataFields.valueY="y",t!==void 0&&(a.xAxis=t),e!==void 0&&(a.yAxis=e),a.hidden=!0,a}function p7(s){let{lineSeries:t,valueFormat:e,overlay:i,chartData:r,commonStrings:a}=s;if(!i)ti(t,!1),t.hiddenInLegend=!0;else{let{symbol:n,created:o,visible:l}=i,u=o===!0&&l!==!1,h=Ht(t.uid,"type"),c=Ht(t.uid,"upper");if(il({element:t,lineSymbol:n,visible:u}),t.hiddenInLegend=o!==!0||c===!0,r&&"bins"in r){let d=r.bins.map(P=>P.count),f=Math.max(...d),{mean:p,stddev:m,median:g}=r,y=p-m,v=p+m,_={x:Number.NaN,y:Number.NaN},S={x:Number.NaN,y:Number.NaN};switch(h){case Gs.Mean:_={x:p,y:0},S={x:p,y:f};break;case Gs.Median:_={x:g,y:0},S={x:g,y:f};break;case Gs.StdDev:c===!0?(_={x:v,y:0},S={x:v,y:f}):(_={x:y,y:0},S={x:y,y:f});break}let F={data:[_,S]};t.data=F.data}let A=t.data[0]?.x;if(h===Gs.StdDev&&(A=r?.stddev??Ht(t.uid,"stddev"),cs(t.uid,{stddev:A})),A!==void 0){let d=h;switch(h){case Gs.Mean:d=a.overlays.mean;break;case Gs.Median:d=a.overlays.median;break;case Gs.StdDev:d=a.overlays.stdDev;break;case Gs.Trendline:d=a.overlays.trendline;break}let f=Ae(t.chart.uid,"formatLocale");cl(t,`${d}: ${Rd({value:A,valueFormat:e,iLocale:t.chart.language.locale,formatLocale:f})}`)}}}async function m7(s,t,e){let i=new li;return cs(i.uid,{isOverlay:!0,type:Gs.Normal}),i.xAxis=s,i.yAxis=t,i.dataFields.valueX="x",i.dataFields.valueY="y",cl(i,e.overlays.normal),i.hidden=!0,i.id=Gs.Normal,i}function g7(s){let{lineSeries:t,overlay:e,seriesData:i,numberOfPoints:r}=s;if(!e)ti(t,!1),t.hiddenInLegend=!0;else{let{symbol:a,created:n,visible:o}=e;if(il({element:t,lineSymbol:a,visible:n===!0&&o!==!1}),t.hiddenInLegend=n!==!0,i&&"bins"in i){let{mean:l,stddev:u,min:h,max:c}=i,A=Yk(i.bins),d=zk(h,c,r??J.histogramSeries.normalDistribNumberOfPoints).map(f=>({x:f,y:Gk({x:f,mean:l,stddev:u,scalingFactor:A})}));t.data=d}}}async function y7(s){let{chart:t,seriesConfig:e,axisList:i=[],hideLoaderHandle:r,commonStrings:a,selectionTheme:n}=s,o=[],l=new $i;dl(l,r),l.id=e.id,l.hiddenInLegend=!0;let[u,h]=i;if(u!==void 0&&(l.xAxis=u),h!==void 0&&(l.yAxis=h),A7(l),u7(l),l.dataItems.template.locations.valueX=1,l.dataItems.template.locations.openValueX=0,l.dataFields.openValueX=DS.Start,l.dataFields.valueX=DS.End,l.dataFields.valueY=DS.Count,l.dataFields.customValue=e.x,Xu(l),zu({element:l.columns.template,customSelectionTheme:n}),Xd(t,l.columns.template),o.push(l),u!==void 0&&h!==void 0){o.push(await Uv({xAxis:u,yAxis:h,type:Gs.Mean,hideLoaderHandle:r})),o.push(await Uv({xAxis:u,yAxis:h,type:Gs.Median,hideLoaderHandle:r}));let c=await Uv({xAxis:u,yAxis:h,type:Gs.StdDev,hideLoaderHandle:r});cs(c.uid,{upper:!1});let A=await Uv({xAxis:u,yAxis:h,type:Gs.StdDev,hideLoaderHandle:r});cs(A.uid,{upper:!0}),c.events.on(Ie.Hidden,()=>{ti(A,!1)}),c.events.on(Ie.Shown,()=>{ti(A)}),o.push(c),o.push(A),o.push(await m7(u,h,a))}return o.forEach(c=>{let A=Ht(c.uid,"isOverlay"),d=Ht(c.uid,"upper");A===!0&&d!==!0&&Pg(c)}),o}function b7(s){let{series:t,seriesConfig:e,colorMatch:i,rendererSymbol:r}=s,a,n=e.fillSymbol??zx();if(t.columns.each(o=>{let l=Uu({element:o,seriesConfig:e,seriesSymbol:n,rendererSymbol:r,colorMatch:i,isChartFillSymbol:!0});a=l.symbolWithColorInfo;let u=l.stylingInfo;Jl({element:o,stylingInfo:u})}),a!==void 0){let o=new Map;o.set(0,a),ll({data:o,htmlContainer:t.chart.htmlContainer,chartId:t.chart.id,colorMatchApplied:Wd(t.chart)})}}async function v7(s){let{chartConfig:t,seriesConfig:e,chartSeries:i,axes:r,chartData:a,fieldList:n,options:o,queryObject:l,chartRenderer:u,commonStrings:h}=s,{tooltipFormatter:c,dataLabelFormatter:A}=o??{},d=6,f=e.overlays;for(let p=0;p<d;p+=1){let m=i[p];if(Ht(m?.uid,"isOverlay")===!0&&m instanceof li){let g=Ht(m.uid,"type");if(g===Gs.Normal){if(f?.comparisonDistribution&&f?.comparisonDistribution.symbol?.color===void 0){let y=xp(g),v=f?.comparisonDistribution?.symbol??{type:Zt.SLS};f.comparisonDistribution.symbol={...v,color:Mn({colorIndex:y,histogramOverlays:!0})}}g7({lineSeries:m,overlay:f?.comparisonDistribution,seriesData:a})}else{let y;switch(g){case Gs.Mean:y=f?.mean;break;case Gs.Median:y=f?.median;break;case Gs.StdDev:y=f?.standardDeviation;break}if(y&&y.symbol?.color===void 0){y.symbol={...y.symbol,type:Zt.SLS};let v=xp(g);y.symbol.color=Mn({colorIndex:v,histogramOverlays:!0})}p7({lineSeries:m,valueFormat:yp(),overlay:y,chartData:a,commonStrings:h})}m.events.once(Ie.Validated,()=>{Ht(m.uid,"upper")!==!0&&vf({labels:m.chart?.legend?.labels,seriesId:m.id})})}else if(m instanceof $i){m.id=e.id,ti(m,e.visible),cl(m,e.name);let g=tr(l),y=LB({chartRenderer:u,queryObject:l}),v=u??g?.renderer,_=bg(u,g?.renderer),S;if(vc({chartConfig:t,queryObject:l})){let F=await IB({seriesConfig:[e],dataItem:{},renderer:v,rendererOrigin:u!==void 0?Gl.ChartRenderer:Gl.LayerRenderer,rendererType:_,chartSubType:j.NonSpecific,graphicTemplate:y});S=F.rendererSymbol,kt(m.chart.uid,{colorMatchApplied:F.colorMatchApplied})}Nd({styleCallback:b7,callbackProps:{...s,rendererSymbol:S},series:m,seriesConfig:e}),c7({series:m,seriesType:L.HistogramSeries,dataLabelsConfig:e.dataLabels,yAxisValueFormat:r[1].valueFormat,customDataLabelFormatter:A}),f7({axes:r,series:m,seriesConfig:e,fieldList:n,tooltipFormatter:c,commonStrings:h}),BE({axes:r,currentSeries:m,tooltipValueFormat:e.dataTooltipValueFormat})}}}function x7(s){s.labels.template.adapter.add("html",(t,e)=>{let i=Ht(s.uid,"pieChartDataLabelFormatter"),r=t??"",{dataItem:a}=e;if(a instanceof Ra){let{slice:n}=a;if(n!==void 0&&!hg(n))r="";else if(i!==void 0){let{value:o,percent:l}=a.values?.value??{};if(o!==void 0&&o!==0){let u=`${a.properties?.category??t}`;r=i(u,o,l)}}}return Li(r)&&(r=J.htmlEmptyContent),ns(r)})}function w7(s){let t=s.labels.template;t.maxWidth=J.pieChart.dataLabels.maxWidth??Number.NaN,t.wrap=J.pieChart.dataLabels.wrap??!0,t.events.on(Ie.Over,e=>{let{dataItem:i}=e.target??{};i instanceof Ra&&i.slice.showTooltip()}),x7(s)}function C7(s,t){let{numericValueFormat:e,percentValueFormat:i,displayCategoryOnDataLabel:r,displayNumericValueOnDataLabel:a,displayPercentageOnDataLabel:n,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h,dataLabelsCharacterLimit:c}=t,A=oF({iLocale:s.chart.language.locale,pieChart:s.chart,valueIntlOptions:e?.intlOptions,percentageIntlOptions:i?.intlOptions,displayNumericValue:a??J.pieChart.displayNumericValueOnDataLabel,displayPercentage:n??J.pieChart.displayPercentageOnDataLabel,valuePrefix:o,valueSuffix:l,percentagePrefix:u,percentageSuffix:h}),d=OB(c),f=$n(s.rtl," ");return(p,m,g)=>{let y=A(p,m,g),v=r??J.pieChart.displayCategoryOnDataLabel?d(p):"",_=Li(v)?"":`${v}${f}`;return _=`${_}${y}`,t.dataLabels?.content!==void 0&&(_=rn({textSymbol:{...t.dataLabels.content,text:_},format:"html",defaults:{...J.pieChart.dataLabels,wrap:t.optimizeDataLabelsOverlapping??J.pieChart.dataLabels.wrap}})),_}}function _7(s){let{pieSeries:t,seriesConfig:e,dataLabelFormatter:i}=s,{dataLabels:r}=e,a=e.dataLabelsOffset??J.pieChart.dataLabelsOffset,n=e.dataLabelsInside??J.pieChart.dataLabelsInside;cs(t.uid,{pieChartDataLabelFormatter:i??C7(t,e)}),Ln({label:t.labels.template,labelConfig:r,defaults:{...J.pieChart.dataLabels,wrap:e.optimizeDataLabelsOverlapping??J.pieChart.alignDataLabels},skipSettingText:!0}),t.alignLabels=!n&&(e.alignDataLabels??J.pieChart.alignDataLabels);let o=t.labels.template.radius;t.chart.invalidateData(),(n&&o!==he(-40)||!n&&o===he(-40)||a!==void 0&&Number.isFinite(a)&&o!==a)&&(t.labels.template.radius=n?he(-40):a,t.invalidate())}function S7(s,t){let e=(f,p,m)=>J.htmlEmptyContent,{numericValueFormat:i,percentValueFormat:r,dataTooltipValueFormat:a,dataTooltipPercentFormat:n,displayCategoryOnTooltip:o,displayNumericValueOnTooltip:l,displayPercentageOnTooltip:u,valuePrefix:h,valueSuffix:c,percentagePrefix:A,percentageSuffix:d}=t;return e=(f,p,m)=>{let g=J.htmlEmptyContent,y=oF({iLocale:s.chart.language.locale,pieChart:s.chart,valueIntlOptions:(a??i)?.intlOptions,percentageIntlOptions:(n??r)?.intlOptions,displayNumericValue:l??J.pieChart.displayNumericValueOnTooltip,displayPercentage:u??J.pieChart.displayPercentageOnTooltip,valuePrefix:h,valueSuffix:c,percentagePrefix:A,percentageSuffix:d})("",p,m),v=!Li(f)&&(o??J.pieChart.displayCategoryOnTooltip);if(v&&(g=`<b>${f}</b>`),!Li(y)){let _=B0(y);g=v?`${g}<br />${_}`:_}return g},e}function B7(s){if(s.tooltip!==void 0){let t=s.fill;t instanceof Fd?t=t.stroke:t instanceof Pd&&(t=t.backgroundFill),s.tooltip.background.fill=t}}function F7(s){let t=s.slices.template;t.tooltipHTML=J.htmlEmptyContent,t.adapter.add("tooltipHTML",(e,i)=>{let r=e??"",{chart:a}=s;if(a!==void 0&&i.tooltip!==void 0){let n=Ae(a.uid,"config"),{dataTooltipVisible:o}=n?.series[0]??{};if(o===!1)i.tooltip.disabled=!0;else{let l=Ht(s.uid,"pieChartTooltipFormatter");if(l!==void 0){let{dataItem:u}=i;if(u instanceof Ra){let h=u.properties.category??"",c=u.dataContext,A=sl(c);A===void 0&&(A=h);let d=u.values?.value?.value,f=u.values?.value?.percent;typeof d=="number"&&d!==0&&n?.series?.[0]?.dataTooltipVisible!==!1?(i.tooltip.disabled=!1,B7(i),r=l(`${h}`,d,f,A)):i.tooltip.disabled=!0}}}}return ns(r)})}function P7(s){let{series:t,seriesConfig:e,tooltipFormatter:i}=s;cs(t.uid,{pieChartTooltipFormatter:i??S7(t,e)})}function T7(s){s.ticks.template.adapter.add("disabled",(t,e)=>e.dataItem?.values?.value?.value===0||!Number.isFinite(e.dataItem?.values?.value?.value)||t===!0)}function D7(s){let{chartData:t,pieSeries:e,pieSlicesSymbols:i,seriesConfig:r}=s;if(e.slices.length===0){let a=[];t?.forEach(n=>{let o=$B({dataContext:n,pieSlicesSymbols:i,seriesConfig:r});a.push(Ed(o.color))}),a.length>0&&(e.colors.list=a)}}function O7(s){let{seriesConfig:t,hideLoaderHandle:e,selectionTheme:i}=s,{x:r,y:a,id:n,visible:o}=t,l=new zs;l.id=n,dl(l,e),l.dataFields.value=a,l.dataFields.category=r;let u=J.pieChart;l.startAngle=u.min,l.endAngle=360+l.startAngle,T7(l),F7(l),w7(l);let h=i!==void 0&&i.selectedElementsTheme?.transformation?.opacity===void 0?{...i,selectedElementsTheme:{...i?.selectedElementsTheme,transformation:{...i?.selectedElementsTheme?.transformation,opacity:1}}}:i;return zu({element:l.slices.template,useNativeState:!0,customSelectionTheme:h}),l.slices.template.states.removeKey("hover"),Xu(l),l.hidden=o===!1,Pg(l),l}function L7(s){let{series:t,pieSlicesSymbols:e,seriesConfig:i,selectionTheme:r}=s;t.defaultState.reset(),t.slices.each((a,n)=>{let o=a.dataItem?.dataContext,l=$B({dataContext:o,pieSlicesSymbols:e,seriesConfig:i}),u=dg({element:a,fillSymbol:l,defaultToColorFromRamp:!0,colorRampIndex:n,isChartFillSymbol:!0});r!==void 0&&r.selectedElementsTheme===void 0&&Jl({element:a,stylingInfo:u,stateKey:wa.Active})})}async function I7(s){let{chartConfig:t,queryObject:e,usePopupTemplateFieldsInfo:i,labelUpdateNeeded:r,commonStrings:a}=s,{series:n}=t,o=n[0],{x:l}=o,u=!fB({chartConfig:t}),h=Ue([o]),c=h===j.PieFromFields,A=tr(e).objectIdField,d=await Vs(e,i);return{x:l,isNonAggregatedChart:u,objectIdField:A,isPieFromFields:c,seriesConfig:o,fieldList:d,labelUpdateNeeded:r,chartSubType:h,colorMatch:ao(t),commonStrings:a}}function $I(s){return`${s[0]},${s[1]},${s[2]}`}function $7(s,t,e){let i=new Set(Array.from(t).map($I)),r=s.findIndex(a=>!i.has($I(a)));return r!==-1?r:e}function k7(s){let{dataContext:t,seriesConfig:e,existingSlicesColors:i,isGroupOfSlices:r,sliceFromConfig:a,dataIndex:n,colorMatch:o,chartSubType:l}=s,u=r?{...J.pieChart.sliceGrouping.fillSymbol,...e.sliceGrouping?.fillSymbol}:gr(a?.fillSymbol??e.fillSymbol),h=tn({dataItem:t,seriesConfig:e,chartSubType:l,colorMatch:o}),c=n;u?.color||(c=$7(TT,i,n));let A=new Ea;A.dataItem={dataContext:t};let{symbolWithColorInfo:d}=Uu({element:A,seriesConfig:e,y:e.y,seriesSymbol:u??bp(),seriesIndex:c,rendererSymbol:h,colorMatch:o,isChartFillSymbol:!0});return d}function kI(s,t){let{x:e,isNonAggregatedChart:i,objectIdField:r,isPieFromFields:a,seriesConfig:n,fieldList:o,labelUpdateNeeded:l,colorMatch:u,chartSubType:h,commonStrings:c}=t,A=[],d,f,p=new Set;return s.forEach((m,g)=>{let y=Lk({dataContext:m,x:e,isNonAggregatedChart:i,dataIndex:g,objectIdField:r,isPieFromFields:a});m[J.pieChart.technicalFieldSliceId]=y;let v=n0(n.slices,y);v?.fillSymbol?.color!==void 0&&p.add(v.fillSymbol.color)}),s.forEach((m,g)=>{let y=m[J.pieChart.technicalFieldSliceId],v=n0(n.slices,y),_=hl(m),S=k7({dataContext:m,seriesConfig:n,existingSlicesColors:p,isGroupOfSlices:_,sliceFromConfig:v,dataIndex:g,colorMatch:u,chartSubType:h});S.color&&p.add(S.color);let F=Ik({dataContext:m,sliceFromConfig:v,isGroupOfSlices:_,seriesConfig:n,fieldList:o,isPieFromFields:a,labelUpdateNeeded:l,colorMatch:u,commonStrings:c}),P={sliceId:y,label:F,fillSymbol:S};P.originalLabel=v?.originalLabel??(m?.[J.originalCategoryValue]!==void 0?m?.[J.originalCategoryValue]:P.label),_?(f=m[J.pieChart.technicalFieldGroupedSlices],n.sliceGrouping!==void 0&&(d={sliceId:n.sliceGrouping.sliceId,percentageThreshold:n.sliceGrouping.percentageThreshold,label:F,originalLabel:n.sliceGrouping.originalLabel??F,fillSymbol:S})):A.push(P)}),{slices:A,groupOfSlicesSymbols:d,groupOfSlices:f}}async function pF(s){let{chart:t}=s,e=await I7(s),{slices:i,groupOfSlicesSymbols:r,groupOfSlices:a}=kI(t.data,e),{slices:n}=kI(a??[],e);return{slices:i,groupedSlices:n,groupOfSlices:r}}function M7(s,t){let{ticks:e}=t,i=e?.visible===!1||t.dataLabelsInside===!0||t.dataLabels===void 0||t.dataLabels?.visible===!1||t.dataLabelsOffset!==void 0&&t.dataLabelsOffset<=0;s.ticks.template.disabled=i,s.ticks.template.strokeOpacity=J.pieChart.ticksOpacity;let r=e?.lineSymbol??gp({color:PT});i&&(r.width=0),il({element:s.ticks.template,lineSymbol:r,visible:!i})}function E7(s){let{chart:t,seriesConfig:e,series:i,pieSlicesSymbols:r,options:a,commonStrings:n}=s,{tooltipFormatter:o,dataLabelFormatter:l}=a??{},{x:u,y:h,id:c,innerRadius:A,startAngle:d,endAngle:f}=e;i.id=c;let p=Ue([e]),m=J.pieChart;i.dataFields.value=p!==j.PieFromFields?h:Fa,i.dataFields.category=p!==j.PieFromFields?u:rs;let g=t.radius instanceof nt?t.radius.value:t.radius;t.innerRadius=he((A??m.innerRadius)*g),i.startAngle=d??m.min,i.endAngle=f??360+i.startAngle,_7({pieSeries:i,seriesConfig:e,dataLabelFormatter:l}),D7({chartData:t.data,pieSeries:i,pieSlicesSymbols:r,seriesConfig:e}),Nd({styleCallback:L7,callbackProps:s,series:i,seriesConfig:e}),M7(i,e),P7({series:i,seriesConfig:e,tooltipFormatter:o})}function dR(s){let{chart:t,seriesConfig:e,commonStrings:i}=s,r=t.data,a=uE({data:r,seriesConfig:e,commonStrings:i});t.data=a}function R7(s,t){s.adapter.add("htmlOutput",(e,i)=>{let r=e,a=Ht(t.uid,"scatterplotDataLabelFormatter"),{dataItem:n}=i;if(n instanceof Ma&&a!==void 0){let{valueX:o,valueY:l,customValue:u}=n,h=(n.component?.xAxis).min,c=(n.component?.yAxis).min;r=aB({dataValue:o,series:t,seriesType:L.ScatterSeries,axisMin:h})||aB({dataValue:l,series:t,seriesType:L.ScatterSeries,axisMin:c})?"":a(o,l,u)}return ns(r)},0)}function N7(s){let t=Do(J.dataLabelInitialize);return Zl(t.uid,{isDataLabel:!0}),s.bullets.push(t),R7(t,s),t.html="{valueX} - {valueY}",t}function V7(s){let{numberFormatter:t,dataLabelsConfigContent:e}=s;return(i,r)=>rn({textSymbol:{...e,text:`${t.format(i)} - ${t.format(r)}`},format:"html"})}function U7(s){let{series:t}=s,e=cg(t,"bullets");N0({...s,dataLabel:e,defaultDataLabelFormatter:V7,seriesType:L.ScatterSeries})}function Q7(s){let{axes:t,seriesConfig:e,series:i,fieldList:r}=s,{dataTooltipVisible:a}=e,n,o=$n(i.rtl);return a===!1?n=(l,u,h)=>"":n=(l,u,h)=>{let c=yr(r,e.x),A=ql(c,t?.[0].title?.content?.text),d=yr(r,e.y),f=ql(d,t?.[1].title?.content?.text),p=Bf({series:i,callbackName:"tooltipValueXNumberFormatCallback",value:l}),m=Bf({series:i,callbackName:"tooltipValueYNumberFormatCallback",value:u}),g=`<b>${A}${o} </b>${p}<br /><b>${f}${o} </b>${m}`;if(h!==void 0&&e.sizePolicy?.field!==void 0){let y=yr(r,e.sizePolicy?.field),v=Bf({series:i,callbackName:"tooltipValueYNumberFormatCallback",value:h});g+=`<br /><b>${y}${o} </b>${v}<br /><b>`}return g},n}function H7(s,t){s.tooltipHTML=J.htmlEmptyContent,s.adapter.add("tooltipHTML",(e,i)=>{let r=e??"",{chart:a}=t;if(a!==void 0){let n=Ae(a.uid,"config"),{dataTooltipVisible:o}=n?.series[0]??{};if(o===!1)r="";else{let l=Ht(t.uid,"scatterplotTooltipFormatter");if(!i.isHidden&&l!==void 0){let{dataItem:u}=i;if(u instanceof Ma){let{valueX:h,valueY:c,customValue:A}=u;r=l(h,c,A)}}}}return ns(r)})}function j7(s){let{series:t,tooltipFormatter:e}=s;cs(t.uid,{scatterplotTooltipFormatter:e??Q7(s)})}function W7(s){let{series:t,seriesConfig:e,newMin:i,newMax:r}=s,a=t.heatRules.getIndex(0),n=a===void 0&&e.sizePolicy!==void 0||a!==void 0&&e.sizePolicy===void 0;if(!n&&a!==void 0){let o=a.min===i&&a.max===r,l=t.dataFields.customValue===e.sizePolicy?.field,u=e.sizePolicy?.scaleType===hu.Linear&&a.logarithmic!==!0||e.sizePolicy?.scaleType===hu.Logarithmic&&a.logarithmic===!0;n=!(o&&l&&u)}return n}function X7(s,t){let{sizePolicy:e}=s,i=t.heatRules.getIndex(0),r=!1;if(e!==void 0){let{scaleType:a,field:n,minSize:o,maxSize:l}=e,u=Mr(t);if(u!==void 0){let h=Wx(),c=o??h.minSize,A=l??h.maxSize;i!==void 0?W7({series:t,seriesConfig:s,newMin:c,newMax:A})&&(r=!0,i.min=c,i.max=A,i.logarithmic=a===hu.Logarithmic):(r=!0,t.heatRules.push({target:u,property:"minWidth",min:c,max:A,dataField:"customValue",logarithmic:a===hu.Logarithmic})),t.dataFields.customValue=n}}else i!==void 0&&(t.heatRules.pop(),t.dataFields.customValue=void 0,r=!0);return r}function z7(s){s!==void 0&&s.validateData();let t=s?.series?.values?.find(e=>Ht(e.uid,"isOverlay")===!0);t!==void 0&&t.validateData()}async function G7(s){let{xAxis:t,yAxis:e,x:i,y:r,name:a,hideLoaderHandle:n}=s,o=new li;return cl(o,a),dl(o,n),o.ignoreMinMax=!0,cs(o.uid,{isOverlay:!0,type:Gs.Trendline}),o.dataFields.valueX=i,o.dataFields.valueY=r,o.xAxis=t,o.yAxis=e,o.hidden=!0,o}function Y7(s){let{trendLine:t,seriesConfig:e,valueFormat:i,chartData:r,defaultR2Value:a}=s,n=J.scatterplotSeries;if(r?.trendLinePoints){t.data=r.trendLinePoints;let u=Ae(t.chart.uid,"formatLocale"),h=Number.isFinite(r.r2)?Rd({value:r.r2??n.r2,valueFormat:i,iLocale:t.chart.language.locale,formatLocale:u}):void 0,c=h!==void 0?`R\xB2 = ${h}`:a;cl(t,c)}t.hiddenInLegend=e.overlays?.trendLine?.created!==!0;let o=e.overlays?.trendLine?.created===!0&&e.overlays.trendLine.visible!==!1,l=e.overlays?.trendLine?.symbol??{type:Zt.SLS};l.color===void 0&&(l.color=Mn({colorIndex:1})),il({element:t,lineSymbol:l??gp(),visible:o})}async function K7(s){let{chart:t,seriesConfig:e,axisList:i=[],hideLoaderHandle:r,selectionTheme:a,ignoreSmoothRenderingLimit:n}=s,o=J.scatterplotSeries,[l,u]=i,{x:h,y:c,overlays:A,name:d,id:f}=e,p=[],m=new li;cs(m.uid,{type:L.ScatterSeries}),m.id=f,dl(m,r),m.hiddenInLegend=!0,m.dataFields.valueX=h,m.dataFields.valueY=c,l!==void 0&&(m.xAxis=l),u!==void 0&&(m.yAxis=u);let g=V0({chart:t,lineSeries:m});H7(g,m),N7(m),m.strokeOpacity=o.strokeOpacity,m.minDistance*=Math.ceil(m.data.length/1e4),m.hidden=!0,zu({element:g,customSelectionTheme:a}),Xd(t,g),FE({chart:t,series:m,seriesType:L.ScatterSeries,marker:g,ignoreSmoothRenderingLimit:n}),p.push(m);let y=A?.trendLine,v=await G7({xAxis:l,yAxis:u,x:h,y:c,hideLoaderHandle:r,name:d,visible:y?.visible});return Pg(v),p.push(v),Xu(m),p}function q7(s){let{seriesConfig:t,series:e,colorMatch:i}=s,{chart:r}=e,a=Mr(e),n=X7(t,e),o=()=>{if(a!==void 0){let l,u,h=t.markerSymbol??vy(),c=new Set;a.clones.each(d=>{let f=tn({dataItem:d.dataItem?.dataContext,seriesConfig:t,chartSubType:j.NonSpecific,colorMatch:i}),p=Uu({element:d,seriesSymbol:h,seriesConfig:t,colorMatch:i,rendererSymbol:f});l=p.symbolWithColorInfo,u=p.stylingInfo,Jl({element:d,stylingInfo:u}),c.add(JSON.stringify(u))}),l=c.size>1?void 0:l;let A=new Map;A.set(0,l),ll({data:A,htmlContainer:r.htmlContainer,chartId:r.id,colorMatchApplied:Wd(r)})}};n?(e.events.disableType(Ie.Validated),z7(r),r.events.once(Ie.Validated,()=>{o(),e.events.enableType(Ie.Validated),e.dispatchImmediately(Ie.Validated)})):o()}function Z7(s){let{seriesConfig:t,chartSeries:e,axes:i,fieldList:r,chartData:a,options:n,commonStrings:o}=s,{tooltipFormatter:l,dataLabelFormatter:u}=n??{},h=e.find(d=>Ht(d.uid,"isOverlay")===!0),c=o.notAvailable;if(h!==void 0){let d={trendLine:h,seriesConfig:t,valueFormat:yp(),chartData:a,defaultR2Value:c};Nd({styleCallback:Y7,callbackProps:d,series:h,seriesConfig:t})}let A=e.find(d=>Ht(d.uid,"isOverlay")!==!0);A!==void 0&&(Mr(A)!==void 0&&(A.id=t.id,Nd({styleCallback:q7,callbackProps:s,series:A,seriesConfig:t}),BE({axes:i,currentSeries:A,tooltipValueFormat:t.dataTooltipValueFormat}),j7({axes:i,seriesConfig:t,series:A,fieldList:r,tooltipFormatter:l})),U7({series:A,seriesType:L.ScatterSeries,dataLabelsConfig:t.dataLabels,yAxisValueFormat:i[1].valueFormat,customDataLabelFormatter:u}))}function J7(s){let t=s.isHover,e=s.dataItem instanceof Ra?s.dataItem?.label?.isHover:!1;return t||e}async function eJ(s){s.series.getIndex(0)?.slices.values.some(t=>J7(t))||await Dg({chart:s,listSelectedElements:[],selectionSource:Hr.SelectionByClick})}async function MI(s){let{chart:t,hitSlice:e,multiSelect:i=!1}=s,r=[],a=t.series.getIndex(0);if(a!==void 0){if(!a.slices.values.every(n=>(n.isHover||n.isFocused)!==n.isActive)){let n=LE(a),o=wc(a),l={element:{},xAxisField:n,yAxisField:o,chartType:L.PieSeries,seriesIndex:0};a.slices.each((u,h)=>{u.isActive&&(u===e||i||u.dataItem instanceof Ra&&u.dataItem.label.isHover)?hl(u.dataItem?.dataContext)?(vg({groupOfSlicesDataContext:u.dataItem?.dataContext})??[]).forEach(c=>{r.push({...l,element:void 0,elementDataContext:c,elementIndex:h})}):r.push({...l,element:u,elementDataContext:u.dataItem?.dataContext,elementIndex:h}):Oo({element:u,selected:!1,useNativeState:!0})}),r.forEach(u=>{Oo({element:u.element,selected:!0,useNativeState:!0})})}await Dg({chart:t,listSelectedElements:r,selectionSource:Hr.SelectionByClick})}t.feedLegend()}function tJ(s){let t=async r=>{let{target:a}=r;if($E(s)&&s.series.getIndex(0)?.slices.template.togglable){let n=Q0(r,s);if(a instanceof Ea)await MI({chart:s,multiSelect:n,hitSlice:a});else if(a instanceof Ni){let o=a.dataItem;if(o instanceof Ra){let{slice:l}=o;l.isActive=!l.isActive,await MI({chart:s,multiSelect:n,hitSlice:l})}}else await eJ(s)}},e=s.series.getIndex(0)?.slices.template;e!==void 0&&(e.events.on(Ie.Hit,t),e.events.on(Ie.DoubleHit,t));let i=s.series.getIndex(0)?.labels.template;i!==void 0&&i.events.on(Ie.Hit,t),s.events.on(Ie.Hit,t),s.events.on(Ie.DoubleHit,t)}function EI(s){return s?.offsetParent!==null}function iJ(s,t){s!==void 0&&t!==void 0&&window.IntersectionObserver!==void 0&&new IntersectionObserver(e=>{e[0].intersectionRatio>0&&(Ae(s.uid,"chartWasCreatedWhileHidden")===!0?(s.reinit(),s.events.once(Ie.Validated,()=>{s.reinit()}),kt(s.uid,{chartWasCreatedWhileHidden:!1})):Ae(s.uid,"chartWasUpdatedWhileHidden")===!0&&(s.reinit(),kt(s.uid,{chartWasUpdatedWhileHidden:!1})))},{root:null}).observe(t)}function rJ(s,t){let e=J.pieChart.dataLabels.maxWidth??100;if(s!=null){let{alignDataLabels:i,dataLabelsOffset:r=J.pieChart.dataLabelsOffset,optimizeDataLabelsOverlapping:a,dataLabels:n,dataLabelsInside:o}=s;if(n?.visible===!0&&i===!0&&o!==!0&&a===!0){let l=typeof t.radius=="number"?t.radius/100:t.radius.value,u=t.chartContainer.measuredWidth,h=t.chartContainer.measuredHeight,c=l*Math.min(u,h),A=5,d=Math.floor((u-c)/2)-A-r;e=Math.min(d,e-A);let f=30;e<f&&(e=f)}}return e}function AR(s){if(Zn(s)){let t=typeof s.radius=="number"?s.radius:s.radius.percent;kt(s.uid,{pieChartRadius:t});let e=()=>{let i=he(Ae(s.uid,"pieChartRadius")??J.pieChart.chartOptimizedRadius),r=i,a=Ae(s.uid,"config");if(a!==void 0){let{series:n}=a,{innerRadius:o,optimizeDataLabelsOverlapping:l,alignDataLabels:u,dataLabelsOffset:h=J.pieChart.dataLabelsOffset,dataLabels:c,dataLabelsInside:A}=n[0];if(c?.visible===!0&&u===!0&&l===!0&&A!==!0){let f=J.pieChart.chartOptimizedRadius/100,p=500,m=150,g=.6,y=.5,v=1,_=s.chartContainer.measuredWidth-h*2,S=Math.max(_-m,0)/(p-m),F=S<1?Math.max(S**v*g,.4):Math.min(S**y*g,f);r=he(F*100)}else r=he(J.pieChart.chartRadius);i.value.toFixed(1)!==r.value.toFixed(1)&&(kt(s.uid,{pieChartRadius:r.percent}),s.radius=r,s.innerRadius=he((o??J.pieChart.innerRadius)*r.value));let d=s.series?.values?.[0];d instanceof zs&&(d.labels.template.maxWidth=rJ(a?.series[0],s))}return r};s.events.on(Ie.SizeChanged,ss(e,J.debounceTime)),e(),s.validate()}}function fR(s){if(s instanceof Ki)AR(s);else if(!(s instanceof ra)){let t=()=>{let i=Ae(s.uid,"config"),{chartPaddingMinSize:r,chartPaddingRightWhenLegendNotOnRight:a,chartContainerPaddingTopWhenRotated:n,chartContainer:o}=J,l=i?.series,u=Me(l),h=Kn({config:i}),c=l?.[0]?.dataLabels?.visible??!0,A=J.chartDefaultPaddingRight;if(h&&c&&(u===L.LineSeries||u===L.ComboLineAndBarSeries||u===L.BarSeries&&(i?.stackedType??Gx())===ir.Side)){let f=0,p=m=>$s(m.uid,"isDataLabel")??!1;s.series.each(m=>{let g=m.bullets.values.find(p);g!==void 0&&g.clones.each(y=>{let v=y.measuredWidth;switch(y.horizontalCenter){case si.Middle:v/=2;break;case Pi.Right:v*=-1;break;case Pi.Left:}let _=y.pixelX+v;_>f&&(f=_,A=v)})})}A>=0&&(s.chartContainer.paddingRight=A),s.chartContainer.paddingTop=h?n:o.paddingTop;let d=i?.legend?.visible!==!1&&i?.legend?.position===hi.Right;s.paddingRight=d?r:a},e=0;s.series.each(i=>{i.events.once(Ie.Validated,()=>{e+=1,e===s.series.length&&t()})})}}function sJ(s,t){s.adapter.add("criticalError",e=>(e.message=t.errors.simpleError,e))}function OS(s,t){let e=s.svgContainer?.SVGContainer;e!==void 0&&(e.style.position=t??"relative")}function aJ(s){let t=s.svgContainer?.SVGContainer;t!==void 0&&(t.style.display="flex")}function nJ(s){s.modal!==void 0&&(s.modal.classPrefix="modal",OS(s,"static"),s.modal.events.on(Ie.Opened,()=>{OS(s,"relative"),aJ(s)}),s.modal.events.on(Ie.Closed,()=>{OS(s,"static")}))}function mF(s){nJ(s)}function RI(s){let t="";for(let e=0;e<s.length;e+=1){let i=s[e];t+=`<li>${i.message}</li>`}return`<ol>${t}</ol>`}function f0(s){s.modal!==void 0&&(s.modal.closable=!0,s.modal.content="",s.closeModal())}async function Gd(s){let{chart:t,chartConfig:e,queryObject:i,createMessage:r,allowUsingObjectIdStat:a,errorStrings:n}=s,o=await Fy({input:e,queryObject:i,allowUsingObjectIdStat:a}),{schemaErrors:l,customErrors:u,warnings:h}=o;if(t.modal!==void 0){if(t.modal.closable=!1,e===void 0){let c=r===void 0?n.modalHeaders.newChart:void 0,A=r??n.errors.newChartRequest;t.modal.events.once(Ie.Opened,()=>{if(r!==void 0){let d=t.modal?.elements?.title?.parentElement??null;d!==null&&(d.style.visibility="hidden")}}),t.openModal(A,c)}else if(l.length>0){let c=n.errors.simpleError;t.openModal(c,n.modalHeaders.error)}else if(u.length>0){let c=RI(u);t.openModal(c,n.modalHeaders.error)}else if(h.length>0){let c=RI(h),A=`<p>${n.errors.warningRequest}</p>${c}`;t.openModal(A,n.modalHeaders.warning)}}return o}async function Ud(s){let{chart:t,chartConfig:e,invalidType:i,elementCount:r,seriesCount:a,openModal:n,errorStrings:o}=s,l=Ae(t.uid,"queryObject"),u=Ae(t.uid,"options"),h=Ae(t.uid,"formatLocale"),c=e!==void 0&&Xa({seriesConfig:e.series[0],xAxisValueFormatType:In(e)}),A=await d$({invalidType:i,elementCount:r,seriesCount:a,chartLimits:u?.chartLimits,filterBySelection:u?.filterBySelection,queryObject:l,errorStrings:o,formatLocale:h,isTemporalLineChart:c});n$(A,t.htmlContainer),t.modal!==void 0&&n!==!1&&Zn(t)&&(t.modal.closable=!1,t.openModal(A.message,A.header))}async function NI(s){let{chart:t,chartConfig:e,errorStrings:i}=s,r=Ae(t.uid,"options");(t.modal?.content===void 0||t.modal?.content==="")&&ew({chartConfig:e,nullAsValid:r?.messageOptions?.nullAsValid,dataSet:t.data})&&await Ud({chart:t,invalidType:ci.EmptyDataSet,openModal:r?.messageOptions?.displayMessageWhenNoData!==!1,chartConfig:e,errorStrings:i})}async function VI(s,t){if(s instanceof $t){let e=Ae(s.uid,"isRotated"),i=Ae(s.uid,"options"),r=[];[{axis:s.xAxes.getIndex(0)},{axis:s.yAxes.getIndex(0)},{axis:s.xAxes.getIndex(1),isSecondValueAxis:!0},{axis:s.yAxes.getIndex(1),isSecondValueAxis:!0}].forEach(a=>{let{axis:n,isSecondValueAxis:o}=a;if(n!==void 0){let l=zd(n.renderer,e);rR(n,o)||r.push(Ud({chart:s,openModal:i?.messageOptions?.displayMessageWhenLogAxisNotPossible!==!1,invalidType:l?ci.NegativeValueInXAxisLogScale:ci.NegativeValueInYAxisLogScale,errorStrings:t}))}}),await Promise.all(r)}}async function gF(s){let{chart:t,data:e,chartConfig:i,pieSlicesSymbols:r,queryObject:a,options:n,currentValidationStatus:o,commonStrings:l,errorStrings:u}=s,{slices:h}=r??{},{chartWillRender:c,createMessage:A}=n??{},d=o,f=i,p=gr(r);if(c!==void 0&&(t instanceof ra||t instanceof Ki)){f=gr(i);let m=dB({data:e,seriesConfig:i.series});if(f=await c({chartConfig:f,data:m,slices:h}),d=await Gd({chart:t,chartConfig:f,queryObject:a,createMessage:A,allowUsingObjectIdStat:n?.messageOptions?.allowUsingObjectIdStat,errorStrings:u}),t instanceof Ki){if(e&&"dataItems"in e){let{colorMatchApplied:g,rendererFieldNames:y}=await Qf({data:e.dataItems,queryObject:a,chartConfig:f,allowColorMatch:vc({chartConfig:f,queryObject:a})});kt(t.uid,{colorMatchApplied:g,rendererFieldNames:y})}p=await pF({chart:t,chartConfig:f,queryObject:a,labelUpdateNeeded:!0,usePopupTemplateFieldsInfo:n?.usePopupTemplateFieldsInfo,commonStrings:l})}}return{alteredConfig:f,newValidationStatus:d,alteredPieSlicesSymbols:p}}function pR(s){let{chart:t,data:e,config:i,hideEmptySeries:r}=s,a=i.series.length,n=gr(i),o=!1;if(r&&t instanceof $t&&a>1){let l=Me(i?.series),u=Ue(i?.series),h=new Set;switch(l){case L.ComboLineAndBarSeries:case L.BarSeries:case L.LineSeries:{n.series.forEach(A=>{let d="";"y"in A&&(d=Array.isArray(A.y)?A.y[0]:A.y,u===j.BarAndLineSplitByNoAggregation&&(d=`${d}_${Ns({where:A.query?.where})}`),(e??t.data)?.some(f=>Cy({dataItem:f,x:A.x,y:d}))&&h.add(A))});break}case L.BoxPlotSeries:{let A=rl(i);n.series.forEach(d=>{let f,p;d.type===L.BoxPlotSeries?(f=(e??t.data).dataItems,p=f?.some(m=>$T({dataItem:m,splitBy:d.query?.where,showOutliers:A}))):d.type===L.LineSeries&&(f=(e??t.data).meanLines,p=f?.some(m=>A9(m,d.query?.where))),p&&h.add(d)});break}}let c=Array.from(h.values());o=c.length>0&&c.length<a,o?(kt(t.uid,{unfilteredConfig:gr(i)}),n.series=c,kt(t.uid,{config:gr(n)})):kt(t.uid,{unfilteredConfig:void 0})}return kt(t.uid,{seriesFilteredOut:o}),{seriesFilteredOut:o,updatedConfig:n}}lt.classNamePrefix="arcgis-charts-";async function yF(s,t){let e=await M6(t.locale);lt.defaultLocale=e,s.language.locale=e,kt(s.uid,{formatLocale:t.formatLocale}),s.rtl=t.rtl}function Y0(s){let{chart:t,actionMode:e,cursorRange:i}=s;if(Zn(t)){let r=e??Ae(t.uid,"actionMode")??J.actionMode;kt(t.uid,{actionMode:r});let a=Ae(t.uid,"filterBySelection");switch(r){case Wt.MonoSelection:case Wt.MultiSelection:case Wt.MultiSelectionWithCtrlKey:a!==!0?_9(t):PS(t);break;case Wt.Zoom:PS(t);break;case Wt.None:qf({chart:t,selectionSource:Hr.ClearSelection,clearOnlyVisibleSeries:!1,disposeStyleAndSelection:!1}),PS(t);break}oq({chart:t,actionMode:r,cursorRange:i})}}function oJ(s,t){t===!0&&(s.tapToActivate=!0,s.tapTimeout=3e3,s.responsive.enabled=!0)}async function lJ(s){let{chart:t,axesConfig:e,chartType:i,isRotated:r,errorStrings:a}=s;switch(await yc({chartType:i,axesConfig:e,errorStrings:a}),i){case L.ScatterSeries:{WZ(t,e);break}case L.HistogramSeries:{QZ({chart:t,axesConfig:e});break}case L.GaugeSeries:{t instanceof ra&&e?.[0]?.valueFormat!==void 0&&MZ(t,e[0].valueFormat);break}case L.BarSeries:case L.LineSeries:case L.ComboLineAndBarSeries:case L.BoxPlotSeries:{pZ({chart:t,chartType:i,isRotated:r,axesConfig:e});break}}}async function bF(s){let{chart:t,chartConfig:e,chartConfig:{axes:i},rotationChanged:r,axisLabelsBehaviorChanged:a,chartType:n,isRotated:o,dualAxisChanged:l,timeIntervalInfoWasReset:u,data:h,queryObject:c,guideTooltipFormatter:A,xAxisLabelFormatter:d,yAxisLabelFormatter:f,secondaryYAxisLabelFormatter:p,gaugeInnerLabelFormatter:m,commonStrings:g,errorStrings:y}=s;switch(await yc({chartType:n,axesConfig:i,errorStrings:y}),n){case L.ScatterSeries:{t instanceof $t&&await XZ({chart:t,axesConfig:i,axisLabelsBehaviorChanged:a,guideTooltipFormatter:A,xAxisLabelFormatter:d,yAxisLabelFormatter:f,commonStrings:g,errorStrings:y});break}case L.HistogramSeries:{t.data!==void 0&&t instanceof $t&&await jZ({chart:t,axesConfig:i,histogramBins:t.data,guideTooltipFormatter:A,xAxisLabelFormatter:d,yAxisLabelFormatter:f,commonStrings:g,errorStrings:y});break}case L.BarSeries:case L.LineSeries:case L.ComboLineAndBarSeries:case L.BoxPlotSeries:{t instanceof $t&&await mZ({chart:t,chartConfig:e,rotationChanged:r,axisLabelsBehaviorChanged:a,isRotated:o,dualAxisChanged:l,timeIntervalInfoWasReset:u,timeIntervalInfo:h?.timeIntervalInfo??Ae(t.uid,"timeIntervalInfo"),guideTooltipFormatter:A,xAxisLabelFormatter:d,yAxisLabelFormatter:f,secondaryYAxisLabelFormatter:p,commonStrings:g,errorStrings:y});break}case L.GaugeSeries:{t instanceof ra&&await RZ({chart:t,chartConfig:e,data:(h??t.data).dataItems,queryObject:c,axisValueFormatter:d,gaugeInnerLabelFormatter:m,commonStrings:g,errorStrings:y});break}}}async function mR(s){let{chart:t,chartConfig:e,hideLoaderHandle:i,options:r,commonStrings:a,queryObject:n}=s,{selectionTheme:o,ignoreSmoothRenderingLimit:l}=r??{},u=Me(e.series);t.series.clear();let h,c,A=[],d=[],f=t instanceof $t?[t.xAxes.getIndex(0),t.yAxes.getIndex(0),t.xAxes.getIndex(1)??t.yAxes.getIndex(1)]:void 0,p={hideLoaderHandle:i,selectionTheme:o,commonStrings:a},m={...p,axisList:f};for(let y=0;y<e.series.length;y+=1){let v=e.series[y];if(c=Me([v]),t instanceof $t&&(c===L.BoxPlotSeries||c===L.LineSeries&&u===L.BoxPlotSeries))h=k8({...m,chart:t,axisList:f,chartConfig:e,seriesIndex:y}),d.push(...h.flat());else switch(c){case L.BarSeries:{t instanceof $t&&(h=n7({...m,chart:t,chartConfig:e,seriesIndex:y}),d.push(h));break}case L.LineSeries:{t instanceof $t&&(h=S8({...m,chart:t,chartConfig:e,seriesIndex:y,ignoreSmoothRenderingLimit:l}),d.push(h));break}case L.ScatterSeries:{t instanceof $t&&v.type===L.ScatterSeries&&(A.push(K7({...m,chart:t,seriesConfig:v,ignoreSmoothRenderingLimit:l})),t.bulletsContainer.zIndex=1,t.seriesContainer.zIndex=2);break}case L.HistogramSeries:{t instanceof $t&&v.type===L.HistogramSeries&&A.push(y7({...m,chart:t,seriesConfig:v}));break}case L.PieSeries:{t instanceof Ki&&v.type===L.PieSeries&&(h=O7({...p,seriesConfig:v}),d.push(h));break}}}let g=Qj({chartConfig:e,queryObject:n,chartData:t.data});if(g.length>0&&(t.colors.list=g.map(y=>{let[v,_,S,F]=y;return new Ft({r:v,g:_,b:S,a:F})})),A.length>0){let y=await Promise.all(A);t.series.pushAll(y.flat())}else d.length>0&&t.series.pushAll(d);I9(t)}async function vF(s){let{chart:t,chartConfig:e,chartConfig:{series:i,axes:r,chartRenderer:a},seriesIndexMapper:n,rotationChanged:o,outliersVisibilityChanged:l,standardizeValuesVisibilityChanged:u,chartData:h,queryObject:c,options:A,dataWasUpdated:d,sortChanged:f,groupOfSlicesWasUpdated:p,pieSlicesSymbols:m,commonStrings:g,errorStrings:y}=s,v=t.series.values,_=new Map,S=e.series.length,F=Me(i),P=ao(e),D=Wa(e),$=By(c),I=await Vs(c,A?.usePopupTemplateFieldsInfo),R=tr(c),T=bg(a,R.renderer);for(let[Q,K]of i.entries()){let z=Me([K]),se=v[Q],ee={numberOfSeries:S,series:se,seriesConfig:K,seriesIndex:Q,colorMatch:P,queryObject:c,rendererType:T,options:A,dataWasUpdated:d,fieldList:I,subtypeInfo:$,sortChanged:f,commonStrings:g},ue={...ee,axes:r,seriesIndexMapper:n},G=se;if(t instanceof $t&&(z===L.BoxPlotSeries||z===L.LineSeries&&F===L.BoxPlotSeries)){if(G=v.find(q=>q.id===K.id),se!==void 0&&(G instanceof Vr||G instanceof li)){let q=Ur(e);z8({...ee,chart:t,series:G,seriesIndexMapper:n,seriesSymbolMapForEvent:_,chartData:h,showOutliers:e.showOutliers,showMean:q,outliersVisibilityChanged:l,standardizeValuesVisibilityChanged:u,rotationChanged:o,options:A})}}else switch(z){case L.BarSeries:o7({...ue,stackedType:D,seriesSymbolMapForEvent:_,rotationChanged:o});break;case L.LineSeries:O8({...ue,stackedType:D,seriesSymbolMapForEvent:_,rotationChanged:o});break;case L.ScatterSeries:Z7({...ue,chartSeries:v,chartData:h});break;case L.HistogramSeries:await v7({...ue,chartSeries:v,chartConfig:e,chartData:h&&"bins"in h?h:void 0,chartRenderer:a});break;case L.PieSeries:E7({...ee,chart:t,groupOfSlicesWasUpdated:p,pieSlicesSymbols:m,selectionTheme:A?.selectionTheme});break}}await rq({chart:t,options:A,dataWasUpdated:d,chartData:h,chartConfig:e,queryObject:c,rotationChanged:o,sortChanged:f,groupOfSlicesWasUpdated:p,errorStrings:y})}async function xF(s){let{chartConfig:t}=s,{chart:e,options:i,globalOptions:r,queryObject:a,commonStrings:n,errorStrings:o}=s,{hideLoaderAnimation:l,disableTogglingLegendItems:u,cursorRange:h,actionMode:c,pieChartLegendValueLabelFormatter:A,guideTooltipFormatter:d,xAxisLabelFormatter:f,yAxisLabelFormatter:p,secondaryYAxisLabelFormatter:m,gaugeInnerLabelFormatter:g,usePopupTemplateFieldsInfo:y}=i??{},v,_,S,F,{loaderElements:P,loaderHandle:D}=D9(e,i);D.showLoader(l!==!0);let $=Me(t.series),I=await Vs(a,y);kt(e.uid,{fieldList:I});let{valid:R,invalidType:T,data:Q,count:K,binnedServerData:z,queryConfig:se}=await Uf({chartConfig:t,queryObject:a,abortKey:Sg(e),options:i,errorStrings:o,fieldList:I});kt(e.uid,{options:i,elementCount:K,initialized:R,binnedServerData:z,queryConfig:se,boxPlotMeanLinesData:Q?.meanLines,timeIntervalInfo:Q?.timeIntervalInfo,trendLineData:{r2:Q?.r2,trendLinePoints:Q?.trendLinePoints}});let ee=new Map;t.series.forEach((ge,ne)=>{ee.set(ge.id,ne)});let ue=no(Q),G=Ur(t);t=pR({chart:e,hideEmptySeries:i?.hideEmptySeries??J.options.hideEmptySeries,data:G?Q:ue,config:t}).updatedConfig;let q=Q&&G&&"meanLines"in Q?Q.meanLines:ue;if(q!==void 0&&$!==L.HistogramSeries){let{colorMatchApplied:ge,rendererFieldNames:ne}=await Qf({data:q,queryObject:a,chartConfig:t,allowColorMatch:vc({chartConfig:t,queryObject:a})});kt(e.uid,{colorMatchApplied:ge,rendererFieldNames:ne})}if(!R)await Ud({chart:e,invalidType:T,elementCount:K,seriesCount:t.series.length,chartConfig:t,errorStrings:o}),D.hideLoader();else{ue!==void 0&&(e.data=ue);let ge=Ue(t.series);$===L.BoxPlotSeries&&ge!==j.BoxPlotMonoField&&ge!==j.BoxPlotMonoFieldAndSplitBy&&(ul({arrayToSort:e.data,chartConfig:t}),zE({chart:e,chartData:e.data,chartConfig:t}));let ne;e instanceof Ki&&(dR({chart:e,seriesConfig:t.series,commonStrings:n}),ne=await pF({chart:e,chartConfig:t,queryObject:a,labelUpdateNeeded:!0,usePopupTemplateFieldsInfo:i?.usePopupTemplateFieldsInfo,commonStrings:n}));let ye={dataItems:e.data,timeIntervalInfo:Ae(e.uid,"timeIntervalInfo"),meanLines:Ae(e.uid,"boxPlotMeanLinesData"),outliers:Q?.outliers};$d({data:e instanceof Ki?{dataItems:e.data}:Q,seriesConfig:t.series,htmlContainer:e.htmlContainer});let qe=await gF({chart:e,data:Q,chartConfig:t,pieSlicesSymbols:ne,queryObject:a,options:i,commonStrings:n,errorStrings:o});F=qe.newValidationStatus;let{alteredConfig:Ge,alteredPieSlicesSymbols:it}=qe;if(ne=it,e instanceof Ki&&(P0({data:e.data,newChartConfig:Ge,pieSlicesSymbols:ne,fieldList:Ae(e.uid,"fieldList")}),ll({data:ne,htmlContainer:e.htmlContainer,chartId:e.id,colorMatchApplied:Wd(e,Ge)}),i$({data:e.data,chartConfig:Ge,htmlContainer:e.htmlContainer})),F?.valid!==!1){let{title:dt,subtitle:Re,footer:We,series:Rt,background:pi}=Ge;v=GZ(e),z0(v,{title:dt,subtitle:Re}),_=YZ(e),G0(_,We),S=_8(e,Rt),q9(e);let V=Kn({config:Ge}),_e=Ue(Rt);kt(e.uid,{config:Ge,isRotated:V,isNonAggregatedChart:!Id(_e)}),Ge.axes!==void 0&&(await lJ({chart:e,axesConfig:Ge.axes,chartType:$,isRotated:V,errorStrings:o}),await bF({chart:e,chartConfig:Ge,chartType:$,isRotated:V,data:Q,queryObject:a,guideTooltipFormatter:d,xAxisLabelFormatter:f,yAxisLabelFormatter:p,secondaryYAxisLabelFormatter:m,gaugeInnerLabelFormatter:g,commonStrings:n,errorStrings:o})),await mR({chart:e,chartConfig:Ge,hideLoaderHandle:D.hideLoader,commonStrings:n,options:i,queryObject:a}),await vF({chart:e,chartConfig:Ge,seriesIndexMapper:ee,rotationChanged:!1,queryObject:a,chartData:$===L.BoxPlotSeries?ye:Q,groupOfSlicesWasUpdated:!0,pieSlicesSymbols:ne,dataWasUpdated:!0,options:i,commonStrings:n,errorStrings:o}),lF({legendElements:S,seriesConfig:Rt,webChartLegend:Ge.legend,pieChartLegendValueLabelFormatter:A}),uR(e),zZ(e),X0(e,pi),hR({chart:e,scrollbarXConfig:Ge.axes?.[0]?.scrollbar,scrollbarYConfig:Ge.axes?.[1]?.scrollbar}),YE(e),KE(e,Ge?.cursorCrosshair),Y0({chart:e,actionMode:c,cursorRange:h});let ve=Io(e.htmlContainer);e.dateFormatter.intlLocales=ve.formatLocale,oJ(e,r?.enableResponsiveFeatures),(e instanceof ra||Fg(e.series))&&(D.hideLoader(),kf(e.htmlContainer)),fR(e)}}return{chartElements:v!==void 0&&_!==void 0&&S!==void 0&&P!==void 0?{headerElements:v,footerElements:_,legendElements:S,loaderHandle:D,loaderElements:P}:void 0,validationStatus:F}}function uJ(s){s.series.each(t=>{t.events.on(Ie.Ready,()=>{Fg(s.series)&&dF(s)})})}async function hJ(s){let{chartContainer:t,chartConfig:e,queryObject:i,t9nStrings:r,options:a,globalOptions:n}=s,{errorStrings:o,commonStrings:l}=r,{createMessage:u}=a??{};t==null&&await pc("divNode",r.errorStrings);let h=eg(t,$t);h.id=e?.id??h.uid,kt(h.uid,{queryObject:i});let c=Io(h.htmlContainer);await yF(h,c),mF(h),h.events.on(Ie.Inited,()=>h.zoomOutButton.deepInvalidate());let A=await Gd({chart:h,chartConfig:e,queryObject:i,createMessage:u,allowUsingObjectIdStat:a?.messageOptions?.allowUsingObjectIdStat,errorStrings:o}),d=y0(e,h.htmlContainer),f=Me(d?.series),p;return A.valid&&(h instanceof $t&&f!==L.BoxPlotSeries&&(h.maskBullets=!1),p=(await xF({chartConfig:d,chart:h,queryObject:i,options:a,globalOptions:n,commonStrings:l,errorStrings:o})).chartElements,kt(h.uid,{config:gr(d)}),x9(h),w9(h)),bc(A,h.htmlContainer),{chart:h,chartElements:p}}async function cJ(s){let{chartContainer:t,chartConfig:e,queryObject:i,errorStrings:r,commonStrings:a,options:n,globalOptions:o}=s;t==null&&await pc("divNode",r);let l=eg(t,Ki);l.id=e?.id??l.uid;let u=Io(l.htmlContainer);await yF(l,u),l.radius=he(J.pieChart.chartRadius),mF(l);let h=await Gd({chart:l,chartConfig:e,queryObject:i,createMessage:n?.createMessage,allowUsingObjectIdStat:n?.messageOptions?.allowUsingObjectIdStat,errorStrings:r}),c;return h.valid&&(c=(await xF({chartConfig:e,chart:l,queryObject:i,options:n,globalOptions:o,commonStrings:a,errorStrings:r})).chartElements,kt(l.uid,{config:gr(e),filterBySelection:n?.filterBySelection}),tJ(l)),bc(h,t),{chart:l,chartElements:c}}async function dJ(s){let{chartContainer:t,chartConfig:e,queryObject:i,errorStrings:r,commonStrings:a,options:n,globalOptions:o}=s;t==null&&await pc("divNode",r);let l=eg(t,ra);l.id=e?.id??l.uid;let u=Io(l.htmlContainer);await yF(l,u),mF(l),l.maskBullets=!1;let h=await Gd({chart:l,chartConfig:e,queryObject:i,createMessage:n?.createMessage,allowUsingObjectIdStat:n?.messageOptions?.allowUsingObjectIdStat,errorStrings:r}),c;if(h.valid){let A=J.gauge,d=Number.isFinite(e?.innerRadius)?e?.innerRadius:A.innerRadius,f=Number.isFinite(e?.startAngle)?e?.startAngle:A.startAngle,p=Number.isFinite(e?.endAngle)?e?.endAngle:A.endAngle;l.radius=he(A.radius),typeof d=="number"&&(l.innerRadius=he(d)),typeof f=="number"&&(l.startAngle=f),typeof p=="number"&&(l.endAngle=p);let m=await xF({chartConfig:e,chart:l,queryObject:i,options:n,globalOptions:o,commonStrings:a,errorStrings:r});c=m.chartElements,h=m.validationStatus??h,kt(l.uid,{config:gr(e)})}return uJ(l),bc(h,l.htmlContainer),{chart:l,chartElements:c}}async function AJ(s){let{newConfig:t}=s,{chart:e,chartElements:i,options:r,queryObject:a,forceDataUpdate:n,commonStrings:o,errorStrings:l}=s,{createMessage:u,chartLimits:h,guideTooltipFormatter:c}=r??{};f0(e);let A=await Gd({chart:e,chartConfig:t,queryObject:a,createMessage:u,allowUsingObjectIdStat:r?.messageOptions?.allowUsingObjectIdStat,errorStrings:l});if(A.valid&&t!==void 0){O9(i.loaderElements,r),i.loaderHandle.showLoader(r?.hideLoaderAnimation!==!0);let f=Ae(e.uid,"seriesFilteredOut"),p=Ae(e.uid,"unfilteredConfig"),m=Ae(e.uid,"config"),g=m?.series,y=t.series,v=Me(y),_=Kn({config:t});kt(e.uid,{config:gr(t),isRotated:_});let{dataUpdateNeeded:S,updateNeededDetails:F}=m0({options:r,forceDataUpdate:n,oldConfig:f?p:m,newConfig:t,formerFilterBySelection:Ae(e.uid,"filterBySelection"),timeIntervalInfo:Ae(e.uid,"timeIntervalInfo"),currentSelectionDataItems:Ae(e.uid,"currentSelectionDataItems"),currentSelectionOIDs:Ae(e.uid,"currentSelectionOIDs"),currentSelectionIndexes:Ae(e.uid,"computedSelectionIndexes")});kt(e.uid,{filterBySelection:r?.filterBySelection}),Y0({chart:e,actionMode:r?.actionMode,cursorRange:r?.cursorRange});let{xOrYChanged:P}=F.common,{numberOfSeriesChanged:D}=F.common,$=o$(m,t),I=l$(m,t),R=d4(m,t),T=A4(m,t),Q=JSON.stringify(Yx(g))!==JSON.stringify(Yx(y)),K=m4(m,t),z=g4(m,t),se=mB(m,t),ee=gB({oldConfig:f?p:m,newConfig:t,dataUpdateNeeded:S}),ue=KI({oldConfig:m,newConfig:t,rotationChanged:I}),G=nR({chart:e,dualAxisChanged:R,rotationChanged:I,timeIntervalInfoWasReset:$,axisLabelsBehaviorChanged:ue}),q,ge,ne=v!==L.BarSeries&&v!==L.LineSeries&&v!==L.ComboLineAndBarSeries&&v!==L.HistogramSeries,ye=Ue(y);if(kt(e.uid,{isNonAggregatedChart:!Id(ye)}),S){(n===!0||l4(F))&&kt(e.uid,{binnedServerData:void 0});let{count:Re,valid:We,invalidType:Rt,data:pi,binnedServerData:V,queryConfig:_e}=await Uf({chartConfig:t,queryObject:a,abortKey:Sg(e),currentSelectionDataItems:Ae(e.uid,"currentSelectionDataItems"),binnedServerData:Ae(e.uid,"binnedServerData"),options:r,errorStrings:l});kt(e.uid,{elementCount:Re,initialized:We,binnedServerData:V,queryConfig:_e,boxPlotMeanLinesData:pi?.meanLines,timeIntervalInfo:pi?.timeIntervalInfo,trendLineData:{r2:pi?.r2,trendLinePoints:pi?.trendLinePoints}}),ne=We,ne?(f0(e),q=pi,ge=no(q)):(await Ud({chart:e,invalidType:Rt,elementCount:Re,seriesCount:y.length,chartConfig:t,errorStrings:l}),i.loaderHandle.hideLoader())}else if(v===L.BarSeries||v===L.LineSeries||v===L.RadarSeries||v===L.ComboLineAndBarSeries||v===L.BoxPlotSeries){let Re=Ae(e.uid,"elementCount");if(Re!==void 0&&(ne=du({count:Re,seriesCount:y.length,chartType:v,chartLimits:h})),ne){let We=h$(g,y);if(We.length>0&&(Y6(e.series,We),e.feedLegend()),cn(y[0])){let{binTemporalData:Rt}=y[0],{unit:pi,size:V}=y[0].temporalBinning??{};Rt===!1&&pi!==void 0&&V!==void 0&&kt(e.uid,{timeIntervalInfo:{unit:pi,size:V}})}}else{let We;switch(v){case L.BarSeries:case L.ComboLineAndBarSeries:We=ci.BarElementExceedsLimit;break;case L.LineSeries:We=ci.LineChartExceedsLimit;break;case L.BoxPlotSeries:We=ci.BoxPlotExceedsLimit;break}await Ud({chart:e,invalidType:We,elementCount:Re,seriesCount:y.length,chartConfig:t,errorStrings:l}),i.loaderHandle.hideLoader()}}ee&&(ul({arrayToSort:S?ge??e.data:e.data,chartConfig:t,fieldList:Ae(e.uid,"fieldList"),isTimeBinningSeries:Xa({seriesConfig:yl(t),xAxisValueFormatType:In(t),setTimeBinningInfoWhenNotProvided:r?.setTimeBinningInfoWhenNotProvided})}),v===L.BoxPlotSeries&&zE({chart:e,chartData:S?ge??e.data:e.data,chartConfig:t}),S||(e.validateData(),v===L.BoxPlotSeries&&e.series.each(Re=>{Re instanceof li&&!(Re instanceof xa)&&Re.id.includes(Ji.Outliers)&&Re.validateData()})));let qe=S&&q&&"bins"in q?q:void 0,Ge=q&&"trendLinePoints"in q?q:Ae(e.uid,"trendLineData");q={dataItems:S?ge??e.data:e.data,timeIntervalInfo:Ae(e.uid,"timeIntervalInfo"),meanLines:Ae(e.uid,"boxPlotMeanLinesData"),outliers:S?q?.outliers:e.series.values.find(Re=>!(Re instanceof xa)&&Re instanceof li)?.data,trendLinePoints:Ge?.trendLinePoints,r2:Ge?.r2,...qe},(S||ee)&&$d({data:q,seriesConfig:t.series,htmlContainer:e.htmlContainer});let it=new Map;t.series.forEach((Re,We)=>{it.set(Re.id,We)});let dt=vc({chartConfig:t,queryObject:a});if(!S||ne){let Re=Ur(t),We=pR({chart:e,data:Re?q:ge,config:t,hideEmptySeries:r?.hideEmptySeries??J.options.hideEmptySeries});if(t=We.updatedConfig,D=We.seriesFilteredOut,(S||se)&&v!==L.HistogramSeries){let pi=Ur(t),V=q&&pi&&"meanLines"in q?q.meanLines:ge??e.data,{colorMatchApplied:_e,rendererFieldNames:ve}=await Qf({data:V,queryObject:a,chartConfig:t,allowColorMatch:dt});kt(e.uid,{colorMatchApplied:_e,rendererFieldNames:ve})}ge!==void 0&&(e.data=ge),t.axes!==void 0&&await bF({chart:e,chartConfig:t,rotationChanged:I,timeIntervalInfoWasReset:$,axisLabelsBehaviorChanged:ue,chartType:v,isRotated:_,dualAxisChanged:R,guideTooltipFormatter:c,xAxisLabelFormatter:r?.xAxisLabelFormatter,yAxisLabelFormatter:r?.yAxisLabelFormatter,secondaryYAxisLabelFormatter:r?.secondaryYAxisLabelFormatter,commonStrings:o,errorStrings:l});let Rt=v===L.BoxPlotSeries&&(a4(y,g)||s4(y,g));(e.series===void 0||e.series.length===0||P||D||We.seriesFilteredOut||Q||(v===L.BarSeries||v===L.LineSeries||v===L.RadarSeries||v===L.ComboLineAndBarSeries)&&e.series.length!==t.series.length||v!==L.HistogramSeries&&G||T||Rt||F.boxPlot.showMeanChanged)&&(!S&&(I||Rt||G)&&e.invalidateData(),await mR({chart:e,chartConfig:t,hideLoaderHandle:i.loaderHandle.hideLoader,commonStrings:o,queryObject:a,options:r})),await vF({chart:e,chartConfig:t,seriesIndexMapper:it,rotationChanged:I,outliersVisibilityChanged:K,standardizeValuesVisibilityChanged:z,queryObject:a,chartData:q,options:r,dataWasUpdated:S,sortChanged:ee,commonStrings:o,errorStrings:l}),z0(i.headerElements,{title:t.title,subtitle:t.subtitle}),G0(i.footerElements,t.footer),lF({legendElements:i.legendElements,seriesConfig:t.series,webChartLegend:t.legend,disableTogglingLegendItems:r?.disableTogglingLegendItems}),X0(e,t.background),hR({chart:e,scrollbarXConfig:t.axes?.[0]?.scrollbar,scrollbarYConfig:t.axes?.[1]?.scrollbar})}Fg(e.series)&&(i.loaderHandle.hideLoader(),kf(e.htmlContainer))}bc(A,e.htmlContainer),KE(e,t?.cursorCrosshair);let d=aq(e);(d.behavior===qi.SelectX||d.behavior===qi.SelectXY||d.behavior===qi.SelectY||d.behavior===qi.None)&&e.scrollbarX.start===0&&e.scrollbarX.end===1&&e.scrollbarY.start===0&&e.scrollbarY.end===1&&dF(e),fR(e),aR(e.series.values[0])}async function fJ(s){let{chart:t,chartElements:e,newConfig:i,queryObject:r,forceDataUpdate:a,options:n,commonStrings:o,errorStrings:l}=s;f0(t);let u=await Gd({chart:t,chartConfig:i,queryObject:r,createMessage:n?.createMessage,allowUsingObjectIdStat:n?.messageOptions?.allowUsingObjectIdStat,errorStrings:l});if(u.valid&&i!==void 0){e.loaderHandle.showLoader(n?.hideLoaderAnimation!==!0);let h=Ae(t.uid,"config"),c=h?.series,A=i?.series,{dataUpdateNeeded:d}=m0({forceDataUpdate:a,oldConfig:h,newConfig:i,options:n,formerFilterBySelection:Ae(t.uid,"filterBySelection"),currentSelectionDataItems:Ae(t.uid,"currentSelectionDataItems"),currentSelectionOIDs:Ae(t.uid,"currentSelectionOIDs"),currentSelectionIndexes:Ae(t.uid,"currentSelectionIndexes")}),f=mB(h,i),p=gB({oldConfig:h,newConfig:i,dataUpdateNeeded:d});kt(t.uid,{filterBySelection:n?.filterBySelection,config:gr(i)});let m=!0,g,y,v=!1;if(d){let{count:_,valid:S,invalidType:F,data:P,queryConfig:D}=await Uf({chartConfig:i,currentSelectionDataItems:Ae(t.uid,"currentSelectionDataItems"),options:n,queryObject:r,abortKey:Sg(t),errorStrings:l});g=P,kt(t.uid,{elementCount:_,queryConfig:D,initialized:S}),m=S,y=no(g),m?y!==void 0&&hX(t.data,y)&&(t.data=y,v=!0):(await Ud({chart:t,invalidType:F,elementCount:_,seriesCount:A.length,errorStrings:l}),e.loaderHandle.hideLoader())}if(!v||m){if(d||f){let T=await Qf({data:y??t.data,queryObject:r,chartConfig:i,allowColorMatch:vc({chartConfig:i,queryObject:r})});t.data=T.dataItems,kt(t.uid,{colorMatchApplied:T.colorMatchApplied,rendererFieldNames:T.rendererFieldNames})}let _=$k(c,A);(v||_)&&dR({chart:t,seriesConfig:A,commonStrings:o}),(p||_)&&(ul({arrayToSort:y??t.data,chartConfig:i,fieldList:Ae(t.uid,"fieldList")}),t.validateData());let S=$S({oldConfig:h,newConfig:i}),F=e$(h,i),P=await pF({chart:t,chartConfig:i,queryObject:r,labelUpdateNeeded:v||S||f||F,usePopupTemplateFieldsInfo:n?.usePopupTemplateFieldsInfo,commonStrings:o});(v||p)&&($d({data:{dataItems:t.data},seriesConfig:i.series,htmlContainer:t.htmlContainer}),i$({data:t.data,chartConfig:i,htmlContainer:t.htmlContainer}));let D=await gF({chart:t,data:{dataItems:t.data},chartConfig:i,pieSlicesSymbols:P,queryObject:r,options:n,currentValidationStatus:u,commonStrings:o,errorStrings:l});u=D.newValidationStatus??u;let{alteredPieSlicesSymbols:$,alteredConfig:I}=D;P=$;let R=$S({oldConfig:i,newConfig:I});(d||S||R||f||F)&&P0({data:t.data,newChartConfig:I,pieSlicesSymbols:P,fieldList:Ae(t.uid,"fieldList")}),ll({data:P,htmlContainer:t.htmlContainer,chartId:t.id,colorMatchApplied:Wd(t,I)}),await vF({chart:t,queryObject:r,chartConfig:I,seriesIndexMapper:new Map,options:n,dataWasUpdated:v,sortChanged:p,chartData:g,groupOfSlicesWasUpdated:_,pieSlicesSymbols:P,commonStrings:o,errorStrings:l}),z0(e.headerElements,{title:I.title,subtitle:I.subtitle}),G0(e.footerElements,I.footer),lF({legendElements:e.legendElements,seriesConfig:I.series,webChartLegend:I.legend,disableTogglingLegendItems:n?.disableTogglingLegendItems,pieChartLegendValueLabelFormatter:n?.pieChartLegendValueLabelFormatter}),X0(t,I.background),Y0({chart:t,actionMode:n?.actionMode,cursorRange:n?.cursorRange}),AR(t)}Fg(t.series)&&(e.loaderHandle.hideLoader(),kf(t.htmlContainer))}bc(u,t.htmlContainer)}async function pJ(s){let{chart:t,chartElements:e,newConfig:i,queryObject:r,forceDataUpdate:a,options:n,commonStrings:o,errorStrings:l}=s,{createMessage:u,hideLoaderAnimation:h,xAxisLabelFormatter:c,gaugeInnerLabelFormatter:A,guideTooltipFormatter:d}=n??{};f0(t);let f=await Gd({chart:t,chartConfig:i,queryObject:r,createMessage:u,allowUsingObjectIdStat:n?.messageOptions?.allowUsingObjectIdStat,errorStrings:l});if(f.valid&&i!==void 0){e.loaderHandle.showLoader(h!==!0);let p=Ae(t.uid,"config"),m=i.series,g=Me(m),{dataUpdateNeeded:y}=m0({forceDataUpdate:a,oldConfig:p,newConfig:i}),v;if(y){let{count:F,valid:P,invalidType:D,data:$,queryConfig:I}=await Uf({chartConfig:i,queryObject:r,options:n,abortKey:Sg(t),errorStrings:l});v=$,v?.dataItems!==void 0&&(t.data=v.dataItems),$d({data:{dataItems:t.data},seriesConfig:i.series,htmlContainer:t.htmlContainer}),kt(t.uid,{elementCount:F,queryConfig:I,initialized:P}),P||(await Ud({chart:t,invalidType:D,elementCount:F,seriesCount:1,errorStrings:l}),e.loaderHandle.hideLoader())}let _=await gF({chart:t,data:{dataItems:t.data},chartConfig:i,queryObject:r,options:n,currentValidationStatus:f,commonStrings:o,errorStrings:l});f=_.newValidationStatus??f;let S=_.alteredConfig;if(f.valid){S.axes!==void 0&&await bF({chart:t,chartConfig:S,chartType:g,data:v,queryObject:r,xAxisLabelFormatter:c,gaugeInnerLabelFormatter:A,guideTooltipFormatter:d,commonStrings:o,errorStrings:l});let F=J.gauge,P=Number.isFinite(S?.innerRadius)?S.innerRadius:F.innerRadius,D=Number.isFinite(S?.startAngle)?S.startAngle:F.startAngle,$=Number.isFinite(S?.endAngle)?S.endAngle:F.endAngle;t.innerRadius=he(P),t.startAngle=D,t.endAngle=$,z0(e.headerElements,{title:S.title,subtitle:S.subtitle}),G0(e.footerElements,S.footer),X0(t,S.background),kt(t.uid,{config:gr(S)}),e.loaderHandle.hideLoader(),kf(t.htmlContainer)}}bc(f,t.htmlContainer)}async function mJ(s){let{chartContainer:t,chartConfig:e,queryObject:i,t9nStrings:r,options:a,globalOptions:n}=s,{errorStrings:o,commonStrings:l}=r;lt.commercialLicense=n?.hideLicenseWatermark!==!1,lt.queue=n?.queueChartCreation!==!1,lt.autoDispose=n?.autoDisposeChart===!0,n?.useAnimatedCharts===!0?pS(Tv):mS(Tv);let u;switch(Me(e?.series)){case L.PieSeries:u=await cJ({chartContainer:t,chartConfig:e,queryObject:i,options:a,globalOptions:n,commonStrings:l,errorStrings:o});break;case L.GaugeSeries:u=await dJ({chartContainer:t,chartConfig:e,queryObject:i,options:a,globalOptions:n,commonStrings:l,errorStrings:o});break;default:u=await hJ({chartContainer:t,chartConfig:e,queryObject:i,options:a,globalOptions:n,t9nStrings:r});break}return u}async function gJ(s){let{chartContainer:t,chartConfig:e,t9nStrings:i,options:r,globalOptions:a}=s,{errorStrings:n}=i,{layer:o,view:l}=r??{},u=!EI(t),h;e!==void 0&&(ko(e)?h=e:h=Sp({chartConfig:e,queryObject:o})),h=await gA(h,o);let c;h&&(ko(h)||o!==void 0)&&(c=await Mc({chartConfig:h,layer:o,view:l}));let A=await mJ({chartContainer:t,chartConfig:h,queryObject:c,t9nStrings:i,options:r,globalOptions:a}),{chart:d,chartElements:f}=A;sJ(d,n),kt(d.uid,{chartWasCreatedWhileHidden:u,queryObject:c,filterBySelection:r?.filterBySelection,options:r}),iJ(d,t),await NI({chart:d,chartConfig:h,errorStrings:n}),await VI(d,n);function p(){NT.delete(Sg(d)),d.isDisposed()||(Z6(d),f!==void 0&&(f.loaderHandle.hideLoader(),A.chartElements=void 0),d.dispose())}async function m(F){let{newConfig:P,forceDataUpdate:D,updateOptions:$}=F,{commonStrings:I}=F,R=Ae(d.uid,"initialized"),T=Ae(d.uid,"config"),Q=P?.series,K=Q!==void 0?Me(Q):void 0;if(d.isDisposed()||f===void 0||R===!1||!qI(T,P))throw new uh(hh.ChartDisposed);switch(K){case L.BoxPlotSeries:case L.BarSeries:case L.LineSeries:case L.ComboLineAndBarSeries:case L.ScatterSeries:case L.HistogramSeries:await AJ({chart:d,chartElements:f,queryObject:c,newConfig:P,forceDataUpdate:D,options:$,commonStrings:I,errorStrings:n});break;case L.PieSeries:await fJ({chart:d,chartElements:f,queryObject:c,forceDataUpdate:D,newConfig:P,options:$,commonStrings:I,errorStrings:n});break;case L.GaugeSeries:await pJ({chart:d,chartElements:f,newConfig:P,queryObject:c,forceDataUpdate:D,options:$,commonStrings:I,errorStrings:n});break}}async function g(F){let{layerUpdate:P,newConfig:D,viewUpdate:$}=F;D&&(P!==void 0||ko(D))&&(c=await Mc({layer:P,view:$,chartConfig:D}),kt(d.uid,{queryObject:c}))}async function y(F){let{newChartConfig:P,updateOptions:D,updateGlobalOptions:$,t9nStrings:I}=F,{errorStrings:R,commonStrings:T}=I;t==null&&await pc("divNode",R);let{layer:Q,view:K,dataUpdated:z}=D??{},se=!EI(t),ee=await Vs(c,r?.usePopupTemplateFieldsInfo);kt(d.uid,{chartWasUpdatedWhileHidden:se,options:D,fieldList:ee});let ue;ko(P)?ue=P:P!==void 0&&(ue=Sp({chartConfig:P,queryObject:Q})),ue=await gA(ue,Q);let G=fA(c);await g({layerUpdate:Q,newConfig:ue,viewUpdate:K});let q=Ae(d.uid,"config");q!==void 0&&u$(q,ue)&&(ue=y0(ue,d.htmlContainer));let ge=fA(c);await m({newConfig:ue,updateOptions:D,forceDataUpdate:z===!0||G!==ge,commonStrings:T}),await NI({chart:d,chartConfig:ue,errorStrings:R}),await VI(d,R)}async function v(){if(Zn(d)&&(d instanceof $t||d instanceof Ki)){let F=Ae(d.uid,"actionMode");F!==Wt.MonoSelection&&F!==Wt.None&&await C9(d)}}function _(F,P,D){d.modal!==void 0&&!d.isDisposed()&&(d.modal.closable=D?.closable??!1,F!==void 0?(d.modal.events.once(Ie.Opened,()=>{let $=d.modal?.elements?.title?.parentElement;$ instanceof HTMLElement&&d.modal?.elements?.title?.innerText.length===0&&($.style.visibility="hidden")}),d.openModal(F,P)):d.closeModal())}function S(){dF(d)}return{update:y,dispose:p,notify:_,resetZoom:S,clearSelection:()=>qf({chart:d}),switchSelection:v,exportImage:async F=>await J6({chart:d,exportOptions:F}),setActionMode:(F,P)=>Y0({chart:d,actionMode:F,cursorRange:P})}}function yJ(s,t){let e;return t!==void 0&&(e={...t},e.legend!==void 0&&(e.legend.position=s)),e}function bJ(s,t){let e;return t!==void 0&&(e={...t},e.legend!==void 0&&(e.legend.visible=s)),e}function vJ(s){let t;return s!==void 0&&(t={...s},delete t.axes?.[0]?.minimum,delete t.axes?.[0]?.maximum,delete t.axes?.[1]?.minimum,delete t.axes?.[1]?.maximum),t}function UI(s,t){return t!=null||ko(s)}async function xJ(s){let{queryObject:t,chartConfig:e,options:i,splitByField:r}=s,a=[],n=e.series[0],o=await gA(e,t),l=sw({queryObject:t,chartConfig:o,runtimeDataFilters:i?.runtimeDataFilters,ignoreViewExtent:i?.ignoreViewExtent});if(l.outStatistics?.[0]?.outStatisticFieldName&&(l.outStatistics[0].outStatisticFieldName=as.outStatistics.outStatisticFieldName),cn(n)&&Xa({xAxisValueFormatType:In(o),setTimeBinningInfoWhenNotProvided:i?.setTimeBinningInfoWhenNotProvided,seriesConfig:n})&&n.temporalBinning?.type===ro.CalendarBased){let{temporalBinning:u,x:h}=n,c=await iw({queryObject:t,dateField:h,splitByField:r,queryConfig:l,temporalBinning:u});a=Array.from(new Set(c.flatMap(A=>{let{stackedAttributes:d}=A,f=[];return d&&(f=d.map(p=>p[r]).filter(p=>p!==void 0)),f})).values())}else{let{uniqueQuery:u}=await _0({chartConfig:o,queryObject:t,queryConfig:l,options:i}),h=await $o({queryObject:t,queryConfig:u,featureCount:1});a=Array.from(new Set(h.map(c=>c.attributes[r]).filter(c=>c!==void 0)).values())}return a}function wJ(s,t){let e=new Map;return s.series.forEach(i=>{let r=Ns({where:i.query?.where,normalize:!0,escape:!1});t&&r!==null&&(r=Number(r));let a=Me([i]);a!==void 0&&e.set(a,[...e.get(a)??[],r])}),e}function CJ(s){let{allValues:t,configUniqueValuesPerSeriesType:e,initialConfigWasEmpty:i}=s,r=new Map;return Array.from(e.keys()).forEach(a=>{let n=e.get(a)??[],o=[];i?o=t:t.forEach(l=>{n.includes(l)||o.push(l)}),r.set(a,o)}),r}function _J(s){let{chartConfig:t,missingValue:e,splitByField:i,seriesTemplate:r}=s,a=JSON.parse(JSON.stringify({...t.series[0],...r}));if(a.query){if(a.id=`${e}-${t.series.length}-${Date.now()}`,a.name=`${e}`,a.query.outStatistics?.[0]!==void 0){let o=a.id;a.query.outStatistics[0].outStatisticFieldName=o,"y"in a&&(a.y=o)}let n=typeof e=="number"||e===null?e:`'${e}'`;a.query.where=`${i}=${n}`}return a}async function QI(s,t){let{updateSplitBySeries:e,config:i}=s,{seriesTemplate:r}=e??{};if(e!==void 0&&i!==void 0&&(i.series.length>0||r!==void 0)&&e.addMissingSeries){let a=i.series.length===0;i.series.length===0&&r!==void 0&&i.series.push(r);let n=Ue(i.series);if(n===j.BoxPlotMonoFieldAndSplitBy||n===j.BoxPlotMultiFieldsAndSplitBy||n===j.BoxPlotMonoFieldAndCategoryAndSplitBy||n===j.BarAndLineSplitBy||n===j.BarAndLineSplitByNoAggregation){let o=await Mc({chartConfig:i,layer:s.layer,view:s.view});if(o!==void 0){let l=jr(i.series[0]?.query?.where),u=tr(o);await u.load();let h=u.getField(l)?.toJSON(),c=Sy(h),A=await xJ({queryObject:o,chartConfig:i,splitByField:l,options:t});if(A.length>0){let d=wJ(i,c),f=CJ({allValues:A,configUniqueValuesPerSeriesType:d,initialConfigWasEmpty:a});Array.from(f.keys()).forEach(p=>{(f.get(p)??[]).forEach(m=>{i.series.push(_J({chartConfig:i,seriesTemplate:r,missingValue:m,splitByField:l}))}),a&&i.series.shift()})}}}}}function SJ(s,t){let e;switch(s){case L.PieSeries:e=t?.placeholders.pieChartCreateMsg;break;case L.BarSeries:e=t?.placeholders.barChartCreateMsg;break;case L.BoxPlotSeries:e=t?.placeholders.boxPlotCreateMsg;break;case L.LineSeries:e=t?.placeholders.lineChartCreateMsg;break;case L.HistogramSeries:e=t?.placeholders.histogramCreateMsg;break;case L.ScatterSeries:e=t?.placeholders.scatterplotCreateMsg;break}return e}function BJ(){return!0}async function HI(s){let{layer:t}=s,e;if(t!==void 0&&s.layerFilterChangePolicy===Dp.Refresh){let i=tr(t),r=_p(i);e=To.watch(()=>r.definitionExpression,async()=>{await s.refresh({updateData:!0,resetAxesBounds:!0})})}return e}async function jI(s){let{layer:t,model:e}=s,i=e&&"getConfig"in e?e.getConfig():e,r;if(t!==void 0&&s.layerRendererChangePolicy===Op.Refresh){let a=tr(t);r=To.watch(()=>a.renderer,async()=>{if(ao(i)){let n=BJ();await s.refresh({updateData:n})}})}return r}async function FJ(s){let{view:t,layer:e,model:i}=s,r=i&&"getConfig"in i?i.getConfig():i,a;if(t!==void 0&&r!==void 0){let n=await Mc({chartConfig:r,view:t,layer:e});await To.whenOnce(()=>!n.updating);let o=async()=>{t.stationary&&(n.updating&&await To.whenOnce(()=>!n.updating),await s.refresh({updateData:!0,resetAxesBounds:!0,updateExtent:!0}))};a=[],a.push(To.when(()=>t.stationary,o)),a.push(To.when(()=>!n.updating,o)),await o()}return a}async function PJ(s){let{view:t,model:e}=s,i=e&&"getConfig"in e?e.getConfig():e,r=Me(i?.series),a;return t!==void 0&&s.viewTimeExtentChangePolicy===yA.Refresh&&r!==L.HistogramSeries&&(a=To.watch(()=>t.timeExtent,async()=>{await s.refresh({updateData:!0})})),a}async function WI(s){let{layer:t}=s,e;if(t!==void 0&&s.layerFieldsChangePolicy===Lp.Refresh){let i=tr(t),r=_p(i);e=To.watch(()=>[r.fields],async()=>{await s.refresh({updateData:!0})})}return e}async function XI(s){let{view:t}=s,e;return t!==void 0&&"selectionManager"in t&&"selections"in t.selectionManager&&(e=To.watch(()=>t.selectionManager.selections,i=>{s.syncSelectionsBetweenChartAndLayerViewPolicy===Ip.Enabled&&s.applySelectionFromView()})),e}var TJ=({message:s,heading:t,options:e})=>oA`<calcite-alert .icon=${e?.icon??"exclamationMarkTriangle"} .open=${e?.active===!0} .autoClose=${e?.autoClose??!1} .autoCloseDuration=${e?.duration??"medium"} scale=m .kind=${e?.kind??"danger"} .ariaHidden=${e?.active!==!0} dir=ltr role=alertdialog label="arcgis charts notify panel">${t!==void 0?oA`<div slot=title>${t}</div>`:null}${s!==void 0?oA`<div slot=message>${s}</div>`:null}</calcite-alert>`,DJ=AT`.hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0;left:0}.am5-modal-curtain{top:0;left:0;width:100%;height:100%;position:absolute;background:#fff!important;z-index:100}.am5-modal-wrapper{top:0;left:0;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:#ffffff80;z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:start;white-space:normal;background:#fff;border-radius:4px;box-shadow:#00000073 0 0 36px;color:#000}.am5-layer-1000{z-index:1000!important}.arcgis-charts-modal{box-shadow:none!important}.arcgis-charts-modal-header{background-color:#0000000d;font-weight:700;padding:4px;align-content:center}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}.chart{flex-grow:1;overflow-y:hidden}.chart>div{justify-content:center;align-items:center}.chart .arcgis-charts-modal-inside{padding:1em 1em 1em 0}.chart .arcgis-charts-modal-inside ol{padding-left:2em}.chart .arcgis-charts-modal-curtain{width:100%;height:100%;position:absolute;top:0;left:0;z-index:2001;background-color:#fff;opacity:.5;opacity:1}.chart .arcgis-charts-modal-content{background:#fffc;color:#000;display:inline-block;top:0;left:0;overflow:visible;z-index:2002;position:absolute;max-width:90%;max-height:90%;width:auto!important;height:auto!important;margin:auto!important;inset:auto!important}.chart .arcgis-charts-modal-header{display:block;width:100%;min-height:1.8em;background:#0000000d}.chart .arcgis-charts-modal-close{display:block;position:absolute;top:.3em;right:.3em;background:url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) center center/80% no-repeat #6464641a;width:1.2em;height:1.2em;cursor:pointer}.chart .arcgis-charts-modal-title{font-weight:700;font-size:110%;padding:.5em 1.2em .5em 1em}:host{width:var(--chart-width, var(--arcgis-charts-default-width));height:var(--chart-height, var(--arcgis-charts-default-height));display:flex;flex-direction:row}`,cB=class extends fT{constructor(){super(),this.chartRef=gT(),this.skipNextUpdate=!1,this.commonStrings=cw({name:"common",blocking:!0}),this.errorStrings=cw({name:"errors",blocking:!0}),this.noRenderProps=["disableInteractions","rotation","legendPosition","legendVisibility","view","featureIndex","filterByExtent"],this.dataUpdateNeededProps=["forceDataUpdate","runtimeDataFilters","returnFeaturesExtent","chartLimits"],this.updatedProps=new Set,this.handleExternalSelection=t=>{let e=t,{selectionData:i,model:r}=e.detail,a=this.layer&&r?.getLayer()?.id===tw(this.layer).id;this.syncSelection&&a&&t.target!==this.el&&!so(i.selectionOIDs,this.selectionData?.selectionOIDs)&&(i.selectionOIDs?(this.selectionData={selectionOIDs:i.selectionOIDs,selectionSource:Hr.ProgrammaticSelection},this.arcgisSelectionComplete.emit({selectionData:this.selectionData,model:this._model})):this.clearSelection())},this.configPanelNumberChange=t=>{let e=t,{panelNumber:i,modelList:r}=e.detail;this.actionBarElement&&this.enableConfiguration&&this.ourModelExistsIn(r)&&(this.actionBarElement.editChartToggle=i===1?lw.Active:lw.Inactive)},this.configDataChangeError=t=>{let e=t,{error:i,model:r}=e.detail;this.enableConfiguration&&r?.isSameChartAs(this._model)&&this.errorAlert(i.message)},this.configPopoverOpenChange=t=>{let e=t;this.componentVersion!=="beta"&&(this.disableInteractions=e.detail.open)},this.modelConfigChange=async t=>{let e=t;this.lastModelFunctionCalled=e.detail.functionCalled;let i=this._model?.getConfig();this.enableConfiguration&&mA(i)&&(await this.applyPlaceholderForPartialConfig(i),this.arcgisConfigChange.emit({newConfig:i,oldConfig:this.config,functionCalled:e.detail.functionCalled})),this.config=gr(i)},this.actionBarSlotRef=t=>{this.actionBarElement=t&&"assignedElements"in t?t.assignedElements().find(e=>e.tagName.toLowerCase()==="arcgis-charts-action-bar"):void 0},this.showNotifyPanel=!1,this.componentVersion="stable",this.enableConfiguration=!1,this.syncSelection=!1,this.errorPolicy=Tp.Throw,this.layerFilterChangePolicy=Dp.Refresh,this.viewTimeExtentChangePolicy=yA.Ignore,this.layerRendererChangePolicy=Op.Refresh,this.layerFieldsChangePolicy=Lp.Refresh,this.syncSelectionsBetweenChartAndLayerViewPolicy=Ip.Disabled,this.arcgisAxesMinMaxChange=ln(),this.arcgisBadDataWarningRaise=ln(),this.arcgisConfigChange=ln(),this.arcgisDataFetchComplete=ln(),this.arcgisDataProcessComplete=ln(),this.arcgisDataProcessError=ln(),this.arcgisLegendItemVisibilityChange=ln(),this.arcgisNoRenderPropChange=ln(),this.arcgisRuntimeError=ln(),this.arcgisSelectionComplete=ln(),this.arcgisSeriesColorChange=ln(),this.arcgisSeriesOrder=ln(),this.arcgisUpdateComplete=ln(),this.listen("arcgisChartsJSDataProcessComplete",this.handleDataProcessComplete),this.listen("arcgisChartsJSDataFetchComplete",this.handleDataFetchComplete),this.listen("arcgisChartsJSLegendItemVisibilityChange",this.handleLegendItemVisibilityChanged),this.listen("arcgisChartsJSUpdateComplete",this.handleUpdateCompleted),this.listen("arcgisChartsJSBadDataWarningRaise",this.handleBadDataWarningRaise),this.listen("arcgisChartsJSSeriesColorChange",this.handleSeriesColorsChange),this.listen("arcgisChartsJSSelectionComplete",this.handleSelection),this.listen("arcgisChartsJSTooManySelectedElements",this.handleTooManySelectedElements),this.listen("calciteAlertClose",this.handleAlertClosed),this.listen("arcgisChartsJSAxesMinMaxChange",this.handleAxesMinMaxChange),this.listen("arcgisChartsJSSeriesOrder",this.handleSeriesOrder)}static{this.properties={showNotifyPanel:16,config:16,componentVersion:1,model:0,enableConfiguration:7,syncSelection:7,rotation:7,actionMode:3,cursorRange:3,legendPosition:3,legendVisibility:7,hideEmptySeries:7,replaceNoValueCategoryWithZero:7,ignoreSmoothRenderingLimit:7,chartWillRender:0,legendValueLabelFormatter:0,timeZone:3,view:0,layer:0,selectionData:0,returnSelectionOIDs:7,returnSelectionIndexes:7,returnFeaturesExtent:7,filterBySelection:7,filterByExtent:7,disableInteractions:7,queueChartCreation:7,useAnimatedCharts:7,hideLicenseWatermark:7,enableResponsiveFeatures:7,autoDisposeChart:7,featureIndex:11,placeholder:3,selectionTheme:0,setTimeBinningInfoWhenNotProvided:7,chartLimits:0,tooltipFormatter:0,dataLabelFormatter:0,guideTooltipFormatter:0,xAxisLabelFormatter:0,yAxisLabelFormatter:0,secondaryYAxisLabelFormatter:0,gaugeInnerLabelFormatter:0,messageOptions:0,errorPolicy:3,disableTogglingLegendItems:7,hideLoaderAnimation:7,loaderColors:0,runtimeDataFilters:0,usePopupTemplateFieldsInfo:7,layerFilterChangePolicy:3,viewTimeExtentChangePolicy:3,layerRendererChangePolicy:3,layerFieldsChangePolicy:3,syncSelectionsBetweenChartAndLayerViewPolicy:3,ignoreViewExtent:7,updateSplitBySeries:0}}static{this.styles=DJ}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.rotationChange(this.rotation)}get legendPosition(){return this._legendPosition}set legendPosition(t){this._legendPosition=t,this.legendPositionChange(this.legendPosition)}get legendVisibility(){return this._legendVisibility}set legendVisibility(t){this._legendVisibility=t,this.legendVisibilityChange(this.legendVisibility)}get view(){return this._view}set view(t){let e=this.view;this._view=t,this.viewChange(this.view,e)}get filterByExtent(){return this._filterByExtent}set filterByExtent(t){this._filterByExtent=t,this.filterByExtentChanged(this.filterByExtent)}get disableInteractions(){return this._disableInteractions??!1}set disableInteractions(t){this._disableInteractions=t,this.disableInteractionsChange(this.disableInteractions)}get featureIndex(){return this._featureIndex}set featureIndex(t){let e=this.featureIndex;this._featureIndex=t,this.featureIndexChange(this.featureIndex,e)}async clearSelection(){this.chart!==void 0&&(this.chart.clearSelection(),this.filterBySelection===!0&&await this.refresh())}async errorAlert(t){this.errorPolicy===Tp.Throw&&(this.notifyHeading=this.errorStrings?.errorHeading,this.notifyMessage=t,this.notifyOptions={kind:"danger",autoClose:!0,active:!0},this.actionBarElement&&(this.actionBarElement.forceDisableActions=!0),this.showNotifyPanel=!0)}async exportAsImage(t=sD.PNG){let e=this.chartRef.value;e?(await(0,zI.default)(e,{useCORS:!0,backgroundColor:null})).toBlob(i=>{if(i){let r=URL.createObjectURL(i),a=document.createElement("a");a.style.display="none",a.download=`${this.model.getTitleText()??"chart"}.${t}`,a.setAttribute("href",r),a.click(),a.remove()}},t):this.errorAlert(this.errorStrings?.errors?.exportImageChartNotReady)}async exportAsCSV(t){let e,i;if(this.chartData){let r=this.layer??(ko(this.config)&&this.config?.iLayer!==void 0?await GT(this.config.iLayer):void 0),a=await Vs(r,this.usePopupTemplateFieldsInfo),n=dw(this.model)?this.model.getTitleText():"chart";if(Object.values(this.chartData).filter(o=>Array.isArray(o)&&o.length>0).length>1){let o=new GI.default;Object.entries(this.chartData).forEach(([u,h])=>{if(Array.isArray(h)&&h.length>0){let c=hw({rawData:h,config:this._model?.getConfig()??this.config,layer:r,fieldList:a}),A=uw(c,t),d=`${n}-${u}.csv`;o.file(d,A)}});let l=await o.generateAsync({type:"blob"});e=URL.createObjectURL(l),i=`${n}.zip`}else{let o;if("bins"in this.chartData?o=this.chartData.bins:"dataItems"in this.chartData&&(o=this.chartData.dataItems),o){let l=hw({rawData:o,config:this._model?.getConfig()??this.config,layer:r,fieldList:a}),u=uw(l,t);e=URL.createObjectURL(new Blob([u],{type:"text/csv"})),i=`${n}.csv`}}if(e!==void 0&&i!==void 0){let o=document.createElement("a");o.style.display="none",o.download=i,o.setAttribute("href",e),o.click(),o.remove(),URL.revokeObjectURL(e)}}}async notify(t,e,i){this.chart!==void 0&&this.chart.notify(t,e,i)}async refresh(t){let{updateData:e=!0,resetAxesBounds:i=!1,updateExtent:r=!1}=t??{};this.updatedProps.add(e?"forceDataUpdate":"forceSimpleUpdate"),this.viewExtentUpdated=r,i&&(delete this.config?.axes?.[0]?.minimum,delete this.config?.axes?.[0]?.maximum,delete this.config?.axes?.[1]?.minimum,delete this.config?.axes?.[1]?.maximum),this.hasUpdated&&await this.updated(),this.viewExtentUpdated=!1}async resetZoom(){this.chart!==void 0&&this.chart.resetZoom()}async switchSelection(){this.chart!==void 0&&this.filterBySelection!==!0&&await this.chart.switchSelection()}connectedCallback(){super.connectedCallback(),this.addConfigListeners(),document.addEventListener("arcgisSelectionComplete",this.handleExternalSelection)}async load(){if(this.syncSelectionsBetweenChartAndLayerViewPolicy===Ip.Enabled){let t=this.getSelectionFromLayerView();t&&(this.selectionData={selectionOIDs:t,selectionSource:Hr.ProgrammaticSelection})}this.debouncedChartUpdate=Lj.promise(async()=>{if(this.chart!==void 0){let t=Array.from(this.updatedProps);if(t.length>0){let e=t.some(r=>this.dataUpdateNeededProps.includes(r));this.updatedProps.clear();let i=this.gatherComponentOptions(e);this.updateSplitBySeries?.addMissingSeries===!0&&(e||t.includes("model")||t.includes("layer")||t.includes("filterByExtent"))&&await QI(this,i),this.chart&&await this.chart.update({newChartConfig:this.config,updateOptions:i,updateGlobalOptions:{queueChartCreation:this.queueChartCreation,useAnimatedCharts:this.useAnimatedCharts,hideLicenseWatermark:this.hideLicenseWatermark,enableResponsiveFeatures:this.enableResponsiveFeatures,autoDisposeChart:this.autoDisposeChart},t9nStrings:{errorStrings:this.errorStrings,commonStrings:this.commonStrings}})}}},rD)}shouldUpdate(t){let e=!1;return[...t.entries()].forEach(([i,r])=>{this._shouldUpdate(this[i],r,i)&&(e=!0)}),e}_shouldUpdate(...t){let[e,,i]=t;this.updatedProps.add(i);let r=this.noRenderProps.includes(i);r&&this.arcgisNoRenderPropChange.emit({propName:i,value:e,model:this._model});let a=!this.skipNextUpdate&&!r;return this.skipNextUpdate=!1,a}willUpdate(t){t.has("model")&&this.modelChange(),t.has("selectionData")&&this.selectionDataChange(),t.has("layer")&&this.layerChange(),t.has("runtimeDataFilters")&&this.runtimeDataFiltersChange(),t.has("returnFeaturesExtent")&&this.returnFeaturesExtentChange(),t.has("timeZone")&&this.timeZoneChange(),t.has("filterBySelection")&&this.filterBySelectionChanged(),t.has("layerFilterChangePolicy")&&(this.hasUpdated||this.layerFilterChangePolicy!==Dp.Refresh)&&this.layerFilterChangePolicyCallBack(this.layerFilterChangePolicy),t.has("viewTimeExtentChangePolicy")&&(this.hasUpdated||this.viewTimeExtentChangePolicy!==yA.Ignore)&&this.viewTimeExtentChangePolicyCallback(this.viewTimeExtentChangePolicy),t.has("layerRendererChangePolicy")&&(this.hasUpdated||this.layerRendererChangePolicy!==Op.Refresh)&&this.layerRendererChangePolicyCallBack(this.layerRendererChangePolicy),t.has("config")&&this.configChange(this.config,t.get("config")),t.has("layerFieldsChangePolicy")&&(this.hasUpdated||this.layerFieldsChangePolicy!==Lp.Refresh)&&this.layerFieldsChangePolicyCallBack(this.layerFieldsChangePolicy)}async updated(){if(this.chart===void 0&&this.chartCreationProcessing!==void 0&&(await this.chartCreationProcessing,this.chartCreationProcessing=void 0),this.config!==void 0&&this.chart!==void 0&&!this.showNotifyPanel)try{UI(this.config,this.layer)&&!mA(this.config)&&await this.debouncedChartUpdate?.push()}catch(t){this.chartRef.value!==void 0&&(t.name===hh.ChartDisposed?(this.chart.dispose(),this.chart=void 0,this.chartRef.value.innerHTML="",await this.createChartInstance(!1)):(t.name===hh.QueryFeaturesError?this.arcgisDataProcessError.emit(t.details):this.arcgisRuntimeError.emit(t.details??t),this.errorAlert(t?.message)))}else this.chart===void 0&&this.chartCreationProcessing===void 0&&!this.showNotifyPanel&&await this.createChartInstance();this.placeholder!==void 0?await this.notify(this.placeholder):this.enableConfiguration&&mA(this.config)&&this.applyPlaceholderForPartialConfig(this.config),this.actionBarElement!==void 0&&lD(this.actionBarElement,this.el,this.config)}disconnectedCallback(){super.disconnectedCallback(),this.removeConfigListeners(),this.removeLayerListeners(),this.removeModelListeners(),this.removeExtentChangeListeners(),this.removeViewTimeExtentChangeListener(),document.removeEventListener(tD.SelectionComplete,this.handleExternalSelection),this.chart!==void 0&&this.chart.dispose()}applySelectionFromView(){let t=this.getSelectionFromLayerView();t&&(this.selectionData={selectionOIDs:t,selectionSource:Hr.ProgrammaticSelection},this.arcgisSelectionComplete.emit({selectionData:this.selectionData,model:this._model}))}handleDataProcessComplete(t){this.chartData=t.detail,this.arcgisDataProcessComplete.emit({chartData:t.detail,model:this._model})}handleDataFetchComplete(t){this.arcgisDataFetchComplete.emit(t.detail)}handleLegendItemVisibilityChanged(t){DT(t,this.config),this.arcgisLegendItemVisibilityChange.emit({legendItemVisibility:t.detail,model:this._model})}handleUpdateCompleted(t){if(this.enableConfiguration){let e=t.detail,i=this.errorStrings?.notifications;if(this.placeholder===void 0&&(e.schemaErrors.length>0?this.notify(i?.invalidConfig,void 0,{closable:!1}):e.warnings.length>0&&e.warnings.some(r=>r.keyword===qT.NonNumericAggregation)&&this.notify(i?.validateAggregationTypeMsg,i?.missingNumericFields,{closable:!1})),(aD(this._model)||nD(this._model))&&this._model.getAggregationType()===Je.NoAggregation&&this._model.getNumericFields().length===1&&this.layer){let r=tw(this.layer).objectIdField;this._model.getNumericFields().includes(r)&&this.notify(i?.noAggregationRequiresNumericFields,i?.missingNumericFields,{closable:!1})}}this.arcgisUpdateComplete.emit(t.detail)}handleBadDataWarningRaise(t){this.arcgisBadDataWarningRaise.emit(t.detail)}handleSeriesColorsChange(t){this.arcgisSeriesColorChange.emit({data:t.detail.data,colorMatchApplied:t.detail.colorMatchApplied,model:this._model})}handleSelection(t){this.selectionData={...t.detail},this.arcgisSelectionComplete.emit({selectionData:t.detail,model:this._model})}handleTooManySelectedElements(){this.errorPolicy===Tp.Throw&&(this.notifyHeading=this.errorStrings?.tooManySelectedElements?.title,this.notifyMessage=this.errorStrings?.tooManySelectedElements?.message,this.notifyOptions={kind:"warning",autoClose:!0,duration:"fast",active:!0},this.showNotifyPanel=!0)}handleAlertClosed(t){t.target===this.el&&(this.skipNextUpdate=!0,this.showNotifyPanel=!1)}handleAxesMinMaxChange(t){this.arcgisAxesMinMaxChange.emit({bounds:t.detail,model:this._model})}handleSeriesOrder(t){this.arcgisSeriesOrder.emit(t.detail)}modelChange(){if(dw(this.model)){this._model=this.model,this.config=gr(this._model?.getConfig());let t=this._model?.getLayer();t&&(this.layer=t),this.addModelListeners()}else this.config=this.model}async selectionDataChange(){this.layer!==void 0&&this.syncSelectionsBetweenChartAndLayerViewPolicy===Ip.Enabled&&this.view!==void 0&&this.setSelectionInLayerView()}async viewChange(t,e){await this.setExtentChangeListener(),await this.setViewTimeExtentChangeListener(),e!==void 0&&t===void 0&&await this.refresh(),this.view?this.setViewSelectionsChangeListener():this.removeViewSelectionsChangeListener()}async layerChange(){await this.addLayerListeners()}runtimeDataFiltersChange(){this.updatedProps.add("runtimeDataFilters")}returnFeaturesExtentChange(){this.updatedProps.add("returnFeaturesExtent")}featureIndexChange(t,e){e===void 0&&typeof t=="number"&&this.updatedProps.add("forceDataUpdate")}async disableInteractionsChange(t){navigator.userAgent.search("Firefox")!==-1&&(t?this.chartRef.value?.classList.add(tc.DisableInteractions):this.chartRef.value?.classList.remove(tc.DisableInteractions))}rotationChange(t){t!==void 0&&(this.config=LT(t,this.config))}legendPositionChange(t){t!==void 0&&(this.config=yJ(t,this.config))}legendVisibilityChange(t){t!==void 0&&(this.config=bJ(t,this.config))}timeZoneChange(){this.updateConfigTimeZone()}filterBySelectionChanged(){this.config=vJ(this.config)}layerFilterChangePolicyCallBack(t){t!==Dp.Ignore?this.setLayerFilterListener():this.removeLayerFilterListener()}viewTimeExtentChangePolicyCallback(t){t!==yA.Refresh?this.removeViewTimeExtentChangeListener():this.setViewTimeExtentChangeListener()}layerRendererChangePolicyCallBack(t){t!==Op.Ignore?this.setLayerRendererListener():this.removeLayerRendererListener()}async filterByExtentChanged(t){t||await this.refresh({updateData:!0,resetAxesBounds:!0,updateExtent:!0}),this.filterByExtent?this.setExtentChangeListener():this.removeExtentChangeListeners()}async configChange(t,e){this.arcgisConfigChange.emit({newConfig:t,oldConfig:e,functionCalled:this.lastModelFunctionCalled}),this.lastModelFunctionCalled=void 0,this.actionBarElement&&!mA(t)&&(this.actionBarElement.forceDisableActions=!1)}layerFieldsChangePolicyCallBack(t){t!==Lp.Ignore?this.setLayerFieldsListener():this.removeLayerFieldsListener()}addConfigListeners(){document.addEventListener("arcgisChartsConfigPanelNumberChange",this.configPanelNumberChange),document.addEventListener("arcgisChartsConfigDataChangeError",this.configDataChangeError),document.addEventListener("arcgisChartsConfigPopoverOpenChange",this.configPopoverOpenChange)}removeConfigListeners(){document.removeEventListener("arcgisChartsConfigPanelNumberChange",this.configPanelNumberChange),document.removeEventListener("arcgisChartsConfigDataChangeError",this.configDataChangeError),document.removeEventListener("arcgisChartsConfigPopoverOpenChange",this.configPopoverOpenChange)}getSelectionFromLayerView(){let t,e=this.view;return e!==void 0&&"selectionManager"in e&&"getSelection"in e.selectionManager&&(t=e?.selectionManager?.getSelection(this.layer)),t}setSelectionInLayerView(){let t,e=this.selectionData?.selectionOIDs?.length===0||this.selectionData?.selectionOIDs===void 0||this.selectionData?.selectionSource===Hr.ClearSelection,i=(this.selectionData?.selectionOIDs?.length??0)>0;e?t=[]:i&&this.selectionData&&(t=this.selectionData.selectionOIDs);let r=this.view;t&&r!==void 0&&"selectionManager"in r&&"setSelection"in r.selectionManager&&r.selectionManager.setSelection(this.layer,t)}addModelListeners(){this._model?.addEventListener("arcgisChartsModelConfigChange",this.modelConfigChange)}removeModelListeners(){this._model?.removeEventListener("arcgisChartsModelConfigChange",this.modelConfigChange)}async addLayerListeners(){this.removeLayerListeners(),this.layerFilterListener=await HI(this),this.layerRendererListener=await jI(this),this.layerFieldsListener=await WI(this),this.viewSelectionsChangeListener=await XI(this)}async setLayerFilterListener(){this.removeLayerFilterListener(),this.layerFilterListener=await HI(this)}async setLayerRendererListener(){this.removeLayerRendererListener(),this.layerRendererListener=await jI(this)}async setLayerFieldsListener(){this.removeLayerFieldsListener(),this.layerFieldsListener=await WI(this)}async setExtentChangeListener(){this.filterByExtent&&(this.removeExtentChangeListeners(),this.extentChangeListeners=await FJ(this))}async setViewTimeExtentChangeListener(){this.removeViewTimeExtentChangeListener(),this.viewTimeExtentChangeListener=await PJ(this)}async setViewSelectionsChangeListener(){this.removeViewSelectionsChangeListener(),this.viewSelectionsChangeListener=await XI(this)}removeLayerListeners(){this.removeLayerFilterListener(),this.removeLayerRendererListener(),this.removeLayerFieldsListener()}removeLayerFilterListener(){this.layerFilterListener?.remove()}removeLayerRendererListener(){this.layerRendererListener?.remove()}removeLayerFieldsListener(){this.layerFieldsListener?.remove()}removeExtentChangeListeners(){this.extentChangeListeners!==void 0&&(this.extentChangeListeners.forEach(t=>t.remove()),this.extentChangeListeners=[])}removeViewSelectionsChangeListener(){this.viewSelectionsChangeListener!==void 0&&this.viewSelectionsChangeListener.remove()}removeViewTimeExtentChangeListener(){this.viewTimeExtentChangeListener?.remove(),this.runtimeDataFilters?.timeExtent&&delete this.runtimeDataFilters.timeExtent}async applyPlaceholderForPartialConfig(t){let e=Me(t?.series),i=SJ(e,this.errorStrings);await this.notify(i)}checkForIncompatibleChartVersion(){let t=this.config?.version;this.errorPolicy===Tp.Throw&&IT(t).versionStatus===mT.Newer&&(this.notifyHeading=this.errorStrings.incompatibleChartVersion?.title,this.notifyMessage=this.errorStrings.incompatibleChartVersion?.message?Ha(this.errorStrings.incompatibleChartVersion.message,{chartVersion:t??""}):"",this.notifyOptions={kind:"warning",autoClose:!0,active:!0},this.showNotifyPanel=!0)}ourModelExistsIn(t){return t.some(e=>this._model?.isSameChartAs(e))}updateConfigTimeZone(){this.config?.axes?.[0]?.valueFormat.type===L.DateAxisFormat&&(this.config.axes[0].valueFormat.intlOptions.timeZone=ST(this.timeZone))}gatherComponentOptions(t){let e=this.runtimeDataFilters;return this.view&&this.viewTimeExtentChangePolicy===yA.Refresh&&this.view.timeExtent?.start!=null&&this.view.timeExtent?.end!=null&&(e={...e,timeExtent:[this.view.timeExtent.start.valueOf(),this.view.timeExtent.end.valueOf()]}),{dataUpdated:t,layer:this.layer,view:this.filterByExtent?this.view:void 0,createMessage:this.placeholder,hideLoaderAnimation:this.hideLoaderAnimation,loaderColors:this.loaderColors,runtimeDataFilters:e,messageOptions:this.messageOptions,viewExtentUpdated:this.viewExtentUpdated,usePopupTemplateFieldsInfo:this.usePopupTemplateFieldsInfo,ignoreViewExtent:this.ignoreViewExtent,chartLimits:this.chartLimits,guideTooltipFormatter:this.guideTooltipFormatter,xAxisLabelFormatter:this.xAxisLabelFormatter,yAxisLabelFormatter:this.yAxisLabelFormatter,secondaryYAxisLabelFormatter:this.secondaryYAxisLabelFormatter,tooltipFormatter:this.tooltipFormatter,dataLabelFormatter:this.dataLabelFormatter,selectionData:this.selectionData,filterBySelection:this.filterBySelection,actionMode:this.actionMode,cursorRange:this.cursorRange,selectionTheme:this.selectionTheme,setTimeBinningInfoWhenNotProvided:this.setTimeBinningInfoWhenNotProvided,returnSelectionOIDs:this.returnSelectionOIDs,returnSelectionIndexes:this.returnSelectionIndexes,returnFeaturesExtent:this.returnFeaturesExtent,disableTogglingLegendItems:this.disableTogglingLegendItems,hideEmptySeries:this.hideEmptySeries,replaceNoValueCategoryWithZero:this.replaceNoValueCategoryWithZero,gaugeInnerLabelFormatter:this.gaugeInnerLabelFormatter,ignoreSmoothRenderingLimit:this.ignoreSmoothRenderingLimit,chartWillRender:this.chartWillRender,pieChartLegendValueLabelFormatter:this.legendValueLabelFormatter}}async createChartInstance(t=!0){this.chartCreationProcessing!==void 0&&(await this.chartCreationProcessing,this.chartCreationProcessing=void 0),this.updateConfigTimeZone(),this.checkForIncompatibleChartVersion(),this.updatedProps.clear();try{if(UI(this.config,this.layer)){let e=this.gatherComponentOptions();await QI(this,e);let i=this.componentVersion==="beta"?T6:gJ;this.chartCreationProcessing=i({chartContainer:this.chartRef.value,chartConfig:mA(this.config)?void 0:this.config,options:e,globalOptions:{queueChartCreation:this.queueChartCreation,useAnimatedCharts:this.useAnimatedCharts,hideLicenseWatermark:this.hideLicenseWatermark,enableResponsiveFeatures:this.enableResponsiveFeatures,autoDisposeChart:this.autoDisposeChart},t9nStrings:{errorStrings:this.errorStrings,commonStrings:this.commonStrings}}),this.chart=await this.chartCreationProcessing,this.chartCreationProcessing=void 0,t&&(await this.addLayerListeners(),await this.setExtentChangeListener(),await this.setViewTimeExtentChangeListener())}}catch(e){e.name===hh.QueryFeaturesError?this.arcgisDataProcessError.emit(e.details):this.arcgisRuntimeError.emit(e.details??e),this.errorAlert(e?.message),this.chart?.dispose(),this.chartCreationProcessing=void 0,this.chart=void 0}}render(){let t=this.showNotifyPanel?TJ({heading:this.notifyHeading,message:this.notifyMessage,options:this.notifyOptions}):null,e=this.showNotifyPanel&&this.notifyOptions?.kind==="danger"?tc.Hide:`${tc.Chart} ${tc.Show}`,i=this.showNotifyPanel?`${tc.Show} ${tc.NotifyPanel}`:tc.Hide;return oA`<slot name=${iD.actionBar} @slotchange=${r=>{this.actionBarElement=oD(r,this.el,this.config)}} ${Nx(this.actionBarSlotRef)}></slot><div class=${Mx(e)} ${Nx(this.chartRef)}></div><div class=${Mx(i)}>${t}</div>`}};pT("arcgis-chart",cB);return cB},"core/promiseUtils","request","geometry/support/jsonUtils","rest/support/AttributeBinsQuery","rest/support/Query","rest/support/StatisticDefinition","time/TimeExtent","renderers/support/jsonUtils","symbols/support/symbolUtils","Graphic","layers/support/FeatureFilter","Map","smartMapping/statistics/histogram","smartMapping/statistics/summaryStatistics","views/MapView","core/reactiveUtils",a,b,c,d,e,f,g,h,i)