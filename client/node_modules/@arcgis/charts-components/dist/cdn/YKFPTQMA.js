/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.19 */
import{a as n,b as s}from"./EHA2DPVG.js";import d from"./NCOEWMF7.js";import b from"./5NI5R3AO.js";import{a as g}from"./QDODWAYJ.js";import"./ITSRCSFZ.js";import a from"./PDDPZQ7S.js";import{A as t,E as p,c,d as m,n as i,z as h}from"./MDSKC43G.js";import"./TJWJSZZ6.js";import"./IYCX42AE.js";import"./YG7SBKS5.js";export default $arcgis.t(([,,,,,,,{z:d},{h:f,i:o},{d:u}])=>{var a={jsAppFlyout:"js-app-flyout",chartRenameComponent:"chart-rename-component",renameLabelContainer:"rename-label-container",renamePanel:"rename-panel"},v=c`.hide{display:none}.am5-modal{width:100%;height:100%;position:absolute;z-index:100000;top:0;left:0}.am5-modal-curtain{top:0;left:0;width:100%;height:100%;position:absolute;background:#fff!important;z-index:100}.am5-modal-wrapper{top:0;left:0;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;white-space:nowrap;background:#ffffff80;z-index:101}.am5-modal-content{display:inline-block;padding:1.2em;vertical-align:middle;text-align:start;white-space:normal;background:#fff;border-radius:4px;box-shadow:#00000073 0 0 36px;color:#000}.am5-layer-1000{z-index:1000!important}.arcgis-charts-modal{box-shadow:none!important}.arcgis-charts-modal-header{background-color:#0000000d;font-weight:700;padding:4px;align-content:center}.show{display:block}.notifyPanel{flex:0 1 auto}.disable-interactions{pointer-events:none}.dim-text{color:var(--arcgis-charts-dim-text)}.chart-rename-component{width:var(--arcgis-charts-config-panel-width-medium);height:var(--arcgis-charts-config-panel-height)}:host{overflow-y:auto;width:min-content}.rename-label-container{display:flex;padding:0 1rem;margin-top:1rem}.rename-label-container calcite-label{flex:1 1 0px;display:flex;width:0px}.rename-panel{width:calc(var(--calcite-panel-width-multiplier) * 20vw);max-width:calc(var(--calcite-panel-width-multiplier) * 420px);min-width:calc(var(--calcite-panel-width-multiplier) * 240px)}`,r=class extends h{constructor(){super(...arguments),this._messages=g(),this.characterLimitInputElement=n(),this.popoverElement=n(),this.isChartTitleInvalid=!1,this.changedName="",this.name="",this.arcgisChartsConfigChartRenamePopoverChange=i(),this.arcgisChartsConfigPopoverClose=i()}static{this.properties={isChartTitleInvalid:16,changedName:16,messageOverrides:0,name:3,open:5,popoverReferenceElement:0}}static{this.styles=v}async reposition(){await this.popoverElement.value?.reposition()}load(){this.changedName=this.name}willUpdate(e){e.has("name")&&(this.hasUpdated||this.name!=="")&&this.changeName(this.name)}updated(){this.popoverElement.value?.reposition(),u(this.popoverElement.value,this.open)}changeName(e){this.changedName=e}onNameChange(e){let l=e.target.value;this.changedName=l,this.isChartTitleInvalid=d(l.trim()),this.characterLimitInputElement.value&&f({inputElement:this.characterLimitInputElement.value,status:this.isChartTitleInvalid?o.INVALID:o.IDLE})}onCancelClick(){this.changedName=this.name,this.arcgisChartsConfigPopoverClose.emit(),this.open=!1}onSubmitClick(){this.isChartTitleInvalid||(this.name=this.changedName,this.arcgisChartsConfigChartRenamePopoverChange.emit({name:this.changedName}),this.open=!1)}popoverClose(){this.changedName=this.name,this.open=!1,this.arcgisChartsConfigPopoverClose.emit()}render(){return m`<div class=${t({[a.chartRenameComponent]:!0,[a.jsAppFlyout]:!0})}><calcite-popover .referenceElement=${this.popoverReferenceElement??document.body} @calcitePopoverClose=${this.popoverClose} .open=${this.open} placement=bottom label ${s(this.popoverElement)}><calcite-panel class=${t(a.renamePanel)} closable .closed=${!this.open} @calcitePanelClose=${this.popoverClose} .heading=${this._messages.renameChart}><div class=${t(a.renameLabelContainer)}><calcite-label>${this._messages.chartName}<calcite-input required type=text .value=${this.changedName} @calciteInputInput=${this.onNameChange} ${s(this.characterLimitInputElement)}></calcite-input><arcgis-charts-config-invalid-input-message .invalidInputMessage=${this._messages.emptyChartTitle} .isInvalid=${this.isChartTitleInvalid}></arcgis-charts-config-invalid-input-message></calcite-label></div><calcite-button slot=footer appearance=solid scale=m width=half @click=${this.onSubmitClick}>${this._messages.submit}</calcite-button><calcite-button slot=footer appearance=outline-fill scale=m width=half @click=${this.onCancelClick}>${this._messages.cancel}</calcite-button></calcite-panel></calcite-popover></div>`}};p("arcgis-charts-config-chart-rename-popover",r);return r},"geometry/support/jsonUtils","rest/support/AttributeBinsQuery","rest/support/Query","rest/support/StatisticDefinition","time/TimeExtent","core/promiseUtils","request",a,b,d)