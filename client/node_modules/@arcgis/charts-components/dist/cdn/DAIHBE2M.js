/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.19 */
import d from"./3RODMSQG.js";import{d as a}from"./ITSRCSFZ.js";import b from"./PDDPZQ7S.js";import{E as c,c as n,d as s,z as h}from"./MDSKC43G.js";import"./IYCX42AE.js";import"./YG7SBKS5.js";export default $arcgis.t(([,,,,,,,{A:r,Gc:d,Ic:p},{g:g}])=>{var m=n`:host{overflow-y:auto;overflow-x:hidden;margin-bottom:var(--arcgis-charts-intra-section-margin);margin-top:var(--arcgis-charts-intra-section-margin);height:100%}`,l=class extends h{constructor(){super(...arguments),this.popoverElement=null,this.onModelConfigChange=async e=>{let o=e?.detail.config??this.model.getConfig();this.layer===void 0&&await this.updateFetchLayerFieldsInfo(o)},this.activeColorMatch=!1,this.popoverPlacement="leading"}static{this.properties={layerFieldsInfo:16,activeColorMatch:16,model:0,popoverPlacement:3,seriesColor:2,page:3,calculatedMinMaxBounds:2,layer:0,usePopupTemplateFieldsInfo:5}}static{this.styles=m}async load(){this.layer!==void 0&&await this.layerChange(this.layer,void 0),this.seriesColor!==void 0&&this.seriesColorChange(this.seriesColor),this.usePopupTemplateFieldsInfo!==void 0&&await this.usePopupTemplateFieldsInfoChange(this.usePopupTemplateFieldsInfo,void 0),this.modelChange(this.model),this.onModelConfigChange(),this.updateDataFilters()}async willUpdate(e){e.has("model")&&this.modelChange(this.model,e.get("model")),e.has("layer")&&await this.layerChange(this.layer,e.get("layer")),e.has("usePopupTemplateFieldsInfo")&&await this.usePopupTemplateFieldsInfoChange(this.usePopupTemplateFieldsInfo,e.get("usePopupTemplateFieldsInfo")),e.has("seriesColor")&&this.seriesColorChange(this.seriesColor),this.layerFieldsInfo===void 0&&await this.updateFetchLayerFieldsInfo()}disconnectedCallback(){super.disconnectedCallback(),this.model.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}modelChange(e,o){o?.removeEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange),e?.addEventListener("arcgisChartsModelConfigChange",this.onModelConfigChange)}async layerChange(e,o){e!==void 0&&!r(o,e)&&await this.updateFetchLayerFieldsInfo()}async usePopupTemplateFieldsInfoChange(e,o){e!==void 0&&e!==o&&await this.updateFetchLayerFieldsInfo()}seriesColorChange(e){this.activeColorMatch=e?.get(0)===void 0,this.model.getColorMatch()&&e?.forEach((o,i)=>{let t;o&&("fillSymbol"in o?t=o.fillSymbol?.color:"lineSymbol"in o&&(t=o.lineSymbol.color)),e?.get(0)!==void 0&&t!==void 0&&!r(this.model.getSeriesColor(i),t)&&this.model.setSeriesColor(t,i)})}async updateDataFilters(){let e=this.model.getDataFilter(),o=e?.where,i=this.layer?.definitionExpression??void 0;r(o,i)||await this.model.setDataFilter({...e,where:i??void 0})}async updateFetchLayerFieldsInfo(e){let o=e??this.model.getConfig(),i=this.layer;if(!i){let t=g(o)?o.iLayer:void 0;t&&(i=await d(t))}i&&(this.layerFieldsInfo=await p(i,this.usePopupTemplateFieldsInfo))}popoverOpen(e){let{open:o=!1,element:i=null}={...e.detail};o===!0&&this.popoverElement!==i?(this.popoverElement!==null&&(this.popoverElement.open=!1),this.popoverElement=i):o===!1&&this.popoverElement===i&&(this.popoverElement=null)}render(){let e;switch(this.page){case a.Data:e=s`<arcgis-charts-config-box-plot-data .model=${this.model} .layerFieldsInfo=${this.layerFieldsInfo}></arcgis-charts-config-box-plot-data>`;break;case a.Series:e=s`<arcgis-charts-config-box-plot-series .model=${this.model} .activeColorMatch=${this.activeColorMatch} @arcgisChartsConfigBoxPlotSeriesPopoverChange=${this.popoverOpen} .popoverPlacement=${this.popoverPlacement}></arcgis-charts-config-box-plot-series>`;break;case a.Axes:e=s`<arcgis-charts-config-axes .model=${this.model} show-min-y-bound-option show-max-y-bound-option .calculatedMinMaxBounds=${this.calculatedMinMaxBounds}></arcgis-charts-config-axes>`;break;case a.Guides:e=s`<arcgis-charts-config-guides .model=${this.model} enable-y-axis-guide @arcgisChartsConfigGuidePopoverChange=${this.popoverOpen}></arcgis-charts-config-guides>`;break;case a.Format:e=s`<arcgis-charts-config-format .model=${this.model} @arcgisChartsConfigFormatPopoverChange=${this.popoverOpen}></arcgis-charts-config-format>`;break;case a.General:e=s`<arcgis-charts-config-general .model=${this.model}></arcgis-charts-config-general>`;break;default:e="";break}return e}};c("arcgis-charts-config-box-plot",l);return l},"geometry/support/jsonUtils","rest/support/AttributeBinsQuery","rest/support/Query","rest/support/StatisticDefinition","time/TimeExtent","core/promiseUtils","request",b,d)