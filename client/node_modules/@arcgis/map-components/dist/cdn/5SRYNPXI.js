/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.19 */
import{b as h,c}from"./3XDWQ26V.js";import j from"./PQE4CDWB.js";import i from"./L3TRTE4X.js";import"./WUE7JOX3.js";import e from"./KWTUM64R.js";import{a as $}from"./NKSIGZW6.js";import{a as p}from"./AB35XX4M.js";import d from"./GIUUL3CV.js";import a from"./ETPJGYWF.js";import{e as M}from"./5VDWWCTL.js";import"./5NMRLYC5.js";import"./5TBZTQ7B.js";import{B as w,E as f,P as D,Q as b,S as O,U as m,j as g,k as v}from"./M5H3TSRA.js";export default $arcgis.t(([z,{isAboveGeodesicDistanceThreshold:A},{getDefaultUnitForView:S},{property:o,subclass:_},{watch:V},,,U,,L])=>{var x=g`@layer{arcgis-directline-measurement-3d,arcgis-direct-line-measurement-3d{display:block}.arcgis-direct-line-measurement-3d{position:relative;padding:var(--esri-widget-padding);overflow-y:auto}}`,C=Object.defineProperty,E=Object.getOwnPropertyDescriptor,n=(e,t,s,r)=>{for(var a=r>1?void 0:r?E(t,s):t,l=e.length-1,d;l>=0;l--)(d=e[l])&&(a=(r?d(t,s,a):d(a))||a);return r&&a&&C(t,s,a),a},i=class extends L{constructor(){super(...arguments),this.supportedViewType="3d",this.unsupportedErrorMessage="The Direct Line Measurement 3D component is only supported in 3D views."}initialize(){this.addHandles(V(()=>({analysis:this.analysis,unit:this.unit}),({analysis:e,unit:t})=>{e!=null&&(e.unit=t)},{sync:!0,initial:!0}))}get state(){return this.disabled||!this.ready?"disabled":this.operationState==="inactive"?this.analysis.valid?"measured":"ready":"measuring"}get displayState(){if(!this.supported)return"unsupported";switch(this.state){case"disabled":case"ready":return"ready";case"measuring":return this.analysis.startPoint==null?"measuring":"measured";case"measured":return"measured"}}get measurement(){let e=this.analysisView?.result,t=e?.mode??"euclidean";if(!this.analysis.valid)return{mode:t,directDistance:c(void 0),horizontalDistance:c(void 0),verticalDistance:c(void 0)};let s=e?.directDistance,r=s!=null&&A(s);return{mode:t??"euclidean",directDistance:c(r?void 0:s),horizontalDistance:c(e?.horizontalDistance),verticalDistance:c(e?.verticalDistance)}}get unitOptions(){let e=this._userUnitOptions?.filter(t=>h.includes(t));return e&&e.length>0?e:h.slice()}set unitOptions(e){this._userUnitOptions=e}get unit(){let e=this._userUnit,t=this.unitOptions;if(e&&t.includes(e))return e;let s=this.defaultUnit;return s&&t.includes(s)?s:t[0]}set unit(e){this._userUnit=e}get defaultUnit(){return this.view?S(this.view):void 0}async place(e){await this.analysisView?.place(e)}clearAnalysis(){this.analysis.startPoint=null,this.analysis.endPoint=null}constructAnalysis(){return new z}};n([o({readOnly:!0})],i.prototype,"state",1);n([o({readOnly:!0})],i.prototype,"displayState",1);n([o({readOnly:!0})],i.prototype,"measurement",1);n([o()],i.prototype,"unitOptions",1);n([o()],i.prototype,"_userUnitOptions",2);n([o()],i.prototype,"unit",1);n([o()],i.prototype,"_userUnit",2);n([o({readOnly:!0})],i.prototype,"defaultUnit",1);i=n([_("components.direct-line-measurement-3d.DirectLineMeasurement3dViewModel")],i);var R="arcgis-direct-line-measurement-3d",T={base:R},k=U(i),u=class extends D{constructor(){super(...arguments),this.viewModel=k(this),this.messages=$({name:"directline-measurement-3d",blocking:!0}),this.analysis=this.viewModel.analysis,this.autoDestroyDisabled=!1,this.icon="measure-line",this.position="bottom-left",this.state=this.viewModel.state,this.unit=this.viewModel.unit,this.unitOptions=this.viewModel.unitOptions,this.arcgisPropertyChange=M()("analysis","state"),this.arcgisReady=w()}static{this.properties={analysis:0,autoDestroyDisabled:5,icon:3,label:1,position:1,referenceElement:1,state:35,unit:1,unitOptions:0}}static{this.shadowRootOptions=f}static{this.styles=x}async clear(){this.viewModel.clear()}async destroy(){await this.manager.destroy()}async start(){await this.viewModel.start()}render(){let{messages:t,unit:s,unitOptions:r,viewModel:a}=this,{measurement:l,state:d}=a;return v`<div aria-label=${t.componentLabel??O} class=${b({[T.base]:!0,[p.widget]:!0,[p.panel]:!0})} role=presentation><arcgis-measurement-content .state=${a.displayState} .hintLabel=${t.hint} .unsupportedLabel=${t.unsupported} .items=${[{title:t.direct,measurement:l.directDistance},{title:t.horizontal,measurement:l.horizontalDistance},{title:t.vertical,measurement:l.verticalDistance}]}><arcgis-unit-select slot=settings .options=${r} .selectLabel=${t.unit} .value=${s} @arcgisUnitSelectChange=${P=>{this.unit=P.detail}}></arcgis-unit-select><calcite-button slot=actions .disabled=${d==="disabled"} @click=${()=>{this.viewModel.clear(),this.viewModel.start()}}>${t.newMeasurement}</calcite-button></arcgis-measurement-content></div>`}},y=class extends u{constructor(){super(),console.warn('arcgis-directline-measurement-3d - this component is deprecated. Use the "arcgis-direct-line-measurement-3d" component instead.')}};m("arcgis-direct-line-measurement-3d",u);m("arcgis-directline-measurement-3d",y);return{ArcgisDirectLineMeasurement3d:u,DeprecatedArcgisDirectLineMeasurement3d:y}},"analysis/DirectLineMeasurementAnalysis","applications/Components/analysisUtils","applications/Components/getDefaultUnits","core/accessorSupport/decorators","core/reactiveUtils",a,d,e,i,j)