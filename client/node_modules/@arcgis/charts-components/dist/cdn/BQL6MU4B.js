/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
v4.33.19 */
import f from"./VQ33UHMK.js";import e from"./53DAH35C.js";import d from"./UP2W23ZO.js";import c from"./UHUEI4NU.js";import b from"./3RODMSQG.js";import a from"./PDDPZQ7S.js";import{a as U}from"./TJWJSZZ6.js";import{f as o}from"./IYCX42AE.js";export default $arcgis.t(([,,,,,,,{Aa:F,Ia:v,Tb:g,Zc:w,kb:r,ta:I,va:T},{i:c,k:l},{A:V,B:j,C:z,D:P,E:X,G:q,H:K,I:G,K:d,L:H,M:J,N:Q,O:n,P:m,Q:R,R:p,S:W,U:y,V:Y,W:Z,X:u,b:A,c:B,e:O,g:x,q:f,r:h,s:E,u:b,v:D,w:M,x:N,y:k,z:L},{a:C,c:$,d:ee,e:ie},{a:te,b:se,c:ae,d:ne},oe])=>{var S=class extends C{getTemporalBinningSize(){return b(this._config)}setTemporalBinningSize(e){L(e,this._config),this.emitConfigUpdate("setTemporalBinningSize")}getTemporalBinningUnit(){return D(this._config)}setTemporalBinningUnit(e){j(e,this._config),this.emitConfigUpdate("setTemporalBinningUnit")}getTimeAggregationType(){return M(this._config)}setTimeAggregationType(e){z(e,this._config),this.emitConfigUpdate("setTimeAggregationType")}getTrimIncompleteTimeInterval(){return N(this._config)}setTrimIncompleteTimeInterval(e){P(e,this._config),this.emitConfigUpdate("setTrimIncompleteTimeInterval")}getNullPolicy(){return k(this._config)}setNullPolicy(e){V(e,this._config),this.emitConfigUpdate("setNullPolicy")}resetTimeInterval(){X(this._config),this.emitConfigUpdate("resetTimeInterval")}},ce=(s,e)=>e.series?.[s].assignToSecondValueAxis??!1,le=(s,e,i)=>{i.series?.[e]&&(i.series[e].assignToSecondValueAxis=s)},fe=(s,e)=>e.series?.[s]?.name,he=(s,e,i)=>{i.series?.[e]&&(i.series[e].name=s)},de=(s,e)=>{let i=e.series?.[s],t;return l(i)?t=i.fillSymbol?.color:c(i)&&(t=i.lineSymbol?.color),t},me=(s,e,i)=>{let t=i.series?.[e];t&&(l(t)?t.fillSymbol={...v(e),...t.fillSymbol,color:s}:c(t)&&(t.lineSymbol={...F(e),...t.lineSymbol,color:s}))},pe=s=>s.series.map(e=>e.id),ye=(s,e)=>{e.series?.sort((i,t)=>s.findIndex(a=>i.id===a)-s.findIndex(a=>t.id===a))},ue=s=>s.stackedType??o.Side,Ce=async s=>{let{newStackedType:e,config:i,layerInfo:t}=s;if(i.stackedType=e,t!==void 0){let a=await B({config:i,layerInfo:t,numericFields:n(i),aggregationType:d(i)});A(i,1,a)}i.axes?.[1]&&(e===o.Stacked100?i.axes[1].valueFormat=T():i.axes[1].valueFormat=I()),await x(i,null),await O(i,null)},_=class extends C{getXAxisField(){return E(this._config)}async setXAxisField(e){let i=e.trim()==="";i||await R(e,this._config,this.layerInfo);let t=n(this._config),a=g(this._config.series)===r.BarAndLineFromFields,re=t.includes(this.layerInfo?.objectIdField??"");if(i||a&&re){await this.resetConfig();let ge=t.length===1&&t[0]===this.layerInfo?.objectIdField;this.layerInfo&&t.length>0&&!ge&&await m(t,this._config,this.layerInfo)}this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setXAxisField")}getAggregationType(){return d(this._config)}async setAggregationType(e){this.layerInfo&&(await H(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setAggregationType"))}getAssignToSecondValueAxis(e){return ce(e,this._config)}setAssignToSecondValueAxis(e,i){le(e,i,this._config),this.emitConfigUpdate("setAssignToSecondValueAxis")}getSplitByField(){return J(this._config)}async setSplitByField(e){this.layerInfo?.layerFieldsInfo&&q(this.layerInfo?.layerFieldsInfo,e)&&(await Q(e,this._config,this.layerInfo),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setSplitByField"))}getNumericFields(){return n(this._config)}async setNumericFields(e){if(typeof e=="string"&&(e=[e]),K(this.layerInfo?.layerFieldsInfo??[],e)&&this.layerInfo){await m(e,this._config,this.layerInfo);let i=n(this._config);g(this._config.series)===r.BarAndLineFromFields&&i.some(t=>t===this.layerInfo?.objectIdField)&&await this.resetConfig(),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setNumericFields")}}getDataFilter(){return Y(this._config)}async setDataFilter(e){Z(e,this._config);let i=p(this._config);if(i===U.customSort){let t=await u(this._config,this.layerInfo);h(i,this._config,t)}this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("setDataFilter")}async getCustomSortValues(){return await u(this._config,this.layerInfo)}getSortOrder(){return p(this._config)}setSortOrder(e,i){h(e,this._config,i),this.emitConfigUpdate("setSortOrder")}getOrderByList(){return f(this._config)}setOrderByList(e){!w(this._config)&&(y(e,this._config),this.emitConfigUpdate("setOrderByList"))}async updateSeriesFromLayerFilter(){this.layerInfo!==void 0&&(await W({splitByField:this.getSplitByField(),numericFields:this.getNumericFields(),aggregationType:this.getAggregationType(),config:this._config,layerInfo:this.layerInfo}),this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("updateSeriesFromLayerFilter"))}getSeriesName(e){return fe(e,this._config)}setSeriesName(e,i){he(e,i,this._config),this.emitConfigUpdate("setSeriesName")}getSeriesColor(e){return de(e,this._config)}setSeriesColor(e,i){me(e,i,this._config),this.emitConfigUpdate("setSeriesColor")}getOrderOfSeries(){return pe(this._config)}setOrderOfSeries(e){ye(e,this._config),this.emitConfigUpdate("setOrderOfSeries")}getStackedType(){return ue(this._config)}async setStackedType(e){await Ce({newStackedType:e,config:this._config,layerInfo:this.layerInfo}),this.emitConfigUpdate("setStackedType")}moveSeries(e,i){let t=this.getOrderOfSeries(),[a]=t.splice(e,1);t.splice(i,0,a),this.setOrderOfSeries(t),this.emitConfigUpdate("moveSeries")}moveCustomSortValuesInOrderByList(e,i){let t=f(this._config),[a]=t.splice(e,1);t.splice(i,0,a),y(t,this._config),this.emitConfigUpdate("moveCustomSortValuesInOrderByList")}async resetConfig(){let e=this._config.id;this._config=await this.generateDefaultConfig(),this._config.id=e,this.dispatchEvent(new CustomEvent("arcgisChartsModelDataChange")),this.emitConfigUpdate("resetConfig")}};G(_,[$,se,ae,te,oe,ne,ee,ie,S]);return{a:he,b:me,c:_}},"geometry/support/jsonUtils","rest/support/AttributeBinsQuery","rest/support/Query","rest/support/StatisticDefinition","time/TimeExtent","core/promiseUtils","request",a,b,c,d,e,f)